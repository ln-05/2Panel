import {
  ElMessage
} from "./chunk-475ORF5P.js";
import "./chunk-KE5LXLFG.js";
import "./chunk-BKQB5TW2.js";
import "./chunk-TGYVKIMX.js";
import {
  Fragment,
  TransitionGroup,
  computed,
  createApp,
  createBaseVNode,
  createBlock,
  createCommentVNode,
  createElementBlock,
  createSlots,
  createTextVNode,
  createVNode,
  defineComponent,
  getCurrentInstance,
  guardReactiveProps,
  h,
  inject,
  isRef,
  isVNode,
  markRaw,
  mergeProps,
  nextTick,
  normalizeClass,
  normalizeProps,
  normalizeStyle,
  onBeforeMount,
  onBeforeUnmount,
  onMounted,
  onUpdated,
  openBlock,
  provide,
  reactive,
  ref,
  renderList,
  renderSlot,
  resolveComponent,
  resolveDirective,
  resolveDynamicComponent,
  toDisplayString,
  toRef,
  toRefs,
  unref,
  vShow,
  watch,
  watchEffect,
  withCtx,
  withDirectives,
  withKeys,
  withModifiers
} from "./chunk-4EZUOCJO.js";
import "./chunk-4B2QHNJT.js";

// node_modules/@form-create/element-ui/dist/form-create.esm.js
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) {
      symbols = symbols.filter(function(sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
    }
    keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    if (i % 2) {
      ownKeys(Object(source), true).forEach(function(key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function(key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }
  return target;
}
function _typeof(obj) {
  "@babel/helpers - typeof";
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function(obj2) {
      return typeof obj2;
    };
  } else {
    _typeof = function(obj2) {
      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
    };
  }
  return _typeof(obj);
}
function _classCallCheck(instance2, Constructor) {
  if (!(instance2 instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }
  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}
function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
    return o2.__proto__ || Object.getPrototypeOf(o2);
  };
  return _getPrototypeOf(o);
}
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
    o2.__proto__ = p2;
    return o2;
  };
  return _setPrototypeOf(o, p);
}
function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;
  try {
    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    }));
    return true;
  } catch (e) {
    return false;
  }
}
function _assertThisInitialized(self2) {
  if (self2 === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return self2;
}
function _possibleConstructorReturn(self2, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  } else if (call !== void 0) {
    throw new TypeError("Derived constructors may only return object or undefined");
  }
  return _assertThisInitialized(self2);
}
function _createSuper(Derived) {
  var hasNativeReflectConstruct = _isNativeReflectConstruct();
  return function _createSuperInternal() {
    var Super = _getPrototypeOf(Derived), result;
    if (hasNativeReflectConstruct) {
      var NewTarget = _getPrototypeOf(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }
    return _possibleConstructorReturn(this, result);
  };
}
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}
function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}
function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _iterableToArrayLimit(arr, i) {
  var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];
  if (_i == null) return;
  var _arr = [];
  var _n2 = true;
  var _d = false;
  var _s2, _e2;
  try {
    for (_i = _i.call(arr); !(_n2 = (_s2 = _i.next()).done); _n2 = true) {
      _arr.push(_s2.value);
      if (i && _arr.length === i) break;
    }
  } catch (err2) {
    _d = true;
    _e2 = err2;
  } finally {
    try {
      if (!_n2 && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e2;
    }
  }
  return _arr;
}
function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
  return arr2;
}
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function getSlot(slots, exclude) {
  return Object.keys(slots).reduce(function(lst, name2) {
    if (!exclude || exclude.indexOf(name2) === -1) {
      lst[name2] = slots[name2];
    }
    return lst;
  }, {});
}
function toArray(value) {
  return Array.isArray(value) ? value : [null, void 0, ""].indexOf(value) > -1 ? [] : [value];
}
var NAME$8 = "fcCheckbox";
var Checkbox = defineComponent({
  name: NAME$8,
  inheritAttrs: false,
  props: {
    formCreateInject: Object,
    modelValue: {
      type: Array,
      "default": function _default() {
        return [];
      }
    },
    type: String,
    options: Array,
    input: Boolean,
    inputValue: String
  },
  emits: ["update:modelValue", "fc.el"],
  setup: function setup(props, _7) {
    var options = toRef(props.formCreateInject, "options", []);
    var opt = toRef(props, "options");
    var value = toRef(props, "modelValue");
    var inputValue = toRef(props, "inputValue", "");
    var customValue = ref(inputValue.value);
    var input4 = toRef(props, "input", false);
    var updateCustomValue = function updateCustomValue2(n) {
      var _value2 = _toConsumableArray(toArray(value.value));
      var idx = _value2.indexOf(customValue.value);
      customValue.value = n;
      if (idx > -1) {
        _value2.splice(idx, 1);
        _value2.push(n);
        onInput(_value2);
      }
    };
    watch(inputValue, function(n) {
      if (!input4.value) {
        customValue.value = n;
        return void 0;
      }
      updateCustomValue(n);
    });
    var _options = computed(function() {
      var arr = options.value || [];
      if (opt.value) {
        arr = opt.value || [];
      }
      return Array.isArray(arr) ? arr : [];
    });
    watch(value, function(n) {
      var value2 = null;
      if (!inputValue.value && n != null && Array.isArray(n) && n.length > 0 && input4.value) {
        var values = _options.value.map(function(item) {
          return item.value;
        });
        n.forEach(function(val) {
          if (values.indexOf(val) === -1) {
            value2 = val;
          }
        });
      }
      if (value2 != null) {
        customValue.value = value2;
      }
    }, {
      immediate: true
    });
    var onInput = function onInput2(n) {
      _7.emit("update:modelValue", n);
    };
    return {
      options: _options,
      value,
      onInput,
      updateCustomValue,
      makeInput: function makeInput2(Type) {
        if (!input4.value) {
          return void 0;
        }
        return createVNode(Type, {
          "value": customValue.value || void 0,
          "label": customValue.value || void 0
        }, {
          "default": function _default15() {
            return [createVNode(resolveComponent("ElInput"), {
              "size": "small",
              "modelValue": customValue.value,
              "onUpdate:modelValue": updateCustomValue
            }, null)];
          }
        });
      }
    };
  },
  render: function render() {
    var _this$$slots$default, _this$$slots, _this = this;
    var name2 = this.type === "button" ? "ElCheckboxButton" : "ElCheckbox";
    var Type = resolveComponent(name2);
    return createVNode(resolveComponent("ElCheckboxGroup"), mergeProps(this.$attrs, {
      "modelValue": this.value,
      "onUpdate:modelValue": this.onInput,
      "ref": "el"
    }), _objectSpread2({
      "default": function _default15() {
        return [_this.options.map(function(opt, index) {
          var props = _objectSpread2({}, opt);
          var value = props.value;
          var label = props.label;
          delete props.value;
          delete props.label;
          return createVNode(Type, mergeProps(props, {
            "label": value,
            "value": value,
            "key": name2 + index + "-" + value
          }), {
            "default": function _default16() {
              return [label || value || ""];
            }
          });
        }), (_this$$slots$default = (_this$$slots = _this.$slots)["default"]) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots), _this.makeInput(Type)];
      }
    }, getSlot(this.$slots, ["default"])));
  },
  mounted: function mounted() {
    this.$emit("fc.el", this.$refs.el);
  }
});
function Mitt(all) {
  all = all || /* @__PURE__ */ new Map();
  var mitt = {
    $on: function $on(type2, handler3) {
      var handlers = all.get(type2);
      var added = handlers && handlers.push(handler3);
      if (!added) {
        all.set(type2, [handler3]);
      }
    },
    $once: function $once(type2, handler3) {
      handler3._once = true;
      mitt.$on(type2, handler3);
    },
    $off: function $off(type2, handler3) {
      var handlers = all.get(type2);
      if (handlers) {
        handlers.splice(handlers.indexOf(handler3) >>> 0, 1);
      }
    },
    $emit: function $emit(type2) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      (all.get(type2) || []).slice().map(function(handler3) {
        if (handler3._once) {
          mitt.$off(type2, handler3);
          delete handler3._once;
        }
        handler3.apply(void 0, args);
      });
      (all.get("*") || []).slice().map(function(handler3) {
        handler3(type2, args);
      });
    }
  };
  return mitt;
}
function styleInject(css, ref2) {
  if (ref2 === void 0) ref2 = {};
  var insertAt = ref2.insertAt;
  if (!css || typeof document === "undefined") {
    return;
  }
  var head = document.head || document.getElementsByTagName("head")[0];
  var style = document.createElement("style");
  style.type = "text/css";
  if (insertAt === "top") {
    if (head.firstChild) {
      head.insertBefore(style, head.firstChild);
    } else {
      head.appendChild(style);
    }
  } else {
    head.appendChild(style);
  }
  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    style.appendChild(document.createTextNode(css));
  }
}
var css_248z$3 = "._fc-frame ._fc-files img{display:inline-block;height:100%;vertical-align:top;width:100%}._fc-frame ._fc-upload-btn{border:1px dashed #c0ccda;cursor:pointer}._fc-frame._fc-disabled ._fc-upload-btn,._fc-frame._fc-disabled .el-button{color:#999;cursor:not-allowed!important}._fc-frame ._fc-upload-cover{background:rgba(0,0,0,.6);bottom:0;left:0;opacity:0;position:absolute;right:0;top:0;-webkit-transition:opacity .3s;-o-transition:opacity .3s;transition:opacity .3s}._fc-frame ._fc-upload-cover i{color:#fff;cursor:pointer;font-size:20px;margin:0 2px}._fc-frame ._fc-files:hover ._fc-upload-cover{opacity:1}._fc-frame .el-upload{display:block}._fc-frame ._fc-upload-icon{cursor:pointer}._fc-files,._fc-frame ._fc-upload-btn{background:#fff;border:1px solid #c0ccda;border-radius:4px;-webkit-box-shadow:2px 2px 5px rgba(0,0,0,.1);box-shadow:2px 2px 5px rgba(0,0,0,.1);-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;height:58px;line-height:58px;margin-right:4px;overflow:hidden;position:relative;text-align:center;width:58px}";
styleInject(css_248z$3);
var script$6 = {
  name: "IconCircleClose"
};
var _hoisted_1$6 = {
  "class": "icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
var _hoisted_2$6 = createBaseVNode("path", {
  fill: "currentColor",
  d: "M466.752 512l-90.496-90.496a32 32 0 0145.248-45.248L512 466.752l90.496-90.496a32 32 0 1145.248 45.248L557.248 512l90.496 90.496a32 32 0 11-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 01-45.248-45.248L466.752 512z"
}, null, -1);
var _hoisted_3$6 = createBaseVNode("path", {
  fill: "currentColor",
  d: "M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"
}, null, -1);
var _hoisted_4 = [_hoisted_2$6, _hoisted_3$6];
function render$6(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$6, _hoisted_4);
}
script$6.render = render$6;
var script$5 = {
  name: "IconDocument"
};
var _hoisted_1$5 = {
  "class": "icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
var _hoisted_2$5 = createBaseVNode("path", {
  fill: "currentColor",
  d: "M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 01-32 32H160a32 32 0 01-32-32V96a32 32 0 0132-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"
}, null, -1);
var _hoisted_3$5 = [_hoisted_2$5];
function render$5(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$5, _hoisted_3$5);
}
script$5.render = render$5;
var script$4 = {
  name: "IconDelete"
};
var _hoisted_1$4 = {
  "class": "icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
var _hoisted_2$4 = createBaseVNode("path", {
  fill: "currentColor",
  d: "M160 256H96a32 32 0 010-64h256V95.936a32 32 0 0132-32h256a32 32 0 0132 32V192h256a32 32 0 110 64h-64v672a32 32 0 01-32 32H192a32 32 0 01-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32zm192 0a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32z"
}, null, -1);
var _hoisted_3$4 = [_hoisted_2$4];
function render$4(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$4, _hoisted_3$4);
}
script$4.render = render$4;
var script$3 = {
  name: "IconView"
};
var _hoisted_1$3 = {
  "class": "icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
var _hoisted_2$3 = createBaseVNode("path", {
  fill: "currentColor",
  d: "M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 110 448 224 224 0 010-448zm0 64a160.192 160.192 0 00-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"
}, null, -1);
var _hoisted_3$3 = [_hoisted_2$3];
function render$3(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$3, _hoisted_3$3);
}
script$3.render = render$3;
var script$2 = {
  name: "IconFolderOpened"
};
var _hoisted_1$2 = {
  "class": "icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
var _hoisted_2$2 = createBaseVNode("path", {
  fill: "currentColor",
  d: "M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 01216.96 384H832zm-24.96 512H96a32 32 0 01-32-32V160a32 32 0 0132-32h287.872l128.384 128H864a32 32 0 0132 32v96h23.04a32 32 0 0131.04 39.744l-112 448A32 32 0 01807.04 896z"
}, null, -1);
var _hoisted_3$2 = [_hoisted_2$2];
function render$2(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$2, _hoisted_3$2);
}
script$2.render = render$2;
var NAME$7 = "fcFrame";
var Frame = defineComponent({
  name: NAME$7,
  props: {
    type: {
      type: String,
      "default": "input"
    },
    field: String,
    helper: {
      type: Boolean,
      "default": true
    },
    disabled: {
      type: Boolean,
      "default": false
    },
    src: {
      type: String,
      required: true
    },
    icon: {
      type: String,
      "default": "IconFolderOpened"
    },
    width: {
      type: String,
      "default": "500px"
    },
    height: {
      type: String,
      "default": "370px"
    },
    maxLength: {
      type: Number,
      "default": 0
    },
    okBtnText: {
      type: String,
      "default": ""
    },
    closeBtnText: {
      type: String,
      "default": ""
    },
    modalTitle: String,
    handleIcon: {
      type: [String, Boolean],
      "default": void 0
    },
    title: String,
    allowRemove: {
      type: Boolean,
      "default": true
    },
    onOpen: {
      type: Function,
      "default": function _default2() {
      }
    },
    onOk: {
      type: Function,
      "default": function _default3() {
      }
    },
    onCancel: {
      type: Function,
      "default": function _default4() {
      }
    },
    onLoad: {
      type: Function,
      "default": function _default5() {
      }
    },
    onBeforeRemove: {
      type: Function,
      "default": function _default6() {
      }
    },
    onRemove: {
      type: Function,
      "default": function _default7() {
      }
    },
    onHandle: Function,
    modal: {
      type: Object,
      "default": function _default8() {
        return {};
      }
    },
    srcKey: [String, Number],
    modelValue: [Array, String, Number, Object],
    previewMask: void 0,
    footer: {
      type: Boolean,
      "default": true
    },
    reload: {
      type: Boolean,
      "default": true
    },
    closeBtn: {
      type: Boolean,
      "default": true
    },
    okBtn: {
      type: Boolean,
      "default": true
    },
    formCreateInject: Object
  },
  emits: ["update:modelValue", "change"],
  components: {
    IconFolderOpened: script$2,
    IconView: script$3
  },
  data: function data() {
    return {
      fileList: toArray(this.modelValue),
      previewVisible: false,
      frameVisible: false,
      previewImage: "",
      bus: new Mitt()
    };
  },
  watch: {
    modelValue: function modelValue(n) {
      this.fileList = toArray(n);
    }
  },
  methods: {
    close: function close() {
      this.closeModel(true);
    },
    closeModel: function closeModel(close2) {
      this.bus.$emit(close2 ? "$close" : "$ok");
      if (this.reload) {
        this.bus.$off("$ok");
        this.bus.$off("$close");
      }
      this.frameVisible = false;
    },
    handleCancel: function handleCancel() {
      this.previewVisible = false;
    },
    showModel: function showModel() {
      if (this.disabled || false === this.onOpen()) {
        return;
      }
      this.frameVisible = true;
    },
    input: function input() {
      var n = this.fileList;
      var val = this.maxLength === 1 ? n[0] || "" : n;
      this.$emit("update:modelValue", val);
      this.$emit("change", val);
    },
    makeInput: function makeInput() {
      var _this = this;
      return createVNode(resolveComponent("ElInput"), mergeProps({
        type: "text",
        modelValue: this.fileList.map(function(v) {
          return _this.getSrc(v);
        }).toString(),
        readonly: true
      }, {
        "key": 1
      }), {
        append: function append() {
          return createVNode(resolveComponent("ElButton"), {
            "icon": resolveComponent(_this.icon),
            "onClick": function onClick() {
              return _this.showModel();
            }
          }, null);
        },
        suffix: function suffix() {
          return _this.fileList.length && !_this.disabled ? createVNode(resolveComponent("ElIcon"), {
            "class": "el-input__icon _fc-upload-icon",
            "onClick": function onClick() {
              _this.fileList = [];
              _this.input();
            }
          }, {
            "default": function _default15() {
              return [createVNode(script$6, null, null)];
            }
          }) : null;
        }
      });
    },
    makeGroup: function makeGroup(children) {
      if (!this.maxLength || this.fileList.length < this.maxLength) {
        children.push(this.makeBtn());
      }
      return createVNode("div", {
        "key": 2
      }, [children]);
    },
    makeItem: function makeItem(index, children) {
      return createVNode("div", {
        "class": "_fc-files",
        "key": "3" + index
      }, [children]);
    },
    valid: function valid(f) {
      var field = this.formCreateInject.field || this.field;
      if (field && f !== field) {
        throw new Error("[frame]无效的字段值");
      }
    },
    makeIcons: function makeIcons(val, index) {
      if (this.handleIcon !== false || this.allowRemove === true) {
        var icons = [];
        if (this.type !== "file" && this.handleIcon !== false || this.type === "file" && this.handleIcon) {
          icons.push(this.makeHandleIcon(val, index));
        }
        if (this.allowRemove) {
          icons.push(this.makeRemoveIcon(val, index));
        }
        return createVNode("div", {
          "class": "_fc-upload-cover",
          "key": 4
        }, [icons]);
      }
    },
    makeHandleIcon: function makeHandleIcon(val, index) {
      var _this2 = this;
      var Type = resolveComponent(this.handleIcon === true || this.handleIcon === void 0 ? "icon-view" : this.handleIcon);
      return createVNode(resolveComponent("ElIcon"), {
        "onClick": function onClick() {
          return _this2.handleClick(val);
        },
        "key": "5" + index
      }, {
        "default": function _default15() {
          return [createVNode(Type, null, null)];
        }
      });
    },
    makeRemoveIcon: function makeRemoveIcon(val, index) {
      var _this3 = this;
      return createVNode(resolveComponent("ElIcon"), {
        "onClick": function onClick() {
          return _this3.handleRemove(val);
        },
        "key": "6" + index
      }, {
        "default": function _default15() {
          return [createVNode(script$4, null, null)];
        }
      });
    },
    makeFiles: function makeFiles() {
      var _this4 = this;
      return this.makeGroup(this.fileList.map(function(src, index) {
        return _this4.makeItem(index, [createVNode(resolveComponent("ElIcon"), {
          "onClick": function onClick() {
            return _this4.handleClick(src);
          }
        }, {
          "default": function _default15() {
            return [createVNode(script$5, null, null)];
          }
        }), _this4.makeIcons(src, index)]);
      }));
    },
    makeImages: function makeImages() {
      var _this5 = this;
      return this.makeGroup(this.fileList.map(function(src, index) {
        return _this5.makeItem(index, [createVNode("img", {
          "src": _this5.getSrc(src)
        }, null), _this5.makeIcons(src, index)]);
      }));
    },
    makeBtn: function makeBtn() {
      var _this6 = this;
      var Type = resolveComponent(this.icon);
      return createVNode("div", {
        "class": "_fc-upload-btn",
        "onClick": function onClick() {
          return _this6.showModel();
        },
        "key": 7
      }, [createVNode(resolveComponent("ElIcon"), null, {
        "default": function _default15() {
          return [createVNode(Type, null, null)];
        }
      })]);
    },
    handleClick: function handleClick(src) {
      if (this.onHandle) {
        return this.onHandle(src);
      } else {
        this.previewImage = this.getSrc(src);
        this.previewVisible = true;
      }
    },
    handleRemove: function handleRemove(src) {
      if (this.disabled) {
        return;
      }
      if (false !== this.onBeforeRemove(src)) {
        this.fileList.splice(this.fileList.indexOf(src), 1);
        this.input();
        this.onRemove(src);
      }
    },
    getSrc: function getSrc(src) {
      return !this.srcKey ? src : src[this.srcKey];
    },
    frameLoad: function frameLoad(iframe) {
      var _this7 = this;
      this.onLoad(iframe);
      try {
        if (this.helper === true) {
          iframe["form_create_helper"] = {
            api: this.formCreateInject.api,
            close: function close2(field) {
              _this7.valid(field);
              _this7.closeModel();
            },
            set: function set(field, value) {
              _this7.valid(field);
              !_this7.disabled && _this7.$emit("update:modelValue", value);
            },
            get: function get(field) {
              _this7.valid(field);
              return _this7.modelValue;
            },
            onOk: function onOk(fn) {
              return _this7.bus.$on("$ok", fn);
            },
            onClose: function onClose(fn) {
              return _this7.bus.$on("$close", fn);
            }
          };
        }
      } catch (e) {
        console.error(e);
      }
    },
    makeFooter: function makeFooter() {
      var _this8 = this;
      var _this$$props = this.$props, okBtnText = _this$$props.okBtnText, closeBtnText = _this$$props.closeBtnText, closeBtn = _this$$props.closeBtn, okBtn = _this$$props.okBtn, footer = _this$$props.footer;
      if (!footer) {
        return;
      }
      return createVNode("div", null, [closeBtn ? createVNode(resolveComponent("ElButton"), {
        "onClick": function onClick() {
          return _this8.onCancel() !== false && (_this8.frameVisible = false);
        }
      }, {
        "default": function _default15() {
          return [closeBtnText || _this8.formCreateInject.t("close") || "关闭"];
        }
      }) : null, okBtn ? createVNode(resolveComponent("ElButton"), {
        "type": "primary",
        "onClick": function onClick() {
          return _this8.onOk() !== false && _this8.closeModel();
        }
      }, {
        "default": function _default15() {
          return [okBtnText || _this8.formCreateInject.t("ok") || "确定"];
        }
      }) : null]);
    }
  },
  render: function render2() {
    var _this9 = this;
    var type2 = this.type;
    var node;
    if (type2 === "input") {
      node = this.makeInput();
    } else if (type2 === "image") {
      node = this.makeImages();
    } else {
      node = this.makeFiles();
    }
    var _this$$props2 = this.$props, _this$$props2$width = _this$$props2.width, width = _this$$props2$width === void 0 ? "30%" : _this$$props2$width, height = _this$$props2.height, src = _this$$props2.src, title = _this$$props2.title, modalTitle = _this$$props2.modalTitle;
    nextTick(function() {
      if (_this9.$refs.frame) {
        _this9.frameLoad(_this9.$refs.frame.contentWindow || {});
      }
    });
    return createVNode("div", {
      "class": {
        "_fc-frame": true,
        "_fc-disabled": this.disabled
      }
    }, [node, createVNode(resolveComponent("ElDialog"), {
      "appendToBody": true,
      "modal": this.previewMask,
      "title": modalTitle,
      "modelValue": this.previewVisible,
      "onClose": this.handleCancel
    }, {
      "default": function _default15() {
        return [createVNode("img", {
          "style": "width: 100%",
          "src": _this9.previewImage
        }, null)];
      }
    }), createVNode(resolveComponent("ElDialog"), mergeProps({
      "appendToBody": true
    }, _objectSpread2({
      width,
      title
    }, this.modal), {
      "modelValue": this.frameVisible,
      "onClose": function onClose() {
        return _this9.closeModel(true);
      }
    }), {
      "default": function _default15() {
        return [_this9.frameVisible || !_this9.reload ? createVNode("iframe", {
          "ref": "frame",
          "src": src,
          "frameBorder": "0",
          "style": {
            height,
            "border": "0 none",
            "width": "100%"
          }
        }, null) : null];
      },
      footer: function footer() {
        return _this9.makeFooter();
      }
    })]);
  },
  beforeMount: function beforeMount() {
    var _this$formCreateInjec = this.formCreateInject, name2 = _this$formCreateInjec.name, field = _this$formCreateInjec.field, api = _this$formCreateInjec.api;
    name2 && api.on("fc:closeModal:" + name2, this.close);
    field && api.on("fc:closeModal:" + field, this.close);
  },
  beforeUnmount: function beforeUnmount() {
    var _this$formCreateInjec2 = this.formCreateInject, name2 = _this$formCreateInjec2.name, field = _this$formCreateInjec2.field, api = _this$formCreateInjec2.api;
    name2 && api.off("fc:closeModal:" + name2, this.close);
    field && api.off("fc:closeModal:" + field, this.close);
  }
});
var NAME$6 = "fcRadio";
var Radio = defineComponent({
  name: NAME$6,
  inheritAttrs: false,
  props: {
    formCreateInject: Object,
    modelValue: {
      type: [String, Number, Boolean],
      "default": ""
    },
    options: Array,
    type: String,
    input: Boolean,
    inputValue: String
  },
  emits: ["update:modelValue", "fc.el"],
  setup: function setup2(props, _7) {
    var options = toRef(props.formCreateInject, "options", []);
    var opt = toRef(props, "options");
    var value = toRef(props, "modelValue");
    var inputValue = toRef(props, "inputValue", "");
    var customValue = ref(inputValue.value);
    var input4 = toRef(props, "input", false);
    watch(inputValue, function(n) {
      if (!input4.value) {
        customValue.value = n;
        return void 0;
      }
      updateCustomValue(n);
    });
    var _options = computed(function() {
      var arr = options.value || [];
      if (opt.value) {
        arr = opt.value || [];
      }
      return Array.isArray(arr) ? arr : [];
    });
    watch(value, function(n) {
      var flag = false;
      if (!inputValue.value && n != null && input4.value) {
        flag = _options.value.map(function(item) {
          return item.value;
        }).indexOf(n) === -1;
      }
      if (flag) {
        customValue.value = n;
      }
    }, {
      immediate: true
    });
    var onInput = function onInput2(n) {
      _7.emit("update:modelValue", n);
    };
    var updateCustomValue = function updateCustomValue2(n) {
      var o = customValue.value;
      customValue.value = n;
      if (value.value === o) {
        onInput(n);
      }
    };
    return {
      options: _options,
      value,
      onInput,
      updateCustomValue,
      customValue,
      makeInput: function makeInput2(Type) {
        if (!input4.value) {
          return void 0;
        }
        return createVNode(Type, {
          "checked": false,
          "value": customValue.value || void 0,
          "label": customValue.value || void 0
        }, {
          "default": function _default15() {
            return [createVNode(resolveComponent("ElInput"), {
              "size": "small",
              "modelValue": customValue.value,
              "onUpdate:modelValue": updateCustomValue
            }, null)];
          }
        });
      }
    };
  },
  render: function render3() {
    var _this$$slots$default, _this$$slots, _this = this;
    var name2 = this.type === "button" ? "ElRadioButton" : "ElRadio";
    var Type = resolveComponent(name2);
    return createVNode(resolveComponent("ElRadioGroup"), mergeProps(this.$attrs, {
      "modelValue": this.value,
      "onUpdate:modelValue": this.onInput,
      "ref": "el"
    }), _objectSpread2({
      "default": function _default15() {
        return [_this.options.map(function(opt, index) {
          var props = _objectSpread2({}, opt);
          var value = props.value;
          var label = props.label;
          delete props.value;
          delete props.label;
          return createVNode(Type, mergeProps(props, {
            "label": value,
            "value": value,
            "key": name2 + index + "-" + value
          }), {
            "default": function _default16() {
              return [label || value || ""];
            }
          });
        }), (_this$$slots$default = (_this$$slots = _this.$slots)["default"]) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots), _this.makeInput(Type)];
      }
    }, getSlot(this.$slots, ["default"])));
  },
  mounted: function mounted2() {
    this.$emit("fc.el", this.$refs.el);
  }
});
var is = {
  type: function type(arg, _type) {
    return Object.prototype.toString.call(arg) === "[object " + _type + "]";
  },
  Undef: function Undef(v) {
    return v === void 0 || v === null;
  },
  Element: function Element2(arg) {
    return _typeof(arg) === "object" && arg !== null && arg.nodeType === 1 && !is.Object(arg);
  },
  trueArray: function trueArray(data5) {
    return Array.isArray(data5) && data5.length > 0;
  },
  Function: function Function2(v) {
    var type2 = this.getType(v);
    return type2 === "Function" || type2 === "AsyncFunction";
  },
  getType: function getType(v) {
    var str = Object.prototype.toString.call(v);
    return /^\[object (.*)\]$/.exec(str)[1];
  },
  empty: function empty(value) {
    if (value === void 0 || value === null) {
      return true;
    }
    if (Array.isArray(value) && Array.isArray(value) && !value.length) {
      return true;
    }
    return typeof value === "string" && !value;
  }
};
["Date", "Object", "String", "Boolean", "Array", "Number"].forEach(function(t3) {
  is[t3] = function(arg) {
    return is.type(arg, t3);
  };
});
function hasProperty(rule, k) {
  return {}.hasOwnProperty.call(rule, k);
}
var NAME$5 = "fcSelect";
var Select = defineComponent({
  name: NAME$5,
  inheritAttrs: false,
  props: {
    formCreateInject: Object,
    modelValue: {
      type: [Array, String, Number, Boolean, Object],
      "default": void 0
    },
    type: String
  },
  emits: ["update:modelValue", "fc.el"],
  setup: function setup3(props) {
    var options = toRef(props.formCreateInject, "options", []);
    var value = toRef(props, "modelValue");
    var _options = function _options2() {
      return Array.isArray(options.value) ? options.value : [];
    };
    return {
      options: _options,
      value
    };
  },
  render: function render4() {
    var _this = this, _this$$slots$default, _this$$slots;
    var makeOption = function makeOption2(props, index) {
      return createVNode(resolveComponent("ElOption"), mergeProps(props, {
        "key": "" + index + "-" + props.value
      }), null);
    };
    var makeOptionGroup = function makeOptionGroup2(props, index) {
      return createVNode(resolveComponent("ElOptionGroup"), {
        "label": props.label,
        "key": "" + index + "-" + props.label
      }, {
        "default": function _default15() {
          return [is.trueArray(props.options) && props.options.map(function(v, index2) {
            return makeOption(v, index2);
          })];
        }
      });
    };
    var options = this.options();
    return createVNode(resolveComponent("ElSelect"), mergeProps(this.$attrs, {
      "modelValue": this.value,
      "onUpdate:modelValue": function onUpdateModelValue(v) {
        return _this.$emit("update:modelValue", v);
      },
      "ref": "el"
    }), _objectSpread2({
      "default": function _default15() {
        return [options.map(function(props, index) {
          return hasProperty(props || "", "options") ? makeOptionGroup(props, index) : makeOption(props, index);
        }), (_this$$slots$default = (_this$$slots = _this.$slots)["default"]) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots)];
      }
    }, getSlot(this.$slots, ["default"])));
  },
  mounted: function mounted3() {
    this.$emit("fc.el", this.$refs.el);
  }
});
var NAME$4 = "fcTree";
var Tree = defineComponent({
  name: NAME$4,
  inheritAttrs: false,
  formCreateParser: {
    mergeProp: function mergeProp(ctx) {
      var props = ctx.prop.props;
      if (!props.nodeKey) props.nodeKey = "id";
      if (!props.props) props.props = {
        label: "title"
      };
    }
  },
  props: {
    type: String,
    modelValue: {
      type: [Array, String, Number],
      "default": function _default9() {
        return [];
      }
    }
  },
  emits: ["update:modelValue", "fc.el"],
  watch: {
    modelValue: function modelValue2() {
      this.setValue();
    }
  },
  methods: {
    updateValue: function updateValue() {
      if (!this.$refs.tree) return;
      var value;
      if (this.type === "selected") {
        value = this.$refs.tree.getCurrentKey();
      } else {
        value = this.$refs.tree.getCheckedKeys();
      }
      this.$emit("update:modelValue", value);
    },
    setValue: function setValue() {
      if (!this.$refs.tree) return;
      var type2 = this.type;
      if (type2 === "selected") {
        this.$refs.tree.setCurrentKey(this.modelValue);
      } else {
        this.$refs.tree.setCheckedKeys(toArray(this.modelValue));
      }
    }
  },
  render: function render5() {
    return createVNode(resolveComponent("ElTree"), mergeProps(this.$attrs, {
      "ref": "tree",
      "onCheck": this.updateValue,
      "onNodeClick": this.updateValue
    }), this.$slots);
  },
  mounted: function mounted4() {
    this.setValue();
    this.$emit("fc.el", this.$refs.tree);
  }
});
var css_248z$2 = "._fc-upload{width:100%}._fc-exceed .el-upload{display:none}.el-upload-list.is-disabled .el-upload{cursor:not-allowed!important}";
styleInject(css_248z$2);
var script$1 = {
  name: "IconUpload"
};
var _hoisted_1$1 = {
  "class": "icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
var _hoisted_2$1 = createBaseVNode("path", {
  fill: "currentColor",
  d: "M160 832h704a32 32 0 110 64H160a32 32 0 110-64zm384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248L544 253.696z"
}, null, -1);
var _hoisted_3$1 = [_hoisted_2$1];
function render$1(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$1, _hoisted_3$1);
}
script$1.render = render$1;
function parseFile(file, i) {
  if (_typeof(file) === "object") {
    return file;
  }
  return {
    url: file,
    is_string: true,
    name: getFileName(file),
    uid: i
  };
}
function parseUpload(file) {
  return _objectSpread2(_objectSpread2({}, file), {}, {
    file,
    value: file
  });
}
function getFileName(file) {
  return ("" + file).split("/").pop();
}
var NAME$3 = "fcUpload";
var Upload = defineComponent({
  name: NAME$3,
  inheritAttrs: false,
  formCreateParser: {
    toFormValue: function toFormValue(value) {
      return toArray(value);
    },
    toValue: function toValue(formValue, ctx) {
      return ctx.prop.props.limit === 1 ? formValue[0] || "" : formValue;
    }
  },
  props: {
    previewMask: void 0,
    onPreview: Function,
    httpRequest: Function,
    modalTitle: String,
    listType: String,
    uploadText: String,
    formCreateInject: Object,
    modelValue: [Array, String, Object]
  },
  emits: ["update:modelValue", "change", "remove", "fc.el"],
  data: function data2() {
    return {
      previewVisible: false,
      previewImage: "",
      fileList: []
    };
  },
  created: function created() {
    this.fileList = toArray(this.modelValue).map(parseFile).map(parseUpload);
  },
  watch: {
    modelValue: function modelValue3(n) {
      this.fileList = toArray(n).map(parseFile).map(parseUpload);
    }
  },
  methods: {
    handlePreview: function handlePreview(file) {
      if (this.onPreview) {
        this.onPreview.apply(this, arguments);
      } else {
        if ("text" === this.listType) {
          window.open(file.url);
        } else {
          this.previewImage = file.url;
          this.previewVisible = true;
        }
      }
    },
    update: function update(fileList) {
      var files = fileList.map(function(v) {
        return v.is_string ? v.url : v.value || v.url;
      }).filter(function(url) {
        return url !== void 0;
      });
      this.$emit("update:modelValue", files);
    },
    handleCancel: function handleCancel2() {
      this.previewVisible = false;
    },
    handleChange: function handleChange(file, fileList) {
      this.$emit.apply(this, ["change"].concat(Array.prototype.slice.call(arguments)));
      if (file.status === "success") {
        this.update(fileList);
      }
    },
    handleRemove: function handleRemove2(file, fileList) {
      this.$emit.apply(this, ["remove"].concat(Array.prototype.slice.call(arguments)));
      this.update(fileList);
    },
    doHttpRequest: function doHttpRequest(option) {
      if (this.httpRequest) {
        return this.httpRequest(option);
      } else {
        option.source = "upload";
        this.formCreateInject.api.fetch(option);
      }
    }
  },
  render: function render6() {
    var _this$$slots$default, _this$$slots, _this = this;
    var len = toArray(this.modelValue).length;
    return createVNode("div", {
      "class": "_fc-upload"
    }, [createVNode(resolveComponent("ElUpload"), mergeProps({
      "key": len
    }, this.$attrs, {
      "listType": this.listType || "picture-card",
      "class": {
        "_fc-exceed": this.$attrs.limit ? this.$attrs.limit <= len : false
      },
      "onPreview": this.handlePreview,
      "onChange": this.handleChange,
      "onRemove": this.handleRemove,
      "httpRequest": this.doHttpRequest,
      "fileList": this.fileList,
      "ref": "upload"
    }), _objectSpread2({
      "default": function _default15() {
        return [((_this$$slots$default = (_this$$slots = _this.$slots)["default"]) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots)) || (["text", "picture"].indexOf(_this.listType) === -1 ? createVNode(resolveComponent("ElIcon"), null, {
          "default": function _default16() {
            return [createVNode(script$1, null, null)];
          }
        }) : createVNode(resolveComponent("ElButton"), {
          "type": "primary"
        }, {
          "default": function _default16() {
            return [_this.formCreateInject.t("clickToUpload") || _this.uploadText || "点击上传"];
          }
        }))];
      }
    }, getSlot(this.$slots, ["default"]))), createVNode(resolveComponent("ElDialog"), {
      "appendToBody": true,
      "modal": this.previewMask,
      "title": this.modalTitle,
      "modelValue": this.previewVisible,
      "onClose": this.handleCancel
    }, {
      "default": function _default15() {
        return [createVNode("img", {
          "style": "width: 100%",
          "src": _this.previewImage
        }, null)];
      }
    })]);
  },
  mounted: function mounted5() {
    this.$emit("fc.el", this.$refs.upload);
  }
});
function $set(target, field, value) {
  target[field] = value;
}
function $del(target, field) {
  delete target[field];
}
function deepExtend(origin) {
  var target = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  var mode = arguments.length > 2 ? arguments[2] : void 0;
  var isArr = false;
  for (var key in target) {
    if (Object.prototype.hasOwnProperty.call(target, key)) {
      var clone = target[key];
      if ((isArr = Array.isArray(clone)) || is.Object(clone)) {
        var nst = origin[key] === void 0;
        if (isArr) {
          isArr = false;
          nst && $set(origin, key, []);
        } else if (clone._clone && mode !== void 0) {
          if (mode) {
            clone = clone.getRule();
            nst && $set(origin, key, {});
          } else {
            $set(origin, key, clone._clone());
            continue;
          }
        } else {
          nst && $set(origin, key, {});
        }
        origin[key] = deepExtend(origin[key], clone, mode);
      } else {
        $set(origin, key, clone);
        if (!is.Undef(clone)) {
          if (!is.Undef(clone.__json)) {
            origin[key].__json = clone.__json;
          }
          if (!is.Undef(clone.__origin)) {
            origin[key].__origin = clone.__origin;
          }
        }
      }
    }
  }
  return mode !== void 0 && Array.isArray(origin) ? origin.filter(function(v) {
    return !v || !v.__ctrl;
  }) : origin;
}
function deepCopy(value) {
  return deepExtend({}, {
    value
  }).value;
}
var _extends = Object.assign || function(a) {
  for (var b, c = 1; c < arguments.length; c++) {
    for (var d in b = arguments[c], b) {
      Object.prototype.hasOwnProperty.call(b, d) && $set(a, d, b[d]);
    }
  }
  return a;
};
function extend() {
  return _extends.apply(this, arguments);
}
function copy$1(obj) {
  if (_typeof(obj) !== "object" || obj === null) return obj;
  return obj instanceof Array ? _toConsumableArray(obj) : _objectSpread2({}, obj);
}
var css_248z$1 = '._fc-group{display:flex;flex-direction:column;justify-content:center;min-height:38px;width:100%}._fc-group-disabled ._fc-group-add,._fc-group-disabled ._fc-group-btn{cursor:not-allowed}._fc-group-handle{background-color:#fff;border:1px dashed #d9d9d9;border-radius:15px;bottom:-15px;display:flex;flex-direction:row;padding:3px 8px;position:absolute;right:30px}._fc-group-btn{cursor:pointer}._fc-group-idx{align-items:center;background:#eee;border-radius:15px;bottom:-15px;display:flex;font-weight:700;height:30px;justify-content:center;left:10px;position:absolute;width:30px}._fc-group-handle ._fc-group-btn+._fc-group-btn{margin-left:7px}._fc-group-container{border:1px dashed #d9d9d9;border-radius:5px;display:flex;flex-direction:column;margin:5px 5px 25px;padding:20px 20px 25px;position:relative}._fc-group-arrow{height:20px;position:relative;width:20px}._fc-group-arrow:before{border-left:2px solid #999;border-top:2px solid #999;content:"";height:9px;left:5px;position:absolute;top:8px;transform:rotate(45deg);width:9px}._fc-group-arrow._fc-group-down{transform:rotate(180deg)}._fc-group-plus-minus{cursor:pointer;height:20px;position:relative;width:20px}._fc-group-plus-minus:after,._fc-group-plus-minus:before{background-color:#409eff;content:"";height:2px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60%}._fc-group-plus-minus:before{transform:translate(-50%,-50%) rotate(90deg)}._fc-group-plus-minus._fc-group-minus:before{display:none}._fc-group-plus-minus._fc-group-minus:after{background-color:#f56c6c}._fc-group-add{border:1px solid rgba(64,158,255,.5);border-radius:15px;cursor:pointer;height:25px;width:25px}._fc-group-add._fc-group-plus-minus:after,._fc-group-add._fc-group-plus-minus:before{width:50%}';
styleInject(css_248z$1);
var NAME$2 = "fcGroup";
var Group = defineComponent({
  name: NAME$2,
  props: {
    field: String,
    rule: Array,
    expand: Number,
    options: Object,
    button: {
      type: Boolean,
      "default": true
    },
    max: {
      type: Number,
      "default": 0
    },
    min: {
      type: Number,
      "default": 0
    },
    modelValue: {
      type: Array,
      "default": function _default10() {
        return [];
      }
    },
    defaultValue: Object,
    sortBtn: {
      type: Boolean,
      "default": true
    },
    disabled: {
      type: Boolean,
      "default": false
    },
    syncDisabled: {
      type: Boolean,
      "default": true
    },
    onBeforeRemove: {
      type: Function,
      "default": function _default11() {
      }
    },
    onBeforeAdd: {
      type: Function,
      "default": function _default12() {
      }
    },
    formCreateInject: Object,
    parse: Function
  },
  data: function data3() {
    return {
      len: 0,
      cacheRule: {},
      cacheValue: {},
      sort: [],
      form: markRaw(this.formCreateInject.form.$form())
    };
  },
  emits: ["update:modelValue", "change", "itemMounted", "remove", "add"],
  watch: {
    rule: {
      handler: function handler(n, o) {
        var _this = this;
        Object.keys(this.cacheRule).forEach(function(v) {
          var item = _this.cacheRule[v];
          if (item.$f) {
            var val = item.$f.formData();
            if (n === o) {
              item.$f.deferSyncValue(function() {
                deepExtend(item.rule, n);
                item.$f.setValue(val);
              }, true);
            } else {
              var _val = item.$f.formData();
              item.$f.once("reloading", function() {
                item.$f.setValue(_val);
              });
              item.rule = deepCopy(n);
            }
          }
        });
      },
      deep: true
    },
    expand: function expand(n) {
      var d = n - this.modelValue.length;
      if (d > 0) {
        this.expandRule(d);
      }
    },
    modelValue: {
      handler: function handler2(n) {
        var _this2 = this;
        n = n || [];
        var keys = this.sort, total = keys.length, len = total - n.length;
        if (len < 0) {
          for (var i = len; i < 0; i++) {
            this.addRule(n.length + i, true);
          }
          for (var _i = 0; _i < total; _i++) {
            this.setValue(keys[_i], n[_i]);
          }
        } else {
          if (len > 0) {
            for (var _i2 = 0; _i2 < len; _i2++) {
              this.removeRule(keys[total - _i2 - 1]);
            }
          }
          n.forEach(function(val, i2) {
            _this2.setValue(keys[i2], n[i2]);
          });
        }
      },
      deep: true
    }
  },
  methods: {
    _value: function _value(v) {
      return v && hasProperty(v, this.field) ? v[this.field] : v;
    },
    cache: function cache(k, val) {
      this.cacheValue[k] = JSON.stringify(val);
    },
    input: function input2(value) {
      this.$emit("update:modelValue", value);
      this.$emit("change", value);
    },
    formData: function formData(key, _formData) {
      var _this3 = this;
      var cacheRule = this.cacheRule;
      var keys = this.sort;
      if (keys.filter(function(k) {
        return cacheRule[k] && cacheRule[k].$f;
      }).length !== keys.length) {
        return;
      }
      var value = keys.map(function(k) {
        var data5 = key === k ? _formData : _objectSpread2({}, _this3.cacheRule[k].$f.form);
        var value2 = _this3.field ? data5[_this3.field] || null : data5;
        _this3.cache(k, value2);
        return value2;
      });
      this.input(value);
    },
    setValue: function setValue2(key, value) {
      var field = this.field;
      if (field) {
        value = _defineProperty({}, field, this._value(value));
      }
      if (this.cacheValue[key] === JSON.stringify(field ? value[field] : value)) {
        return;
      }
      this.cacheRule[key].$f && this.cacheRule[key].$f.coverValue(value);
      this.cache(key, value);
    },
    addRule: function addRule(i, emit) {
      var _this4 = this;
      var rule = this.formCreateInject.form.copyRules(this.rule || []);
      var options = this.options ? _objectSpread2({}, this.options) : {
        submitBtn: false,
        resetBtn: false
      };
      if (this.defaultValue) {
        if (!options.formData) options.formData = {};
        var defVal = deepCopy(this.defaultValue);
        extend(options.formData, this.field ? _defineProperty({}, this.field, defVal) : defVal);
      }
      this.parse && this.parse({
        rule,
        options,
        index: this.sort.length
      });
      this.cacheRule[++this.len] = {
        rule,
        options
      };
      this.sort = Object.keys(this.cacheRule);
      if (emit) {
        nextTick(function() {
          return _this4.$emit("add", rule, Object.keys(_this4.cacheRule).length - 1);
        });
      }
    },
    add$f: function add$f(i, key, $f) {
      var _this5 = this;
      this.cacheRule[key].$f = $f;
      nextTick(function() {
        _this5.$emit("itemMounted", $f, Object.keys(_this5.cacheRule).indexOf(key));
      });
    },
    removeRule: function removeRule(key, emit) {
      var _this6 = this;
      var index = Object.keys(this.cacheRule).indexOf(key);
      delete this.cacheRule[key];
      delete this.cacheValue[key];
      this.sort = Object.keys(this.cacheRule);
      if (emit) {
        nextTick(function() {
          return _this6.$emit("remove", index);
        });
      }
    },
    add: function add(i) {
      if (this.disabled || false === this.onBeforeAdd(this.modelValue)) {
        return;
      }
      var value = _toConsumableArray(this.modelValue);
      value.push(this.defaultValue ? deepCopy(this.defaultValue) : this.field ? null : {});
      this.input(value);
    },
    del: function del(index, key) {
      if (this.disabled || false === this.onBeforeRemove(this.modelValue, index)) {
        return;
      }
      this.removeRule(key, true);
      var value = _toConsumableArray(this.modelValue);
      value.splice(index, 1);
      this.input(value);
    },
    addIcon: function addIcon(key) {
      return createVNode("div", {
        "class": "_fc-group-btn _fc-group-plus-minus",
        "onClick": this.add
      }, null);
    },
    delIcon: function delIcon(index, key) {
      var _this7 = this;
      return createVNode("div", {
        "class": "_fc-group-btn _fc-group-plus-minus _fc-group-minus",
        "onClick": function onClick() {
          return _this7.del(index, key);
        }
      }, null);
    },
    sortUpIcon: function sortUpIcon(index) {
      var _this8 = this;
      return createVNode("div", {
        "class": "_fc-group-btn _fc-group-arrow _fc-group-up",
        "onClick": function onClick() {
          return _this8.changeSort(index, -1);
        }
      }, null);
    },
    sortDownIcon: function sortDownIcon(index) {
      var _this9 = this;
      return createVNode("div", {
        "class": "_fc-group-btn _fc-group-arrow _fc-group-down",
        "onClick": function onClick() {
          return _this9.changeSort(index, 1);
        }
      }, null);
    },
    changeSort: function changeSort(index, sort) {
      var _this10 = this;
      var a = this.sort[index];
      this.sort[index] = this.sort[index + sort];
      this.sort[index + sort] = a;
      this.formCreateInject.subForm(this.sort.map(function(k) {
        return _this10.cacheRule[k].$f;
      }));
      this.formData(0);
    },
    makeIcon: function makeIcon(total, index, key) {
      var _this11 = this;
      if (this.$slots.button) {
        return this.$slots.button({
          total,
          index,
          vm: this,
          key,
          del: function del2() {
            return _this11.del(index, key);
          },
          add: this.add
        });
      }
      var btn = [];
      if ((!this.max || total < this.max) && total === index + 1) {
        btn.push(this.addIcon(key));
      }
      if (total > this.min) {
        btn.push(this.delIcon(index, key));
      }
      if (this.sortBtn && index) {
        btn.push(this.sortUpIcon(index));
      }
      if (this.sortBtn && index !== total - 1) {
        btn.push(this.sortDownIcon(index));
      }
      return btn;
    },
    emitEvent: function emitEvent(name2, args, index, key) {
      this.$emit.apply(this, [name2].concat(_toConsumableArray(args), [this.cacheRule[key].$f, index]));
    },
    expandRule: function expandRule(n) {
      for (var i = 0; i < n; i++) {
        this.addRule(i);
      }
    }
  },
  created: function created2() {
    var d = (this.expand || 0) - this.modelValue.length;
    for (var i = 0; i < this.modelValue.length; i++) {
      this.addRule(i);
    }
    if (d > 0) {
      this.expandRule(d);
    }
  },
  render: function render7() {
    var _this12 = this;
    var keys = this.sort;
    var button = this.button;
    var Type = this.form;
    var disabled = this.disabled;
    var children = keys.length === 0 ? this.$slots["default"] ? this.$slots["default"]({
      vm: this,
      add: this.add
    }) : createVNode("div", {
      "key": "a_def",
      "class": "_fc-group-plus-minus _fc-group-add fc-clock",
      "onClick": this.add
    }, null) : keys.map(function(key, index) {
      var _this12$cacheRule$key = _this12.cacheRule[key], rule = _this12$cacheRule$key.rule, options = _this12$cacheRule$key.options;
      var btn = button && !disabled ? _this12.makeIcon(keys.length, index, key) : [];
      return createVNode("div", {
        "class": "_fc-group-container",
        "key": key
      }, [createVNode(Type, mergeProps({
        "key": key
      }, {
        disabled,
        "onUpdate:modelValue": function onUpdateModelValue(formData3) {
          return _this12.formData(key, formData3);
        },
        "onEmit-event": function onEmitEvent(name2) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
          }
          return _this12.emitEvent(name2, args, index, key);
        },
        "onUpdate:api": function onUpdateApi($f) {
          return _this12.add$f(index, key, $f);
        },
        inFor: true,
        modelValue: _this12.field ? _defineProperty({}, _this12.field, _this12._value(_this12.modelValue[index])) : _this12.modelValue[index],
        rule,
        option: options,
        extendOption: true
      }), null), createVNode("div", {
        "class": "_fc-group-idx"
      }, [index + 1]), btn.length ? createVNode("div", {
        "class": "_fc-group-handle fc-clock"
      }, [btn]) : null]);
    });
    return createVNode("div", {
      "key": "con",
      "class": "_fc-group " + (disabled ? "_fc-group-disabled" : "")
    }, [children]);
  }
});
var NAME$1 = "fcSubForm";
var Sub = defineComponent({
  name: NAME$1,
  props: {
    rule: Array,
    options: {
      type: Object,
      "default": function _default13() {
        return reactive({
          submitBtn: false,
          resetBtn: false
        });
      }
    },
    modelValue: {
      type: Object,
      "default": function _default14() {
        return {};
      }
    },
    disabled: {
      type: Boolean,
      "default": false
    },
    syncDisabled: {
      type: Boolean,
      "default": true
    },
    formCreateInject: Object
  },
  data: function data4() {
    return {
      cacheValue: {},
      subApi: {},
      form: markRaw(this.formCreateInject.form.$form())
    };
  },
  emits: ["fc:subform", "update:modelValue", "change", "itemMounted"],
  watch: {
    modelValue: function modelValue4(n) {
      this.setValue(n);
    }
  },
  methods: {
    formData: function formData2(value) {
      this.cacheValue = JSON.stringify(value);
      this.$emit("update:modelValue", value);
      this.$emit("change", value);
    },
    setValue: function setValue3(value) {
      var str = JSON.stringify(value);
      if (this.cacheValue === str) {
        return;
      }
      this.cacheValue = str;
      this.subApi.coverValue(value || {});
    },
    add$f: function add$f2(api) {
      var _this = this;
      this.subApi = api;
      nextTick(function() {
        _this.$emit("itemMounted", api);
      });
    }
  },
  render: function render8() {
    var Type = this.form;
    return createVNode(Type, {
      "disabled": this.disabled,
      "onUpdate:modelValue": this.formData,
      "modelValue": this.modelValue,
      "onEmit-event": this.$emit,
      "onUpdate:api": this.add$f,
      "rule": this.rule,
      "option": this.options,
      "extendOption": true
    }, null);
  }
});
var script = {
  name: "IconWarning"
};
var _hoisted_1 = {
  "class": "icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
var _hoisted_2 = createBaseVNode("path", {
  fill: "currentColor",
  d: "M512 64a448 448 0 110 896 448 448 0 010-896zm0 832a384 384 0 000-768 384 384 0 000 768zm48-176a48 48 0 11-96 0 48 48 0 0196 0zm-48-464a32 32 0 0132 32v288a32 32 0 01-64 0V288a32 32 0 0132-32z"
}, null, -1);
var _hoisted_3 = [_hoisted_2];
function render9(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1, _hoisted_3);
}
script.render = render9;
var components = [Checkbox, Frame, Radio, Select, Tree, Upload, Group, Sub, script];
function debounce(fn, wait) {
  var timeout = null;
  return function() {
    var _this = this;
    for (var _len = arguments.length, arg = new Array(_len), _key = 0; _key < _len; _key++) {
      arg[_key] = arguments[_key];
    }
    if (timeout !== null) clearTimeout(timeout);
    timeout = setTimeout(function() {
      return fn.call.apply(fn, [_this].concat(arg));
    }, wait);
  };
}
function toLine(name2) {
  var line = name2.replace(/([A-Z])/g, "-$1").toLocaleLowerCase();
  if (line.indexOf("-") === 0) line = line.substr(1);
  return line;
}
function upper(str) {
  return str.replace(str[0], str[0].toLocaleUpperCase());
}
var normalMerge = ["props"];
var toArrayMerge = ["class", "style", "directives"];
var functionalMerge = ["on", "hook"];
var mergeProps2 = function mergeProps3(objects) {
  var initial = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  var opt = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
  var _normalMerge = [].concat(normalMerge, _toConsumableArray(opt["normal"] || []));
  var _toArrayMerge = [].concat(toArrayMerge, _toConsumableArray(opt["array"] || []));
  var _functionalMerge = [].concat(functionalMerge, _toConsumableArray(opt["functional"] || []));
  var propsMerge = opt["props"] || [];
  return objects.reduce(function(a, b) {
    for (var key in b) {
      if (a[key]) {
        if (propsMerge.indexOf(key) > -1) {
          a[key] = mergeProps3([b[key]], a[key]);
        } else if (_normalMerge.indexOf(key) > -1) {
          a[key] = _objectSpread2(_objectSpread2({}, a[key]), b[key]);
        } else if (_toArrayMerge.indexOf(key) > -1) {
          var arrA = a[key] instanceof Array ? a[key] : [a[key]];
          var arrB = b[key] instanceof Array ? b[key] : [b[key]];
          a[key] = [].concat(_toConsumableArray(arrA), _toConsumableArray(arrB));
        } else if (_functionalMerge.indexOf(key) > -1) {
          for (var event in b[key]) {
            if (a[key][event]) {
              var _arrA = a[key][event] instanceof Array ? a[key][event] : [a[key][event]];
              var _arrB = b[key][event] instanceof Array ? b[key][event] : [b[key][event]];
              a[key][event] = [].concat(_toConsumableArray(_arrA), _toConsumableArray(_arrB));
            } else {
              a[key][event] = b[key][event];
            }
          }
        } else if (key === "hook") {
          for (var hook in b[key]) {
            if (a[key][hook]) {
              a[key][hook] = mergeFn(a[key][hook], b[key][hook]);
            } else {
              a[key][hook] = b[key][hook];
            }
          }
        } else {
          a[key] = b[key];
        }
      } else {
        if (_normalMerge.indexOf(key) > -1 || _functionalMerge.indexOf(key) > -1 || propsMerge.indexOf(key) > -1) {
          a[key] = _objectSpread2({}, b[key]);
        } else if (_toArrayMerge.indexOf(key) > -1) {
          a[key] = b[key] instanceof Array ? _toConsumableArray(b[key]) : _typeof(b[key]) === "object" ? _objectSpread2({}, b[key]) : b[key];
        } else a[key] = b[key];
      }
    }
    return a;
  }, initial);
};
var mergeFn = function mergeFn2(fn1, fn2) {
  return function() {
    fn1 && fn1.apply(this, arguments);
    fn2 && fn2.apply(this, arguments);
  };
};
var keyAttrs = ["type", "slot", "ignore", "emitPrefix", "value", "name", "native", "hidden", "display", "inject", "options", "emit", "link", "prefix", "suffix", "update", "sync", "optionsTo", "key", "slotUpdate", "computed", "preview", "component", "cache", "modelEmit"];
var arrayAttrs = ["validate", "children", "control"];
var normalAttrs = ["effect", "deep", "renderSlots"];
function attrs() {
  return [].concat(keyAttrs, _toConsumableArray(normalMerge), _toConsumableArray(toArrayMerge), _toConsumableArray(functionalMerge), arrayAttrs, normalAttrs);
}
function format(type2, msg, rule) {
  return "[form-create ".concat(type2, "]: ").concat(msg) + (rule ? "\n\nrule: " + JSON.stringify(rule.getRule ? rule.getRule() : rule) : "");
}
function err(msg, rule) {
  console.error(format("err", msg, rule));
}
function logError(e) {
  err(e.toString());
  console.error(e);
}
function toCase(str) {
  var to = str.replace(/(-[a-z])/g, function(v) {
    return v.replace("-", "").toLocaleUpperCase();
  });
  return lower(to);
}
function lower(str) {
  return str.replace(str[0], str[0].toLowerCase());
}
var PREFIX = "[[FORM-CREATE-PREFIX-";
var SUFFIX = "-FORM-CREATE-SUFFIX]]";
function toJson(obj, space) {
  return JSON.stringify(deepExtend(Array.isArray(obj) ? [] : {}, obj, true), function(key, val) {
    if (val && val._isVue === true) return void 0;
    if (typeof val !== "function") {
      return val;
    }
    if (val.__json) {
      return val.__json;
    }
    if (val.__origin) val = val.__origin;
    if (val.__emit) return void 0;
    return PREFIX + val + SUFFIX;
  }, space);
}
function makeFn(fn) {
  return new Function("return " + fn)();
}
function parseFn(fn, mode) {
  if (fn && is.String(fn) && fn.length > 4) {
    var v = fn.trim();
    var flag = false;
    try {
      if (v.indexOf(SUFFIX) > 0 && v.indexOf(PREFIX) === 0) {
        v = v.replace(SUFFIX, "").replace(PREFIX, "");
        flag = true;
      } else if (v.indexOf("$FN:") === 0) {
        v = v.substring(4);
        flag = true;
      } else if (v.indexOf("$EXEC:") === 0) {
        v = v.substring(6);
        flag = true;
      } else if (v.indexOf("$GLOBAL:") === 0) {
        var name2 = v.substring(8);
        v = function v2() {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          var callback = args[0].api.getGlobalEvent(name2);
          if (callback) {
            return callback.call.apply(callback, [this].concat(args));
          }
          return void 0;
        };
        v.__json = fn;
        v.__inject = true;
        return v;
      } else if (v.indexOf("$FNX:") === 0) {
        v = makeFn("function($inject){\n" + v.substring(5) + "\n}");
        v.__json = fn;
        v.__inject = true;
        return v;
      } else if (!mode && v.indexOf("function ") === 0 && v !== "function ") {
        flag = true;
      } else if (!mode && v.indexOf("function(") === 0 && v !== "function(") {
        flag = true;
      }
      if (!flag) return fn;
      var val;
      try {
        val = makeFn(v);
      } catch (e) {
        val = makeFn("function " + v);
      }
      val.__json = fn;
      return val;
    } catch (e) {
      err("解析失败:".concat(v, "\n\nerr: ").concat(e));
      return void 0;
    }
  }
  return fn;
}
function parseJson(json, mode) {
  return JSON.parse(json, function(k, v) {
    if (is.Undef(v) || !v.indexOf) return v;
    return parseFn(v, mode);
  });
}
function enumerable(value, writable) {
  return {
    value,
    enumerable: false,
    configurable: false,
    writable: !!writable
  };
}
function copyRule(rule, mode) {
  return copyRules([rule], mode || false)[0];
}
function copyRules(rules, mode) {
  return deepExtend([], _toConsumableArray(rules), mode || false);
}
function mergeRule(rule, merge) {
  mergeProps2(Array.isArray(merge) ? merge : [merge], rule, {
    array: arrayAttrs,
    normal: normalAttrs
  });
  return rule;
}
function getRule(rule) {
  var r = is.Function(rule.getRule) ? rule.getRule() : rule;
  if (!r.type) {
    r.type = "input";
  }
  return r;
}
function mergeGlobal(target, merge) {
  if (!target) return merge;
  Object.keys(merge || {}).forEach(function(k) {
    if (merge[k]) {
      target[k] = mergeRule(target[k] || {}, merge[k]);
    }
  });
  return target;
}
function funcProxy(that, proxy) {
  Object.defineProperties(that, Object.keys(proxy).reduce(function(initial, k) {
    initial[k] = {
      get: function get() {
        return proxy[k]();
      }
    };
    return initial;
  }, {}));
}
function byCtx(rule) {
  return rule.__fc__ || (rule.__origin__ ? rule.__origin__.__fc__ : null);
}
function invoke(fn, def) {
  try {
    def = fn();
  } catch (e) {
    logError(e);
  }
  return def;
}
function makeSlotBag() {
  var slotBag = {};
  var slotName = function slotName2(n) {
    return n || "default";
  };
  return {
    setSlot: function setSlot(slot, vnFn) {
      slot = slotName(slot);
      if (!vnFn || Array.isArray(vnFn) && vnFn.length) return;
      if (!slotBag[slot]) slotBag[slot] = [];
      slotBag[slot].push(vnFn);
    },
    getSlot: function getSlot3(slot, val) {
      slot = slotName(slot);
      var children = [];
      (slotBag[slot] || []).forEach(function(fn) {
        if (Array.isArray(fn)) {
          children.push.apply(children, _toConsumableArray(fn));
        } else if (is.Function(fn)) {
          var res = fn.apply(void 0, _toConsumableArray(val || []));
          if (Array.isArray(res)) {
            children.push.apply(children, _toConsumableArray(res));
          } else {
            children.push(res);
          }
        } else if (!is.Undef(fn)) {
          children.push(fn);
        }
      });
      return children;
    },
    getSlots: function getSlots() {
      var _this = this;
      var slots = {};
      Object.keys(slotBag).forEach(function(k) {
        slots[k] = function() {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          return _this.getSlot(k, args);
        };
      });
      return slots;
    },
    slotLen: function slotLen(slot) {
      slot = slotName(slot);
      return slotBag[slot] ? slotBag[slot].length : 0;
    },
    mergeBag: function mergeBag(bag) {
      var _this2 = this;
      if (!bag) return this;
      var slots = is.Function(bag.getSlots) ? bag.getSlots() : bag;
      if (Array.isArray(bag) || isVNode(bag)) {
        this.setSlot(void 0, function() {
          return bag;
        });
      } else {
        Object.keys(slots).forEach(function(k) {
          _this2.setSlot(k, slots[k]);
        });
      }
      return this;
    }
  };
}
function toProps(rule) {
  var prop = _objectSpread2({}, rule.props || {});
  Object.keys(rule.on || {}).forEach(function(k) {
    if (k.indexOf("-") > 0) {
      k = toCase(k);
    }
    var name2 = "on".concat(upper(k));
    if (Array.isArray(prop[name2])) {
      prop[name2] = [].concat(_toConsumableArray(prop[name2]), [rule.on[k]]);
    } else if (prop[name2]) {
      prop[name2] = [prop[name2], rule.on[k]];
    } else {
      prop[name2] = rule.on[k];
    }
  });
  prop.key = rule.key;
  prop.ref = rule.ref;
  prop["class"] = rule["class"];
  prop.id = rule.id;
  prop.style = rule.style;
  if (prop.slot) delete prop.slot;
  return prop;
}
function setPrototypeOf(o, proto) {
  Object.setPrototypeOf(o, proto);
  return o;
}
var changeType = function changeType2(a, b) {
  if (typeof a === "string") {
    return String(b);
  } else if (typeof a === "number") {
    return Number(b);
  }
  return b;
};
var condition = {
  "==": function _(a, b) {
    return JSON.stringify(a) === JSON.stringify(changeType(a, b));
  },
  "!=": function _2(a, b) {
    return !condition["=="](a, b);
  },
  ">": function _3(a, b) {
    return a > b;
  },
  ">=": function _4(a, b) {
    return a >= b;
  },
  "<": function _5(a, b) {
    return a < b;
  },
  "<=": function _6(a, b) {
    return a <= b;
  },
  on: function on(a, b) {
    return a && a.indexOf && a.indexOf(changeType(a[0], b)) > -1;
  },
  notOn: function notOn(a, b) {
    return !condition.on(a, b);
  },
  "in": function _in(a, b) {
    return b && b.indexOf && b.indexOf(a) > -1;
  },
  notIn: function notIn(a, b) {
    return !condition["in"](a, b);
  },
  between: function between(a, b) {
    return a > b[0] && a < b[1];
  },
  notBetween: function notBetween(a, b) {
    return a < b[0] || a > b[1];
  },
  empty: function empty2(a) {
    return is.empty(a);
  },
  notEmpty: function notEmpty(a) {
    return !is.empty(a);
  },
  pattern: function pattern(a, b) {
    return new RegExp(b, "g").test(a);
  }
};
function deepGet(val, split) {
  (Array.isArray(split) ? split : (split || "").split(".")).forEach(function(k) {
    if (val != null) {
      val = val[k];
    }
  });
  return val;
}
function extractVar(str) {
  var regex = /{{\s*(.*?)\s*}}/g;
  var match;
  var matches = {};
  while ((match = regex.exec(str)) !== null) {
    if (match[1]) {
      matches[match[1]] = true;
    }
  }
  return Object.keys(matches);
}
function convertFieldToConditions(field) {
  var parts = field.split(".");
  var conditions = [];
  var currentCondition = "";
  parts.forEach(function(part, index) {
    if (index === 0) {
      currentCondition = part;
    } else {
      currentCondition += "." + part;
    }
    conditions.push(currentCondition);
  });
  return conditions.join(" && ");
}
function parseTemplateToTree(template) {
  var tokens = [];
  var current = "";
  var depth = 0;
  for (var i = 0; i < template.length; i++) {
    var _char = template[i];
    if (_char === "[") {
      if (depth === 0 && current) {
        tokens.push({
          type: "key",
          value: current
        });
        current = "";
      }
      depth++;
      current += _char;
    } else if (_char === "]") {
      depth--;
      current += _char;
      if (depth === 0) {
        tokens.push({
          type: "bracket",
          value: parseTemplateToTree(current.slice(1, -1))
        });
        current = "";
      }
    } else if (_char === "." && depth === 0) {
      if (current) {
        tokens.push({
          type: "key",
          value: current
        });
        current = "";
      }
    } else {
      current += _char;
    }
  }
  if (current) {
    tokens.push({
      type: "key",
      value: current
    });
  }
  return tokens.map(function(token) {
    if (token.type === "key") {
      return {
        key: token.value
      };
    } else {
      return {
        children: token.value
      };
    }
  });
}
var _getGroupInject = function getGroupInject(vm2, parent) {
  if (!vm2 || vm2 === parent) {
    return;
  }
  if (vm2.props.formCreateInject) {
    return vm2.props.formCreateInject;
  }
  if (vm2.parent) {
    return _getGroupInject(vm2.parent, parent);
  }
};
function $FormCreate(FormCreate2, components2, directives) {
  return defineComponent({
    name: "FormCreate" + (FormCreate2.isMobile ? "Mobile" : ""),
    components: components2,
    directives,
    props: {
      rule: {
        type: Array,
        required: true,
        "default": function _default15() {
          return [];
        }
      },
      option: {
        type: Object,
        "default": function _default15() {
          return {};
        }
      },
      extendOption: Boolean,
      driver: [String, Object],
      modelValue: Object,
      disabled: {
        type: Boolean,
        "default": void 0
      },
      preview: {
        type: Boolean,
        "default": void 0
      },
      index: [String, Number],
      api: Object,
      locale: [String, Object],
      t: Function,
      name: String,
      subForm: {
        type: Boolean,
        "default": true
      },
      inFor: Boolean
    },
    emits: ["update:api", "update:modelValue", "mounted", "submit", "reset", "change", "emit-event", "control", "remove-rule", "remove-field", "sync", "reload", "repeat-field", "update", "validate-field-fail", "validate-fail", "created"],
    render: function render17() {
      return this.fc.render();
    },
    setup: function setup4(props) {
      var vm2 = getCurrentInstance();
      provide("parentFC", vm2);
      var parent = inject("parentFC", null);
      var top = parent;
      if (parent) {
        while (top.setupState.parent) {
          top = top.setupState.parent;
        }
      } else {
        top = vm2;
      }
      var _toRefs = toRefs(props), rule = _toRefs.rule, modelValue5 = _toRefs.modelValue, subForm = _toRefs.subForm, inFor = _toRefs.inFor;
      var data5 = reactive({
        ctxInject: {},
        destroyed: false,
        isShow: true,
        unique: 1,
        renderRule: _toConsumableArray(rule.value || []),
        updateValue: JSON.stringify(modelValue5.value || {})
      });
      var fc2 = new FormCreate2(vm2);
      var fapi = fc2.api();
      var isMore = inFor.value;
      var addSubForm = function addSubForm2() {
        if (parent) {
          var _inject = _getGroupInject(vm2, parent);
          if (_inject) {
            var sub;
            if (isMore) {
              sub = toArray(_inject.getSubForm());
              sub.push(fapi);
            } else {
              sub = fapi;
            }
            _inject.subForm(sub);
          }
        }
      };
      var rmSubForm = function rmSubForm2() {
        var inject2 = _getGroupInject(vm2, parent);
        if (inject2) {
          if (isMore) {
            var sub = toArray(inject2.getSubForm());
            var idx = sub.indexOf(fapi);
            if (idx > -1) {
              sub.splice(idx, 1);
            }
          } else {
            inject2.subForm();
          }
        }
      };
      var styleEl = null;
      onBeforeMount(function() {
        watchEffect(function() {
          var content = "";
          var globalClass = props.option && props.option.globalClass || {};
          Object.keys(globalClass).forEach(function(k) {
            var subCss = "";
            globalClass[k].style && Object.keys(globalClass[k].style).forEach(function(key) {
              subCss += toLine(key) + ":" + globalClass[k].style[key] + ";";
            });
            if (globalClass[k].content) {
              subCss += globalClass[k].content + ";";
            }
            if (subCss) {
              content += ".".concat(k, "{").concat(subCss, "}");
            }
          });
          if (props.option && props.option.style) {
            content += props.option.style;
          }
          if (!styleEl) {
            styleEl = document.createElement("style");
            styleEl.type = "text/css";
            document.head.appendChild(styleEl);
          }
          styleEl.innerHTML = content || "";
        });
      });
      var emit$topForm = debounce(function() {
        fc2.bus.$emit("$loadData.$topForm");
      }, 100);
      var emit$scopeForm = debounce(function() {
        fc2.bus.$emit("$loadData.$scopeForm");
      }, 100);
      var emit$form = debounce(function() {
        fc2.bus.$emit("$loadData.$form");
      }, 100);
      var emit$change = function emit$change2(field) {
        fc2.bus.$emit("change-$form." + field);
      };
      onMounted(function() {
        if (parent) {
          fapi.top.bus.$on("$loadData.$form", emit$topForm);
          fapi.top.bus.$on("change", emit$change);
        }
        if (fapi !== fapi.scope) {
          fapi.scope.bus.$on("$loadData.$scopeForm", emit$scopeForm);
        }
        fc2.mounted();
      });
      onBeforeUnmount(function() {
        if (parent) {
          fapi.top.bus.$off("$loadData.$form", emit$topForm);
          fapi.top.bus.$off("change", emit$change);
        }
        if (fapi !== fapi.scope) {
          fapi.scope.bus.$off("$loadData.$scopeForm", emit$scopeForm);
        }
        rmSubForm();
        data5.destroyed = true;
        fc2.unmount();
        styleEl && (styleEl.parentNode || styleEl.parentElement) && document.head.removeChild(styleEl);
      });
      onUpdated(function() {
        fc2.updated();
      });
      addSubForm();
      watch(function() {
        return props.option;
      }, function() {
        fc2.initOptions();
        fapi.refresh();
      }, {
        deep: true
      });
      watch(function() {
        return _toConsumableArray(rule.value);
      }, function(n) {
        if (fc2.$handle.isBreakWatch() || n.length === data5.renderRule.length && n.every(function(v) {
          return data5.renderRule.indexOf(v) > -1;
        })) return;
        fc2.$handle.updateAppendData();
        fc2.$handle.reloadRule(rule.value);
        vm2.setupState.renderRule();
      });
      watch(function() {
        return [props.disabled, props.preview];
      }, function() {
        fapi.refresh();
      });
      watch(modelValue5, function(n) {
        if (toJson(n || {}) === data5.updateValue) return;
        if (fapi.config.forceCoverValue) {
          fapi.coverValue(n || {});
        } else {
          fapi.setValue(n || {});
        }
      }, {
        deep: true,
        flush: "post"
      });
      watch(function() {
        return props.index;
      }, function() {
        fapi.coverValue({});
        fc2.$handle.updateAppendData();
        nextTick(function() {
          nextTick(function() {
            fapi.clearValidateState();
          });
        });
      }, {
        flush: "sync"
      });
      return _objectSpread2(_objectSpread2({
        fc: markRaw(fc2),
        parent: parent ? markRaw(parent) : parent,
        top: markRaw(top),
        fapi: markRaw(fapi)
      }, toRefs(data5)), {}, {
        getGroupInject: function getGroupInject2() {
          return _getGroupInject(vm2, parent);
        },
        refresh: function refresh() {
          ++data5.unique;
        },
        renderRule: function renderRule() {
          data5.renderRule = _toConsumableArray(rule.value || []);
        },
        updateValue: function updateValue2(value) {
          if (data5.destroyed) return;
          var json = toJson(value);
          if (data5.updateValue === json) {
            return;
          }
          data5.updateValue = json;
          vm2.emit("update:modelValue", value);
          nextTick(function() {
            emit$form();
            if (!parent) {
              emit$topForm();
              emit$scopeForm();
            } else if (!subForm.value) {
              emit$scopeForm();
            }
          });
        }
      });
    },
    created: function created3() {
      var vm2 = getCurrentInstance();
      vm2.emit("update:api", vm2.setupState.fapi);
      vm2.setupState.fc.init();
    }
  });
}
function baseRule() {
  return {
    props: {},
    on: {},
    options: [],
    children: [],
    hidden: false,
    display: true,
    value: void 0
  };
}
function creatorFactory(name2, init4) {
  return function(title, field, value) {
    var props = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    var maker2 = new Creator(name2, title, field, value, props);
    if (init4) {
      if (is.Function(init4)) init4(maker2);
      else maker2.props(init4);
    }
    return maker2;
  };
}
function Creator(type2, title, field, value, props) {
  this._data = extend(baseRule(), {
    type: type2,
    title,
    field,
    value,
    props: props || {}
  });
  this.event = this.on;
}
extend(Creator.prototype, {
  getRule: function getRule2() {
    return this._data;
  },
  setProp: function setProp(key, value) {
    $set(this._data, key, value);
    return this;
  },
  modelField: function modelField(field) {
    this._data.modelField = field;
    return this;
  },
  _clone: function _clone() {
    var clone = new this.constructor();
    clone._data = copyRule(this._data);
    return clone;
  }
});
function appendProto(attrs2) {
  attrs2.forEach(function(name2) {
    Creator.prototype[name2] = function(key) {
      mergeRule(this._data, _defineProperty({}, name2, arguments.length < 2 ? key : _defineProperty({}, key, arguments[1])));
      return this;
    };
  });
}
appendProto(attrs());
var commonMaker = creatorFactory("");
function create(type2, field, title) {
  var make = commonMaker("", field);
  make._data.type = type2;
  make._data.title = title;
  return make;
}
function makerFactory() {
  return {
    create,
    factory: creatorFactory
  };
}
function getError(action, option, xhr) {
  var msg = "fail to ".concat(action, " ").concat(xhr.status, "'");
  var err2 = new Error(msg);
  err2.status = xhr.status;
  err2.url = action;
  return err2;
}
function getBody(xhr) {
  var text = xhr.responseText || xhr.response;
  if (!text) {
    return text;
  }
  try {
    return JSON.parse(text);
  } catch (e) {
    return text;
  }
}
function fetch$1(option) {
  if (typeof XMLHttpRequest === "undefined") {
    return;
  }
  var xhr = new XMLHttpRequest();
  var action = option.action || "";
  if (xhr.upload && option.onProgress) {
    xhr.upload.addEventListener("progress", function(evt) {
      evt.percent = evt.total > 0 ? evt.loaded / evt.total * 100 : 0;
      option.onProgress(evt);
    });
  }
  if (option.query) {
    var queryString = new URLSearchParams(option.query).toString();
    if (queryString) {
      if (action.includes("?")) {
        action += "&".concat(queryString);
      } else {
        action += "?".concat(queryString);
      }
    }
  }
  xhr.onerror = function error(e) {
    option.onError(e);
  };
  xhr.onload = function onload() {
    if (xhr.status < 200 || xhr.status >= 300) {
      return option.onError(getError(action, option, xhr), getBody(xhr));
    }
    option.onSuccess(getBody(xhr));
  };
  xhr.open(option.method || "get", action, true);
  var formData3;
  if (option.data || option.file) {
    if (option.file || (option.dataType || "").toLowerCase() !== "json") {
      formData3 = new FormData();
      Object.keys(option.data || {}).map(function(key) {
        formData3.append(key, option.data[key]);
      });
    } else {
      formData3 = JSON.stringify(option.data || {});
      xhr.setRequestHeader("content-type", "application/json");
    }
  }
  if (option.file) {
    formData3.append(option.filename, option.file, option.file.name);
  }
  if (option.withCredentials && "withCredentials" in xhr) {
    xhr.withCredentials = true;
  }
  var headers = option.headers || {};
  Object.keys(headers).forEach(function(item) {
    if (headers[item] != null) {
      xhr.setRequestHeader(item, headers[item]);
    }
  });
  xhr.send(formData3);
}
function asyncFetch(config, _fetch, api) {
  return new Promise(function(resolve, reject) {
    (_fetch || fetch$1)(_objectSpread2(_objectSpread2({}, config), {}, {
      onSuccess: function onSuccess(res) {
        var fn = function fn2(v) {
          return v;
        };
        var parse = parseFn(config.parse);
        if (is.Function(parse)) {
          fn = parse;
        } else if (parse && is.String(parse)) {
          fn = function fn2(v) {
            return deepGet(v, parse);
          };
        }
        resolve(fn(res, void 0, api));
      },
      onError: function onError(err2) {
        reject(err2);
      }
    }));
  });
}
function copy(value) {
  return deepCopy(value);
}
function Api(h2) {
  function tidyFields(fields) {
    if (is.Undef(fields)) fields = h2.fields();
    else if (!Array.isArray(fields)) fields = [fields];
    return fields;
  }
  function props(fields, key, val) {
    if (is.Undef(fields)) {
      fields = Object.keys(_objectSpread2(_objectSpread2({}, h2.fieldCtx), h2.nameCtx));
    } else if (!Array.isArray(fields)) {
      fields = [fields];
    }
    fields.forEach(function(field) {
      var ctxs = h2.fieldCtx[field] || h2.nameCtx[field];
      ctxs && ctxs.forEach(function(ctx) {
        $set(ctx.rule, key, val);
        h2.$render.clearCache(ctx);
      });
    });
  }
  function allSubForm() {
    var subs = h2.subForm;
    return Object.keys(subs).reduce(function(initial, k) {
      var sub = subs[k];
      if (!sub) return initial;
      if (Array.isArray(sub)) initial.push.apply(initial, _toConsumableArray(sub));
      else initial.push(sub);
      return initial;
    }, []);
  }
  var api = {
    get isScope() {
      return h2.vm.props.subForm === false;
    },
    get isPreview() {
      return h2.preview;
    },
    get config() {
      return h2.options;
    },
    set config(val) {
      h2.fc.options.value = val;
    },
    get options() {
      return h2.options;
    },
    set options(val) {
      h2.fc.options.value = val;
    },
    get form() {
      return h2.form;
    },
    get rule() {
      return h2.rules;
    },
    get parent() {
      return h2.vm.setupState.parent && h2.vm.setupState.parent.setupState.fapi;
    },
    get top() {
      if (api.parent) {
        return api.parent.top;
      }
      return api;
    },
    get scope() {
      var parent = h2.vm;
      while (parent && parent.setupState.fapi) {
        if (!parent.props.subForm) {
          return parent.setupState.fapi;
        } else {
          parent = parent.setupState.parent;
        }
      }
      return api.top;
    },
    get children() {
      return allSubForm();
    },
    get siblings() {
      var inject2 = h2.vm.setupState.getGroupInject();
      if (inject2) {
        var subForm = inject2.getSubForm();
        if (Array.isArray(subForm)) {
          return _toConsumableArray(subForm);
        }
      }
      return void 0;
    },
    get index() {
      var siblings = api.siblings;
      if (siblings) {
        var idx = siblings.indexOf(api);
        return idx > -1 ? idx : void 0;
      }
      return void 0;
    },
    get formulas() {
      return _objectSpread2({}, h2.fc.formulas);
    },
    formData: function formData3(fields) {
      if (fields == null || typeof fields === "boolean") {
        var data5 = {};
        Object.keys(h2.form).forEach(function(k) {
          if (fields === true || h2.ignoreFields.indexOf(k) === -1) {
            data5[k] = copy(h2.form[k]);
          }
        });
        return data5;
      } else {
        return tidyFields(fields).reduce(function(initial, id2) {
          initial[id2] = api.getValue(id2);
          return initial;
        }, {});
      }
    },
    getValue: function getValue(field) {
      var ctx = h2.getFieldCtx(field);
      if (!ctx) {
        if (h2.options.appendValue !== false && hasProperty(h2.appendData, field)) {
          return copy(h2.appendData[field]);
        }
        return void 0;
      }
      return copy(ctx.rule.value);
    },
    coverValue: function coverValue(formData3) {
      var data5 = _objectSpread2({}, formData3 || {});
      h2.deferSyncValue(function() {
        h2.appendData = {};
        api.fields().forEach(function(key) {
          var ctxs = h2.fieldCtx[key];
          if (ctxs) {
            var flag = hasProperty(formData3, key);
            ctxs.forEach(function(ctx) {
              ctx.rule.value = flag ? formData3[key] : void 0;
            });
            delete data5[key];
          }
        });
        extend(h2.appendData, data5);
      }, true);
    },
    setValue: function setValue4(field) {
      var formData3 = field;
      if (arguments.length >= 2) formData3 = _defineProperty({}, field, arguments[1]);
      h2.deferSyncValue(function() {
        Object.keys(formData3).forEach(function(key) {
          var ctxs = h2.fieldCtx[key];
          if (!ctxs) return h2.appendData[key] = formData3[key];
          ctxs.forEach(function(ctx) {
            ctx.rule.value = formData3[key];
          });
        });
      }, true);
    },
    removeField: function removeField(field) {
      var ctx = h2.getCtx(field);
      h2.deferSyncValue(function() {
        h2.getCtxs(field).forEach(function(ctx2) {
          ctx2.rm();
        });
      }, true);
      return ctx ? ctx.origin : void 0;
    },
    removeRule: function removeRule2(rule) {
      var ctx = rule && byCtx(rule);
      if (!ctx) return;
      ctx.rm();
      return ctx.origin;
    },
    fields: function fields() {
      return h2.fields();
    },
    append: function append(rule, after, child) {
      var index = h2.sort.length - 1, rules;
      var ctx = h2.getCtx(after);
      if (ctx) {
        if (child) {
          rules = ctx.getPending("children", ctx.rule.children);
          if (!Array.isArray(rules)) return;
          index = ctx.rule.children.length - 1;
        } else {
          index = ctx.root.indexOf(ctx.origin);
          rules = ctx.root;
        }
      } else rules = h2.rules;
      rules.splice(index + 1, 0, rule);
    },
    prepend: function prepend(rule, after, child) {
      var index = 0, rules;
      var ctx = h2.getCtx(after);
      if (ctx) {
        if (child) {
          rules = ctx.getPending("children", ctx.rule.children);
          if (!Array.isArray(rules)) return;
        } else {
          index = ctx.root.indexOf(ctx.origin);
          rules = ctx.root;
        }
      } else rules = h2.rules;
      rules.splice(index, 0, rule);
    },
    hidden: function hidden2(state, fields) {
      props(fields, "hidden", !!state);
      h2.refresh();
    },
    hiddenStatus: function hiddenStatus(id2) {
      var ctx = h2.getCtx(id2);
      if (!ctx) return;
      return !!ctx.rule.hidden;
    },
    display: function display(state, fields) {
      props(fields, "display", !!state);
      h2.refresh();
    },
    displayStatus: function displayStatus(id2) {
      var ctx = h2.getCtx(id2);
      if (!ctx) return;
      return !!ctx.rule.display;
    },
    disabled: function disabled(_disabled, fields) {
      tidyFields(fields).forEach(function(field) {
        h2.getCtxs(field).forEach(function(ctx) {
          $set(ctx.rule.props, "disabled", !!_disabled);
        });
      });
      h2.refresh();
    },
    all: function all(origin) {
      return Object.keys(h2.ctxs).map(function(k) {
        var ctx = h2.ctxs[k];
        return origin ? ctx.origin : ctx.rule;
      });
    },
    model: function model(origin) {
      return h2.fields().reduce(function(initial, key) {
        var ctx = h2.fieldCtx[key][0];
        initial[key] = origin ? ctx.origin : ctx.rule;
        return initial;
      }, {});
    },
    component: function component(origin) {
      return Object.keys(h2.nameCtx).reduce(function(initial, key) {
        var ctx = h2.nameCtx[key].map(function(ctx2) {
          return origin ? ctx2.origin : ctx2.rule;
        });
        initial[key] = ctx.length === 1 ? ctx[0] : ctx;
        return initial;
      }, {});
    },
    bind: function bind2() {
      return api.form;
    },
    reload: function reload(rules) {
      h2.reloadRule(rules);
    },
    updateOptions: function updateOptions2(options) {
      h2.fc.updateOptions(options);
      api.refresh();
    },
    onSubmit: function onSubmit(fn) {
      api.updateOptions({
        onSubmit: fn
      });
    },
    sync: function sync(field) {
      if (Array.isArray(field)) {
        field.forEach(function(v) {
          return api.sync(v);
        });
        return;
      }
      var ctxs = is.Object(field) ? byCtx(field) : h2.getCtxs(field);
      if (!ctxs) {
        return;
      }
      ctxs = Array.isArray(ctxs) ? ctxs : [ctxs];
      ctxs.forEach(function(ctx) {
        if (!ctx.deleted) {
          var subForm = h2.subForm[ctx.id];
          if (subForm) {
            if (Array.isArray(subForm)) {
              subForm.forEach(function(form2) {
                form2.refresh();
              });
            } else if (subForm) {
              subForm.refresh();
            }
          }
          h2.$render.clearCache(ctx);
        }
      });
      h2.refresh();
    },
    refresh: function refresh() {
      allSubForm().forEach(function(sub) {
        sub.refresh();
      });
      h2.$render.clearCacheAll();
      h2.refresh();
    },
    refreshOptions: function refreshOptions() {
      h2.$manager.updateOptions(h2.options);
      api.refresh();
    },
    hideForm: function hideForm(hide) {
      h2.vm.setupState.isShow = !hide;
    },
    changeStatus: function changeStatus() {
      return h2.changeStatus;
    },
    clearChangeStatus: function clearChangeStatus() {
      h2.changeStatus = false;
    },
    updateRule: function updateRule(id2, rule) {
      h2.getCtxs(id2).forEach(function(ctx) {
        extend(ctx.rule, rule);
      });
    },
    updateRules: function updateRules(rules) {
      Object.keys(rules).forEach(function(id2) {
        api.updateRule(id2, rules[id2]);
      });
    },
    mergeRule: function mergeRule$1(id2, rule) {
      h2.getCtxs(id2).forEach(function(ctx) {
        mergeRule(ctx.rule, rule);
      });
    },
    mergeRules: function mergeRules(rules) {
      Object.keys(rules).forEach(function(id2) {
        api.mergeRule(id2, rules[id2]);
      });
    },
    getRule: function getRule3(id2, origin) {
      var ctx = h2.getCtx(id2);
      if (ctx) {
        return origin ? ctx.origin : ctx.rule;
      }
    },
    getRenderRule: function getRenderRule(id2) {
      var ctx = h2.getCtx(id2);
      if (ctx) {
        return ctx.prop;
      }
    },
    getRefRule: function getRefRule(id2) {
      var ctxs = h2.getCtxs(id2);
      if (ctxs) {
        var rules = ctxs.map(function(ctx) {
          return ctx.rule;
        });
        return rules.length === 1 ? rules[0] : rules;
      }
    },
    setEffect: function setEffect(id2, attr, value) {
      var ctx = h2.getCtx(id2);
      if (ctx && attr) {
        if (attr[0] === "$") {
          attr = attr.substr(1);
        }
        if (hasProperty(ctx.rule, "$" + attr)) {
          $set(ctx.rule, "$" + attr, value);
        }
        if (!hasProperty(ctx.rule, "effect")) {
          ctx.rule.effect = {};
        }
        $set(ctx.rule.effect, attr, value);
      }
    },
    clearEffectData: function clearEffectData2(id2, attr) {
      var ctx = h2.getCtx(id2);
      if (ctx) {
        if (attr && attr[0] === "$") {
          attr = attr.substr(1);
        }
        ctx.clearEffectData(attr);
        api.sync(id2);
      }
    },
    updateValidate: function updateValidate(id2, validate2, merge) {
      if (merge) {
        api.mergeRule(id2, {
          validate: validate2
        });
      } else {
        props(id2, "validate", validate2);
      }
    },
    updateValidates: function updateValidates(validates, merge) {
      Object.keys(validates).forEach(function(id2) {
        api.updateValidate(id2, validates[id2], merge);
      });
    },
    refreshValidate: function refreshValidate() {
      api.refresh();
    },
    resetFields: function resetFields(fields) {
      tidyFields(fields).forEach(function(field) {
        h2.getCtxs(field).forEach(function(ctx) {
          h2.$render.clearCache(ctx);
          ctx.rule.value = copy(ctx.defaultValue);
        });
      });
      nextTick(function() {
        nextTick(function() {
          nextTick(function() {
            api.clearValidateState(fields);
          });
        });
      });
      if (fields == null) {
        is.Function(h2.options.onReset) && invoke(function() {
          return h2.options.onReset(api);
        });
        h2.vm.emit("reset", api);
      }
    },
    method: function method(id2, name2) {
      var el2 = api.el(id2);
      if (!el2 || !el2[name2]) throw new Error(format("err", "".concat(name2, " 方法不存在")));
      return function() {
        return el2[name2].apply(el2, arguments);
      };
    },
    exec: function exec(id2, name2) {
      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
        args[_key - 2] = arguments[_key];
      }
      return invoke(function() {
        return api.method(id2, name2).apply(void 0, args);
      });
    },
    toJson: function toJson$1(space) {
      return toJson(api.rule, space);
    },
    trigger: function trigger(id2, event) {
      var el2 = api.el(id2);
      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        args[_key2 - 2] = arguments[_key2];
      }
      el2 && el2.$emit.apply(el2, [event].concat(args));
    },
    el: function el2(id2) {
      var ctx = h2.getCtx(id2);
      if (ctx) return ctx.el || h2.vm.refs[ctx.ref];
    },
    closeModal: function closeModal(id2) {
      h2.bus.$emit("fc:closeModal:" + id2);
    },
    getSubForm: function getSubForm(field) {
      var ctx = h2.getCtx(field);
      return ctx ? h2.subForm[ctx.id] : void 0;
    },
    getChildrenRuleList: function getChildrenRuleList(id2) {
      var flag = _typeof(id2) === "object";
      var ctx = flag ? byCtx(id2) : h2.getCtx(id2);
      var rule = ctx ? ctx.rule : flag ? id2 : api.getRule(id2);
      if (!rule) {
        return [];
      }
      var rules = [];
      var findRules = function findRules2(children) {
        children && children.forEach(function(item) {
          if (_typeof(item) !== "object") {
            return;
          }
          if (item.field) {
            rules.push(item);
          }
          rules.push.apply(rules, _toConsumableArray(api.getChildrenRuleList(item)));
        });
      };
      findRules(ctx ? ctx.loadChildrenPending() : rule.children);
      return rules;
    },
    getParentRule: function getParentRule(id2) {
      var flag = _typeof(id2) === "object";
      var ctx = flag ? byCtx(id2) : h2.getCtx(id2);
      return ctx.parent.rule;
    },
    getParentSubRule: function getParentSubRule(id2) {
      var flag = _typeof(id2) === "object";
      var ctx = flag ? byCtx(id2) : h2.getCtx(id2);
      if (ctx) {
        var group = ctx.getParentGroup();
        if (group) {
          return group.rule;
        }
      }
    },
    getChildrenFormData: function getChildrenFormData(id2, flag) {
      var rules = api.getChildrenRuleList(id2);
      return rules.reduce(function(formData3, rule) {
        if (rule.ignore !== true || flag === true) {
          formData3[rule.field] = copy(rule.value);
        }
        return formData3;
      }, {});
    },
    setChildrenFormData: function setChildrenFormData(id2, formData3, cover) {
      var rules = api.getChildrenRuleList(id2);
      h2.deferSyncValue(function() {
        rules.forEach(function(rule) {
          if (hasProperty(formData3, rule.field)) {
            rule.value = formData3[rule.field];
          } else if (cover) {
            rule.value = void 0;
          }
        });
      });
    },
    getGlobalEvent: function getGlobalEvent(name2) {
      var event = api.options.globalEvent[name2];
      if (event) {
        if (_typeof(event) === "object") {
          event = event.handle;
        }
        return parseFn(event);
      }
      return void 0;
    },
    getGlobalData: function getGlobalData(name2) {
      return new Promise(function(resolve, inject2) {
        var config = api.options.globalData[name2];
        if (!config) {
          resolve(h2.fc.loadData[name2]);
        } else if (config.type === "fetch") {
          api.fetch(config).then(function(res) {
            resolve(res);
          })["catch"](inject2);
        } else {
          resolve(config.data);
        }
      });
    },
    setGlobalData: function setGlobalData(name2, value) {
      api.setData("$globalData." + name2, value);
    },
    setGlobalVar: function setGlobalVar(name2, value) {
      api.setData("$var." + name2, value);
    },
    renderRule: function renderRule(id2, onInput, force) {
      var flag = _typeof(id2) === "object";
      var ctx = flag ? byCtx(id2) : h2.getCtx(id2);
      return ctx ? h2.$render.createRuleVnode(ctx, onInput, force) : void 0;
    },
    renderChildren: function renderChildren2(id2, onInput, force) {
      var flag = _typeof(id2) === "object";
      var ctx = flag ? byCtx(id2) : h2.getCtx(id2);
      return ctx ? h2.$render.createChildrenVnodes(ctx, onInput, force) : void 0;
    },
    nextTick: function nextTick2(fn) {
      h2.bus.$once("next-tick", fn);
      h2.refresh();
    },
    nextRefresh: function nextRefresh(fn) {
      h2.nextRefresh();
      fn && invoke(fn);
    },
    deferSyncValue: function deferSyncValue(fn, sync) {
      h2.deferSyncValue(fn, sync);
    },
    emit: function emit(name2) {
      var _h$vm;
      for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
        args[_key3 - 1] = arguments[_key3];
      }
      (_h$vm = h2.vm).emit.apply(_h$vm, [name2].concat(args));
    },
    bus: h2.bus,
    fetch: function fetch3(opt) {
      return new Promise(function(resolve, reject) {
        opt = deepCopy(opt);
        opt = h2.loadFetchVar(opt);
        h2.beforeFetch(opt).then(function() {
          return asyncFetch(opt, h2.fc.create.fetch, api).then(function(res) {
            invoke(function() {
              return opt.onSuccess && opt.onSuccess(res);
            });
            resolve(res);
          })["catch"](function(e) {
            invoke(function() {
              return opt.onError && opt.onError(e);
            });
            reject(e);
          });
        })["catch"](function(e) {
        });
      });
    },
    watchFetch: function watchFetch(opt, callback, error, beforeFetch2) {
      return h2.fc.watchLoadData(function(get, change) {
        var _opt = deepCopy(opt);
        _opt = h2.loadFetchVar(_opt, get);
        if (beforeFetch2 && beforeFetch2(_opt, change) === false) {
          return;
        }
        h2.beforeFetch(_opt).then(function() {
          return asyncFetch(_opt, h2.fc.create.fetch, api).then(function(res) {
            invoke(function() {
              return _opt.onSuccess && _opt.onSuccess(res);
            });
            callback && callback(res, change);
          })["catch"](function(e) {
            invoke(function() {
              return _opt.onError && _opt.onError(e);
            });
            error && error(e);
          });
        })["catch"](function(e) {
        });
      }, opt.wait == null ? 1e3 : opt.wait);
    },
    getData: function getData(id2, def) {
      if (h2.fc.get) {
        return h2.fc.get(id2, def);
      } else {
        return h2.fc.getLoadData(id2, def);
      }
    },
    watchData: function watchData(fn) {
      return h2.fc.watchLoadData(function(get, change) {
        invoke(function() {
          return fn(get, change);
        });
      });
    },
    setData: function setData(id2, data5, isGlobal) {
      return h2.fc.setData(id2, data5, isGlobal);
    },
    refreshData: function refreshData(id2) {
      return h2.fc.refreshData(id2);
    },
    t: function t3(id2, params) {
      return h2.fc.t(id2, params);
    },
    getLocale: function getLocale() {
      return h2.fc.getLocale();
    },
    helper: {
      tidyFields,
      props
    }
  };
  ["on", "once", "off"].forEach(function(n) {
    api[n] = function() {
      var _h$bus;
      (_h$bus = h2.bus)["$".concat(n)].apply(_h$bus, arguments);
    };
  });
  api.changeValue = api.changeField = api.setValue;
  return api;
}
function useCache(Render2) {
  extend(Render2.prototype, {
    initCache: function initCache() {
      this.clearCacheAll();
    },
    clearCache: function clearCache(ctx) {
      if (ctx.rule.cache) {
        return;
      }
      if (!this.cache[ctx.id]) {
        if (ctx.parent) {
          this.clearCache(ctx.parent);
        }
        return;
      }
      if (this.cache[ctx.id].use === true || this.cache[ctx.id].parent) {
        this.$handle.refresh();
      }
      if (this.cache[ctx.id].parent) {
        this.clearCache(this.cache[ctx.id].parent);
      }
      this.cache[ctx.id] = null;
    },
    clearCacheAll: function clearCacheAll() {
      this.cache = {};
    },
    setCache: function setCache(ctx, vnode, parent) {
      this.cache[ctx.id] = {
        vnode,
        use: false,
        parent,
        slot: ctx.rule.slot
      };
    },
    getCache: function getCache(ctx) {
      var cache2 = this.cache[ctx.id];
      if (cache2) {
        cache2.use = true;
        return cache2.vnode;
      }
      return void 0;
    }
  });
}
function toString(val) {
  return val == null ? "" : _typeof(val) === "object" ? JSON.stringify(val, null, 2) : String(val);
}
var id$2 = 0;
function uniqueId() {
  var num = 370 + ++id$2;
  return "F" + Math.random().toString(36).substr(3, 3) + Number("".concat(Date.now())).toString(36) + num.toString(36) + "c";
}
function deepSet(data5, idx, val) {
  var _data = data5, to;
  (idx || "").split(".").forEach(function(v) {
    if (to) {
      if (!_data[to] || _typeof(_data[to]) != "object") {
        _data[to] = {};
      }
      _data = _data[to];
    }
    to = v;
  });
  _data[to] = val;
  return _data;
}
function useRender$1(Render2) {
  extend(Render2.prototype, {
    initRender: function initRender() {
      this.cacheConfig = {};
    },
    getTypeSlot: function getTypeSlot(ctx) {
      var _fn = function _fn2(vm2) {
        if (vm2) {
          var slot = void 0;
          if (ctx.rule.field) {
            slot = vm2.slots["field-" + toLine(ctx.rule.field)] || vm2.slots["field-" + ctx.rule.field];
          }
          if (!slot) {
            slot = vm2.slots["type-" + toLine(ctx.type)] || vm2.slots["type-" + ctx.type];
          }
          if (slot) {
            return slot;
          }
          return _fn2(vm2.setupState.parent);
        }
      };
      return _fn(this.vm);
    },
    render: function render17() {
      var _this = this;
      if (!this.vm.setupState.isShow) {
        return;
      }
      this.$manager.beforeRender();
      var slotBag = makeSlotBag();
      this.sort.forEach(function(k) {
        _this.renderSlot(slotBag, _this.$handle.ctxs[k]);
      });
      return this.$manager.render(slotBag);
    },
    renderSlot: function renderSlot2(slotBag, ctx, parent) {
      if (this.isFragment(ctx)) {
        ctx.initProp();
        this.mergeGlobal(ctx);
        ctx.initNone();
        var slots = this.renderChildren(ctx.loadChildrenPending(), ctx);
        var def = slots["default"];
        def && slotBag.setSlot(ctx.rule.slot, function() {
          return def();
        });
        delete slots["default"];
        slotBag.mergeBag(slots);
      } else {
        slotBag.setSlot(ctx.rule.slot, this.renderCtx(ctx, parent));
      }
    },
    mergeGlobal: function mergeGlobal2(ctx) {
      var _this2 = this;
      var g = this.$handle.options.global;
      if (!g) return;
      if (!this.cacheConfig[ctx.trueType]) {
        this.cacheConfig[ctx.trueType] = computed(function() {
          var g2 = _this2.$handle.options.global;
          return mergeRule({}, [g2["*"] || g2["default"] || {}, g2[ctx.originType] || g2[ctx.type] || g2[ctx.type] || {}]);
        });
      }
      ctx.prop = mergeRule({}, [this.cacheConfig[ctx.trueType].value, ctx.prop]);
    },
    setOptions: function setOptions(ctx) {
      var opt = ctx.loadPending({
        key: "options",
        origin: ctx.prop.options,
        def: []
      });
      ctx.prop.options = opt;
      if (ctx.prop.optionsTo && opt) {
        deepSet(ctx.prop, ctx.prop.optionsTo, opt);
      }
    },
    deepSet: function deepSet$1(ctx) {
      var deep = ctx.rule.deep;
      deep && Object.keys(deep).sort(function(a, b) {
        return a.length < b.length ? -1 : 1;
      }).forEach(function(str) {
        deepSet(ctx.prop, str, deep[str]);
      });
    },
    parseSide: function parseSide(side, ctx) {
      return is.Object(side) ? mergeRule({
        props: {
          formCreateInject: ctx.prop.props.formCreateInject
        }
      }, side) : side;
    },
    renderSides: function renderSides(vn, ctx, temp) {
      var prop = ctx[temp ? "rule" : "prop"];
      return [this.renderRule(this.parseSide(prop.prefix, ctx)), vn, this.renderRule(this.parseSide(prop.suffix, ctx))];
    },
    renderId: function renderId(name2, type2) {
      var _this3 = this;
      var ctxs = this.$handle[type2 === "field" ? "fieldCtx" : "nameCtx"][name2];
      return ctxs ? ctxs.map(function(ctx) {
        return _this3.renderCtx(ctx, ctx.parent);
      }) : void 0;
    },
    renderCtx: function renderCtx(ctx, parent) {
      var _this4 = this;
      try {
        if (ctx.type === "hidden") return;
        var rule = ctx.rule;
        if (this.force || !this.cache[ctx.id] || this.cache[ctx.id].slot !== rule.slot) {
          var vn;
          ctx.initProp();
          this.mergeGlobal(ctx);
          ctx.initNone();
          this.$manager.tidyRule(ctx);
          this.deepSet(ctx);
          this.setOptions(ctx);
          this.ctxProp(ctx);
          var prop = ctx.prop;
          prop.preview = !!(prop.preview != null ? prop.preview : this.$handle.preview);
          prop.props.formCreateInject = this.injectProp(ctx);
          var cacheFlag = prop.cache !== false;
          var preview2 = prop.preview;
          if (prop.hidden) {
            this.setCache(ctx, void 0, parent);
            return;
          }
          vn = function vn2() {
            for (var _len = arguments.length, slotValue = new Array(_len), _key = 0; _key < _len; _key++) {
              slotValue[_key] = arguments[_key];
            }
            var inject2 = {
              rule,
              prop,
              preview: preview2,
              api: _this4.$handle.api,
              model: prop.model || {},
              slotValue
            };
            if (slotValue.length && rule.slotUpdate) {
              invoke(function() {
                return rule.slotUpdate(inject2);
              });
            }
            var children = {};
            var _load = ctx.loadChildrenPending();
            if (ctx.parser.renderChildren) {
              children = ctx.parser.renderChildren(_load, ctx);
            } else if (ctx.parser.loadChildren !== false) {
              children = _this4.renderChildren(_load, ctx);
            }
            Object.keys(prop.renderSlots || {}).forEach(function(key) {
              children[key] = function() {
                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
                  args[_key2] = arguments[_key2];
                }
                if (is.Function(prop.renderSlots[key])) {
                  return invoke(function() {
                    var _prop$renderSlots;
                    return (_prop$renderSlots = prop.renderSlots)[key].apply(_prop$renderSlots, args);
                  });
                }
                var rule2 = _this4.parseSide(prop.renderSlots[key], ctx);
                return _this4.renderRule(rule2);
              };
            });
            var slot = _this4.getTypeSlot(ctx);
            var _vn;
            if (slot) {
              inject2.children = children;
              _vn = slot(inject2);
            } else {
              _vn = preview2 ? ctx.parser.preview(copy$1(children), ctx) : ctx.parser.render(copy$1(children), ctx);
            }
            _vn = _this4.renderSides(_vn, ctx);
            if (!(!ctx.input && is.Undef(prop["native"])) && prop["native"] !== true) {
              _this4.fc.targetFormDriver("updateWrap", ctx);
              _vn = _this4.$manager.makeWrap(ctx, _vn);
            }
            if (ctx.none) {
              if (Array.isArray(_vn)) {
                _vn = _vn.map(function(v) {
                  if (!v || !v.__v_isVNode) {
                    return v;
                  }
                  return _this4.none(v);
                });
              } else {
                _vn = _this4.none(_vn);
              }
            }
            cacheFlag && _this4.setCache(ctx, function() {
              return _this4.stable(_vn);
            }, parent);
            return _vn;
          };
          this.setCache(ctx, vn, parent);
        }
        return function() {
          var cache2 = _this4.getCache(ctx);
          if (cache2) {
            return cache2.apply(void 0, arguments);
          } else if (_this4.cache[ctx.id]) {
            return;
          }
          var _vn = _this4.renderCtx(ctx, ctx.parent);
          if (_vn) {
            return _vn();
          }
        };
      } catch (e) {
        console.error(e);
        return;
      }
    },
    none: function none(vn) {
      if (vn) {
        vn.props["class"] = this.mergeClass(vn.props["class"], "fc-none");
        return vn;
      }
    },
    mergeClass: function mergeClass(target, value) {
      if (Array.isArray(target)) {
        target.push(value);
      } else {
        return target ? [target, value] : value;
      }
      return target;
    },
    stable: function stable(vn) {
      var _this5 = this;
      var list = Array.isArray(vn) ? vn : [vn];
      list.forEach(function(v) {
        if (v && v.__v_isVNode && v.children && _typeof(v.children) === "object") {
          v.children.$stable = true;
          _this5.stable(v.children);
        }
      });
      return vn;
    },
    getModelField: function getModelField(ctx) {
      return ctx.prop.modelField || ctx.parser.modelField || this.fc.modelFields[this.vNode.aliasMap[ctx.type]] || this.fc.modelFields[ctx.type] || this.fc.modelFields[ctx.originType] || "modelValue";
    },
    isFragment: function isFragment(ctx) {
      return ctx.type === "fragment" || ctx.type === "template";
    },
    injectProp: function injectProp(ctx) {
      var _this6 = this;
      var state = this.vm.setupState;
      if (!state.ctxInject[ctx.id]) {
        state.ctxInject[ctx.id] = {
          api: this.$handle.api,
          form: this.fc.create,
          subForm: function subForm(_subForm) {
            _this6.$handle.addSubForm(ctx, _subForm);
          },
          getSubForm: function getSubForm() {
            return _this6.$handle.subForm[ctx.id];
          },
          slots: function slots() {
            return _this6.vm.setupState.top.slots;
          },
          getWrap: function getWrap() {
            return _this6.vm.refs[ctx.wrapRef];
          },
          options: [],
          children: [],
          preview: false,
          id: ctx.id,
          field: ctx.field,
          rule: ctx.rule,
          input: ctx.input,
          t: function t3() {
            var _this6$$handle$api;
            return (_this6$$handle$api = _this6.$handle.api).t.apply(_this6$$handle$api, arguments);
          },
          updateValue: function updateValue2(data5) {
            _this6.$handle.onUpdateValue(ctx, data5);
          }
        };
      }
      var inject2 = state.ctxInject[ctx.id];
      extend(inject2, {
        preview: ctx.prop.preview,
        options: ctx.prop.options,
        children: ctx.loadChildrenPending()
      });
      return inject2;
    },
    ctxProp: function ctxProp(ctx) {
      var _this7 = this;
      var ref2 = ctx.ref, key = ctx.key, rule = ctx.rule;
      this.$manager.mergeProp(ctx);
      ctx.parser.mergeProp(ctx);
      var props = [{
        ref: ref2,
        key: rule.key || "".concat(key, "fc"),
        slot: void 0,
        on: {
          vnodeMounted: function vnodeMounted(vn) {
            vn.el.__rule__ = ctx.rule;
            _this7.onMounted(ctx, vn.el);
          },
          "fc.updateValue": function fcUpdateValue(data5) {
            _this7.$handle.onUpdateValue(ctx, data5);
          },
          "fc.el": function fcEl(el2) {
            ctx.exportEl = el2;
            if (el2) {
              (el2.$el || el2).__rule__ = ctx.rule;
            }
          }
        }
      }];
      if (ctx.input) {
        var tmpInput = this.tmpInput;
        if (this.vm.props.disabled === true) {
          ctx.prop.props.disabled = true;
        }
        var field = this.getModelField(ctx);
        var model = {
          callback: function callback(value) {
            tmpInput && tmpInput(ctx.field, value, ctx.rule);
            _this7.onInput(ctx, value);
          },
          modelField: field,
          value: this.$handle.getFormData(ctx)
        };
        props.push({
          on: _objectSpread2(_defineProperty({}, "update:".concat(field), model.callback), ctx.prop.modelEmit ? _defineProperty({}, ctx.prop.modelEmit, function() {
            return _this7.onEmitInput(ctx);
          }) : {}),
          props: _defineProperty({}, field, model.value)
        });
        ctx.prop.model = model;
      }
      mergeProps2(props, ctx.prop);
      return ctx.prop;
    },
    onMounted: function onMounted2(ctx, el2) {
      ctx.el = this.vm.refs[ctx.ref] || el2;
      ctx.parser.mounted(ctx);
      this.$handle.effect(ctx, "mounted");
      this.$handle.targetHook(ctx, "mounted");
    },
    onInput: function onInput(ctx, value) {
      if (ctx.prop.modelEmit) {
        this.$handle.onBaseInput(ctx, value);
        return;
      }
      this.$handle.onInput(ctx, value);
    },
    onEmitInput: function onEmitInput(ctx) {
      this.$handle.setValue(ctx, ctx.parser.toValue(ctx.modelValue, ctx), ctx.modelValue);
    },
    renderChildren: function renderChildren2(children, ctx) {
      var _this8 = this;
      if (!is.trueArray(children)) return {};
      var slotBag = makeSlotBag();
      children.map(function(child) {
        if (!child) return;
        if (is.String(child)) return slotBag.setSlot(null, child);
        if (child.__fc__) {
          return _this8.renderSlot(slotBag, child.__fc__, ctx);
        }
        if (child.type) {
          nextTick(function() {
            _this8.$handle.loadChildren(children, ctx);
            _this8.$handle.refresh();
          });
        }
      });
      return slotBag.getSlots();
    },
    defaultRender: function defaultRender(ctx, children) {
      var prop = ctx.prop;
      if (prop.component) {
        if (typeof prop.component === "string") {
          return this.vNode.make(prop.component, prop, children);
        } else {
          return this.vNode.makeComponent(prop.component, prop, children);
        }
      }
      if (this.vNode[ctx.type]) return this.vNode[ctx.type](prop, children);
      if (this.vNode[ctx.originType]) return this.vNode[ctx.originType](prop, children);
      return this.vNode.make(lower(prop.type), prop, children);
    },
    createChildrenVnodes: function createChildrenVnodes(ctx, onInput, force) {
      this.force = force !== false;
      this.tmpInput = onInput;
      var res = this.renderChildren(ctx.rule.children, ctx);
      this.force = false;
      this.tmpInput = null;
      return res;
    },
    createRuleVnode: function createRuleVnode(ctx, onInput, force) {
      this.force = force !== false;
      this.tmpInput = onInput;
      var slotBag = makeSlotBag();
      this.renderSlot(slotBag, ctx, ctx.parent);
      this.force = false;
      this.tmpInput = null;
      return slotBag.getSlots();
    },
    renderRule: function renderRule(rule, children, origin) {
      var _this9 = this;
      if (!rule) return void 0;
      if (is.String(rule)) return rule;
      var type2;
      if (origin) {
        type2 = rule.type;
      } else {
        type2 = rule.is;
        if (rule.type) {
          type2 = toCase(rule.type);
          var alias2 = this.vNode.aliasMap[type2];
          if (alias2) type2 = toCase(alias2);
        }
      }
      if (!type2) return void 0;
      var slotBag = makeSlotBag();
      if (is.trueArray(rule.children)) {
        rule.children.forEach(function(v) {
          v && slotBag.setSlot(v === null || v === void 0 ? void 0 : v.slot, function() {
            return _this9.renderRule(v);
          });
        });
      }
      var props = _objectSpread2({}, rule);
      delete props.type;
      delete props.is;
      return this.vNode.make(type2, props, slotBag.mergeBag(children).getSlots());
    }
  });
}
var id$1 = 1;
function Render(handle) {
  extend(this, {
    $handle: handle,
    fc: handle.fc,
    vm: handle.vm,
    $manager: handle.$manager,
    vNode: new handle.fc.CreateNode(handle.vm),
    force: false,
    tmpInput: null,
    id: id$1++
  });
  funcProxy(this, {
    options: function options() {
      return handle.options;
    },
    sort: function sort() {
      return handle.sort;
    }
  });
  this.initCache();
  this.initRender();
}
useCache(Render);
useRender$1(Render);
function useInject(Handler2) {
  extend(Handler2.prototype, {
    parseInjectEvent: function parseInjectEvent(rule, on2) {
      var inject2 = rule.inject || this.options.injectEvent;
      return this.parseEventLst(rule, on2, inject2);
    },
    parseEventLst: function parseEventLst(rule, data5, inject2, deep) {
      var _this = this;
      Object.keys(data5).forEach(function(k) {
        var fn = _this.parseEvent(rule, data5[k], inject2, deep);
        if (fn) {
          data5[k] = fn;
        }
      });
      return data5;
    },
    parseEvent: function parseEvent(rule, fn, inject2, deep) {
      if (is.Function(fn) && (inject2 !== false && !is.Undef(inject2) || fn.__inject)) {
        return this.inject(rule, fn, inject2);
      } else if (!deep && Array.isArray(fn) && fn[0] && (is.String(fn[0]) || is.Function(fn[0]))) {
        return this.parseEventLst(rule, fn, inject2, true);
      } else if (is.String(fn)) {
        var val = parseFn(fn);
        if (val && fn !== val) {
          return val.__inject ? this.parseEvent(rule, val, inject2, true) : val;
        }
      }
    },
    parseEmit: function parseEmit(ctx) {
      var _this2 = this;
      var event = {}, rule = ctx.rule, emitPrefix = rule.emitPrefix, field = rule.field, name2 = rule.name, inject2 = rule.inject;
      var emit = rule.emit || [];
      if (is.trueArray(emit)) {
        emit.forEach(function(eventName) {
          if (!eventName) return;
          var eventInject;
          var emitKey = emitPrefix || field || name2;
          if (is.Object(eventName)) {
            eventInject = eventName.inject;
            eventName = eventName.name;
            emitKey = eventName.prefix || emitKey;
          }
          if (emitKey) {
            var fieldKey = toLine("".concat(emitKey, "-").concat(eventName));
            var fn = function fn2() {
              var _this2$vm, _this2$vm2, _this2$bus;
              if (_this2.vm.emitsOptions) {
                _this2.vm.emitsOptions[fieldKey] = null;
              }
              for (var _len = arguments.length, arg = new Array(_len), _key = 0; _key < _len; _key++) {
                arg[_key] = arguments[_key];
              }
              (_this2$vm = _this2.vm).emit.apply(_this2$vm, [fieldKey].concat(arg));
              (_this2$vm2 = _this2.vm).emit.apply(_this2$vm2, ["emit-event", fieldKey].concat(arg));
              (_this2$bus = _this2.bus).$emit.apply(_this2$bus, [fieldKey].concat(arg));
            };
            fn.__emit = true;
            if (!eventInject && inject2 === false) {
              event[eventName] = fn;
            } else {
              var _inject = eventInject || inject2 || _this2.options.injectEvent;
              event[eventName] = is.Undef(_inject) ? fn : _this2.inject(rule, fn, _inject);
            }
          }
        });
      }
      ctx.computed.on = event;
      return event;
    },
    getInjectData: function getInjectData(self2, inject2) {
      var $api = self2.__fc__ && self2.__fc__.$api;
      var vm2 = self2.__fc__ && self2.__fc__.$handle.vm || this.vm;
      var _vm$props = vm2.props, option = _vm$props.option, rule = _vm$props.rule;
      return {
        $f: $api || this.api,
        api: $api || this.api,
        rule,
        self: self2.__origin__,
        option,
        inject: inject2
      };
    },
    inject: function inject2(self2, _fn, _inject2) {
      if (_fn.__origin) {
        if (this.watching && !this.loading) return _fn;
        _fn = _fn.__origin;
      }
      var h2 = this;
      var fn = function fn2() {
        var data5 = h2.getInjectData(self2, _inject2);
        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }
        data5.args = [].concat(args);
        args.unshift(data5);
        return _fn.apply(this, args);
      };
      fn.__origin = _fn;
      fn.__json = _fn.__json;
      return fn;
    },
    loadStrVar: function loadStrVar(str, get, group) {
      var _this3 = this;
      if (str && typeof str === "string" && str.indexOf("{{") > -1 && str.indexOf("}}") > -1) {
        var tmp = str;
        var vars = extractVar(str);
        var getValue = function getValue2(field) {
          var flag = false;
          var val;
          if (group && field.indexOf("$form.") === 0) {
            var _split = field.split(".");
            _split.shift();
            if (hasProperty(group.value, _split[0])) {
              flag = true;
              val = get ? get({
                id: "$form." + _split[0] + "_" + group.rule.__fc__.id,
                getValue: function getValue3() {
                  return deepGet(group.value, _split);
                }
              }) : deepGet(group.value, _split);
            }
          }
          if (!flag) {
            val = get ? get(field) : _this3.fc.getLoadData(field);
          }
          return val;
        };
        var treeToVal = function treeToVal2(tree) {
          var fields = [];
          tree.forEach(function(item) {
            if (item.key) {
              fields.push(item.key);
            } else if (item.children) {
              fields.push(treeToVal2(item.children));
            }
          });
          var flag = false;
          fields.forEach(function(field, idx) {
            if (field != null && (field.indexOf("'") === 0 || field.indexOf('"') === 0)) {
              fields[idx] = field.slice(1, -1);
              flag = true;
            }
          });
          if (fields.length === 1 && (flag || !isNaN(Number(fields[0])))) {
            return fields[0];
          }
          return getValue(fields.join("."));
        };
        var lastVal;
        vars.forEach(function(v) {
          var split = v.split("||");
          var field = split[0].trim();
          if (field) {
            var def = (split[1] || "").trim();
            var tree = parseTemplateToTree(field);
            var val = invoke(function() {
              return treeToVal(tree);
            });
            if ((val == null || val === "") && split.length > 1) {
              val = def;
            }
            lastVal = val;
            str = str.replaceAll("{{".concat(v, "}}"), val == null ? "" : val);
          }
        });
        if (vars.length === 1 && tmp === "{{".concat(vars[0], "}}")) {
          return lastVal;
        }
      }
      return str;
    },
    loadFetchVar: function loadFetchVar(options, get, rule) {
      var _this4 = this;
      var group;
      if (rule && rule.__fc__) {
        group = rule.__fc__.getParentGroup();
      }
      var loadVal = function loadVal2(str) {
        return _this4.loadStrVar(str, get, group ? {
          rule,
          value: _this4.subRuleData[group.id] || {}
        } : null);
      };
      options.action = loadVal(options.action || "");
      ["headers", "data", "query"].forEach(function(key) {
        if (options[key]) {
          var data5 = {};
          Object.keys(options[key]).forEach(function(k) {
            data5[loadVal(k)] = loadVal(options[key][k]);
          });
          options[key] = data5;
        }
      });
      return options;
    }
  });
}
var EVENT = ["hook:updated", "hook:mounted"];
function usePage(Handler2) {
  extend(Handler2.prototype, {
    usePage: function usePage2() {
      var _this = this;
      var page = this.options.page;
      if (!page) return;
      var first = 25;
      var limit = getLimit(this.rules);
      if (is.Object(page)) {
        if (page.first) first = parseInt(page.first, 10) || first;
        if (page.limit) limit = parseInt(page.limit, 10) || limit;
      }
      extend(this, {
        first,
        limit,
        pageEnd: this.rules.length <= first
      });
      this.bus.$on("page-end", function() {
        return _this.vm.emit("page-end", _this.api);
      });
      this.pageLoad();
    },
    pageLoad: function pageLoad() {
      var _this2 = this;
      var pageFn = function pageFn2() {
        if (_this2.pageEnd) {
          _this2.bus.$off(EVENT, pageFn2);
          _this2.bus.$emit("page-end");
        } else {
          _this2.first += _this2.limit;
          _this2.pageEnd = _this2.rules.length <= _this2.first;
          _this2.loadRule();
          _this2.refresh();
        }
      };
      this.bus.$on(EVENT, pageFn);
    }
  });
}
function getLimit(rules) {
  return rules.length < 31 ? 31 : Math.ceil(rules.length / 3);
}
function useRender(Handler2) {
  extend(Handler2.prototype, {
    clearNextTick: function clearNextTick() {
      this.nextTick && clearTimeout(this.nextTick);
      this.nextTick = null;
    },
    bindNextTick: function bindNextTick(fn) {
      var _this = this;
      this.clearNextTick();
      this.nextTick = setTimeout(function() {
        fn();
        _this.nextTick = null;
      }, 10);
    },
    render: function render17() {
      ++this.loadedId;
      if (this.vm.setupState.unique > 0) return this.$render.render();
      else {
        this.vm.setupState.unique = 1;
        return [];
      }
    }
  });
}
function bind(ctx) {
  Object.defineProperties(ctx.origin, {
    __fc__: enumerable(markRaw(ctx), true)
  });
  if (ctx.rule !== ctx.origin) {
    Object.defineProperties(ctx.rule, {
      __fc__: enumerable(markRaw(ctx), true)
    });
  }
}
function RuleContext(handle, rule, defaultValue) {
  var id2 = uniqueId();
  var isInput = !!rule.field;
  extend(this, {
    id: id2,
    ref: id2,
    wrapRef: id2 + "fi",
    rule,
    origin: rule.__origin__ || rule,
    name: rule.name,
    pending: {},
    none: false,
    watch: [],
    linkOn: [],
    root: [],
    ctrlRule: [],
    children: [],
    parent: null,
    group: rule.subRule ? this : null,
    cacheConfig: null,
    prop: _objectSpread2({}, rule),
    computed: {},
    payload: {},
    refRule: {},
    input: isInput,
    el: void 0,
    exportEl: void 0,
    defaultValue: isInput ? deepCopy(defaultValue) : void 0,
    field: rule.field || void 0
  });
  this.updateKey();
  bind(this);
  this.update(handle, true);
}
extend(RuleContext.prototype, {
  getParentGroup: function getParentGroup() {
    var ctx = this.parent;
    while (ctx) {
      if (ctx.group) {
        return ctx;
      }
      ctx = ctx.parent;
    }
  },
  loadChildrenPending: function loadChildrenPending() {
    var _this = this;
    var children = this.rule.children || [];
    if (Array.isArray(children)) return children;
    return this.loadPending({
      key: "children",
      origin: children,
      def: [],
      onLoad: function onLoad(data5) {
        _this.$handle && _this.$handle.loadChildren(data5, _this);
      },
      onUpdate: function onUpdate(value, oldValue) {
        if (_this.$handle) {
          value === oldValue ? _this.$handle.loadChildren(value, _this) : _this.$handle.updateChildren(_this, value, oldValue);
        }
      },
      onReload: function onReload(value) {
        if (_this.$handle) {
          _this.$handle.updateChildren(_this, [], value);
        } else {
          delete _this.pending.children;
        }
      }
    });
  },
  loadPending: function loadPending(config) {
    var _this2 = this;
    var key = config.key, origin = config.origin, def = config.def, onLoad = config.onLoad, onReload = config.onReload, onUpdate = config.onUpdate;
    if (this.pending[key] && this.pending[key].origin === origin) {
      return this.getPending(key, def);
    }
    delete this.pending[key];
    var value = origin;
    if (is.Function(origin)) {
      var source = invoke(function() {
        return origin({
          rule: _this2.rule,
          api: _this2.$api,
          update: function update5(data5) {
            var value2 = data5 || def;
            var oldValue = _this2.getPending(key, def);
            _this2.setPending(key, origin, value2);
            onUpdate && onUpdate(value2, oldValue);
          },
          reload: function reload() {
            var oldValue = _this2.getPending(key, def);
            delete _this2.pending[key];
            onReload && onReload(oldValue);
            _this2.$api && _this2.$api.sync(_this2.rule);
          }
        });
      });
      if (source && is.Function(source.then)) {
        source.then(function(data5) {
          var value2 = data5 || def;
          _this2.setPending(key, origin, value2);
          onLoad && onLoad(value2);
          _this2.$api && _this2.$api.sync(_this2.rule);
        })["catch"](function(e) {
          console.error(e);
        });
        value = def;
        this.setPending(key, origin, value);
      } else {
        value = source || def;
        this.setPending(key, origin, value);
        onLoad && onLoad(value);
      }
    }
    return value;
  },
  getPending: function getPending(key, def) {
    return this.pending[key] && this.pending[key].value || def;
  },
  setPending: function setPending(key, origin, value) {
    this.pending[key] = {
      origin,
      value: reactive(value)
    };
  },
  effectData: function effectData(name2) {
    if (!this.payload[name2]) {
      this.payload[name2] = {};
    }
    return this.payload[name2];
  },
  clearEffectData: function clearEffectData(name2) {
    if (name2 === void 0) {
      this.payload = {};
    } else {
      delete this.payload[name2];
    }
  },
  updateKey: function updateKey(flag) {
    this.key = uniqueId();
    flag && this.parent && this.parent.updateKey(flag);
  },
  updateType: function updateType() {
    this.originType = this.rule.type;
    this.type = toCase(this.rule.type);
    this.trueType = this.$handle.getType(this.originType);
  },
  setParser: function setParser(parser) {
    this.parser = parser;
    parser.init(this);
  },
  initProp: function initProp() {
    var _this3 = this, _this$refRule, _this$refRule$__$vali;
    var rule = _objectSpread2({}, this.rule);
    delete rule.children;
    delete rule.validate;
    this.prop = mergeRule({}, [rule].concat(_toConsumableArray(Object.keys(this.payload).map(function(k) {
      return _this3.payload[k];
    })), [this.computed]));
    this.prop.validate = [].concat(_toConsumableArray(((_this$refRule = this.refRule) === null || _this$refRule === void 0 ? void 0 : (_this$refRule$__$vali = _this$refRule.__$validate) === null || _this$refRule$__$vali === void 0 ? void 0 : _this$refRule$__$vali.value) || []), _toConsumableArray(this.prop.validate || []));
  },
  initNone: function initNone() {
    this.none = !(is.Undef(this.prop.display) || !!this.prop.display);
  },
  hasHidden: function hasHidden() {
    return !!this.rule.hidden || (this.parent ? this.parent.hasHidden() : false);
  },
  injectValidate: function injectValidate() {
    return this.prop.validate;
  },
  check: function check(handle) {
    return this.vm === handle.vm;
  },
  unwatch: function unwatch() {
    this.watch.forEach(function(un) {
      return un();
    });
    this.watch = [];
    this.refRule = {};
  },
  unlink: function unlink() {
    this.linkOn.forEach(function(un) {
      return un();
    });
    this.linkOn = [];
  },
  link: function link() {
    this.unlink();
    this.$handle.appendLink(this);
  },
  watchTo: function watchTo() {
    this.$handle.watchCtx(this);
  },
  "delete": function _delete() {
    this.unwatch();
    this.unlink();
    this.rmCtrl();
    if (this.parent) {
      this.parent.children.splice(this.parent.children.indexOf(this) >>> 0, 1);
    }
    extend(this, {
      deleted: true,
      computed: {},
      parent: null,
      children: [],
      cacheConfig: null,
      none: false
    });
  },
  rmCtrl: function rmCtrl() {
    this.ctrlRule.forEach(function(ctrl) {
      return ctrl.__fc__ && ctrl.__fc__.rm();
    });
    this.ctrlRule = [];
  },
  rm: function rm() {
    var _this4 = this;
    var _rm = function _rm2() {
      var index = _this4.root.indexOf(_this4.origin);
      if (index > -1) {
        _this4.root.splice(index, 1);
        _this4.$handle && _this4.$handle.refresh();
      }
    };
    if (this.deleted) {
      _rm();
      return;
    }
    this.$handle.noWatch(function() {
      _this4.$handle.deferSyncValue(function() {
        _this4.rmCtrl();
        _rm();
        _this4.$handle.rmCtx(_this4);
        extend(_this4, {
          root: []
        });
      }, _this4.input);
    });
  },
  update: function update2(handle, init4) {
    extend(this, {
      deleted: false,
      $handle: handle,
      $render: handle.$render,
      $api: handle.api,
      vm: handle.vm,
      vNode: handle.$render.vNode,
      updated: false,
      cacheValue: this.rule.value
    });
    !init4 && this.unwatch();
    this.watchTo();
    this.link();
    this.updateType();
  }
});
function useLoader(Handler2) {
  extend(Handler2.prototype, {
    nextRefresh: function nextRefresh(fn) {
      var _this = this;
      var id2 = this.loadedId;
      nextTick(function() {
        id2 === _this.loadedId && (fn ? fn() : _this.refresh());
      });
    },
    parseRule: function parseRule(_rule) {
      var _this2 = this;
      var rule = getRule(_rule);
      Object.defineProperties(rule, {
        __origin__: enumerable(_rule, true)
      });
      fullRule(rule);
      this.appendValue(rule);
      [rule, rule["prefix"], rule["suffix"]].forEach(function(item) {
        if (!item) {
          return;
        }
        _this2.loadFn(item, rule);
      });
      this.loadCtrl(rule);
      if (rule.update) {
        rule.update = parseFn(rule.update);
      }
      return rule;
    },
    loadFn: function loadFn(item, rule) {
      var _this3 = this;
      ["on", "props", "deep"].forEach(function(k) {
        item[k] && _this3.parseInjectEvent(rule, item[k]);
      });
    },
    loadCtrl: function loadCtrl(rule) {
      rule.control && rule.control.forEach(function(ctrl) {
        if (ctrl.handle) {
          ctrl.handle = parseFn(ctrl.handle);
        }
      });
    },
    syncProp: function syncProp(ctx) {
      var _this4 = this;
      var rule = ctx.rule;
      is.trueArray(rule.sync) && mergeProps2([{
        on: rule.sync.reduce(function(pre, prop) {
          pre[_typeof(prop) === "object" && prop.event || "update:".concat(prop)] = function(val) {
            rule.props[_typeof(prop) === "object" && prop.prop || prop] = val;
            _this4.vm.emit("sync", prop, val, rule, _this4.fapi);
          };
          return pre;
        }, {})
      }], ctx.computed);
    },
    loadRule: function loadRule() {
      var _this5 = this;
      this.cycleLoad = false;
      this.loading = true;
      if (this.pageEnd) {
        this.bus.$emit("load-start");
      }
      this.deferSyncValue(function() {
        _this5._loadRule(_this5.rules);
        _this5.loading = false;
        if (_this5.cycleLoad && _this5.pageEnd) {
          return _this5.loadRule();
        }
        _this5.syncForm();
        if (_this5.pageEnd) {
          _this5.bus.$emit("load-end");
        }
        _this5.vm.setupState.renderRule();
      });
    },
    loadChildren: function loadChildren(children, parent) {
      this.cycleLoad = false;
      this.loading = true;
      this.bus.$emit("load-start");
      this._loadRule(children, parent);
      this.loading = false;
      if (this.cycleLoad) {
        return this.loadRule();
      } else {
        this.syncForm();
        this.bus.$emit("load-end");
      }
      this.$render.clearCache(parent);
    },
    _loadRule: function _loadRule(rules, parent) {
      var _this6 = this;
      var preIndex = function preIndex2(i) {
        var pre = rules[i - 1];
        if (!pre || !pre.__fc__) {
          return i > 0 ? preIndex2(i - 1) : -1;
        }
        var index = _this6.sort.indexOf(pre.__fc__.id);
        return index > -1 ? index : preIndex2(i - 1);
      };
      var loadChildren = function loadChildren2(children, parent2) {
        if (is.trueArray(children)) {
          _this6._loadRule(children, parent2);
        }
      };
      var ctxs = rules.map(function(_rule, index) {
        if (parent && !is.Object(_rule)) return;
        if (!_this6.pageEnd && !parent && index >= _this6.first) return;
        if (_rule.__fc__ && _rule.__fc__.root === rules && _this6.ctxs[_rule.__fc__.id]) {
          loadChildren(_rule.__fc__.loadChildrenPending(), _rule.__fc__);
          return _rule.__fc__;
        }
        var rule = getRule(_rule);
        var isRepeat = function isRepeat2() {
          return !!(rule.field && _this6.fieldCtx[rule.field] && _this6.fieldCtx[rule.field][0] !== _rule.__fc__);
        };
        _this6.fc.targetFormDriver("loadRule", {
          rule,
          api: _this6.api
        }, _this6.fc);
        _this6.ruleEffect(rule, "init", {
          repeat: isRepeat()
        });
        if (isRepeat()) {
          _this6.vm.emit("repeat-field", _rule, _this6.api);
        }
        var ctx;
        var isCopy = false;
        var isInit = !!_rule.__fc__;
        var defaultValue = rule.value;
        if (isInit) {
          ctx = _rule.__fc__;
          defaultValue = ctx.defaultValue;
          if (ctx.deleted) {
            if (isCtrl(ctx)) {
              return;
            }
            ctx.update(_this6);
          } else {
            if (!ctx.check(_this6)) {
              if (isCtrl(ctx)) {
                return;
              }
              rules[index] = _rule = _rule._clone ? _rule._clone() : parseJson(toJson(_rule));
              ctx = null;
              isCopy = true;
            }
          }
        }
        if (!ctx) {
          var _rule2 = _this6.parseRule(_rule);
          ctx = new RuleContext(_this6, _rule2, defaultValue);
          _this6.bindParser(ctx);
        } else {
          if (ctx.originType !== ctx.rule.type) {
            ctx.updateType();
          }
          _this6.bindParser(ctx);
          _this6.appendValue(ctx.rule);
          if (ctx.parent && ctx.parent !== parent) {
            _this6.rmSubRuleData(ctx);
          }
        }
        _this6.parseEmit(ctx);
        _this6.syncProp(ctx);
        ctx.parent = parent || null;
        ctx.root = rules;
        _this6.setCtx(ctx);
        if (!isCopy && !isInit) {
          _this6.effect(ctx, "load");
          _this6.targetHook(ctx, "load");
        }
        _this6.effect(ctx, "created");
        var _load = ctx.loadChildrenPending();
        ctx.parser.loadChildren === false || loadChildren(_load, ctx);
        if (!parent) {
          var _preIndex = preIndex(index);
          if (_preIndex > -1 || !index) {
            _this6.sort.splice(_preIndex + 1, 0, ctx.id);
          } else {
            _this6.sort.push(ctx.id);
          }
        }
        var r = ctx.rule;
        if (!ctx.updated) {
          ctx.updated = true;
          if (is.Function(r.update)) {
            _this6.bus.$once("load-end", function() {
              _this6.refreshUpdate(ctx, r.value, "init");
            });
          }
          _this6.effect(ctx, "loaded");
        }
        if (_this6.refreshControl(ctx)) _this6.cycleLoad = true;
        return ctx;
      }).filter(function(v) {
        return !!v;
      });
      if (parent) {
        parent.children = ctxs;
      }
    },
    refreshControl: function refreshControl(ctx) {
      return ctx.input && ctx.rule.control && this.useCtrl(ctx);
    },
    useCtrl: function useCtrl(ctx) {
      var _this7 = this;
      var controls = getCtrl(ctx), validate2 = [], api = this.api;
      if (!controls.length) return false;
      var _loop = function _loop2(i2) {
        var control = controls[i2], handleFn = control.handle || function(val) {
          return (condition[control.condition || "=="] || condition["=="])(val, control.value);
        };
        if (!is.trueArray(control.rule)) return "continue";
        var data5 = _objectSpread2(_objectSpread2({}, control), {}, {
          valid: invoke(function() {
            return handleFn(ctx.rule.value, api);
          }),
          ctrl: findCtrl(ctx, control.rule),
          isHidden: is.String(control.rule[0])
        });
        if (data5.valid && data5.ctrl || !data5.valid && !data5.ctrl && !data5.isHidden) return "continue";
        validate2.push(data5);
      };
      for (var i = 0; i < controls.length; i++) {
        var _ret = _loop(i);
        if (_ret === "continue") continue;
      }
      if (!validate2.length) return false;
      var hideLst = [];
      var flag = false;
      this.deferSyncValue(function() {
        validate2.reverse().forEach(function(_ref) {
          var isHidden = _ref.isHidden, valid2 = _ref.valid, rule = _ref.rule, prepend = _ref.prepend, append = _ref.append, child = _ref.child, ctrl = _ref.ctrl, method = _ref.method;
          if (isHidden) {
            valid2 ? ctx.ctrlRule.push({
              __ctrl: true,
              children: rule,
              valid: valid2
            }) : ctrl && ctx.ctrlRule.splice(ctx.ctrlRule.indexOf(ctrl) >>> 0, 1);
            hideLst[valid2 ? "push" : "unshift"](function() {
              if (method === "disabled" || method === "enabled") {
                _this7.api.disabled(!valid2, rule);
              } else if (method === "display" || method === "show") {
                _this7.api.display(valid2, rule);
              } else if (method === "required") {
                rule.forEach(function(item) {
                  _this7.api.setEffect(item, "required", valid2);
                });
                if (!valid2) {
                  _this7.api.clearValidateState(rule);
                }
              } else if (method === "if") {
                _this7.api.hidden(!valid2, rule);
              } else {
                _this7.api.hidden(!valid2, rule);
              }
            });
            return;
          }
          if (valid2) {
            flag = true;
            var ruleCon = {
              type: "fragment",
              "native": true,
              __ctrl: true,
              children: rule
            };
            ctx.ctrlRule.push(ruleCon);
            _this7.bus.$once("load-start", function() {
              if (prepend) {
                api.prepend(ruleCon, prepend, child);
              } else if (append || child) {
                api.append(ruleCon, append || ctx.id, child);
              } else {
                ctx.root.splice(ctx.root.indexOf(ctx.origin) + 1, 0, ruleCon);
              }
            });
          } else {
            ctx.ctrlRule.splice(ctx.ctrlRule.indexOf(ctrl), 1);
            var ctrlCtx = byCtx(ctrl);
            ctrlCtx && ctrlCtx.rm();
          }
        });
      });
      if (hideLst.length) {
        if (this.loading) {
          hideLst.length && this.bus.$once("load-end", function() {
            hideLst.forEach(function(v) {
              return v();
            });
          });
        } else {
          hideLst.length && nextTick(function() {
            hideLst.forEach(function(v) {
              return v();
            });
          });
        }
      }
      this.vm.emit("control", ctx.origin, this.api);
      this.effect(ctx, "control");
      return flag;
    },
    reloadRule: function reloadRule(rules) {
      return this._reloadRule(rules);
    },
    _reloadRule: function _reloadRule(rules) {
      var _this8 = this;
      if (!rules) rules = this.rules;
      var ctxs = _objectSpread2({}, this.ctxs);
      this.clearNextTick();
      this.initData(rules);
      this.fc.rules = rules;
      this.deferSyncValue(function() {
        _this8.bus.$once("load-end", function() {
          Object.keys(ctxs).filter(function(id2) {
            return _this8.ctxs[id2] === void 0;
          }).forEach(function(id2) {
            return _this8.rmCtx(ctxs[id2]);
          });
          _this8.$render.clearCacheAll();
        });
        _this8.reloading = true;
        _this8.loadRule();
        _this8.reloading = false;
        _this8.refresh();
        _this8.bus.$emit("reloading", _this8.api);
      });
      this.bus.$off("next-tick", this.nextReload);
      this.bus.$once("next-tick", this.nextReload);
      this.bus.$emit("update", this.api);
    },
    //todo 组件生成全部通过 alias
    refresh: function refresh() {
      this.vm.setupState.refresh();
    }
  });
}
function fullRule(rule) {
  var def = baseRule();
  Object.keys(def).forEach(function(k) {
    if (!hasProperty(rule, k)) rule[k] = def[k];
  });
  return rule;
}
function getCtrl(ctx) {
  var control = ctx.rule.control || [];
  if (is.Object(control)) return [control];
  else return control;
}
function findCtrl(ctx, rule) {
  for (var i = 0; i < ctx.ctrlRule.length; i++) {
    var ctrl = ctx.ctrlRule[i];
    if (ctrl.children === rule) return ctrl;
  }
}
function isCtrl(ctx) {
  return !!ctx.rule.__ctrl;
}
function useInput(Handler2) {
  extend(Handler2.prototype, {
    setValue: function setValue4(ctx, value, formValue, setFlag) {
      var _this = this;
      if (ctx.deleted) return;
      ctx.rule.value = value;
      this.changeStatus = true;
      this.nextRefresh();
      this.$render.clearCache(ctx);
      this.setFormData(ctx, formValue);
      this.syncValue();
      this.valueChange(ctx, value);
      this.vm.emit("change", ctx.field, value, ctx.origin, this.api, setFlag || false);
      this.effect(ctx, "value");
      this.targetHook(ctx, "value", {
        value
      });
      this.emitEvent("change", ctx.field, value, {
        rule: ctx.origin,
        api: this.api,
        setFlag: setFlag || false
      });
      if (setFlag) {
        nextTick(function() {
          nextTick(function() {
            nextTick(function() {
              _this.api.clearValidateState(ctx.id);
            });
          });
        });
      }
      this.$manager.fieldChange(ctx, value, formValue, setFlag);
    },
    onInput: function onInput(ctx, value) {
      var val;
      if (ctx.input && (this.isQuote(ctx, val = ctx.parser.toValue(value, ctx)) || this.isChange(ctx, value))) {
        this.setValue(ctx, val, value);
      }
    },
    onUpdateValue: function onUpdateValue(ctx, data5) {
      var _this2 = this;
      this.deferSyncValue(function() {
        var group = ctx.getParentGroup();
        var subForm = group ? _this2.subRuleData[group.id] : null;
        var subData = {};
        Object.keys(data5 || {}).forEach(function(k) {
          if (subForm && hasProperty(subForm, k)) {
            subData[k] = data5[k];
          } else if (hasProperty(_this2.api.form, k)) {
            _this2.api.form[k] = data5[k];
          } else if (_this2.api.top !== _this2.api && hasProperty(_this2.api.top.form, k)) {
            _this2.api.top.form[k] = data5[k];
          }
        });
        if (Object.keys(subData).length) {
          _this2.api.setChildrenFormData(group.rule, subData);
        }
      });
    },
    onBaseInput: function onBaseInput(ctx, value) {
      this.setFormData(ctx, value);
      ctx.modelValue = value;
      this.nextRefresh();
      this.$render.clearCache(ctx);
    },
    setFormData: function setFormData(ctx, value) {
      ctx.modelValue = value;
      var group = ctx.getParentGroup();
      if (group) {
        if (!this.subRuleData[group.id]) {
          this.subRuleData[group.id] = {};
        }
        this.subRuleData[group.id][ctx.field] = ctx.rule.value;
      }
      $set(this.formData, ctx.id, value);
    },
    rmSubRuleData: function rmSubRuleData(ctx) {
      var group = ctx.getParentGroup();
      if (group && this.subRuleData[group.id]) {
        delete this.subRuleData[group.id][ctx.field];
      }
    },
    getFormData: function getFormData(ctx) {
      return this.formData[ctx.id];
    },
    syncForm: function syncForm() {
      var _this3 = this;
      var data5 = reactive({});
      var fields = this.fields();
      var ignoreFields = [];
      if (this.options.appendValue !== false) {
        Object.keys(this.appendData).reduce(function(initial, field) {
          if (fields.indexOf(field) === -1) {
            initial[field] = toRef(_this3.appendData, field);
          }
          return initial;
        }, data5);
      }
      fields.reduce(function(initial, field) {
        var ctx = (_this3.fieldCtx[field] || []).filter(function(ctx2) {
          return !_this3.isIgnore(ctx2);
        })[0];
        if (!ctx) {
          ctx = _this3.fieldCtx[field][0];
          ignoreFields.push(field);
        }
        initial[field] = toRef(ctx.rule, "value");
        return initial;
      }, data5);
      this.form = data5;
      this.ignoreFields = ignoreFields;
      this.syncValue();
    },
    isIgnore: function isIgnore(ctx) {
      return ctx.rule.ignore === true || (ctx.rule.ignore === "hidden" || this.options.ignoreHiddenFields) && ctx.hasHidden();
    },
    appendValue: function appendValue(rule) {
      if ((!rule.field || !hasProperty(this.appendData, rule.field)) && !this.options.forceCoverValue) {
        return;
      }
      rule.value = this.appendData[rule.field];
      delete this.appendData[rule.field];
    },
    addSubForm: function addSubForm(ctx, subForm) {
      this.subForm[ctx.id] = subForm;
    },
    deferSyncValue: function deferSyncValue(fn, sync) {
      if (!this.deferSyncFn) {
        this.deferSyncFn = fn;
      }
      if (!this.deferSyncFn.sync) {
        this.deferSyncFn.sync = sync;
      }
      invoke(fn);
      if (this.deferSyncFn === fn) {
        this.deferSyncFn = null;
        if (fn.sync) {
          this.syncForm();
        }
      }
    },
    syncValue: function syncValue() {
      var _this4 = this;
      if (this.deferSyncFn) {
        return this.deferSyncFn.sync = true;
      }
      var data5 = {};
      Object.keys(this.form).forEach(function(k) {
        if (_this4.ignoreFields.indexOf(k) === -1) {
          data5[k] = _this4.form[k];
        }
      });
      this.vm.setupState.updateValue(data5);
    },
    isChange: function isChange(ctx, value) {
      return JSON.stringify(this.getFormData(ctx), strFn) !== JSON.stringify(value, strFn);
    },
    isQuote: function isQuote(ctx, value) {
      return (value instanceof Function || is.Object(value) || Array.isArray(value)) && value === ctx.rule.value;
    },
    refreshUpdate: function refreshUpdate(ctx, val, origin, field) {
      var _this5 = this;
      if (is.Function(ctx.rule.update)) {
        var state = invoke(function() {
          return ctx.rule.update(val, ctx.origin, _this5.api, {
            origin: origin || "change",
            linkField: field
          });
        });
        if (state === void 0) return;
        ctx.rule.hidden = state === true;
      }
    },
    valueChange: function valueChange(ctx, val) {
      this.refreshRule(ctx, val);
      this.bus.$emit("change-" + ctx.field, val);
    },
    refreshRule: function refreshRule(ctx, val, origin, field) {
      if (this.refreshControl(ctx)) {
        this.$render.clearCacheAll();
        this.loadRule();
        this.bus.$emit("update", this.api);
        this.refresh();
      }
      this.refreshUpdate(ctx, val, origin, field);
    },
    appendLink: function appendLink(ctx) {
      var _this6 = this;
      var link2 = ctx.rule.link;
      is.trueArray(link2) && link2.forEach(function(field) {
        var fn = function fn2() {
          return _this6.refreshRule(ctx, ctx.rule.value, "link", field);
        };
        _this6.bus.$on("change-" + field, fn);
        ctx.linkOn.push(function() {
          return _this6.bus.$off("change-" + field, fn);
        });
      });
    },
    fields: function fields() {
      return Object.keys(this.fieldCtx);
    }
  });
}
function strFn(key, val) {
  return typeof val === "function" ? "" + val : val;
}
var BaseParser = {
  init: function init(ctx) {
  },
  toFormValue: function toFormValue2(value, ctx) {
    return value;
  },
  toValue: function toValue2(formValue, ctx) {
    return formValue;
  },
  mounted: function mounted6(ctx) {
  },
  render: function render10(children, ctx) {
    if (ctx.$handle.fc.renderDriver && ctx.$handle.fc.renderDriver.defaultRender) {
      return ctx.$handle.fc.renderDriver.defaultRender(ctx, children);
    }
    return ctx.$render.defaultRender(ctx, children);
  },
  preview: function preview(children, ctx) {
    if (ctx.$handle.fc.renderDriver && ctx.$handle.fc.renderDriver.defaultPreview) {
      return ctx.$handle.fc.renderDriver.defaultPreview(ctx, children);
    }
    return this.render(children, ctx);
  },
  mergeProp: function mergeProp2(ctx) {
  }
};
var noneKey = ["field", "value", "vm", "template", "name", "config", "control", "inject", "sync", "payload", "optionsTo", "update", "slotUpdate", "computed", "component", "cache"];
var oldValueTag = Symbol("oldValue");
function useContext(Handler2) {
  extend(Handler2.prototype, {
    getCtx: function getCtx(id2) {
      return this.getFieldCtx(id2) || this.getNameCtx(id2)[0] || this.ctxs[id2];
    },
    getCtxs: function getCtxs(id2) {
      return this.fieldCtx[id2] || this.nameCtx[id2] || (this.ctxs[id2] ? [this.ctxs[id2]] : []);
    },
    setIdCtx: function setIdCtx(ctx, key, type2) {
      var field = "".concat(type2, "Ctx");
      if (!this[field][key]) {
        this[field][key] = [ctx];
      } else {
        this[field][key].push(ctx);
      }
    },
    rmIdCtx: function rmIdCtx(ctx, key, type2) {
      var field = "".concat(type2, "Ctx");
      var lst = this[field][key];
      if (!lst) return false;
      var flag = lst.splice(lst.indexOf(ctx) >>> 0, 1).length > 0;
      if (!lst.length) {
        delete this[field][key];
      }
      return flag;
    },
    getFieldCtx: function getFieldCtx(field) {
      return (this.fieldCtx[field] || [])[0];
    },
    getNameCtx: function getNameCtx(name2) {
      return this.nameCtx[name2] || [];
    },
    setCtx: function setCtx(ctx) {
      var id2 = ctx.id, field = ctx.field, name2 = ctx.name, rule = ctx.rule;
      this.ctxs[id2] = ctx;
      name2 && this.setIdCtx(ctx, name2, "name");
      if (!ctx.input) return;
      this.setIdCtx(ctx, field, "field");
      this.setFormData(ctx, ctx.parser.toFormValue(rule.value, ctx));
      if (this.isMounted && !this.reloading) {
        this.vm.emit("change", ctx.field, rule.value, ctx.origin, this.api);
      }
    },
    getParser: function getParser(ctx) {
      var list = this.fc.parsers;
      var renderDriver = this.fc.renderDriver;
      if (renderDriver) {
        var _list = renderDriver.parsers || {};
        var parser = _list[ctx.originType] || _list[toCase(ctx.type)] || _list[ctx.trueType];
        if (parser) {
          return parser;
        }
      }
      return list[ctx.originType] || list[toCase(ctx.type)] || list[ctx.trueType] || BaseParser;
    },
    bindParser: function bindParser(ctx) {
      ctx.setParser(this.getParser(ctx));
    },
    getType: function getType2(alias2) {
      var map = this.fc.CreateNode.aliasMap;
      var type2 = map[alias2] || map[toCase(alias2)] || alias2;
      return toCase(type2);
    },
    noWatch: function noWatch(fn) {
      if (!this.noWatchFn) {
        this.noWatchFn = fn;
      }
      invoke(fn);
      if (this.noWatchFn === fn) {
        this.noWatchFn = null;
      }
    },
    watchCtx: function watchCtx(ctx) {
      var _this = this;
      var all = attrs();
      all.filter(function(k) {
        return k[0] !== "_" && k[0] !== "$" && noneKey.indexOf(k) === -1;
      }).forEach(function(key) {
        var ref2 = toRef(ctx.rule, key);
        var flag = key === "children";
        ctx.refRule[key] = ref2;
        ctx.watch.push(watch(flag ? function() {
          return is.Function(ref2.value) ? ref2.value : _toConsumableArray(ref2.value || []);
        } : function() {
          return ref2.value;
        }, function(_7, o) {
          var n = ref2.value;
          if (_this.isBreakWatch()) return;
          if (flag && ctx.parser.loadChildren === false) {
            _this.$render.clearCache(ctx);
            _this.nextRefresh();
            return;
          }
          _this.watching = true;
          nextTick(function() {
            _this.targetHook(ctx, "watch", {
              key,
              oldValue: o,
              newValue: n
            });
          });
          if (key === "hidden" && Boolean(n) !== Boolean(o)) {
            _this.$render.clearCacheAll();
            nextTick(function() {
              _this.targetHook(ctx, "hidden", {
                value: n
              });
            });
          }
          if (key === "ignore" && ctx.input || key === "hidden" && ctx.input && (ctx.rule.ignore === "hidden" || _this.options.ignoreHiddenFields)) {
            _this.syncForm();
          } else if (key === "link") {
            ctx.link();
            return;
          } else if (["props", "on", "deep"].indexOf(key) > -1) {
            _this.parseInjectEvent(ctx.rule, n || {});
            if (key === "props" && ctx.input) {
              _this.setFormData(ctx, ctx.parser.toFormValue(ctx.rule.value, ctx));
            }
          } else if (key === "emit") {
            _this.parseEmit(ctx);
          } else if (["prefix", "suffix"].indexOf(key) > -1) n && _this.loadFn(n, ctx.rule);
          else if (key === "type") {
            ctx.updateType();
            _this.bindParser(ctx);
          } else if (flag) {
            if (is.Function(o)) {
              o = ctx.getPending("children", []);
            }
            if (is.Function(n)) {
              n = ctx.loadChildrenPending();
            }
            _this.updateChildren(ctx, n, o);
          }
          _this.$render.clearCache(ctx);
          _this.refresh();
          _this.watching = false;
        }, {
          deep: !flag,
          sync: flag
        }));
      });
      ctx.refRule["__$title"] = computed(function() {
        var title = (_typeof(ctx.rule.title) === "object" ? ctx.rule.title.title : ctx.rule.title) || "";
        if (title) {
          var match = title.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);
          if (match) {
            title = _this.api.t(match[1]);
          }
        }
        return title;
      });
      ctx.refRule["__$info"] = computed(function() {
        var info = (_typeof(ctx.rule.info) === "object" ? ctx.rule.info.info : ctx.rule.info) || "";
        if (info) {
          var match = info.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);
          if (match) {
            info = _this.api.t(match[1]);
          }
        }
        return info;
      });
      ctx.refRule["__$validate"] = computed(function() {
        var t3 = function t4(msg) {
          var match = msg.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);
          if (match) {
            var _ctx$refRule, _ctx$refRule$__$title;
            return _this.api.t(match[1], {
              title: (_ctx$refRule = ctx.refRule) === null || _ctx$refRule === void 0 ? void 0 : (_ctx$refRule$__$title = _ctx$refRule.__$title) === null || _ctx$refRule$__$title === void 0 ? void 0 : _ctx$refRule$__$title.value
            });
          }
          return msg;
        };
        return toArray(ctx.rule.validate).map(function(item) {
          var temp = _objectSpread2({}, item);
          if (temp.message) {
            temp.message = t3(temp.message);
          }
          if (is.Function(temp.validator)) {
            var that = ctx;
            temp.validator = function() {
              var _item$validator;
              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
              }
              return (_item$validator = item.validator).call.apply(_item$validator, [{
                that: this,
                id: that.id,
                field: that.field,
                rule: that.rule,
                api: that.$handle.api
              }].concat(args));
            };
          }
          if (temp.adapter) {
            if (_typeof(temp.error) === "object") {
              var msg = _objectSpread2({}, temp.error);
              Object.keys(msg).forEach(function(key) {
                msg[key] = t3(msg[key]);
              });
              temp.error = msg;
            }
            return _this.adapterValidate(temp, ctx);
          }
          return temp;
        });
      });
      if (ctx.input) {
        var val = toRef(ctx.rule, "value");
        ctx.watch.push(watch(function() {
          return val.value;
        }, function() {
          var formValue = ctx.parser.toFormValue(val.value, ctx);
          if (_this.isChange(ctx, formValue)) {
            _this.setValue(ctx, val.value, formValue, true);
          }
        }));
      }
      this.bus.$once("load-end", function() {
        var computedRule = ctx.rule.computed;
        if (!computedRule) {
          return;
        }
        if (_typeof(computedRule) !== "object") {
          computedRule = {
            value: computedRule
          };
        }
        Object.keys(computedRule).forEach(function(k) {
          var computedValue = computed(function() {
            var item = computedRule[k];
            if (!item) return void 0;
            var value = _this.compute(ctx, item);
            if (item.linkage && value === oldValueTag) {
              return oldValueTag;
            }
            return value;
          });
          var callback = function callback2(n) {
            if (k === "value") {
              _this.onInput(ctx, n);
            } else if (k[0] === "$") {
              _this.api.setEffect(ctx.id, k, n);
            } else {
              deepSet(ctx.rule, k, n);
            }
          };
          if (k === "value" ? [void 0, null, ""].indexOf(ctx.rule.value) > -1 : computedValue.value !== deepGet(ctx.rule, k)) {
            callback(computedValue.value);
          }
          ctx.watch.push(watch(computedValue, function(n) {
            if (n === oldValueTag) {
              return;
            }
            setTimeout(function() {
              callback(n);
            });
          }, {
            deep: true
          }));
        });
      });
      this.watchEffect(ctx);
    },
    adapterValidate: function adapterValidate2(validate2, ctx) {
      var _this2 = this;
      var validator = function validator2(value, callback) {
        var before = validate2.beforeValidate && invoke(function() {
          return validate2.beforeValidate({
            value,
            api: _this2.api,
            validate: validate2,
            rule: ctx.rule
          });
        });
        if (before === false) {
          callback();
        } else {
          var key = _this2.validator(ctx, value, validate2);
          if (!key) {
            if (validate2.validator) {
              var res = validate2.validator && invoke(function() {
                return validate2.validator(value, callback);
              });
              if (res && is.Function(res.then)) {
                res.then(function() {
                  return callback();
                })["catch"](function(e) {
                  return callback(e);
                });
              }
            } else {
              callback();
            }
          } else {
            var message = "";
            if (_typeof(validate2.error) === "object") {
              message = validate2.error[key] || validate2.error["default"];
            }
            if (!message && typeof validate2.message === "string") {
              message = validate2.message;
            }
            if (!message) {
              message = _this2.getValidateMessage(ctx, {
                key,
                rule: validate2[key]
              });
            }
            callback(message);
          }
        }
      };
      return this.$manager.adapterValidate({
        required: validate2.required,
        message: validate2.message,
        target: validate2.trigger
      }, validator);
    },
    getValidateMessage: function getValidateMessage(ctx, invalid) {
      var _ctx$refRule2, _ctx$refRule2$__$titl, _this$api$t;
      var formatRule = Array.isArray(invalid.rule) ? invalid.rule.join(",") : "" + invalid.rule;
      return this.api.t(invalid.key === "required" ? invalid.key : "validate." + invalid.key, (_this$api$t = {}, _defineProperty(_this$api$t, invalid.key, formatRule), _defineProperty(_this$api$t, "title", (_ctx$refRule2 = ctx.refRule) === null || _ctx$refRule2 === void 0 ? void 0 : (_ctx$refRule2$__$titl = _ctx$refRule2.__$title) === null || _ctx$refRule2$__$titl === void 0 ? void 0 : _ctx$refRule2$__$titl.value), _this$api$t));
    },
    validator: function validator(ctx, value, validate2) {
      var _this3 = this;
      var isEmpty = is.empty(value);
      if (isEmpty) {
        if (validate2.required) {
          return "required";
        }
        return;
      }
      var _loop = function _loop2() {
        var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), key = _Object$entries$_i[0], rule = _Object$entries$_i[1];
        switch (key) {
          case "len":
          case "maxLen":
          case "minLen":
            var check2 = function check3(val) {
              if (key === "len") {
                return val === rule;
              } else if (key === "maxLen") {
                return val <= rule;
              } else {
                return val >= rule;
              }
            };
            if (Array.isArray(value)) {
              if (!check2(value.length)) {
                return {
                  v: key
                };
              }
            } else if (_typeof(value) === "object") {
              return {
                v: key
              };
            } else if (!check2(("" + value).length)) {
              return {
                v: key
              };
            }
            break;
          case "pattern":
            var reg = typeof rule === "string" ? new RegExp(rule) : rule;
            if (!reg.test("" + value)) {
              return {
                v: key
              };
            }
            break;
          case "uppercase":
            if (rule && (typeof value !== "string" || !/^[A-Z]*$/.test(value))) {
              return {
                v: key
              };
            }
            break;
          case "lowercase":
            if (rule && (typeof value !== "string" || !/^[a-z]*$/.test(value))) {
              return {
                v: key
              };
            }
            break;
          case "min":
          case "max":
          case "positive":
          case "negative":
          case "integer":
          case "number":
            var num = Number(value);
            if (Number.isNaN(num)) {
              return {
                v: key
              };
            }
            if (key === "min" && num < rule) {
              return {
                v: key
              };
            }
            if (key === "max" && num > rule) {
              return {
                v: key
              };
            }
            if (key === "positive" && num <= 0) {
              return {
                v: key
              };
            }
            if (key === "negative" && num >= 0) {
              return {
                v: key
              };
            }
            if (key === "integer" && !Number.isInteger(num)) {
              return {
                v: key
              };
            }
            break;
          case "equal":
            if (value !== rule) {
              return {
                v: key
              };
            }
            break;
          case "enum":
            if (Array.isArray(rule) && !rule.includes(value)) {
              return {
                v: key
              };
            }
            break;
          case "hasKeys":
            if (_typeof(value) !== "object" || Array.isArray(rule) && rule.some(function(key2) {
              return !(key2 in value);
            })) {
              return {
                v: key
              };
            }
            break;
          case "email":
            var regexEmail = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            if (!regexEmail.test("" + value)) {
              return {
                v: key
              };
            }
            break;
          case "url":
            var regexUrl = new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$", "i");
            if (!regexUrl.test("" + value)) {
              return {
                v: key
              };
            }
            break;
          case "ip":
            var regexIp = /^(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}$/;
            if (!regexIp.test("" + value)) {
              return {
                v: key
              };
            }
            break;
          case "phone":
            var regexPhone = /^(?:(?:\+|00)86)?1[3-9]\d{9}$/;
            if (!regexPhone.test("" + value)) {
              return {
                v: key
              };
            }
            break;
          case "computed":
            if (!_this3.compute(ctx, rule)) {
              return {
                v: key
              };
            }
            break;
        }
      };
      for (var _i = 0, _Object$entries = Object.entries(validate2); _i < _Object$entries.length; _i++) {
        var _ret = _loop();
        if (_typeof(_ret) === "object") return _ret.v;
      }
    },
    compute: function compute(ctx, item) {
      var _this4 = this;
      var fn;
      if (_typeof(item) === "object") {
        var group = ctx.getParentGroup();
        var checkCondition = function checkCondition2(item2) {
          item2 = Array.isArray(item2) ? {
            mode: "AND",
            group: item2
          } : item2;
          if (!is.trueArray(item2.group)) {
            return true;
          }
          var or = item2.mode === "OR";
          var valid2 = true;
          var _loop2 = function _loop22(i2) {
            var one = item2.group[i2];
            var flag = void 0;
            var field = null;
            if (one.variable) {
              field = JSON.stringify(_this4.fc.getLoadData(one.variable) || "");
            } else if (one.field) {
              field = convertFieldToConditions(one.field || "");
            } else if (!one.mode) {
              return {
                v: true
              };
            }
            var compare = one.compare;
            if (compare) {
              compare = convertFieldToConditions(compare || "");
            }
            if (one.mode) {
              flag = checkCondition2(one);
            } else if (!condition[one.condition]) {
              flag = false;
            } else if (is.Function(one.handler)) {
              flag = invoke(function() {
                return one.handler(_this4.api, ctx.rule);
              });
            } else {
              flag = invoke(function() {
                return new Function("$condition", "$val", "$form", "$scope", "$group", "$rule", "with($form){with($scope){with(this){with($group){ return $condition['".concat(one.condition, "'](").concat(field, ", ").concat(compare ? compare : "$val", "); }}}}")).call(_this4.api.form, condition, one.value, _this4.api.top.form, _this4.api.top === _this4.api.scope ? {} : _this4.api.scope.form, group ? _this4.subRuleData[group.id] || {} : {}, ctx.rule);
              });
            }
            if (or && flag) {
              return {
                v: true
              };
            }
            if (!or) {
              valid2 = valid2 && flag;
            }
          };
          for (var i = 0; i < item2.group.length; i++) {
            var _ret2 = _loop2(i);
            if (_typeof(_ret2) === "object") return _ret2.v;
          }
          return or ? false : valid2;
        };
        var val = checkCondition(item);
        val = item.invert === true ? !val : val;
        if (item.linkage) {
          return val ? invoke(function() {
            return _this4.computeValue(item.linkage, ctx, group);
          }, void 0) : oldValueTag;
        }
        return val;
      } else if (is.Function(item)) {
        fn = function fn2() {
          return item(_this4.api.form, _this4.api);
        };
      } else {
        var _group = ctx.getParentGroup();
        fn = function fn2() {
          return _this4.computeValue(item, ctx, _group);
        };
      }
      return invoke(fn, void 0);
    },
    computeValue: function computeValue(str, ctx, group) {
      var _this5 = this;
      var that = this;
      var formulas = Object.keys(this.fc.formulas).reduce(function(obj, k) {
        obj[k] = function() {
          var _that$fc$formulas$k;
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          return (_that$fc$formulas$k = that.fc.formulas[k]).call.apply(_that$fc$formulas$k, [{
            that: this,
            rule: ctx.rule,
            api: that.api,
            fc: that.fc
          }].concat(args));
        };
        return obj;
      }, {});
      return invoke(function() {
        return new Function("$formulas", "$form", "$scope", "$group", "$rule", "$api", "with($form){with($scope){with(this){with($group){with($formulas){ return ".concat(str, " }}}}}")).call(_this5.api.form, formulas, _this5.api.top.form, _this5.api.top === _this5.api.scope ? {} : _this5.api.scope.form, group ? _this5.subRuleData[group.id] || {} : {}, ctx.rule, _this5.api);
      }, void 0);
    },
    updateChildren: function updateChildren(ctx, n, o) {
      var _this6 = this;
      this.deferSyncValue(function() {
        o && o.forEach(function(child) {
          if ((n || []).indexOf(child) === -1 && child && !is.String(child) && child.__fc__ && child.__fc__.parent === ctx) {
            _this6.rmCtx(child.__fc__);
          }
        });
        if (is.trueArray(n)) {
          _this6.loadChildren(n, ctx);
          _this6.bus.$emit("update", _this6.api);
        }
      });
    },
    rmSub: function rmSub(sub) {
      var _this7 = this;
      is.trueArray(sub) && sub.forEach(function(r) {
        r && r.__fc__ && _this7.rmCtx(r.__fc__);
      });
    },
    rmCtx: function rmCtx(ctx) {
      var _this8 = this;
      if (ctx.deleted) return;
      var id2 = ctx.id, field = ctx.field, input4 = ctx.input, name2 = ctx.name;
      $del(this.ctxs, id2);
      $del(this.formData, id2);
      $del(this.subForm, id2);
      $del(this.vm.setupState.ctxInject, id2);
      var group = ctx.getParentGroup();
      if (group && this.subRuleData[group.id]) {
        $del(this.subRuleData[group.id], field);
      }
      if (ctx.group) {
        $del(this.subRuleData, id2);
      }
      input4 && this.rmIdCtx(ctx, field, "field");
      name2 && this.rmIdCtx(ctx, name2, "name");
      if (input4 && !hasProperty(this.fieldCtx, field)) {
        $del(this.form, field);
      }
      this.deferSyncValue(function() {
        if (!_this8.reloading) {
          if (ctx.parser.loadChildren !== false) {
            var children = ctx.getPending("children", ctx.rule.children);
            if (is.trueArray(children)) {
              children.forEach(function(h2) {
                return h2 && h2.__fc__ && _this8.rmCtx(h2.__fc__);
              });
            }
          }
          if (ctx.root === _this8.rules) {
            _this8.vm.setupState.renderRule();
          }
        }
      }, input4);
      var index = this.sort.indexOf(id2);
      if (index > -1) {
        this.sort.splice(index, 1);
      }
      this.$render.clearCache(ctx);
      ctx["delete"]();
      this.effect(ctx, "deleted");
      this.targetHook(ctx, "deleted");
      input4 && !this.fieldCtx[field] && this.vm.emit("remove-field", field, ctx.rule, this.api);
      ctx.rule.__ctrl || this.vm.emit("remove-rule", ctx.rule, this.api);
      return ctx;
    }
  });
}
function useLifecycle(Handler2) {
  extend(Handler2.prototype, {
    mounted: function mounted7() {
      var _this = this;
      var _mounted = function _mounted2() {
        _this.isMounted = true;
        _this.lifecycle("mounted");
      };
      if (this.pageEnd) {
        _mounted();
      } else {
        this.bus.$once("page-end", _mounted);
      }
    },
    lifecycle: function lifecycle(name2) {
      this.fc.targetFormDriver(name2, this.api, this.fc);
      this.vm.emit(name2, this.api);
      this.emitEvent(name2, this.api);
    },
    emitEvent: function emitEvent2(name2) {
      var _this$bus;
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      var _fn = this.options[name2] || this.options[toCase("on-" + name2)];
      if (_fn) {
        var fn = parseFn(_fn);
        is.Function(fn) && invoke(function() {
          return fn.apply(void 0, args);
        });
      }
      (_this$bus = this.bus).$emit.apply(_this$bus, [name2].concat(args));
    },
    targetHook: function targetHook(ctx, name2, args) {
      var _ctx$prop, _ctx$prop$hook, _this2 = this;
      var hook = (_ctx$prop = ctx.prop) === null || _ctx$prop === void 0 ? void 0 : (_ctx$prop$hook = _ctx$prop.hook) === null || _ctx$prop$hook === void 0 ? void 0 : _ctx$prop$hook[name2];
      var run = function run2(on2, p) {
        if (on2) {
          on2 = Array.isArray(on2) ? on2 : [on2];
          on2.forEach(function(fn) {
            invoke(function() {
              return fn(_objectSpread2(_objectSpread2({}, args || {}), {}, {
                self: ctx.rule,
                rule: ctx.rule,
                parent: p === null || p === void 0 ? void 0 : p.rule,
                $f: _this2.api,
                api: _this2.api,
                option: _this2.vm.props.option
              }));
            });
          });
        }
      };
      run(hook);
      var deepName = "deep" + upper(name2);
      var parent = ctx.parent;
      while (parent) {
        var _parent$prop, _parent$prop$hook;
        var deepHook = (_parent$prop = parent.prop) === null || _parent$prop === void 0 ? void 0 : (_parent$prop$hook = _parent$prop.hook) === null || _parent$prop$hook === void 0 ? void 0 : _parent$prop$hook[deepName];
        run(deepHook, parent);
        parent = parent.parent;
      }
    }
  });
}
function useEffect(Handler2) {
  extend(Handler2.prototype, {
    useProvider: function useProvider() {
      var _this = this;
      var ps2 = this.fc.providers;
      Object.keys(ps2).forEach(function(k) {
        var prop = ps2[k];
        if (is.Function(prop)) {
          prop = prop(_this.fc);
        }
        prop._c = getComponent(prop);
        _this.onEffect(prop);
        _this.providers[k] = prop;
      });
    },
    onEffect: function onEffect(provider) {
      var _this2 = this;
      var used = [];
      (provider._c || ["*"]).forEach(function(name2) {
        var type2 = name2 === "*" ? "*" : _this2.getType(name2);
        if (used.indexOf(type2) > -1) return;
        used.push(type2);
        _this2.bus.$on("p:".concat(provider.name, ":").concat(type2, ":").concat(provider.input ? 1 : 0), function(event, args) {
          provider[event] && provider[event].apply(provider, _toConsumableArray(args));
        });
      });
      provider._used = used;
    },
    watchEffect: function watchEffect2(ctx) {
      var _this3 = this;
      var effect = {
        required: function required2() {
          var _ctx$rule, _ctx$rule$effect;
          return (hasProperty(ctx.rule, "$required") ? ctx.rule["$required"] : (_ctx$rule = ctx.rule) === null || _ctx$rule === void 0 ? void 0 : (_ctx$rule$effect = _ctx$rule.effect) === null || _ctx$rule$effect === void 0 ? void 0 : _ctx$rule$effect.required) || false;
        }
      };
      Object.keys(ctx.rule.effect || {}).forEach(function(k) {
        effect[k] = function() {
          return ctx.rule.effect[k];
        };
      });
      Object.keys(ctx.rule).forEach(function(k) {
        if (k[0] === "$") {
          effect[k.substr(1)] = function() {
            return ctx.rule[k];
          };
        }
      });
      Object.keys(effect).forEach(function(k) {
        ctx.watch.push(watch(effect[k], function(n) {
          _this3.effect(ctx, "watch", _defineProperty({}, k, n));
        }, {
          deep: true
        }));
      });
    },
    ruleEffect: function ruleEffect(rule, event, append) {
      this.emitEffect({
        rule,
        input: !!rule.field,
        type: this.getType(rule.type)
      }, event, append);
    },
    effect: function effect(ctx, event, custom) {
      this.emitEffect({
        rule: ctx.rule,
        input: ctx.input,
        type: ctx.trueType,
        ctx,
        custom
      }, event);
    },
    getEffect: function getEffect(rule, name2) {
      if (hasProperty(rule, "$" + name2)) {
        return rule["$" + name2];
      }
      if (hasProperty(rule, "effect") && hasProperty(rule.effect, name2)) return rule.effect[name2];
      return void 0;
    },
    emitEffect: function emitEffect(_ref, event, append) {
      var _this4 = this;
      var ctx = _ref.ctx, rule = _ref.rule, input4 = _ref.input, type2 = _ref.type, custom = _ref.custom;
      if (!type2 || ["fcFragment", "fragment"].indexOf(type2) > -1) return;
      var effect = custom ? custom : Object.keys(rule).reduce(function(i, k) {
        if (k[0] === "$") {
          i[k.substr(1)] = rule[k];
        }
        return i;
      }, _objectSpread2({}, rule.effect || {}));
      Object.keys(effect).forEach(function(attr) {
        var p = _this4.providers[attr];
        if (!p || p.input && !input4) return;
        var _type;
        if (!p._c) {
          _type = "*";
        } else if (p._used.indexOf(type2) > -1) {
          _type = type2;
        } else {
          return;
        }
        var data5 = _objectSpread2({
          value: effect[attr],
          getValue: function getValue() {
            return _this4.getEffect(rule, attr);
          }
        }, append || {});
        if (ctx) {
          data5.getProp = function() {
            return ctx.effectData(attr);
          };
          data5.clearProp = function() {
            return ctx.clearEffectData(attr);
          };
          data5.mergeProp = function(prop) {
            return mergeRule(data5.getProp(), [prop]);
          };
          data5.id = ctx.id;
        }
        _this4.bus.$emit("p:".concat(attr, ":").concat(_type, ":").concat(p.input ? 1 : 0), event, [data5, rule, _this4.api]);
      });
    }
  });
}
function unique(arr) {
  return arr.filter(function(item, index, arr2) {
    return arr2.indexOf(item, 0) === index;
  });
}
function getComponent(p) {
  var c = p.components;
  if (Array.isArray(c)) {
    var arr = unique(c.filter(function(v) {
      return v !== "*";
    }));
    return arr.length ? arr : false;
  } else if (is.String(c)) return [c];
  else return false;
}
function Handler(fc2) {
  var _this = this;
  funcProxy(this, {
    options: function options() {
      return fc2.options.value || {};
    },
    bus: function bus() {
      return fc2.bus;
    },
    preview: function preview2() {
      if (fc2.vm.props.preview != null) {
        return fc2.vm.props.preview;
      } else if (fc2.vm.setupState.parent && fc2.vm.setupState.parent.props.preview != null) {
        return fc2.vm.setupState.parent.props.preview;
      }
      return fc2.options.value.preview || false;
    }
  });
  extend(this, {
    fc: fc2,
    vm: fc2.vm,
    watching: false,
    loading: false,
    reloading: false,
    noWatchFn: null,
    deferSyncFn: null,
    isMounted: false,
    formData: reactive({}),
    subRuleData: reactive({}),
    subForm: {},
    form: reactive({}),
    appendData: {},
    ignoreFields: [],
    providers: {},
    cycleLoad: null,
    loadedId: 1,
    nextTick: null,
    changeStatus: false,
    pageEnd: true,
    nextReload: function nextReload() {
      _this.lifecycle("reload");
    }
  });
  this.initData(fc2.rules);
  this.$manager = new fc2.manager(this);
  this.$render = new Render(this);
  this.api = fc2.extendApiFn.reduce(function(api, fn) {
    var extendApi2 = invoke(function() {
      return fn(api, _this);
    });
    if (extendApi2 && extendApi2 !== api) {
      extend(api, extendApi2);
    }
    return api;
  }, Api(this));
}
extend(Handler.prototype, {
  initData: function initData(rules) {
    extend(this, {
      ctxs: {},
      fieldCtx: {},
      nameCtx: {},
      sort: [],
      rules
    });
  },
  init: function init2() {
    this.updateAppendData();
    this.useProvider();
    this.usePage();
    this.loadRule();
    this.$manager.__init();
    this.lifecycle("created");
  },
  updateAppendData: function updateAppendData() {
    this.appendData = _objectSpread2(_objectSpread2(_objectSpread2({}, this.options.formData || {}), this.fc.vm.props.modelValue || {}), this.appendData);
  },
  isBreakWatch: function isBreakWatch() {
    return this.loading || this.noWatchFn || this.reloading;
  },
  globalBeforeFetch: function globalBeforeFetch(opt) {
    var _this2 = this;
    return new Promise(function(resolve, reject) {
      var source = _this2.options.beforeFetch && invoke(function() {
        return _this2.options.beforeFetch(opt, {
          api: _this2.api
        });
      });
      if (source && is.Function(source.then)) {
        source.then(resolve)["catch"](reject);
      } else {
        resolve();
      }
    });
  },
  beforeFetch: function beforeFetch(opt) {
    var _this3 = this;
    return new Promise(function(resolve, reject) {
      var res = opt && opt.beforeFetch && invoke(function() {
        return opt.beforeFetch(opt, {
          api: _this3.api
        });
      });
      if (res && is.Function(res.then)) {
        res.then(resolve)["catch"](reject);
      } else if (res === false) {
        reject();
      } else {
        resolve();
      }
    }).then(function() {
      return _this3.globalBeforeFetch(opt);
    });
  },
  beforeSubmit: function beforeSubmit(formData3) {
    var _this4 = this;
    return new Promise(function(resolve, reject) {
      var res = _this4.options.beforeSubmit && invoke(function() {
        return _this4.options.beforeSubmit(formData3, {
          api: _this4.api
        });
      });
      if (res && is.Function(res.then)) {
        res.then(resolve)["catch"](reject);
      } else if (res === false) {
        reject();
      } else {
        resolve();
      }
    });
  }
});
useInject(Handler);
usePage(Handler);
useRender(Handler);
useLoader(Handler);
useInput(Handler);
useContext(Handler);
useLifecycle(Handler);
useEffect(Handler);
var NAME = "fcFragment";
var fragment = defineComponent({
  name: NAME,
  inheritAttrs: false,
  props: ["vnode"],
  render: function render11() {
    return this.vnode;
  }
});
function tidyDirectives(directives) {
  return Object.keys(directives).map(function(n) {
    var data5 = directives[n];
    var directive = resolveDirective(n);
    if (!directive) return;
    return [directive, data5.value, data5.arg, data5.modifiers];
  }).filter(function(v) {
    return !!v;
  });
}
function makeDirective(data5, vn) {
  var directives = data5.directives;
  if (!directives) return vn;
  if (!Array.isArray(directives)) {
    directives = [directives];
  }
  return withDirectives(vn, directives.reduce(function(lst, v) {
    return lst.concat(tidyDirectives(v));
  }, []));
}
function CreateNodeFactory() {
  var aliasMap = {};
  function CreateNode(vm2) {
    this.vm = vm2;
  }
  extend(CreateNode.prototype, {
    make: function make(tag, data5, children) {
      return makeDirective(data5, this.h(tag, toProps(data5), children));
    },
    makeComponent: function makeComponent(type2, data5, children) {
      try {
        return makeDirective(data5, createVNode(type2, toProps(data5), children));
      } catch (e) {
        console.error(e);
        return createVNode("");
      }
    },
    h: function h2(tag, data5, children) {
      var vm2 = this.vm || getCurrentInstance();
      var isNativeTag = vm2.appContext.config.isNativeTag(tag);
      if (isNativeTag) {
        delete data5.formCreateInject;
      }
      try {
        return createVNode(isNativeTag ? tag : resolveComponent(tag), data5, children);
      } catch (e) {
        console.error(e);
        return createVNode("");
      }
    },
    aliasMap
  });
  extend(CreateNode, {
    aliasMap,
    alias: function alias2(_alias, name2) {
      aliasMap[_alias] = name2;
    },
    use: function use(nodes) {
      Object.keys(nodes).forEach(function(k) {
        var line = toLine(k);
        var lower2 = toString(k).toLocaleLowerCase();
        var v = nodes[k];
        [k, line, lower2].forEach(function(n) {
          CreateNode.alias(k, v);
          CreateNode.prototype[n] = function(data5, children) {
            return this.make(v, data5, children);
          };
        });
      });
    }
  });
  return CreateNode;
}
function createManager(proto) {
  var CustomManager = function(_Manager) {
    _inherits(CustomManager2, _Manager);
    var _super = _createSuper(CustomManager2);
    function CustomManager2() {
      _classCallCheck(this, CustomManager2);
      return _super.apply(this, arguments);
    }
    return CustomManager2;
  }(Manager);
  Object.assign(CustomManager.prototype, proto);
  return CustomManager;
}
function Manager(handler3) {
  extend(this, {
    $handle: handler3,
    vm: handler3.vm,
    options: {},
    ref: "fcForm",
    mergeOptionsRule: {
      normal: ["form", "row", "info", "submitBtn", "resetBtn"]
    }
  });
  this.updateKey();
  this.init();
}
extend(Manager.prototype, {
  __init: function __init() {
    var _this = this;
    this.$render = this.$handle.$render;
    this.$r = function() {
      var _this$$render;
      return (_this$$render = _this.$render).renderRule.apply(_this$$render, arguments);
    };
  },
  updateKey: function updateKey2() {
    this.key = uniqueId();
  },
  //TODO interface
  init: function init3() {
  },
  update: function update3() {
  },
  beforeRender: function beforeRender() {
  },
  form: function form() {
    return this.vm.refs[this.ref];
  },
  adapterValidate: function adapterValidate(validate2, validator) {
    validate2.validator = function(rule, value, callback) {
      return validator(value, callback);
    };
    return validate2;
  },
  getSlot: function getSlot2(name2) {
    var _fn = function _fn2(vm2) {
      if (vm2) {
        var slot = vm2.slots[name2];
        if (slot) {
          return slot;
        }
        return _fn2(vm2.setupState.parent);
      }
      return void 0;
    };
    return _fn(this.vm);
  },
  mergeOptions: function mergeOptions(args, opt) {
    var _this2 = this;
    return mergeProps2(args.map(function(v) {
      return _this2.tidyOptions(v);
    }), opt, this.mergeOptionsRule);
  },
  updateOptions: function updateOptions(options) {
    this.$handle.fc.targetFormDriver("updateOptions", options, {
      handle: this.$handle,
      api: this.$handle.api
    });
    this.options = this.mergeOptions([options], this.getDefaultOptions());
    this.update();
  },
  tidyOptions: function tidyOptions(options) {
    return options;
  },
  tidyRule: function tidyRule(ctx) {
  },
  mergeProp: function mergeProp3(ctx) {
  },
  getDefaultOptions: function getDefaultOptions() {
    return {};
  },
  fieldChange: function fieldChange(ctx, value, formValue, setFlag) {
  },
  render: function render12(children) {
  }
});
var loadData = function loadData2(fc2) {
  var loadData3 = {
    name: "loadData",
    _fn: [],
    loaded: function loaded(inject2, rule, api) {
      var _this = this;
      this.deleted(inject2);
      nextTick(function() {
        var attrs2 = toArray(inject2.getValue());
        var unwatchs = [];
        attrs2.forEach(function(attr) {
          if (attr && (attr.attr || attr.template)) {
            var fn = function fn2(get) {
              var group;
              if (rule && rule.__fc__) {
                group = rule.__fc__.getParentGroup();
              }
              var value;
              if (attr.template) {
                value = fc2.$handle.loadStrVar(attr.template, get, group ? {
                  rule,
                  value: fc2.$handle.subRuleData[group.id] || {}
                } : null);
              } else if (attr.handler && is.Function(attr.handler)) {
                value = attr.handler(get, rule, api);
              } else {
                value = fc2.$handle.loadStrVar("{{".concat(attr.attr, "}}"), get, group ? {
                  rule,
                  value: fc2.$handle.subRuleData[group.id] || {}
                } : null);
              }
              if ((value == null || value === "") && attr["default"] != null) {
                value = attr["default"];
              }
              if (attr.copy !== false) {
                value = deepCopy(value);
              }
              var _rule = attr.modify ? rule : inject2.getProp();
              if (attr.to === "child") {
                if (_rule.children) {
                  _rule.children[0] = value;
                } else {
                  _rule.children = [value];
                }
              } else {
                deepSet(_rule, attr.to || "options", value);
              }
              api.sync(rule);
            };
            var callback = function callback2(get) {
              return fn(get);
            };
            var unwatch2 = fc2.watchLoadData(callback);
            fn = debounce(fn, attr.wait || 300);
            if (attr.watch !== false) {
              unwatchs.push(unwatch2);
            } else {
              unwatch2();
            }
          }
        });
        _this._fn[inject2.id] = unwatchs;
      });
    },
    deleted: function deleted(inject2) {
      if (this._fn[inject2.id]) {
        this._fn[inject2.id].forEach(function(un) {
          un();
        });
        delete this._fn[inject2.id];
      }
      inject2.clearProp();
    }
  };
  loadData3.watch = loadData3.loaded;
  return loadData3;
};
var t = function t2(fc2) {
  var t3 = {
    name: "t",
    _fn: [],
    loaded: function loaded(inject2, rule, api) {
      this.deleted(inject2);
      var attrs2 = inject2.getValue() || {};
      var unwatchs = [];
      Object.keys(attrs2).forEach(function(key) {
        var attr = attrs2[key];
        if (attr) {
          var isObj = _typeof(attr) === "object";
          var fn = function fn2(get) {
            var value = fc2.t(isObj ? attr.attr : attr, isObj ? attr.params : null, get);
            var _rule = isObj && attr.modify ? rule : inject2.getProp();
            if (key === "child") {
              if (_rule.children) {
                _rule.children[0] = value;
              } else {
                _rule.children = [value];
              }
            } else {
              deepSet(_rule, key, value);
            }
            api.sync(rule);
          };
          var callback = function callback2(get) {
            return fn(get);
          };
          var unwatch2 = fc2.watchLoadData(callback);
          fn = debounce(fn, attr.wait || 300);
          if (attr.watch !== false) {
            unwatchs.push(unwatch2);
          } else {
            unwatch2();
          }
        }
      });
      this._fn[inject2.id] = unwatchs;
    },
    deleted: function deleted(inject2) {
      if (this._fn[inject2.id]) {
        this._fn[inject2.id].forEach(function(un) {
          un();
        });
        delete this._fn[inject2.id];
      }
      inject2.clearProp();
    }
  };
  t3.watch = t3.loaded;
  return t3;
};
var componentValidate = {
  name: "componentValidate",
  load: function load(attr, rule, api) {
    var options = attr.getValue();
    if (!options || options.method === false) {
      attr.clearProp();
      api.clearValidateState([rule.field]);
    } else {
      if (!is.Object(options)) {
        options = {
          method: options
        };
      }
      var method = options.method;
      var validate2 = _objectSpread2(_objectSpread2({}, options), {}, {
        validator: function validator() {
          var ctx = byCtx(rule);
          if (ctx) {
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            return api.exec.apply(api, [ctx.id, is.String(method) ? method : "formCreateValidate"].concat(args, [{
              attr,
              rule,
              api
            }]));
          }
        }
      });
      delete validate2.method;
      attr.getProp().validate = [validate2];
    }
  },
  watch: function watch2() {
    componentValidate.load.apply(componentValidate, arguments);
  }
};
var fetch = function fetch2(fc2) {
  function parseOpt(option) {
    if (is.String(option)) {
      option = {
        action: option,
        to: "options"
      };
    }
    return option;
  }
  function run(inject2, rule, api) {
    var option = inject2.value;
    fetchAttr.deleted(inject2);
    if (is.Function(option)) {
      option = option(rule, api);
    }
    option = parseOpt(option);
    var set = function set2(val) {
      if (val === void 0) {
        inject2.clearProp();
      } else {
        deepSet(inject2.getProp(), option.to || "options", val);
      }
      if (val != null && option && option.key && fc2.$handle.options.globalData[option.key]) {
        fc2.fetchCache.set(fc2.$handle.options.globalData[option.key], {
          status: true,
          data: val
        });
      }
      api.sync(rule);
    };
    if (!option || !option.action && !option.key) {
      set(void 0);
      return;
    }
    option = deepCopy(option);
    if (!option.to) {
      option.to = "options";
    }
    if (option.key) {
      var item = fc2.$handle.options.globalData[option.key];
      if (!item) {
        set(void 0);
        return;
      }
      if (item.type === "static") {
        set(item.data);
        return;
      } else {
        option = _objectSpread2(_objectSpread2({}, option), item);
      }
    }
    var _onError = option.onError;
    var check2 = function check3() {
      if (!inject2.getValue()) {
        inject2.clearProp();
        api.sync(rule);
        return true;
      }
    };
    fetchAttr._fn[inject2.id] = fc2.watchLoadData(debounce(function(get, change) {
      if (change && option.watch === false) {
        return fetchAttr._fn[inject2.id]();
      }
      var _option = fc2.$handle.loadFetchVar(deepCopy(option), get, rule);
      var config = _objectSpread2(_objectSpread2({
        headers: {}
      }, _option), {}, {
        onSuccess: function onSuccess(body, flag) {
          if (check2()) return;
          var fn = function fn2(v) {
            return flag ? v : hasProperty(v, "data") ? v.data : v;
          };
          var parse = parseFn(_option.parse);
          if (is.Function(parse)) {
            fn = parse;
          } else if (parse && is.String(parse)) {
            fn = function fn2(v) {
              return deepGet(v, parse);
            };
          }
          set(fn(body, rule, api));
        },
        onError: function onError(e) {
          set(void 0);
          if (check2()) return;
          (_onError || function(e2) {
            return err(e2.message || "fetch fail " + _option.action);
          })(e, rule, api);
        }
      });
      fc2.$handle.beforeFetch(config, {
        rule,
        api
      }).then(function() {
        if (is.Function(_option.action)) {
          _option.action(rule, api).then(function(val) {
            config.onSuccess(val, true);
          })["catch"](function(e) {
            config.onError(e);
          });
          return;
        }
        invoke(function() {
          return fc2.create.fetch(config, {
            inject: inject2,
            rule,
            api
          });
        });
      })["catch"](function(e) {
      });
    }, option.wait || 600));
  }
  var fetchAttr = {
    name: "fetch",
    _fn: [],
    loaded: function loaded() {
      run.apply(void 0, arguments);
    },
    watch: function watch4() {
      run.apply(void 0, arguments);
    },
    deleted: function deleted(inject2) {
      if (this._fn[inject2.id]) {
        this._fn[inject2.id]();
        delete this._fn[inject2.id];
      }
      inject2.clearProp();
    }
  };
  return fetchAttr;
};
var $provider = {
  fetch,
  loadData,
  t,
  componentValidate
};
var name$6 = "html";
var html = {
  name: name$6,
  loadChildren: false,
  render: function render13(children, ctx) {
    ctx.prop.props.innerHTML = children["default"]();
    return ctx.vNode.make(ctx.prop.props.tag || "div", ctx.prop);
  },
  renderChildren: function renderChildren(children) {
    return {
      "default": function _default15() {
        return children.filter(function(v) {
          return is.String(v);
        }).join("");
      }
    };
  }
};
function getCookie(name2) {
  name2 = name2 + "=";
  var decodedCookie = decodeURIComponent(document.cookie);
  var cookieArray = decodedCookie.split(";");
  for (var i = 0; i < cookieArray.length; i++) {
    var cookie = cookieArray[i];
    while (cookie.charAt(0) === " ") {
      cookie = cookie.substring(1);
    }
    if (cookie.indexOf(name2) === 0) {
      cookie = cookie.substring(name2.length, cookie.length);
      try {
        return JSON.parse(cookie);
      } catch (e) {
        return cookie;
      }
    }
  }
  return null;
}
function getLocalStorage(name2) {
  var value = localStorage.getItem(name2);
  if (value) {
    try {
      return JSON.parse(value);
    } catch (e) {
      return value;
    }
  }
  return null;
}
function getSessionStorage(name2) {
  var value = sessionStorage.getItem(name2);
  if (value) {
    try {
      return JSON.parse(value);
    } catch (e) {
      return value;
    }
  }
  return null;
}
function baseDriver(driver, name2) {
  if (!name2) {
    return null;
  }
  var split = name2.split(".");
  var value = driver(split.shift());
  if (!split.length) {
    return value;
  }
  if (value == null) {
    return null;
  }
  return deepGet(value, split);
}
function cookieDriver(name2) {
  return baseDriver(getCookie, name2);
}
function localStorageDriver(name2) {
  return baseDriver(getLocalStorage, name2);
}
function sessionStorageDriver(name2) {
  return baseDriver(getSessionStorage, name2);
}
var baseLanguage = {
  en: {
    required: "{title} is required",
    validate: {
      url: "{title} is not a valid url",
      email: "{title} is not a valid email",
      ip: "{title} {title} is not a valid ip",
      phone: "{title} {title} is not a valid phone",
      pattern: "{title} does not match pattern {pattern}",
      uppercase: "{title} must be all uppercase",
      lowercase: "{title} must be all lowercased",
      positive: "{title} is not a positive number",
      negative: "{title} is not a negative number",
      equal: "{title} is not equal to {equal}",
      min: "{title} cannot be less than {min}",
      max: "{title} cannot be greater than {max}",
      "enum": "{title} must be one of {enum}",
      hasKeys: "{title} does not contain required fields {hasKeys}",
      minLen: "{title} must be at least {minLen}",
      maxLen: "{title} cannot be longer than {maxLen}",
      len: "{title} must be exactly {len}",
      integer: "{title} is not an integer",
      number: "{title} is not an number"
    }
  },
  "zh-cn": {
    required: "{title}不能为空",
    validate: {
      url: "{title}不是有效的 url 地址",
      email: "{title}不是有效的邮箱地址",
      ip: "{title}不是有效的 IP 地址",
      phone: "{title}不是正确的手机号",
      pattern: "{title}必须匹配 {pattern}",
      uppercase: "{title}必须全大写",
      lowercase: "{title}必须全小写",
      positive: "{title}不是正数",
      negative: "{title}不是负数",
      equal: "{title}必须等于 {equal}",
      min: "{title}必须大于等于 {min}",
      max: "{title}必须小于等于 {max}",
      "enum": "{title}必须是 {enum} 之一",
      hasKeys: "{title}必须包含 {hasKeys} 字段",
      minLen: "{title}长度必须大于 {minLen}",
      maxLen: "{title}长度必须小于 {maxLen}",
      len: "{title}长度必须为 {len}",
      integer: "{title}必须为整数",
      number: "{title}必须为数字"
    }
  }
};
function parseProp(name2, id2) {
  var prop;
  if (arguments.length === 2) {
    prop = arguments[1];
    id2 = prop[name2];
  } else {
    prop = arguments[2];
  }
  return {
    id: id2,
    prop
  };
}
function nameProp() {
  return parseProp.apply(void 0, ["name"].concat(Array.prototype.slice.call(arguments)));
}
function exportAttrs(attrs2) {
  var key = attrs2.key || [];
  var array = attrs2.array || [];
  var normal = attrs2.normal || [];
  keyAttrs.push.apply(keyAttrs, _toConsumableArray(key));
  arrayAttrs.push.apply(arrayAttrs, _toConsumableArray(array));
  normalAttrs.push.apply(normalAttrs, _toConsumableArray(normal));
  appendProto([].concat(_toConsumableArray(key), _toConsumableArray(array), _toConsumableArray(normal)));
}
var id = 1;
var instance = {};
var defValueTag = Symbol("defValue");
function FormCreateFactory(config) {
  var components2 = _defineProperty({}, fragment.name, fragment);
  var parsers2 = {};
  var directives = {};
  var modelFields = {};
  var drivers = {};
  var useApps = [];
  var listener = [];
  var extendApiFn = [config.extendApi];
  var providers = _objectSpread2({}, $provider);
  var maker2 = makerFactory();
  var globalConfig = {
    global: {}
  };
  var isMobile = config.isMobile === true;
  var loadData3 = reactive({
    $mobile: isMobile
  });
  var CreateNode = CreateNodeFactory();
  var formulas = {};
  var prototype = {};
  exportAttrs(config.attrs || {});
  function getApi(name2) {
    var val = instance[name2];
    if (Array.isArray(val)) {
      return val.map(function(v) {
        return v.api();
      });
    } else if (val) {
      return val.api();
    }
  }
  function useApp(fn) {
    useApps.push(fn);
  }
  function directive() {
    var data5 = nameProp.apply(void 0, arguments);
    if (data5.id && data5.prop) directives[data5.id] = data5.prop;
  }
  function register() {
    var data5 = nameProp.apply(void 0, arguments);
    if (data5.id && data5.prop) providers[data5.id] = is.Function(data5.prop) ? data5.prop : _objectSpread2(_objectSpread2({}, data5.prop), {}, {
      name: data5.id
    });
  }
  function componentAlias(alias2) {
    CreateNode.use(alias2);
  }
  function parser() {
    var data5 = nameProp.apply(void 0, arguments);
    if (!data5.id || !data5.prop) return BaseParser;
    var name2 = toCase(data5.id);
    var parser2 = data5.prop;
    var base = parser2.merge === true ? parsers2[name2] : void 0;
    parsers2[name2] = setPrototypeOf(parser2, base || BaseParser);
    maker2[name2] = creatorFactory(name2);
    parser2.maker && extend(maker2, parser2.maker);
  }
  function component(id2, component2) {
    var name2;
    if (is.String(id2)) {
      name2 = id2;
      if (component2 === void 0) {
        return components2[name2];
      }
    } else {
      name2 = id2.displayName || id2.name;
      component2 = id2;
    }
    if (!name2 || !component2) return;
    var nameAlias = toCase(name2);
    components2[name2] = component2;
    components2[nameAlias] = component2;
    delete CreateNode.aliasMap[name2];
    delete CreateNode.aliasMap[nameAlias];
    delete parsers2[name2];
    delete parsers2[nameAlias];
    if (component2.formCreateParser) parser(name2, component2.formCreateParser);
  }
  function $form() {
    return $FormCreate(FormCreate2, components2, directives);
  }
  function createFormApp(rule, option) {
    var Type = $form();
    return createApp({
      data: function data5() {
        return reactive({
          rule,
          option
        });
      },
      render: function render17() {
        return h(Type, _objectSpread2({
          ref: "fc"
        }, this.$data));
      }
    });
  }
  function $vnode() {
    return fragment;
  }
  function use(fn, opt) {
    if (is.Function(fn.install)) fn.install(create2, opt);
    else if (is.Function(fn)) fn(create2, opt);
    return this;
  }
  function create2(rules, option) {
    var app = createFormApp(rules, option || {});
    useApps.forEach(function(v) {
      invoke(function() {
        return v(create2, app);
      });
    });
    var div = document.createElement("div");
    ((option === null || option === void 0 ? void 0 : option.el) || document.body).appendChild(div);
    var vm2 = app.mount(div);
    return vm2.$refs.fc.fapi;
  }
  setPrototypeOf(create2, prototype);
  function factory(inherit2) {
    var _config = _objectSpread2({}, config);
    if (inherit2) {
      _config.inherit = {
        components: components2,
        parsers: parsers2,
        directives,
        modelFields,
        providers,
        useApps,
        maker: maker2,
        formulas,
        loadData: loadData3
      };
    } else {
      delete _config.inherit;
    }
    return FormCreateFactory(_config);
  }
  function setModelField(name2, field) {
    modelFields[name2] = field;
  }
  function setFormula(name2, fn) {
    formulas[name2] = fn;
  }
  function setDriver(name2, driver) {
    var parent = drivers[name2] || {};
    var parsers3 = parent.parsers || {};
    if (driver.parsers) {
      Object.keys(driver.parsers).forEach(function(k) {
        parsers3[k] = setPrototypeOf(driver.parsers[k], BaseParser);
      });
    }
    driver.name = name2;
    drivers[name2] = _objectSpread2(_objectSpread2(_objectSpread2({}, parent), driver), {}, {
      parsers: parsers3
    });
  }
  function refreshData(id2) {
    if (id2) {
      Object.keys(instance).forEach(function(v) {
        var apis = Array.isArray(instance[v]) ? instance[v] : [instance[v]];
        apis.forEach(function(that) {
          that.bus.$emit("$loadData." + id2);
        });
      });
    }
  }
  function _setData(id2, data5) {
    deepSet(loadData3, id2, data5);
    refreshData(id2);
  }
  function setDataDriver(id2, data5) {
    var callback = function callback2() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      return invoke(function() {
        return data5.apply(void 0, args);
      });
    };
    callback._driver = true;
    _setData(id2, callback);
  }
  function getData(id2, def) {
    var split = (id2 || "").split(".");
    id2 = split.shift();
    var field = split.join(".");
    if (!hasProperty(loadData3, id2)) {
      loadData3[id2] = defValueTag;
    }
    if (loadData3[id2] !== defValueTag) {
      var val = loadData3[id2];
      if (val && val._driver) {
        val = val(field);
      } else if (split.length) {
        val = deepGet(val, split);
      }
      return val == null || val === "" ? def : val;
    } else {
      return def;
    }
  }
  function extendApi2(fn) {
    extendApiFn.push(fn);
  }
  function removeData(id2) {
    delete loadData3[id2];
    refreshData(id2);
  }
  function on2(name2, callback) {
    listener.push({
      name: name2,
      callback
    });
  }
  function FormCreate2(vm2) {
    var _this = this;
    extend(this, {
      id: id++,
      create: create2,
      vm: vm2,
      manager: createManager(config.manager),
      parsers: parsers2,
      providers,
      modelFields,
      formulas,
      isMobile,
      rules: vm2.props.rule,
      name: vm2.props.name || uniqueId(),
      inFor: vm2.props.inFor,
      prop: {
        components: components2,
        directives
      },
      get: null,
      drivers,
      renderDriver: null,
      refreshData,
      loadData: loadData3,
      CreateNode,
      bus: new Mitt(),
      unwatch: [],
      options: ref({}),
      extendApiFn,
      fetchCache: /* @__PURE__ */ new WeakMap(),
      tmpData: reactive({})
    });
    listener.forEach(function(item) {
      _this.bus.$on(item.name, item.callback);
    });
    nextTick(function() {
      watch(_this.options, function() {
        _this.$handle.$manager.updateOptions(_this.options.value);
        _this.api().refresh();
      }, {
        deep: true
      });
    });
    extend(vm2.appContext.components, components2);
    extend(vm2.appContext.directives, directives);
    this.$handle = new Handler(this);
    if (this.name) {
      if (this.inFor) {
        if (!instance[this.name]) instance[this.name] = [];
        instance[this.name].push(this);
      } else {
        instance[this.name] = this;
      }
    }
  }
  FormCreate2.isMobile = isMobile;
  extend(FormCreate2.prototype, {
    init: function init4() {
      var _this2 = this;
      if (this.isSub()) {
        this.unwatch.push(watch(function() {
          return _this2.vm.setupState.parent.setupState.fc.options.value;
        }, function() {
          _this2.initOptions();
          _this2.$handle.api.refresh();
        }, {
          deep: true
        }));
      }
      if (this.vm.props.driver) {
        this.renderDriver = _typeof(this.vm.props.driver) === "object" ? this.vm.props.driver : this.drivers[this.vm.props.driver];
      }
      if (!this.renderDriver && this.vm.setupState.parent) {
        this.renderDriver = this.vm.setupState.parent.setupState.fc.renderDriver;
      }
      if (!this.renderDriver) {
        this.renderDriver = this.drivers["default"];
      }
      this.initOptions();
      this.$handle.init();
    },
    targetFormDriver: function targetFormDriver(method) {
      var _this3 = this;
      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }
      if (this.renderDriver && this.renderDriver[method]) {
        return invoke(function() {
          var _this3$renderDriver;
          return (_this3$renderDriver = _this3.renderDriver)[method].apply(_this3$renderDriver, args);
        });
      }
    },
    t: function t3(id2, params, get) {
      var value = get ? get("$t." + id2) : this.globalLanguageDriver(id2);
      if (value == null) {
        value = "";
      }
      if (value && params) {
        Object.keys(params).forEach(function(param) {
          var regex = new RegExp("{".concat(param, "}"), "g");
          value = value.replace(regex, params[param]);
        });
      }
      return value;
    },
    globalDataDriver: function globalDataDriver(id2) {
      var _this4 = this;
      var split = id2.split(".");
      var key = split.shift();
      var option = this.options.value.globalData && this.options.value.globalData[key];
      if (option) {
        if (option.type === "static") {
          return deepGet(option.data, split);
        } else {
          var val;
          var res = this.fetchCache.get(option);
          if (res) {
            if (res.status) {
              val = deepGet(res.data, split);
            }
            if (!res.loading) {
              return val;
            }
            res.loading = false;
            this.fetchCache.set(option, res);
          } else {
            this.fetchCache.set(option, {
              status: false
            });
          }
          var reload = debounce(function() {
            unwatch2();
            var res2 = _this4.fetchCache.get(option);
            if (_this4.options.value.globalData && Object.values(_this4.options.value.globalData).indexOf(option) !== -1) {
              if (res2) {
                res2.loading = true;
                _this4.fetchCache.set(option, res2);
              }
              _this4.bus.$emit("$loadData.$globalData." + key);
            } else {
              _this4.fetchCache["delete"](option);
            }
          }, option.wait || 600);
          var _emit = function _emit2(data5) {
            _this4.fetchCache.set(option, {
              status: true,
              data: data5
            });
            _this4.bus.$emit("$loadData.$globalData." + key);
          };
          var callback = function callback2(get, change) {
            if (change && option.watch === false) {
              return unwatch2();
            }
            if (change) {
              reload();
              return;
            }
            var options = _this4.$handle.loadFetchVar(copy$1(option), get);
            _this4.$handle.api.fetch(options).then(function(res2) {
              _emit(res2);
            })["catch"](function(e) {
              _emit(null);
            });
          };
          var unwatch2 = this.watchLoadData(callback);
          this.unwatch.push(unwatch2);
          return val;
        }
      }
    },
    getLocale: function getLocale() {
      var locale = this.vm.setupState.top.props.locale;
      if (locale && _typeof(locale) === "object") {
        return locale.name;
      }
      if (typeof locale === "string") {
        return locale;
      }
      return "zh-cn";
    },
    globalLanguageDriver: function globalLanguageDriver(id2) {
      var t3 = this.vm.setupState.top.props.t;
      var locale = this.vm.setupState.top.props.locale;
      var value = void 0;
      if (t3) {
        value = invoke(function() {
          return t3(id2);
        });
      }
      if (value == null && locale && _typeof(locale) === "object") {
        value = deepGet(locale, id2);
      }
      if (value == null) {
        var language = this.options.value.language || {};
        var _locale = this.getLocale();
        value = deepGet(language[_locale] || {}, id2);
        if (value == null) {
          value = deepGet(baseLanguage[_locale] || {}, id2);
        }
      }
      return value;
    },
    globalVarDriver: function globalVarDriver(id2) {
      var _this5 = this;
      var split = id2.split(".");
      var key = split.shift();
      var option = this.options.value.globalVariable && this.options.value.globalVariable[key];
      if (option) {
        var handle = is.Function(option) ? option : parseFn(option.handle);
        if (handle) {
          var val;
          var unwatch2 = this.watchLoadData(function(get, flag) {
            if (flag) {
              _this5.bus.$emit("$loadData.$var." + key);
              unwatch2();
            } else {
              val = handle(get, _this5.$handle.api);
            }
          });
          this.unwatch.push(unwatch2);
          return deepGet(val, split);
        }
      }
    },
    setData: function setData(id2, data5, isGlobal) {
      if (!isGlobal) {
        deepSet(this.vm.setupState.top.setupState.fc.tmpData, id2, data5);
        this.bus.$emit("$loadData." + id2);
      } else {
        _setData(id2, data5);
      }
    },
    getLoadData: function getLoadData(id2, def) {
      var val = null;
      if (id2 != null) {
        var split = id2.split(".");
        var key = split.shift();
        val = deepGet(this.vm.setupState.top.setupState.fc.tmpData, id2);
        if (val != null) {
          return val;
        } else if (key === "$topForm") {
          val = this.$handle.api.top.formData(true);
        } else if (key === "$scopeForm") {
          val = this.$handle.api.scope.formData(true);
        } else if (key === "$form") {
          val = this.$handle.api.formData(true);
        } else if (key === "$options") {
          val = this.options.value;
        } else if (key === "$globalData") {
          val = this.globalDataDriver(split.join("."));
          split = [];
        } else if (key === "$var") {
          val = this.globalVarDriver(split.join("."));
          split = [];
        } else if (key === "$locale") {
          val = this.getLocale();
          split = [];
        } else if (key === "$t") {
          val = this.globalLanguageDriver(split.join("."));
          split = [];
        } else if (key === "$preview") {
          return this.$handle.preview;
        } else {
          val = getData(id2);
          split = [];
        }
        if (val && split.length) {
          val = deepGet(val, split);
        }
      }
      return val == null || val === "" ? def : val;
    },
    watchLoadData: function watchLoadData(fn, wait) {
      var _this6 = this;
      var unwatch2 = {};
      var run = function run2(flag) {
        if (!_this6.get) {
          _this6.get = get;
        }
        invoke(function() {
          fn(get, flag);
        });
        if (_this6.get === get) {
          _this6.get = void 0;
        }
      };
      var get = function get2(id2, def) {
        var getValue;
        if (_typeof(id2) === "object") {
          getValue = id2.getValue;
          id2 = id2.id;
        }
        if (unwatch2[id2]) {
          return unwatch2[id2].val;
        }
        var data5 = computed(function() {
          return getValue ? getValue() : _this6.getLoadData(id2, def);
        });
        var split = id2.split(".");
        var key = split.shift();
        var key2 = split.shift() || "";
        var callback = debounce(function() {
          var temp = getValue ? getValue() : _this6.getLoadData(id2, def);
          if (!unwatch2[id2]) {
            return;
          } else if ((temp instanceof Function || is.Object(temp) || Array.isArray(temp)) && temp === unwatch2[id2].val || JSON.stringify(temp) !== JSON.stringify(unwatch2[id2].val)) {
            unwatch2[id2].val = temp;
            run(true);
          }
        }, wait || 0);
        var un2 = watch(data5, function(n) {
          callback();
        });
        _this6.bus.$on("$loadData." + key, callback);
        if (key2) {
          _this6.bus.$on("$loadData." + key + "." + key2, callback);
        }
        unwatch2[id2] = {
          fn: function fn2() {
            _this6.bus.$off("$loadData." + key, callback);
            if (key2) {
              _this6.bus.$off("$loadData." + key + "." + key2, callback);
            }
            un2();
          },
          val: data5.value
        };
        return data5.value;
      };
      run(false);
      var un = function un2() {
        Object.keys(unwatch2).forEach(function(k) {
          return unwatch2[k].fn();
        });
        unwatch2 = {};
      };
      this.unwatch.push(un);
      return un;
    },
    isSub: function isSub() {
      return this.vm.setupState.parent && this.vm.props.extendOption;
    },
    initOptions: function initOptions() {
      this.options.value = {};
      var options = _objectSpread2({
        formData: {},
        submitBtn: {},
        resetBtn: {},
        globalEvent: {},
        globalData: {}
      }, deepCopy(globalConfig));
      if (this.isSub()) {
        options = this.mergeOptions(options, this.vm.setupState.parent.setupState.fc.options.value || {}, true);
      }
      options = this.mergeOptions(options, this.vm.props.option);
      this.updateOptions(options);
    },
    mergeOptions: function mergeOptions2(target, opt, parent) {
      opt = _objectSpread2({}, opt || {});
      parent && ["page", "onSubmit", "onReset", "onCreated", "onChange", "onMounted", "mounted", "onReload", "reload", "formData", "el", "globalClass", "style"].forEach(function(n) {
        delete opt[n];
      });
      if (opt.global) {
        target.global = mergeGlobal(target.global, opt.global);
        delete opt.global;
      }
      this.$handle.$manager.mergeOptions([opt], target);
      return target;
    },
    updateOptions: function updateOptions2(options) {
      this.options.value = this.mergeOptions(this.options.value, options);
      this.$handle.$manager.updateOptions(this.options.value);
      this.bus.$emit("$loadData.$options");
    },
    api: function api() {
      return this.$handle.api;
    },
    render: function render17() {
      return this.$handle.render();
    },
    mounted: function mounted7() {
      this.$handle.mounted();
    },
    unmount: function unmount() {
      var _this7 = this;
      if (this.name) {
        if (this.inFor) {
          var idx = instance[this.name].indexOf(this);
          instance[this.name].splice(idx, 1);
        } else {
          delete instance[this.name];
        }
      }
      listener.forEach(function(item) {
        _this7.bus.$off(item.name, item.callback);
      });
      this.tmpData = {};
      this.unwatch.forEach(function(fn) {
        return fn();
      });
      this.unwatch = [];
      this.$handle.reloadRule([]);
    },
    updated: function updated() {
      var _this8 = this;
      this.$handle.bindNextTick(function() {
        return _this8.bus.$emit("next-tick", _this8.$handle.api);
      });
    }
  });
  function useAttr(formCreate) {
    extend(formCreate, {
      version: config.version,
      ui: config.ui,
      isMobile,
      extendApi: extendApi2,
      getData,
      setDataDriver,
      setData: _setData,
      removeData,
      refreshData,
      maker: maker2,
      component,
      directive,
      setModelField,
      setFormula,
      setDriver,
      register,
      $vnode,
      parser,
      use,
      factory,
      componentAlias,
      copyRule,
      copyRules,
      mergeRule,
      fetch: fetch$1,
      $form,
      parseFn,
      parseJson,
      toJson,
      useApp,
      getApi,
      on: on2
    });
  }
  function useStatic(formCreate) {
    extend(formCreate, {
      create: create2,
      install: function install2(app, options) {
        globalConfig = _objectSpread2(_objectSpread2({}, globalConfig), options || {});
        var key = "_installedFormCreate_" + config.ui;
        if (app[key] === true) return;
        app[key] = true;
        var $formCreate = function $formCreate2(rules) {
          var opt = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          return create2(rules, opt);
        };
        useAttr($formCreate);
        app.config.globalProperties.$formCreate = $formCreate;
        var $component = $form();
        app.component($component.name, $component);
        useApps.forEach(function(v) {
          invoke(function() {
            return v(formCreate, app);
          });
        });
      }
    });
  }
  useAttr(prototype);
  useStatic(prototype);
  setDataDriver("$cookie", cookieDriver);
  setDataDriver("$localStorage", localStorageDriver);
  setDataDriver("$sessionStorage", sessionStorageDriver);
  CreateNode.use({
    fragment: "fcFragment"
  });
  config.install && create2.use(config);
  useApp(function(_7, app) {
    app.mixin({
      props: ["formCreateInject"]
    });
  });
  parser(html);
  if (config.inherit) {
    var inherit = config.inherit;
    inherit.components && extend(components2, inherit.components);
    inherit.parsers && extend(parsers2, inherit.parsers);
    inherit.directives && extend(directives, inherit.directives);
    inherit.modelFields && extend(modelFields, inherit.modelFields);
    inherit.providers && extend(providers, inherit.providers);
    inherit.useApps && extend(useApps, inherit.useApps);
    inherit.maker && extend(maker2, inherit.maker);
    inherit.loadData && extend(loadData3, inherit.loadData);
    inherit.formulas && extend(formulas, inherit.formulas);
  }
  var FcComponent = $form();
  setPrototypeOf(FcComponent, prototype);
  Object.defineProperties(FcComponent, {
    fetch: {
      get: function get() {
        return prototype.fetch;
      },
      set: function set(val) {
        prototype.fetch = val;
      }
    }
  });
  FcComponent.util = prototype;
  return FcComponent;
}
var DEFAULT_FORMATS = {
  date: "YYYY-MM-DD",
  month: "YYYY-MM",
  week: "YYYY-wo",
  datetime: "YYYY-MM-DD HH:mm:ss",
  timerange: "HH:mm:ss",
  daterange: "YYYY-MM-DD",
  monthrange: "YYYY-MM",
  datetimerange: "YYYY-MM-DD HH:mm:ss",
  year: "YYYY"
};
var name$5 = "datePicker";
var datePicker = {
  name: name$5,
  maker: function() {
    return ["year", "month", "date", "dates", "week", "datetime", "datetimeRange", "dateRange", "monthRange"].reduce(function(initial, type2) {
      initial[type2] = creatorFactory(name$5, {
        type: type2.toLowerCase()
      });
      return initial;
    }, {});
  }(),
  mergeProp: function mergeProp4(ctx) {
    var props = ctx.prop.props;
    if (!props.valueFormat) {
      props.valueFormat = DEFAULT_FORMATS[props.type] || DEFAULT_FORMATS["date"];
    }
  }
};
var name$4 = "hidden";
var hidden = {
  name: name$4,
  maker: _defineProperty({}, name$4, function(field, value) {
    return creatorFactory(name$4)("", field, value);
  }),
  render: function render14() {
    return [];
  }
};
var name$3 = "input";
var input3 = {
  name: name$3,
  maker: function() {
    var maker2 = ["password", "url", "email", "text", "textarea"].reduce(function(maker3, type2) {
      maker3[type2] = creatorFactory(name$3, {
        type: type2
      });
      return maker3;
    }, {});
    maker2.idate = creatorFactory(name$3, {
      type: "date"
    });
    return maker2;
  }(),
  mergeProp: function mergeProp5(ctx) {
    var props = ctx.prop.props;
    if (props && props.autosize && props.autosize.minRows) {
      props.rows = props.autosize.minRows || 2;
    }
  }
};
var name$2 = "slider";
var slider = {
  name: name$2,
  maker: {
    sliderRange: creatorFactory(name$2, {
      range: true
    })
  },
  toFormValue: function toFormValue3(value, ctx) {
    var isArr = Array.isArray(value), props = ctx.prop.props, min = props.min || 0, parseValue;
    if (props.range === true) {
      parseValue = isArr ? value : [min, parseFloat(value) || min];
    } else {
      parseValue = isArr ? parseFloat(value[0]) || min : parseFloat(value);
    }
    return parseValue;
  }
};
var name$1 = "timePicker";
var timePicker = {
  name: name$1,
  maker: {
    time: creatorFactory(name$1, function(m) {
      return m.props.isRange = false;
    }),
    timeRange: creatorFactory(name$1, function(m) {
      return m.props.isRange = true;
    })
  },
  mergeProp: function mergeProp6(ctx) {
    var props = ctx.prop.props;
    if (!props.valueFormat) {
      props.valueFormat = "HH:mm:ss";
    }
  }
};
var row = {
  name: "FcRow",
  render: function render15(_7, ctx) {
    return ctx.vNode.col({
      props: {
        span: 24
      }
    }, {
      "default": function _default15() {
        return [ctx.vNode.row(ctx.prop, _7)];
      }
    });
  }
};
var name = "select";
var select = {
  name,
  toFormValue: function toFormValue4(value, ctx) {
    if (ctx.prop.props.multiple && !Array.isArray(value)) {
      return toArray(value);
    } else {
      return value;
    }
  }
};
var parsers = [datePicker, hidden, input3, slider, timePicker, row, select];
var PRE = "el";
var alias = {
  button: PRE + "-button",
  icon: PRE + "-icon",
  slider: PRE + "-slider",
  rate: PRE + "-rate",
  upload: "fc-upload",
  cascader: PRE + "-cascader",
  popover: PRE + "-popover",
  tooltip: PRE + "-tooltip",
  colorPicker: PRE + "-colorPicker",
  timePicker: PRE + "-time-picker",
  timeSelect: PRE + "-time-select",
  datePicker: PRE + "-date-picker",
  "switch": PRE + "-switch",
  select: "fc-select",
  checkbox: "fc-checkbox",
  radio: "fc-radio",
  inputNumber: PRE + "-input-number",
  number: PRE + "-input-number",
  input: PRE + "-input",
  formItem: PRE + "-form-item",
  form: PRE + "-form",
  frame: "fc-frame",
  col: PRE + "-col",
  row: PRE + "-row",
  tree: "fc-tree",
  autoComplete: PRE + "-autocomplete",
  auto: PRE + "-autocomplete",
  group: "fc-group",
  array: "fc-group",
  object: "fc-sub-form",
  subForm: "fc-sub-form"
};
function getConfig() {
  return {
    form: {
      inline: false,
      labelPosition: "right",
      labelWidth: "125px",
      disabled: false,
      size: void 0
    },
    row: {
      show: true,
      gutter: 0
    },
    submitBtn: {
      type: "primary",
      loading: false,
      disabled: false,
      innerText: "",
      show: true,
      col: void 0,
      click: void 0
    },
    resetBtn: {
      type: "default",
      loading: false,
      disabled: false,
      innerText: "",
      show: false,
      col: void 0,
      click: void 0
    }
  };
}
function isTooltip(info) {
  return info.type === "tooltip";
}
function tidy(props, name2) {
  if (!hasProperty(props, name2)) return;
  if (is.String(props[name2])) {
    var _props$name;
    props[name2] = (_props$name = {}, _defineProperty(_props$name, name2, props[name2]), _defineProperty(_props$name, "show", true), _props$name);
  }
}
function isFalse(val) {
  return val === false;
}
function tidyBool(opt, name2) {
  if (hasProperty(opt, name2) && !is.Object(opt[name2])) {
    opt[name2] = {
      show: !!opt[name2]
    };
  }
}
function tidyRule2(rule) {
  var _rule = _objectSpread2({}, rule);
  delete _rule.children;
  return _rule;
}
var manager = {
  validate: function validate() {
    var form2 = this.form();
    if (form2) {
      return form2.validate();
    } else {
      return new Promise(function(v) {
        return v();
      });
    }
  },
  validateField: function validateField(field) {
    var _this = this;
    return new Promise(function(resolve, reject) {
      var form2 = _this.form();
      if (form2) {
        form2.validateField(field, function(res, err2) {
          err2 ? reject(err2) : resolve(res);
        });
      } else {
        resolve();
      }
    });
  },
  clearValidateState: function clearValidateState(ctx) {
    var fItem = this.vm.refs[ctx.wrapRef];
    if (fItem) {
      fItem.clearValidate();
    }
  },
  fieldChange: function fieldChange2(ctx, value, formValue, setFlag) {
    if (!setFlag) {
      var _this$vm$refs$ctx$wra, _this$vm$refs$ctx$wra2;
      (_this$vm$refs$ctx$wra = this.vm.refs[ctx.wrapRef]) === null || _this$vm$refs$ctx$wra === void 0 ? void 0 : (_this$vm$refs$ctx$wra2 = _this$vm$refs$ctx$wra.validate("change")) === null || _this$vm$refs$ctx$wra2 === void 0 ? void 0 : _this$vm$refs$ctx$wra2["catch"](function() {
      });
    }
  },
  tidyOptions: function tidyOptions2(options) {
    ["submitBtn", "resetBtn", "row", "info", "wrap", "col", "title"].forEach(function(name2) {
      tidyBool(options, name2);
    });
    return options;
  },
  tidyRule: function tidyRule3(_ref) {
    var prop = _ref.prop;
    tidy(prop, "title");
    tidy(prop, "info");
    return prop;
  },
  mergeProp: function mergeProp7(ctx) {
    var _this2 = this;
    var def = {
      info: {
        trigger: "hover",
        placement: "top-start",
        icon: true
      },
      title: {},
      col: {
        span: 24
      },
      wrap: {}
    };
    ["info", "wrap", "col", "title"].forEach(function(name2) {
      ctx.prop[name2] = mergeProps2([_this2.options[name2] || {}, ctx.prop[name2] || {}], def[name2]);
    });
  },
  getDefaultOptions: function getDefaultOptions2() {
    return getConfig();
  },
  update: function update4() {
    var form2 = this.options.form;
    this.rule = {
      props: _objectSpread2({}, form2),
      on: {
        submit: function submit(e) {
          e.preventDefault();
        }
      },
      style: form2.style,
      type: "form"
    };
  },
  beforeRender: function beforeRender2() {
    var key = this.key, ref2 = this.ref, $handle = this.$handle;
    var form2 = this.options.form;
    extend(this.rule, {
      key,
      ref: ref2,
      "class": [form2.className, form2["class"], "form-create", this.$handle.preview ? "is-preview" : ""]
    });
    extend(this.rule.props, {
      model: $handle.formData
    });
  },
  render: function render16(children) {
    var _this3 = this;
    if (children.slotLen() && !this.$handle.preview) {
      children.setSlot(void 0, function() {
        return _this3.makeFormBtn();
      });
    }
    return this.$r(this.rule, isFalse(this.options.row.show) ? children.getSlots() : [this.makeRow(children)]);
  },
  makeWrap: function makeWrap(ctx, children) {
    var _this4 = this;
    var rule = ctx.prop;
    var uni = "".concat(this.key).concat(ctx.key);
    var col = rule.col;
    var isTitle2 = this.isTitle(rule) && rule.wrap.title !== false;
    var labelWidth = !col.labelWidth && !isTitle2 ? 0 : col.labelWidth;
    var _this$rule$props = this.rule.props, inline = _this$rule$props.inline, _col = _this$rule$props.col;
    var cls = rule.wrap["class"];
    delete rule.wrap["class"];
    delete rule.wrap.title;
    var item = isFalse(rule.wrap.show) ? children : this.$r(mergeProps2([rule.wrap, {
      props: _objectSpread2(_objectSpread2({
        labelWidth: labelWidth === void 0 ? labelWidth : toString(labelWidth),
        label: isTitle2 ? rule.title.title : void 0
      }, tidyRule2(rule.wrap || {})), {}, {
        prop: ctx.id,
        rules: ctx.injectValidate()
      }),
      "class": this.$render.mergeClass(cls || rule.className, "fc-form-item"),
      key: "".concat(uni, "fi"),
      ref: ctx.wrapRef,
      type: "formItem"
    }]), _objectSpread2({
      "default": function _default15() {
        return children;
      }
    }, isTitle2 ? {
      label: function label() {
        return _this4.makeInfo(rule, uni, ctx);
      }
    } : {}));
    return inline === true || isFalse(_col) || isFalse(col.show) ? item : this.makeCol(rule, uni, [item]);
  },
  isTitle: function isTitle(rule) {
    if (this.options.form.title === false) return false;
    var title = rule.title;
    return !(!title.title && !title["native"] || isFalse(title.show));
  },
  makeInfo: function makeInfo(rule, uni, ctx) {
    var _ctx$refRule, _ctx$refRule$__$title, _ctx$refRule2, _ctx$refRule2$__$titl, _this5 = this;
    var titleProp = _objectSpread2({}, rule.title);
    var infoProp = _objectSpread2({}, rule.info);
    var isTip = isTooltip(infoProp);
    var form2 = this.options.form;
    var titleSlot = this.getSlot("title");
    var children = [titleSlot ? titleSlot({
      title: (_ctx$refRule = ctx.refRule) === null || _ctx$refRule === void 0 ? void 0 : (_ctx$refRule$__$title = _ctx$refRule.__$title) === null || _ctx$refRule$__$title === void 0 ? void 0 : _ctx$refRule$__$title.value,
      rule: ctx.rule,
      options: this.options
    }) : ((_ctx$refRule2 = ctx.refRule) === null || _ctx$refRule2 === void 0 ? void 0 : (_ctx$refRule2$__$titl = _ctx$refRule2.__$title) === null || _ctx$refRule2$__$titl === void 0 ? void 0 : _ctx$refRule2$__$titl.value) + (form2.labelSuffix || form2["label-suffix"] || "")];
    if (!isFalse(infoProp.show) && (infoProp.info || infoProp["native"]) && !isFalse(infoProp.icon)) {
      var prop = {
        type: infoProp.type || "popover",
        props: tidyRule2(infoProp),
        key: "".concat(uni, "pop")
      };
      delete prop.props.icon;
      delete prop.props.show;
      delete prop.props.info;
      delete prop.props.align;
      delete prop.props["native"];
      var field = "content";
      if (infoProp.info && !hasProperty(prop.props, field)) {
        var _ctx$refRule3, _ctx$refRule3$__$info;
        prop.props[field] = (_ctx$refRule3 = ctx.refRule) === null || _ctx$refRule3 === void 0 ? void 0 : (_ctx$refRule3$__$info = _ctx$refRule3.__$info) === null || _ctx$refRule3$__$info === void 0 ? void 0 : _ctx$refRule3$__$info.value;
      }
      children[infoProp.align !== "left" ? "unshift" : "push"](this.$r(mergeProps2([infoProp, prop]), _defineProperty({}, titleProp.slot || (isTip ? "default" : "reference"), function() {
        return _this5.$r({
          type: "ElIcon",
          style: "top:2px",
          key: "".concat(uni, "i")
        }, {
          "default": function _default15() {
            return _this5.$r({
              type: infoProp.icon === true ? "icon-warning" : infoProp.icon
            });
          }
        }, true);
      })));
    }
    var _prop = mergeProps2([titleProp, {
      props: tidyRule2(titleProp),
      key: "".concat(uni, "tit"),
      "class": "fc-form-title",
      type: titleProp.type || "span"
    }]);
    delete _prop.props.show;
    delete _prop.props.title;
    delete _prop.props["native"];
    return this.$r(_prop, children);
  },
  makeCol: function makeCol(rule, uni, children) {
    var col = rule.col;
    return this.$r({
      "class": this.$render.mergeClass(col["class"], "fc-form-col"),
      type: "col",
      props: col || {
        span: 24
      },
      key: "".concat(uni, "col")
    }, children);
  },
  makeRow: function makeRow(children) {
    var row2 = this.options.row || {};
    return this.$r({
      type: "row",
      props: row2,
      "class": this.$render.mergeClass(row2["class"], "fc-form-row"),
      key: "".concat(this.key, "row")
    }, children);
  },
  makeFormBtn: function makeFormBtn() {
    var vn = [];
    if (!isFalse(this.options.submitBtn.show)) {
      vn.push(this.makeSubmitBtn());
    }
    if (!isFalse(this.options.resetBtn.show)) {
      vn.push(this.makeResetBtn());
    }
    if (!vn.length) {
      return;
    }
    var item = this.$r({
      type: "formItem",
      "class": "fc-form-item",
      key: "".concat(this.key, "fb")
    }, vn);
    return this.rule.props.inline === true ? item : this.$r({
      type: "col",
      "class": "fc-form-col fc-form-footer",
      props: {
        span: 24
      },
      key: "".concat(this.key, "fc")
    }, [item]);
  },
  makeResetBtn: function makeResetBtn() {
    var _this6 = this;
    var resetBtn = _objectSpread2({}, this.options.resetBtn);
    var innerText = resetBtn.innerText || this.$handle.api.t("reset") || "重置";
    delete resetBtn.innerText;
    delete resetBtn.click;
    delete resetBtn.col;
    delete resetBtn.show;
    return this.$r({
      type: "button",
      props: resetBtn,
      "class": "fc-reset-btn",
      style: {
        width: resetBtn.width
      },
      on: {
        click: function click() {
          var fApi = _this6.$handle.api;
          _this6.options.resetBtn.click ? _this6.options.resetBtn.click(fApi) : fApi.resetFields();
        }
      },
      key: "".concat(this.key, "b2")
    }, [innerText]);
  },
  makeSubmitBtn: function makeSubmitBtn() {
    var _this7 = this;
    var submitBtn = _objectSpread2({}, this.options.submitBtn);
    var innerText = submitBtn.innerText || this.$handle.api.t("submit") || "提交";
    delete submitBtn.innerText;
    delete submitBtn.click;
    delete submitBtn.col;
    delete submitBtn.show;
    return this.$r({
      type: "button",
      props: submitBtn,
      "class": "fc-submit-btn",
      style: {
        width: submitBtn.width
      },
      on: {
        click: function click() {
          var fApi = _this7.$handle.api;
          _this7.options.submitBtn.click ? _this7.options.submitBtn.click(fApi) : fApi.submit()["catch"](function() {
          });
        }
      },
      key: "".concat(this.key, "b1")
    }, [innerText]);
  }
};
var maker$1 = {};
useAlias(maker$1);
useSelect(maker$1);
useTree(maker$1);
useUpload(maker$1);
useFrame(maker$1);
function useAlias(maker2) {
  ["group", "tree", "switch", "upload", "autoComplete", "checkbox", "cascader", "colorPicker", "datePicker", "frame", "inputNumber", "radio", "rate"].forEach(function(name2) {
    maker2[name2] = creatorFactory(name2);
  });
  maker2.auto = maker2.autoComplete;
  maker2.number = maker2.inputNumber;
  maker2.color = maker2.colorPicker;
}
function useSelect(maker2) {
  var select2 = "select";
  var multiple = "multiple";
  maker2["selectMultiple"] = creatorFactory(select2, _defineProperty({}, multiple, true));
  maker2["selectOne"] = creatorFactory(select2, _defineProperty({}, multiple, false));
}
function useTree(maker2) {
  var name2 = "tree";
  var types = {
    "treeSelected": "selected",
    "treeChecked": "checked"
  };
  Object.keys(types).reduce(function(m, key) {
    m[key] = creatorFactory(name2, {
      type: types[key]
    });
    return m;
  }, maker2);
}
function useUpload(maker2) {
  var name2 = "upload";
  var types = {
    image: ["image", 0],
    file: ["file", 0],
    uploadFileOne: ["file", 1],
    uploadImageOne: ["image", 1]
  };
  Object.keys(types).reduce(function(m, key) {
    m[key] = creatorFactory(name2, function(m2) {
      return m2.props({
        uploadType: types[key][0],
        maxLength: types[key][1]
      });
    });
    return m;
  }, maker2);
  maker2.uploadImage = maker2.image;
  maker2.uploadFile = maker2.file;
}
function useFrame(maker2) {
  var types = {
    frameInputs: ["input", 0],
    frameFiles: ["file", 0],
    frameImages: ["image", 0],
    frameInputOne: ["input", 1],
    frameFileOne: ["file", 1],
    frameImageOne: ["image", 1]
  };
  Object.keys(types).reduce(function(maker3, key) {
    maker3[key] = creatorFactory("frame", function(m) {
      return m.props({
        type: types[key][0],
        maxLength: types[key][1]
      });
    });
    return maker3;
  }, maker2);
  maker2.frameInput = maker2.frameInputs;
  maker2.frameFile = maker2.frameFiles;
  maker2.frameImage = maker2.frameImages;
  return maker2;
}
var css_248z = ".form-create .form-create .el-form-item{margin-bottom:22px}.form-create{width:100%}.form-create .fc-none,.form-create.is-preview .el-form-item.is-required>.el-form-item__label-wrap>.el-form-item__label:before,.form-create.is-preview .el-form-item.is-required>.el-form-item__label:before,.form-create.is-preview .fc-clock{display:none!important}.fc-wrap-right>.el-form-item__label{display:flex;justify-content:flex-end}.fc-wrap-left>.el-form-item__label{display:flex;justify-content:flex-start}.fc-wrap-top.el-form-item{display:block}.fc-wrap-top.el-form-item>.el-form-item__label{display:block;height:auto;line-height:22px;margin-bottom:8px;text-align:left}.el-form--large .fc-wrap-top.el-form-item>.el-form-item__label{line-height:22px;margin-bottom:12px}.el-form--default .fc-wrap-top.el-form-item>.el-form-item__label{line-height:22px;margin-bottom:8px}.el-form--small .fc-wrap-top.el-form-item>.el-form-item__label{line-height:20px;margin-bottom:4px}.fc-form-footer{margin-top:12px}";
styleInject(css_248z);
function tidyBtnProp(btn, def) {
  if (is.Boolean(btn)) btn = {
    show: btn
  };
  else if (!is.Undef(btn) && !is.Object(btn)) btn = {
    show: def
  };
  return btn;
}
function extendApi(api, h2) {
  return {
    formEl: function formEl() {
      return h2.$manager.form();
    },
    wrapEl: function wrapEl(id2) {
      var ctx = h2.getFieldCtx(id2);
      if (!ctx) return;
      return h2.vm.refs[ctx.wrapRef];
    },
    validate: function validate2(callback) {
      return new Promise(function(resolve, reject) {
        var forms = api.children;
        var all = [h2.$manager.validate()];
        forms.filter(function(v) {
          return !v.isScope;
        }).forEach(function(v) {
          all.push(v.validate());
        });
        Promise.all(all).then(function() {
          resolve(true);
          callback && callback(true);
        })["catch"](function(e) {
          reject(e);
          callback && callback(e);
          h2.vm.emit("validate-fail", e, {
            api
          });
        });
      });
    },
    validateField: function validateField2(field, callback) {
      return new Promise(function(resolve, reject) {
        var ctx = h2.getFieldCtx(field);
        if (!ctx) return;
        var sub = h2.subForm[ctx.id];
        var all = [h2.$manager.validateField(ctx.id)];
        toArray(sub).filter(function(v) {
          return !v.isScope;
        }).forEach(function(v) {
          all.push(v.validate());
        });
        Promise.all(all).then(function() {
          resolve(null);
          callback && callback(null);
        })["catch"](function(e) {
          reject(e);
          callback && callback(e);
          h2.vm.emit("validate-field-fail", e, {
            field,
            api
          });
        });
      });
    },
    clearValidateState: function clearValidateState2(fields) {
      var _this = this;
      var clearSub = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;
      api.helper.tidyFields(fields).forEach(function(field) {
        if (clearSub) _this.clearSubValidateState(field);
        h2.getCtxs(field).forEach(function(ctx) {
          h2.$manager.clearValidateState(ctx);
        });
      });
    },
    clearSubValidateState: function clearSubValidateState(fields) {
      api.helper.tidyFields(fields).forEach(function(field) {
        h2.getCtxs(field).forEach(function(ctx) {
          var subForm = h2.subForm[ctx.id];
          if (!subForm) return;
          if (Array.isArray(subForm)) {
            subForm.forEach(function(form2) {
              form2.clearValidateState();
            });
          } else if (subForm) {
            subForm.clearValidateState();
          }
        });
      });
    },
    btn: {
      loading: function loading() {
        var _loading = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
        api.submitBtnProps({
          loading: !!_loading
        });
      },
      disabled: function disabled() {
        var _disabled = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
        api.submitBtnProps({
          disabled: !!_disabled
        });
      },
      show: function show() {
        var isShow = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
        api.submitBtnProps({
          show: !!isShow
        });
      }
    },
    resetBtn: {
      loading: function loading() {
        var _loading2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
        api.resetBtnProps({
          loading: !!_loading2
        });
      },
      disabled: function disabled() {
        var _disabled2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
        api.resetBtnProps({
          disabled: !!_disabled2
        });
      },
      show: function show() {
        var isShow = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
        api.resetBtnProps({
          show: !!isShow
        });
      }
    },
    submitBtnProps: function submitBtnProps() {
      var props = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      var btn = tidyBtnProp(h2.options.submitBtn, true);
      extend(btn, props);
      h2.options.submitBtn = btn;
      api.refreshOptions();
    },
    resetBtnProps: function resetBtnProps() {
      var props = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      var btn = tidyBtnProp(h2.options.resetBtn, false);
      extend(btn, props);
      h2.options.resetBtn = btn;
      api.refreshOptions();
    },
    submit: function submit(successFn, failFn) {
      return new Promise(function(resolve, reject) {
        var promise = h2.options.validateOnSubmit === false ? Promise.resolve() : api.validate();
        promise.then(function() {
          var formData3 = api.formData();
          h2.beforeSubmit(formData3).then(function() {
            is.Function(successFn) && invoke(function() {
              return successFn(formData3, api);
            });
            is.Function(h2.options.onSubmit) && invoke(function() {
              return h2.options.onSubmit(formData3, api);
            });
            h2.vm.emit("submit", formData3, api);
            resolve(formData3);
          })["catch"](function(e) {
          });
        })["catch"](function() {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          is.Function(failFn) && invoke(function() {
            return failFn.apply(void 0, [api].concat(args));
          });
          reject.apply(void 0, args);
        });
      });
    }
  };
}
var required = {
  name: "required",
  load: function load2(inject2, rule, api) {
    var val = parseVal(inject2.getValue());
    if (val.required === false) {
      inject2.clearProp();
      api.clearValidateState([rule.field]);
    } else {
      var _rule$__fc__$refRule$;
      var validate2 = _objectSpread2({
        required: true,
        validator: function validator(_7, v, call) {
          is.empty(v) ? call(validate2.message) : call();
        }
      }, val);
      var title = (_rule$__fc__$refRule$ = rule.__fc__.refRule.__$title) === null || _rule$__fc__$refRule$ === void 0 ? void 0 : _rule$__fc__$refRule$.value;
      if (!validate2.message) {
        validate2.message = api.t("required", {
          title
        }) || title + (api.getLocale() === "en" ? " is required" : "不能为空");
      } else {
        var match = validate2.message.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);
        if (match) {
          validate2.message = api.t(match[1], {
            title
          });
        }
      }
      inject2.getProp().validate = [validate2];
    }
    api.sync(rule);
  },
  watch: function watch3() {
    required.load.apply(required, arguments);
  }
};
function parseVal(val) {
  if (is.Boolean(val)) {
    return {
      required: val
    };
  } else if (is.String(val)) {
    return {
      message: val
    };
  } else if (is.Undef(val)) {
    return {
      required: false
    };
  } else if (is.Function(val)) {
    return {
      validator: val
    };
  } else if (!is.Object(val)) {
    return {};
  } else {
    return val;
  }
}
function install(FormCreate2) {
  FormCreate2.componentAlias(alias);
  components.forEach(function(component) {
    FormCreate2.component(component.name, component);
  });
  FormCreate2.register(required);
  parsers.forEach(function(parser) {
    FormCreate2.parser(parser);
  });
  Object.keys(maker$1).forEach(function(name2) {
    FormCreate2.maker[name2] = maker$1[name2];
  });
  if (typeof window !== "undefined" && window.ElementPlus) {
    FormCreate2.useApp(function(_7, app) {
      app.use(window.ElementPlus);
    });
  }
}
function elmFormCreate() {
  return FormCreateFactory({
    ui: "element-ui",
    version: "3.2.27",
    manager,
    extendApi,
    install,
    attrs: {
      normal: ["col", "wrap"],
      array: ["className"],
      key: ["title", "info"]
    }
  });
}
var FormCreate = elmFormCreate();
if (typeof window !== "undefined") {
  window.formCreate = FormCreate;
}
var maker = FormCreate.maker;

// node_modules/@form-create/designer/dist/index.es.js
(function() {
  "use strict";
  try {
    if (typeof document != "undefined") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode('.CodeMirror{color:#000;direction:ltr;font-family:monospace;height:300px}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{background-color:#f7f7f7;border-right:1px solid #ddd;white-space:nowrap}.CodeMirror-linenumber{color:#999;min-width:20px;padding:0 3px 0 5px;text-align:right;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{background:#7e7;border:0!important;width:auto}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{bottom:0;left:0;overflow:hidden;position:absolute;right:0;top:-50px}.CodeMirror-ruler{border-left:1px solid #ccc;bottom:0;position:absolute;top:0}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{background:#fff;overflow:hidden;position:relative}.CodeMirror-scroll{height:100%;margin-bottom:-50px;margin-right:-50px;outline:none;overflow:scroll!important;padding-bottom:50px;position:relative;z-index:0}.CodeMirror-sizer{border-right:50px solid transparent;position:relative}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{display:none;outline:none;position:absolute;z-index:5}.CodeMirror-vscrollbar{overflow-x:hidden;overflow-y:scroll;right:0;top:0}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-x:scroll;overflow-y:hidden}.CodeMirror-scrollbar-filler{bottom:0;right:0}.CodeMirror-gutter-filler{bottom:0;left:0}.CodeMirror-gutters{left:0;min-height:100%;position:absolute;top:0;z-index:3}.CodeMirror-gutter{display:inline-block;height:100%;margin-bottom:-50px;vertical-align:top;white-space:normal}.CodeMirror-gutter-wrapper{background:none!important;border:none!important;position:absolute;z-index:4}.CodeMirror-gutter-background{bottom:0;position:absolute;top:0;z-index:4}.CodeMirror-gutter-elt{cursor:default;position:absolute;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{word-wrap:normal;-webkit-tap-highlight-color:transparent;background:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-variant-ligatures:contextual;line-height:inherit;margin:0;overflow:visible;position:relative;white-space:pre;z-index:2}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{bottom:0;left:0;position:absolute;right:0;top:0;z-index:0}.CodeMirror-linewidget{padding:.1px;position:relative;z-index:2}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{height:0;overflow:hidden;position:absolute;visibility:hidden;width:100%}.CodeMirror-cursor{pointer-events:none;position:absolute}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{position:relative;visibility:hidden;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror-hints{background:#fff;border:1px solid silver;border-radius:3px;box-shadow:2px 3px 5px #0003;font-family:monospace;font-size:90%;list-style:none;margin:0;max-height:20em;overflow:hidden;overflow-y:auto;padding:2px;position:absolute;z-index:1}.CodeMirror-hint{border-radius:2px;color:#000;cursor:pointer;margin:0;padding:0 4px;white-space:pre}li.CodeMirror-hint-active{background:#08f;color:#fff}._fd-fn{display:flex;flex-direction:column;height:100%;position:relative;width:100%}._fd-fn .el-button{bottom:3px;box-shadow:0 6px 16px #00000014,0 3px 6px -4px #0000001f,0 9px 28px 8px #0000000d;position:absolute;right:5px}._fd-fn-editor{display:flex;flex:1;overflow:auto;width:100%}._fd-fn-editor .CodeMirror{height:100%;width:100%}._fd-fn-tip{color:#000;direction:ltr;font-family:monospace}._fd-fn-tip .cm-keyword{color:#708;line-height:24px;overflow-x:auto;white-space:nowrap}._fd-fn-tip .cm-keyword::-webkit-scrollbar{background-color:transparent;height:0;width:0}._fd-fn-ind{background-color:#f7f7f7;border-right:1px solid #ddd;display:inline-block;float:left;height:24px;margin-right:4px;width:29px}._fd-fn-arg{cursor:pointer;text-decoration:underline}._fd-fn-arg i{color:#3073ff;font-size:12px}._fd-event .el-button{border-color:#2e73ff;color:#2e73ff;font-weight:400;width:100%}._fd-event .el-badge{width:100%}._fd-event-dialog .el-dialog__body{padding:10px 20px}._fd-event-con .el-main{padding:0}._fd-event-l,._fd-event-r{border:1px solid #ececec;display:flex;flex:1;flex-direction:column;height:100%}._fd-event-dropdown .el-dropdown-menu{max-height:500px;overflow:auto}._fd-event-head{align-items:center;background:#f8f9ff;border-bottom:1px solid #eee;display:flex;padding:5px 15px}._fd-event-head .el-button.is-link{color:#2f73ff}._fd-event-r{border-left:0}._fd-event-r ._fd-event-head{justify-content:space-between}._fd-event-l>.el-main,._fd-event-r>.el-main{box-sizing:border-box;display:flex;flex:1;flex-basis:auto;flex-direction:row;min-width:0;width:100%}._fd-event-item,._fd-event-r>.el-main{flex-direction:column}._fd-event-item{display:flex;font-size:14px;justify-content:center;max-width:250px;overflow:hidden;white-space:pre-wrap}._fd-event-item ._fd-label{color:#aaa;font-size:12px}._fd-event-l .el-menu{border-right:0;border-top:0;overflow:auto;padding:0 10px 5px;width:100%}._fd-event-l .el-menu-item.is-active{background:#e4e7ed;color:#303133}._fd-event-l .el-menu-item{border:1px solid #ececec;border-radius:5px;height:auto;line-height:1em;margin-top:5px;padding:0}._fd-event-method{color:#9d238c;display:flex;flex-direction:column;font-family:monospace;font-size:14px;justify-content:center;overflow:hidden;white-space:pre-wrap;width:225px}._fd-event-method ._fd-label{color:#aaa;font-size:12px;margin-top:4px}._fd-event-method>span:first-child,._fd-fn-list-method>span:first-child{color:#9d238c}._fd-event-method>span:first-child>span,._fd-fn-list-method>span:first-child>span{color:#000;margin-left:10px}._fd-event-title{align-items:center;display:flex;justify-content:space-between;padding:10px 0;width:100%}._fd-event-title .fc-icon{color:#282828;font-size:18px;margin-right:6px}._fd-event-title .el-input{width:200px}._fd-event-title .el-input__wrapper{box-shadow:none}._fd-event-title .el-menu-item.is-active i{color:#282828}._fd-event-con .CodeMirror{height:100%;width:100%}._fd-event-con .CodeMirror-wrap pre.CodeMirror-line{padding-left:20px}._fd-type-select{cursor:pointer}._fd-type-select.is-disabled{cursor:default}._fd-type-select .fc-icon{font-size:14px}._fd-type-select-pop{max-height:500px;overflow:auto}._fd-type-select-pop .fc-icon{font-size:14px}._fd-struct,._fd-struct .el-badge{width:100%}._fd-struct .el-button{border-color:#2e73ff;color:#2e73ff;font-weight:400;width:100%}._fd-struct-con .CodeMirror{height:500px}._fd-struct-con .el-dialog__body{padding:0}._fd-props-input{display:inline-block;width:16px}._fd-props-input .fc-icon{cursor:pointer}._fd-language-config{height:100%;overflow:auto}._fd-lc-body,._fd-lc-header{padding:0 12px}._fd-lc-body{overflow:auto}._fd-lc-header{display:flex;justify-content:flex-end;margin-bottom:12px}._fd-language-config .el-table__cell{height:34px}._fd-language-config ._fc-l-info{margin-bottom:12px}._fd-lc-handle{align-items:center;cursor:pointer;display:flex;justify-content:space-between}._fd-struct-editor{flex:1;width:100%}._fd-struct-editor>div{height:100%}._fc-json-preview{color:#262626;display:flex;width:100%}._fc-json-preview .CodeMirror{font-size:12px;height:100%}._fd-warning-pop{max-width:400px}._fd-warning-text{cursor:help;text-decoration:underline;text-decoration-style:dashed}._fd-drag-tool{word-wrap:break-word;box-sizing:border-box;display:block;min-height:20px;outline:1px dashed var(--fc-tool-border-color);overflow:hidden;padding:2px;position:relative;word-break:break-all;z-index:0}._fd-drag-tool ._fd-drag-tool{height:calc(100% - 6px);margin:3px}._fd-drag-tool+._fd-drag-tool{margin-top:5px}._fd-drag-tool.active{outline:1px solid #2e73ff}._fd-drag-tool.active>div>._fd-drag-btn{display:flex}._fd-drag-tool:not(.active):hover>div>._fd-drag-btn{display:flex!important;opacity:.7}._fd-drag-tool._fd-drop-hover ._fd-drag-box{padding-bottom:15px!important;padding-top:15px!important}._fd-drag-tool ._fd-drag-btn{display:none}._fd-drag-r{right:2px;top:calc(100% - 20px)}._fd-drag-l,._fd-drag-r{position:absolute;z-index:3}._fd-drag-l{left:0;top:0}._fd-drag-btn{background-color:#2e73ff;color:#fff;cursor:pointer;float:left;height:18px;justify-content:center;line-height:20px;padding-bottom:1px;text-align:center;width:18px}._fd-drag-btn+._fd-drag-btn{margin-left:2px}._fd-drag-danger{background-color:#ff2e2e}._fd-drag-btn i{font-size:14px}._fd-drag-mask{bottom:0;left:0;position:absolute;right:0;top:0;z-index:2}._fd-drag-tool:hover{outline-color:#2e73ff80;outline-style:solid;z-index:1}._fd-drag-tool:has(._fd-drag-tool:not(.active):hover,._fd-drag-tool.active:hover)>div>._fd-drag-btn{display:none!important}._fd-row,._fd-html-editor{width:100%}._fd-html-editor .el-button{border-color:#2e73ff;color:#2e73ff;font-weight:400;width:100%}._fd-html-editor-con .CodeMirror{height:450px}._fd-html-editor-con .CodeMirror-line{font-size:13px!important;line-height:16px!important}._fd-html-editor-con .CodeMirror-lint-tooltip{z-index:1!important}._fd-html-editor-con .el-dialog__body{padding:0 20px}._fd-fn-input,._fd-fn-input .el-badge{width:100%}._fd-fn-input .el-button{border-color:#2e73ff;color:#2e73ff;font-weight:400;width:100%}._fd-fn-input-dialog .CodeMirror-lint-tooltip{z-index:1!important}._fd-fn-input-dialog .el-dialog__body{height:500px;padding:0}._fd-gfc,._fd-gfc .el-badge{width:100%}._fd-gfc .el-button{border-color:#2e73ff;color:#2e73ff;font-weight:400;width:100%}._fd-gfc-dialog .el-tabs__header{margin-bottom:0}._fd-gfc-dialog .form-create{margin-top:15px}._fd-gfc-con .CodeMirror{height:100%;width:100%}._fd-gfc-con .CodeMirror-wrap pre.CodeMirror-line{padding-left:20px}._fd-config-item{color:#666;display:flex;flex-direction:column;font-size:12px;margin-bottom:10px;width:100%}._fd-ci-head{justify-content:space-between}._fd-ci-head,._fd-ci-label{align-items:center;display:flex}._fd-ci-label{color:#262626;font-size:12px}._fd-ci-con{align-items:center;display:flex;justify-content:flex-end;min-width:150px}._fd-ci-label.is-arrow{cursor:pointer}._fd-ci-append{background:#f5f5f5;display:flex;flex-direction:column;margin:5px 3px 3px;padding:4px}._fd-ci-label i{font-size:12px;font-weight:600}._fd-ci-label i.down{transform:rotate(-180deg)}._fd-ci-info{font-size:12px;padding-right:5px}._fd-field-input{width:100%}._fd-field-input>.fc-icon{color:#a8abb2;cursor:pointer;height:24px;position:absolute;right:28px;text-align:center;top:1px;width:24px;z-index:1}._fd-field-input>.fc-icon:hover{color:#2e73ff}._fd-field-input .el-input-group__append{color:#606266;cursor:pointer;margin:0;padding:0;width:25px}._fd-fn-list,._fd-fn-list .el-badge{width:100%}._fd-fn-list .el-button{border-color:#2e73ff;color:#2e73ff;font-weight:400;width:100%}._fd-fn-list-dialog .el-dialog__body{padding:10px 20px}._fd-fn-list-con .el-main{padding:0}._fd-fn-list-l,._fd-fn-list-r{border:1px solid #ececec;display:flex;flex:1;flex-direction:column;height:100%}._fd-fn-list-head{align-items:center;background:#f8f9ff;border-bottom:1px solid #eee;display:flex;padding:5px 15px}._fd-fn-list-head .el-button.is-link{color:#2f73ff}._fd-fn-list-r{border-left:0}._fd-fn-list-r ._fd-fn-list-head{justify-content:flex-end}._fd-fn-list-l>.el-main,._fd-fn-list-r>.el-main{box-sizing:border-box;display:flex;flex:1;flex-basis:auto;flex-direction:row;min-width:0;width:100%}._fd-fn-list-r>.el-main{flex-direction:column}._fd-fn-list-l .el-menu{border-right:0;border-top:0;overflow:auto;padding:0 10px 5px;width:100%}._fd-fn-list-l .el-menu-item.is-active{background:#e4e7ed;color:#303133}._fd-fn-list-l .el-menu-item{border:1px solid #ececec;border-radius:5px;height:auto;line-height:1em;margin-top:5px;padding:0}._fd-fn-list-method{box-sizing:border-box;display:flex;flex-direction:column;font-family:monospace;font-size:14px;justify-content:center;line-height:1em;overflow:hidden;padding:10px 20px 10px 0;position:relative;white-space:pre-wrap;width:100%}._fd-fn-list-method ._fd-label{color:#aaa;font-size:12px;margin-top:4px}._fd-fn-list-method ._fd-dot{background:#00c050;border-radius:15px;display:block;height:6px;margin-top:-3px;position:absolute;right:16px;top:50%;width:6px}._fd-fn-list-method-info>span:first-child,._fd-fn-list-method>span:first-child{color:#9d238c}._fd-fn-list-method-info>span:first-child>span,._fd-fn-list-method>span:first-child>span{color:#000;margin-left:10px}._fd-fn-list-con .CodeMirror{height:100%;width:100%}._fd-fn-list-con .CodeMirror-wrap pre.CodeMirror-line{padding-left:20px}._fd-table-view{overflow:auto}._fd-table-view-cell{height:100%;min-height:50px;position:relative}._fd-table-row-handle{bottom:-4px;cursor:row-resize;height:8px;left:0;width:100%}._fd-table-col-handle,._fd-table-row-handle{background-color:transparent;position:absolute;z-index:1}._fd-table-col-handle{cursor:col-resize;height:100%;right:-4px;top:0;width:8px}._fd-table-view-cell.selected>._fd-drag-tool{background-color:#2e73ff0d;outline:1px solid #2e73ff}._fd-table-view-cell>._fd-drag-tool{border:0;height:100%;margin:0;max-height:100%;max-width:100%;min-width:unset;outline:0;width:100%}._fd-table-view-cell>._fd-drag-tool>._fd-tableCell-drag{min-height:80px}._fd-table-view-btn{flex-direction:column;padding:0}._fd-table-view-btn .fc-icon{color:#fff;font-size:16px;width:18px}._fd-table-view-icon{color:#fff;display:flex;height:100%;justify-content:center;margin-top:1px;width:100%}._fd-table-view>table{border-bottom:1px solid #ebeef5;border-collapse:collapse;border-right:1px solid #ebeef5;border-color:#ebeef5 currentcolor currentcolor #ebeef5;border-style:solid none none solid;border-width:1px 0 0 1px;height:100%;overflow:hidden;table-layout:fixed;width:100%}._fd-table-view tr{min-height:50px}._fd-table-view td{border:1px solid #ebeef5;box-sizing:border-box;min-height:50px;min-width:80px;overflow-wrap:break-word;padding:0;position:relative;white-space:nowrap}._fd-tableCell-drag{height:100%}._fd-table-view.is-mini td{min-height:12px;padding:0}._fd-table-view.is-mini .el-form-item{margin:0;padding:0}._fd-table-context-menu{background-color:#fff;border:1px solid #ddd;border-radius:6px;box-shadow:0 1px 10px #0000001a;color:#666;display:block;font-size:14px;min-width:120px;padding:6px 0;position:fixed;z-index:2}._fd-table-context-menuitem{cursor:pointer;line-height:22px;padding:5px 16px}._fd-table-context-menuitem:hover{background-color:#f0f0f0}._fd-table-context-menu-separator{background-color:#eee;height:1px;margin:6px 0}._fc-table{overflow:auto}._fc-table>table{border-bottom:1px solid #ebeef5;border-collapse:collapse;border-right:1px solid #ebeef5;border-color:#ebeef5 currentcolor currentcolor #ebeef5;border-style:solid none none solid;border-width:1px 0 0 1px;height:100%;overflow:hidden;table-layout:fixed;width:100%}._fc-table td,._fc-table tr{min-height:50px}._fc-table td{border-bottom:0;border-right:0;border-color:currentcolor #ebeef5 #ebeef5 currentcolor;border-style:none solid solid none;border-width:0 1px 1px 0;box-sizing:border-box;min-width:80px;overflow:hidden;overflow-wrap:break-word;padding:5px;position:relative}._fc-table.is-mini td{min-height:12px;padding:0}._fc-table.is-mini .el-form-item{margin:0;padding:0}._fd-language-list{max-height:320px;overflow:auto;padding-top:70px}._fd-language-input .el-input-group__append{color:#aaa;cursor:pointer;margin:0;padding:0;width:25px}._fd-language-input.is-variable input{color:#2e73ff}._fd-language-header,._fd-language-item{border-bottom:1px solid #ececec;display:flex;padding:0 12px}._fd-language-header{background-color:#fff;color:#262626;flex-direction:column;font-weight:500;left:0;overflow:auto;padding-top:10px;position:absolute;right:0;top:0}._fd-language-item>div,._fd-language-name>div{flex:1;font-size:12px;min-width:70px;padding:5px}._fd-language-title{margin:6px 0}._fd-language-title .fc-icon{color:#2e73ff;cursor:pointer;font-size:14px}._fd-language-name{display:flex}._fd-language-name>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._fd-language-item{cursor:pointer}._fd-language-item:hover{background-color:#ccdfff;color:#2e73ff}._fd-language-popover{padding:0!important}._fd-validate{display:flex;flex-direction:column;width:100%}._fd-validate-btn{border-color:#2e73ff;color:#2e73ff;font-weight:400;width:100%}._fd-validate-pop .el-dropdown-menu__item{width:248px}._fd-validate-item{border-bottom:1px dashed #ececec;margin-bottom:10px}._fd-validate-item .el-col-12:first-child{padding-right:5px}._fd-validate-item .el-col-12+.el-col-12{padding-left:5px}._fd-validate-item .el-input-number{width:100%}._fd-validate-title{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:10px}._fd-validate-title>div{align-items:center;display:flex}._fd-validate-title>div>span{background:#ececec;border-radius:15px;font-size:12px;height:16px;line-height:16px;margin-right:5px;text-align:center;width:16px}._fd-validate-title i{cursor:pointer}._fd-validate-title i:hover{color:#ff2e2e}._fd-validate .append-msg{cursor:pointer}._fd-validate .el-input-group__append{padding:0 10px}._fd-required{align-items:center;display:flex;width:100%}._fd-required .el-input{margin-left:15px}._fd-required .el-switch{height:28px}._fd-value-input .el-input__validateIcon{display:none}._fd-value-input .el-select,._fd-value-input .el-select__wrapper{height:100%}._td-table-opt[data-v-27bd6a26]{width:100%}._td-table-opt .el-table[data-v-27bd6a26]{z-index:1}._td-table-opt-handle[data-v-27bd6a26]{align-items:center;display:flex;justify-content:space-between;padding-right:5px}._fd-tree-opt ._fd-tree-opt-btn{background-color:#2f73ff;color:#fff;cursor:pointer;float:left;height:19px;justify-content:center;line-height:20px;padding-bottom:1px;text-align:center;width:18px}._fd-tree-opt-node{align-items:center;display:flex}._fd-tree-opt-first{margin-right:5px;width:60px}._fd-tree-opt-last{width:165px}._fd-tree-opt-last._label{width:175px}._fd-tree-opt-last._label .el-input-group__append{width:65px}._fd-tree-opt ._fd-tree-opt-danger{background-color:#ff2d2e;border-radius:0 2px 2px 0}._fd-tree-opt .el-tree-node__content{height:28px;margin-bottom:3px}._fd-tree-opt .el-input__inner{border-right:0}._fd-tree-opt .el-input-group__append{background:#fff;padding-left:1px;padding-right:2px;width:90px}._fd-table-form{background:#fff;border:1px solid #ececec;width:100%}._fc-child-empty,._fd-table-form{min-height:130px}._fd-tf-wrap{display:flex;overflow:auto}._fd-tf-wrap>._fd-drag-tool{display:flex;flex-shrink:0;height:auto;margin:2px;overflow:auto}._fc-table-form{color:#666;overflow:auto}._fc-table-form .form-create td .el-form-item{margin-bottom:1px}._fc-table-form .form-create td .el-form-item.is-error{margin-bottom:22px}._fc-table-form .el-form-item__label,._fc-table-form .van-field__label{display:none!important}._fc-table-form .el-form-item__content{display:flex;margin-left:0!important;width:100%!important}._fc-tf-head-idx,._fc-tf-idx{font-weight:500;min-width:40px;text-align:center;width:40px}._fc-tf-btn,._fc-tf-edit{min-width:70px;text-align:center;width:70px}._fc-tf-btn .fc-icon{cursor:pointer}._fc-table-form._fc-disabled ._fc-tf-btn .fc-icon,._fc-table-form._fc-disabled>.el-button{cursor:not-allowed}._fc-tf-table{border:1px solid #ebeef5;border-bottom:0;height:100%;overflow:hidden;table-layout:fixed;width:100%}._fc-table-form ._fc-tf-table>thead>tr>th{border:0;border-bottom:1px solid #ebeef5;box-sizing:border-box;font-weight:500;height:40px;padding:0 5px}._fc-table-form ._fc-tf-table>thead>tr>th+th{border-left:1px solid #ebeef5}._fc-table-form tr{min-height:50px}._fc-table-form ._fc-read-view{text-align:center;width:100%}._fc-table-form td{border:0;border-bottom:1px solid #ebeef5;box-sizing:border-box;min-height:50px;min-width:80px;overflow:hidden;overflow-wrap:break-word;padding:5px;position:relative}._fc-table-form td+td{border-left:1px solid #ebeef5}._fc-tf-table .el-cascader,._fc-tf-table .el-date-editor,._fc-tf-table .el-input-number,._fc-tf-table .el-select,._fc-tf-table .el-slider{width:100%}._fc-tf-head-required:before{color:#f56c6c;content:"*";margin-right:4px}._fc-signature{width:100%}._fc-signature-btn,._fc-signature-preview{background:#fff;border:1px dashed #d4d7e0;border-radius:4px;box-sizing:border-box;color:#c9ccd8;font-size:14px;height:88px;line-height:88px;min-width:160px;position:relative;text-align:center;width:100%}._fc-signature-btn{cursor:pointer}._fc-signature.disabled ._fc-signature-btn{cursor:not-allowed}._fc-signature-preview>img{display:inline-block;height:88px}._fc-signature-preview .icon-delete2{cursor:pointer;display:inline-block;font-size:14px;line-height:14px;position:absolute;right:9px;top:9px}._fc-signature-btn i{font-size:14px}._fc-signature-dialog .el-dialog__body{text-align:center}._fc-signature-pad{background-image:linear-gradient(#fff 14px,transparent 0),linear-gradient(90deg,#fff 14px,#d4d7e0 0);background-size:15px 15px;border:1px dashed #d4d7e0;border-radius:4px}._fc-title{font-size:16px;font-weight:600;margin-bottom:16px;margin-top:1em;width:100%}._fc-title.h1,._fc-title.h2{border-bottom:1px solid #eee;padding-bottom:.3em}._fc-title.h1{font-size:32px;line-height:1.2}._fc-title.h2{font-size:24px;line-height:1.225}._fc-title.h3{font-size:20px;line-height:1.43}._fc-title.h4{font-size:16px}._fc-title.h5{font-size:14px}._fc-title.h6{font-size:12px}._fd-tf-col ._fd-tf-con .el-form-item{margin-bottom:1px!important}._fd-tf-col{display:flex;flex-direction:column;flex-shrink:0;flex-wrap:wrap;width:180px}._fd-tf-con .el-form-item__label,._fd-tf-con .van-field__label{display:none!important}._fd-tf-con{display:flex;flex:1;width:100%}._fd-tf-con .el-form-item__content{display:flex;margin-left:0!important;width:100%!important}._fd-tf-title{border-bottom:1px solid #ebeef5;box-sizing:border-box;height:40px;margin-bottom:0;padding:0 5px}._fd-tf-required{color:#f56c6c;margin-right:4px}._fd-tf-con ._fc-l-item{display:flex;flex-shrink:0;margin-top:4px;width:100%}._fd-tf-con ._fc-l-item>*{display:none!important}._fd-tf-con .el-cascader,._fd-tf-con .el-date-editor,._fd-tf-con .el-input-number,._fd-tf-con .el-select,._fd-tf-con .el-slider{width:100%}._fd-tf-col:has(._fd-tf-col){width:auto!important}._fd-size-input{align-items:center;display:flex}._fd-size-input .el-input-number--small{width:122px}._fd-size-input .el-button{font-size:14px;margin-left:3px;padding:5px;width:25px}._fd-color-input{width:150px}._fd-color-input .el-input .el-color-picker{margin:0}._fd-color-input .el-input .el-input-group__append{padding:0;width:24px}._fd-color-input .el-input .el-color-picker__trigger{border-left:0;border-radius:0 3px 3px 0}._fd-box-size-input .el-form{grid-column-gap:10px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}._fd-box-size-input .el-radio-group{width:100%}._fd-box-size-input .el-radio-button__inner{padding:4px;width:100%}._fd-box-size-input .el-radio-button{flex:1}._fd-box-size-input ._fd-size-input .el-input-number--small{width:100%}._fd-box-space-input{color:#000}._fd-box-space-input ._margin,._fd-box-space-input ._padding{background-color:#f2cea5;box-sizing:border-box;height:180px;padding:40px 55px;position:relative;width:100%}._fd-box-space-input ._margin,html.dark ._fd-box-space-input ._padding{background-color:#a9855c}._fd-box-space-input ._margin{background-color:#c6cf92;height:100px;width:100%}._fd-box-space-input ._fd-input{background-color:unset;border:0;display:inline-block;font-size:12px;height:20px;margin:0;max-width:40px;outline:0 none;padding:0;text-align:center;text-decoration:underline;width:30%}._fd-box-space-input ._fd-input:focus,._fd-box-space-input ._fd-input:hover{background-color:#ececec;color:#262626;opacity:.9}._fd-box-space-input ._fd-left,._fd-box-space-input ._fd-right{left:7px;margin-top:-10px;position:absolute;top:50%}._fd-box-space-input ._fd-bottom,._fd-box-space-input ._fd-top{left:50%;margin-left:-20px;position:absolute;top:5px}._fd-box-space-input ._fd-bottom{bottom:15px;top:unset}._fd-box-space-input ._fd-right{left:unset;right:2px}._fd-box-space-input ._box{align-items:center;background-color:#94b5c0;display:flex;height:100%;justify-content:center;width:100%}._fd-box-space-input ._margin-title,._fd-box-space-input ._padding-title{left:4px;position:absolute;top:2px}._fd-box-space-input ._fd-help{align-items:center;color:#aaa;display:flex;position:absolute;right:5px;top:5px}._fd-box-space-input ._padding .fc-icon{color:#262626;cursor:pointer;font-size:12px}._fd-box-space-input ._padding .fc-icon+.fc-icon{margin-left:2px}._fd-box-space-input .fc-icon.active{color:#2e73ff}._fd-box-space-input ._fd-x{margin:0 5px}._fd-border-input{display:flex;height:110px;justify-content:center;width:100%}._fd-border-input ._fd-bi-left{align-items:center;display:flex;flex-direction:column;height:115px;justify-content:center;width:115px}._fd-border-input ._fd-bi-right{display:flex;flex-direction:column;justify-content:space-around;padding:5px;width:140px}._fd-border-input ._fd-bi-right ._fd-color-input{width:140px}._fd-bi-opt{align-items:center;display:flex;height:100%;width:100%}._fd-bi-opt ._line{width:100%}._fd-bi-opt .solid{border:1px solid #000}._fd-bi-opt .dashed{border:1px dashed #000}._fd-bi-opt .dotted{border:1px dotted #000}._fd-bi-opt .double{border:1px double #000}._fd-border-input ._fd-bil-row{display:flex;height:38px;justify-content:center}._fd-border-input ._fd-bil-col{align-items:center;cursor:pointer;display:flex;font-size:16px;height:22px;justify-content:center;margin:8px;width:22px}._fd-border-input ._fd-bil-col.active{color:#2e73ff;outline:1px dashed #2e73ff}.line-box{box-sizing:border-box;height:20px;padding:1px;width:150px}.line-box-con{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAD5JREFUOE9jZGBg+M+AChjR+HjlQYqHgQFoXibNS+gBBjKMpDAZHAaQ5GQGBgYUV4+mA7QAgaYokgJ14NMBAK1TIAlUJpxYAAAAAElFTkSuQmCC);height:100%;opacity:.3;width:100%}._fd-radius-input{display:flex;flex-direction:column;width:100%}._fd-radius-con{display:flex;flex-wrap:wrap}._fd-radius-item{box-sizing:border-box;padding:5px 0;width:50%}._fd-radius-item,._fd-radius-item ._fd-radius-icon{align-items:center;display:flex;justify-content:center}._fd-radius-item ._fd-radius-icon{height:24px;width:24px}._fd-radius-item ._fd-size-input .el-input-number--small{width:70px}._fd-font-input{display:flex;justify-content:center;padding:0 5px}._fd-fi-box{overflow:hidden;width:150px}._fd-font-input .el-form{grid-column-gap:10px;display:grid;grid-template-columns:repeat(2,1fr);width:100%}._fd-font-input .el-form--inline .el-form-item{margin:0;padding:0}._fd-font-input ._fd-size-input .el-input-number--small{width:100%}._fd-shadow-content{align-items:center;display:flex;flex-direction:column;justify-content:space-between}._fd-sc-form .fc-icon{font-size:12px}._fd-shadow-content .el-form-item{box-sizing:border-box;margin:0 0 5px!important;padding:0 0 0 10px;width:50%}._fd-shadow-content .el-input__wrapper{flex:1}._fd-shadow-content ._fd-sc-box{border:1px solid #ccc;border-radius:5px;cursor:pointer;height:250px;overflow:hidden;position:relative;width:250px}._fd-shadow-content ._fd-sc-box .spot{border-radius:100%;height:0;position:absolute;width:0}._fd-shadow-content ._fd-sc-box .spot-id{background:#1989fa;border-radius:100%;height:10px;left:-5px;position:absolute;top:-5px;width:10px;z-index:1}._fd-shadow-content ._fd-sc-box.down .spot-id{box-shadow:1px 1px 10px 2px #1989fa}._fd-shadow-content ._fd-sc-box .center-spot{background:#1989fa;border-radius:100%;height:0;left:125px;position:absolute;top:125px;width:0}._fd-shadow-content ._fd-sc-box .x-hr{background:#ccc;height:1px;position:absolute;top:125px;width:100%}._fd-shadow-content ._fd-sc-box .y-hr{background:#ccc;height:100%;left:125px;position:absolute;width:1px}._fd-shadow-content .el-select__placeholder{text-align:center}._fd-shadow-content .el-input-group__append{padding:0;width:55px}._fd-shadow-content .el-input{width:105px}._fd-shadow-content ._fd-sc-right{margin-top:10px}._fd-shadow-content ._fd-sc-radio{width:105px}._fd-shadow-content ._fd-sc-radio .el-radio-button{display:flex;flex:1}._fd-shadow-content ._fd-sc-radio .el-radio-button__inner{width:100%}._fd-shadow-input ._fd-ci-con{width:150px}._fd-shadow-input :focus-visible{outline:0 none}._fd-si-input .el-input-group__append{display:inline-flex;padding:0;width:24px}._fd-si-input .el-input__wrapper{flex:1}._fd-shadow-input ._fd-ci-con .fc-icon{cursor:pointer}._fd-style-config{display:flex;flex-direction:column;width:100%}._fd-opacity-input ._fd-ci-con{align-items:center;display:flex;justify-content:space-between;width:150px}._fd-opacity-input ._fd-ci-con>span{width:32px}._fd-opacity-input .el-slider{flex:1;margin-right:15px}._fc-designer{--fc-drag-empty:"\\62d6\\62fd\\5de6\\4fa7\\5217\\8868\\4e2d\\7684\\7ec4\\4ef6\\5230\\6b64\\5904";--fc-child-empty:"\\70b9\\51fb\\53f3\\4e0b\\89d2  \\e789  \\6309\\94ae\\6dfb\\52a0\\4e00\\5217";--fc-tool-border-color:#2e73ff;background-color:#fff;cursor:default;height:100%;min-height:500px;overflow:hidden;position:relative}._fc-designer>.el-main{bottom:0;left:0;padding:0;position:absolute;right:0;top:0}._fc-l-menu{border-right:1px solid #ececec;border-top:1px solid #ececec;flex-direction:column}._fc-l-menu,._fc-l-menu-item{align-items:center;display:flex}._fc-l-menu-item{box-sizing:border-box;cursor:pointer;height:40px;justify-content:center;width:100%}._fc-l-menu-item.active{color:#2e73ff}._fc-l-menu-form{border-bottom:1px solid #ececec}._fc-l-menu-item i{font-size:22px}._fc-l-menu-item i:hover{color:#2e73ff}._fc-l-menu-item .el-badge__content{--el-badge-size:15px;--el-badge-padding:4px;background-color:#2e73ff}._fc-l-label{color:#262626;font-size:14px;font-weight:500;line-height:17px;margin-top:5px;padding:12px}._fc-l-info{color:#aaa;font-size:12px;font-style:normal;font-weight:400;line-height:17px;padding:0 12px;text-align:left}._fc-l>.el-container{height:100%}._fc-m .form-create ._fc-l-item{align-items:center;background:#f5f5f5;border:1px dashed #000;border-radius:4px;color:#000;display:flex!important;height:30px;justify-content:center;margin:5px 0;overflow:hidden;padding-bottom:0;transition:all .3s ease;width:100%}._fc-m .form-create ._fc-l-item ._fc-l-icon{display:inline-block!important;padding:0 4px}._fc-m .form-create ._fc-l-item ._fc-l-name{display:inline-block!important;font-size:12px}._fc-l,._fc-m,._fc-r{border-top:1px solid #ececec;box-sizing:border-box;overflow:unset;position:relative}._fc-l-close,._fc-l-open,._fc-r-close,._fc-r-open{align-items:center;background:#fff;border-radius:0 5px 5px 0;cursor:pointer;display:flex;height:46px;justify-content:center;position:absolute;right:-12px;top:50%;width:12px;z-index:1}._fc-l-open{left:0;right:unset}._fc-r-close{left:-12px;right:unset}._fc-r-close,._fc-r-open{border-radius:5px 0 0 5px}._fc-r-open{right:0}._fc-l-close>i,._fc-r-open>i{display:block;font-size:9px;transform:rotate(-90deg)}._fc-l-open>i,._fc-r-close>i{display:block;font-size:9px;transform:rotate(90deg)}._fc-r{--el-color-primary:#2e73ff}._fc-r-tab-props{padding:0 20px;position:relative}._fc-r-tools-close{color:#666;cursor:pointer;position:absolute;right:24px;top:12px;transform:rotate(45deg)}._fc-r-title{color:#333;font-size:12px;margin:15px 0 5px}._fc-r-sub ._fc-r-title{align-items:center;display:flex;justify-content:space-between}._fc-r-sub .fc-icon{cursor:pointer}._fc-r-sub ._fd-config-item+._fd-config-item{margin-top:8px}._fc-r-sub>._fd-config-item>._fd-ci-head{padding-left:8px;position:relative}._fc-r-sub>._fd-config-item>._fd-ci-head:before{background-color:#333;border-radius:25px;content:" ";height:5px;left:0;position:absolute;width:5px}._fc-r-config{display:grid;grid-template-areas:"a" "b" "c" "d" "e";grid-template-columns:280px}._fc-r-name-input .el-input-group__append{color:#606266;cursor:pointer;margin:0;padding:0;width:25px}._fc-r-name-input .icon-group{cursor:pointer}._fc-r-name-input .icon-group:hover{color:#2e73ff}._fc-r .el-main{padding-bottom:100px}._fc-l .el-main{padding:0}._fc-l .el-tree-node__label{color:#333;font-weight:400;padding:3px}._fc-l .el-tree-node__content{height:30px;margin-top:5px}._fc-l .el-tree-node__content>.el-tree-node__expand-icon{color:#333}._fc-l .el-tree-node__expand-icon.is-leaf{color:transparent}@keyframes a{0%{transform:rotate(0)}to{transform:rotate(1turn)}}._fc-loading{animation:a 2s linear infinite}._fc-tree-node{align-items:center;display:flex;height:26px;justify-content:space-between;line-height:26px;padding-right:5px;width:100%}._fc-tree-node.active,._fc-tree-node.active .icon-more{color:#2e73ff}._fc-tree-label{align-items:center;display:flex}._fc-tree-label>i{font-weight:700;margin-right:5px}._fc-tree-more{align-items:center;display:flex;font-weight:700;padding:0 15px}._fc-l-tabs{border-bottom:1px solid #ececec;display:flex;padding:0}._fc-l-tab{box-sizing:border-box;color:#303133;display:inline-block;flex:1;font-size:14px;font-weight:600;height:40px;line-height:40px;list-style:none;position:relative;text-align:center}._fc-l ._fc-l-tab.active{border-bottom:2px solid #409eff;color:#409eff}._fc-l-group{border:1px solid #eee;margin:12px;padding:0;user-select:none}._fc-l-group ._fc-l-list{align-items:stretch;display:grid;grid-template-columns:repeat(3,1fr)}._fc-l-title{align-items:center;cursor:pointer;display:flex;font-weight:600;justify-content:space-between;margin:0;padding:12px}._fc-l-title,._fc-l-title i{font-size:14px}._fc-l-title i.down{transform:rotate(90deg)}._fc-l-item{background:#fff;color:#000;cursor:pointer;display:inline-block;line-height:1;padding-bottom:10px;text-align:center;transition:all .2s ease}._fc-l-item i{display:inline-block;font-size:21px}._fc-l-item ._fc-l-name{font-size:12px}._fc-l-item ._fc-l-icon{padding:10px 5px 12px}._fc-l-item:hover{background:#2e73ff;color:#fff}._fc-m-tools{border:1px solid #ececec;border-top:0;height:40px;justify-content:space-between;white-space:nowrap}._fc-m-tools,._fc-m-tools-l,._fc-m-tools-r{align-items:center;display:flex}._fc-m-tools-r{overflow:auto}._fc-m-tools-l .devices .fc-icon{cursor:pointer;width:18px}._fc-m-tools-l .devices .fc-icon.active{color:#2e73ff}._fc-m-tools-l .devices .fc-icon+.fc-icon{margin-left:5px}._fc-m-tools .line{background:#d8d8d8;height:24px;margin:0 10px;width:1px}._fc-m-tools .el-button{align-items:center;border-radius:5px;display:flex;padding:5px 10px}._fc-m-tools .el-button>span{align-items:center;display:inline-flex;justify-content:center}._fc-m-tools .el-button+.el-button,._fc-m-tools .el-dropdown{margin-left:10px}._fc-m-tools ._fd-m-extend{background-color:#f1f1f1;border-color:#ccc;border-radius:5px;color:#666;padding:5px}._fc-m-tools ._fd-m-extend .fc-icon{margin-right:0}._fc-m-tools ._fd-input-btn{align-items:center;display:flex;font-size:12px;justify-content:space-between}._fc-m-tools ._fd-input-btn .el-switch__action{height:18px;left:2px;width:18px}._fc-m-tools ._fd-input-btn .is-checked .el-switch__action{--el-color-white:#2e73ff;left:calc(100% - 20px)}._fc-m-tools ._fd-input-btn .el-switch__core,._fc-m-tools ._fd-input-btn .is-checked .el-switch__core{--el-switch-on-color:var(--el-switch-off-color);border-radius:16px;height:24px;width:46px}._fc-m-tools-r .fc-icon{font-size:14px}._fc-m-tools-l .fc-icon{cursor:pointer;font-size:18px}._fc-m-tools-l .fc-icon+.fc-icon{margin-left:10px}._fc-m-tools-l .fc-icon.disabled{color:#999;cursor:not-allowed}._fc-r .el-tabs__nav-wrap:after{background-color:#ececec;height:1px}._fc-r ._fc-r-tabs{border-bottom:1px solid #ececec;display:flex;padding:0}._fc-r .el-button,._fc-r .el-radio-button__inner,._fc-r .el-table__cell .cell{font-weight:400}._fc-r ._fc-r-tab{box-sizing:border-box;color:#303133;display:inline-block;flex:1;font-size:14px;font-weight:600;height:40px;line-height:40px;list-style:none;position:relative;text-align:center}._fc-r ._fc-r-tab.active{border-bottom:2px solid #409eff;color:#409eff}._fc-m-con{background:#f5f5f5;padding:20px 20px 36px;position:relative}._fc-m-drag{box-sizing:border-box;margin:0 auto;overflow:auto;padding:2px}._fc-m-input{padding:5px 5px 80px}._fc-m-input-handle{background:#fff;bottom:16px;box-shadow:0 2px 10px #0000000d;left:0;margin:20px;padding:12px;position:absolute;right:0;text-align:center;z-index:3}._fc-m-drag.mobile{width:400px}._fc-m-drag.pad{width:770px}._fc-m-drag,.draggable-drag{background:#fff;height:100%;position:relative}._fc-m-drag>form,._fc-m-drag>form>.el-row{height:100%}._fc-m-drag .el-tree{width:100%}._fd-drag-box{height:100%;min-height:80px;transition:padding-bottom,padding-top .3s ease;width:100%}._fd-drag-box>div[data-draggable]{margin-bottom:1px}._fc-r ._fc-group-container+._fc-group-container{margin-top:20px}._fc-r ._fc-group-container{margin:0;padding:10px}._fc-r ._fc-group-handle{right:15px}._fc-r .el-form-item{margin-bottom:10px!important}._fc-r .el-form-item__label{color:#333}._fc-upload-preview{border-radius:5px;display:inline-block;height:120px;overflow:hidden;width:120px}._fc-tabs .el-tabs__item{font-weight:400}._fc-tabs .el-tabs__content{overflow:auto}._fc-tabs .el-tabs__nav-scroll{padding:0 15px}._fc-tabs .el-tab-pane{margin-right:15px}._fc-tabs .el-tabs__nav-wrap:after{height:1px}.form-create .fc-none{display:none}._fd-draggable-drag.drag-holder,._fd-elCard-drag.drag-holder,._fd-elCollapseItem-drag.drag-holder,._fd-elTabPane-drag.drag-holder,._fd-group-drag.drag-holder,._fd-subForm-drag.drag-holder,._fd-tableFormColumn-drag.drag-holder{background:#f5f5f5;background-size:0;min-height:90px;position:relative}._fc-child-empty:after,._fd-draggable-drag.drag-holder:after,._fd-elCard-drag.drag-holder:after,._fd-elCollapseItem-drag.drag-holder:after,._fd-elTabPane-drag.drag-holder:after,._fd-group-drag.drag-holder:after,._fd-subForm-drag.drag-holder:after,._fd-tableFormColumn-drag.drag-holder:after{align-items:center;bottom:0;color:#aaa;content:var(--fc-drag-empty);display:flex;font-size:12px;justify-content:center;left:0;position:absolute;right:0;top:0}._fc-designer ._fc-m-drag ._fd-draggable-drag{overflow:auto;padding:2px 2px 100px}._fc-m-drag._fd-drop-hover ._fd-draggable-drag{padding-top:20px}._fd-draggable-drag.drag-holder{background-color:#fff}._fd-draggable-drag.drag-holder:after{font-size:16px}._fc-child-empty:after{content:var(--fc-child-empty);font-family:fc-icon!important}.fc-configured{color:#999;margin-left:5px}._fc-manage-text{color:#2f73ff;cursor:pointer;font-size:12px;margin-left:4px}._fc-manage-text i{font-size:12px}._fc-message-error{background-color:#fff;border-color:#fff;border-radius:8px;box-shadow:0 6px 16px #00000014,0 3px 6px -4px #0000001f,0 9px 28px 8px #0000000d;padding:9px 13px;top:16px;z-index:4}._fc-message-error>.el-icon{font-size:18px}._fc-message-error .el-message__content{color:#000000e0;font-size:14px}._fd-preview-copy{align-items:center;background:#2e73ff33;border-radius:10px;color:#2e73ff;cursor:pointer;display:flex;height:28px;justify-content:center;position:absolute;right:35px;top:65px;width:28px}._fd-preview-dialog{border-radius:6px;min-height:40%;padding-top:0}._fd-preview-dialog .el-dialog__header{float:right;position:absolute;right:0;top:0;z-index:2}._fd-preview-code{margin-top:0;max-height:510px;overflow:auto}._fd-preview-tabs .el-tabs__nav-wrap:after{height:1px}._fd-preview-tabs .el-tabs__item{height:46px}._fd-preview-code>code{white-space:pre-wrap}._fd-row-line{background:#d8d8d8;height:1px;margin:10px 0;width:100%}.CodeMirror-hints{z-index:5}@font-face{font-family:fc-icon;src:url(data:font/woff;base64,d09GRgABAAAAAFHcAAsAAAAAokwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAARAAAAGA8FUuIY21hcAAAAYgAAAQHAAAKPIaWK99nbHlmAAAFkAAARLUAAIlEs75Kq2hlYWQAAEpIAAAALwAAADYr9zVNaGhlYQAASngAAAAeAAAAJAfeBKBobXR4AABKmAAAAFsAAAKAlxAAAGxvY2EAAEr0AAABQgAAAUKLomhKbWF4cAAATDgAAAAfAAAAIAHEAPxuYW1lAABMWAAAAUUAAAJb1Yvg7HBvc3QAAE2gAAAEPAAABr+5WcIoeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGFRZZzAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwHnjG8mMzc8L+BgYH5DgOQZGBEUcQEAICVDRp4nO3WZZNUZxiE4XuAAEmIE3d3dydAlizu7u7u7u6La9yVGHF3dw/fuvgXpN/tfMiPyExdW3NO1dbWnnm6nxc4DKhrV1g9qLOfij9R2ee7ldr7dTmi9n69ylJfH01D6lBfqKGaq4UOHKw5dAhqr5uqStW5/s+r4t8p7+NpXGlC+YsVxjGeCUxkEpOZQgOmMo3pzGAms5jNHOYyj/ksYCGLWMwSlrKM5axgJatYzQWs4ULWso71bGAjNWxiM+dzERezha1cwnls41K2s4Od7GI3e9jLNVzLdVzP2dzAjVzGTdzMLdzKbdzOHVzOndzF3TThHprSzP93c+6lihbcRzUtaUVr2tCWdrSnAx3pxJV0pgtX0ZVudKcHPelFb/rQl370ZwADGcRghjCUYQxnBCO5mlGMZgxjOZdzOI3TOYMzOYtTOZlTOJwTOcnP+kga+Rkf5Sd2DMdynJ/bCTT2d1Pfz93fVKU+/78alR8NFv97tbfMX5R5VsMo86um4YlDzcKzh5qHpxBVhecRtQhPJqoOzyhqGZ5W1Co8t6h1eIJRm/Aso7bhqUbtwvON2ocnHXUIzzzqGJ5+1CmcA9Q5nAjUJZwN1DWcEtQtnBfUPZwc1COcIdQznCbUK5wr1DucMNQnnDXUN5w61C+cP9Q/nEQ0IJxJNDCcTjQonFM0OJxYNCScXTQ0nGI0LJxnNDycbDQinHE0Mpx2NCqcezQ63ABoTLgL0NhwK6Bx4X5A48NNgSaEOwNNDLcHmhTuETQ53ChoSrhb0NRwy6Bp4b5B08PNg2aEOwjNDLcRmhXuJTQ73FBoTtTO89xwa6F54f5C88NNhhaEOw0tDLcbWhTuObQ43HhoSbj70NJwC6Jl4T5Ey8PNiFaEOxKtDLclWhXuTbQ63KBoTbhL0dpwq6J14X5F68NNizaEOxdtDLcvqglKdjcFJbubo+wqbQlKjreG+xptC0qmtwcl0zvCbY52BiXfu4KS791ByfeeoOR7b1DyfX9Q8v1AUPL9YFDy/VBQ8v1wUPL9SFDy/Wh4i6DHgpL1x4OS9SfCOwY9GZTcPxWU3D8dlNw/E5TcPxuU3D8XlNw/H5TcvxCU3O8LSu5fDEruXwpK7l8OSu5fCUruXw1K7vcHJfevBSX3rwcl928EJfdvBiX3bwUl928HJffvhPcnejcoHfBeUDrg/aB0wAdB6YAPwxsXfRTevejj8BZGn4T3Mfo0vJnRZ+EdjT4Pb2v0RXhvoy/DGxx9Fd7l6OvwVkffhPc7+ja86dF3Uc5X+j68/dEPUbacfgzKTvspfDZAP4dPCeiX8HkB/Ro+OaDfwmcI9Hv4NIH+CJ8r0J/hEwb6K8o5UH+HTx3oQPj8wcGaoO4/FpJK/wB4nL29CWAjVf04Pu9NZiaZJJNzMkmbe5qkbdq0uXu3u23Z7V7dBfZmbwR2OfeQ+wYv5FJZBJUFBBdQORQWVwVUQPyKtyAg/lAQRVC/ggqKuhn+n/dmkibd7bb68/9rX9793sw7P+d7w2AG/tg9+K9MmMkwTMJXKiu+fG4IJbvQECoWUslUMi7wAu9VfIrPkwsj2SthNZ5BQxjdl9uUetlsFSSe5V+OxVPJ+aO3jM5LtrYm540uGzl9uGX+6q6R00fQ8OlfRmrsZbPF4eBfTm3KTVYz3TI6P5nCEuTpWj2/Zfj0S08fhtfR3+njuMK4GZVhLMjnFRAfTxbKFkSe6+PqY5KFUg7n0EqrVfuCLeqzoj7tKYHnJa9X+6Aea40qNNaqRPFbJEhyKlGIQ32C1+vgOPO0WCgBr2Ci73E1fpzxwHv0MZMMg0gHuLwSNAe6oOgqDKE8F4vzEOfLx3IliElyETSM8opLUFNFB1K7kAw+VzmR84Ug2ueAF+9CyVI/9G4J/711vBWM5tZd9CfNrWazKvoT2NqYcPyxQqfZ3C0UhVb4dZvN6GLJ7UcmtoQ4XMIs6/Pgb7WOtWr7wQKD1oE1klW1/bSWdWp2JffYY9C+J83mO883mc6/E6oYMCOP9AZiTaMYj2L+DcnDMHaGee9t9mrWxniZFuYYZgFzHHM8s5nZwpzOnMGcz1zAfGha6/GRW5/KhXEIqcVCUjVS+pGsGtlx3tOPcnLWm0bxYrZQrA+U81kSULMk0I9mCrBtTZnm5kyTNuptCTrAjx7VRh0wiuhRGPI7SOSI16GNQkDK5TyJZqezOeF5JPpGlJhbibkhFo3GTojC33riw+dALdooWCQnehQqr9WAHnV4f0aiczkSJE8acQRbvOhRUnPlR6SSDxPrrmjdnz53jP5kGYGxMg6G8cRk+o9cKv3fw/oPvU5+eMtld1+GVxJrix7D+snUE6GOF9mr2CSTYopMiRmGGTg1KnQ0QgjeMY2K+VxpEOldDlFGlyOIghFSYDBKMDw+MiwxpHp9uVIhGeeVnA+Gh4cySRibEoykK5aAEYEKYESgrFwfYKOhbDCYDamqU5adlW8SW1X1uJPHIj50vS8ypl2L9hfCHZFIR9jhi0R82lnERpdB/C7tCf8L/prBG4LZ4OvwG/M5Xnf4qDVmRA0/Q0o984T2J3ChsvdBRU/SigZ8kXHtNy/4OT+YE3UHNohaXytMguliupkBZpCZYBYxq6CXZOgTgU5QOVabhtB3mMxkrMZcpN363BXq56M8YwAz2vN2D4aeb9Oer84wfGzVp+1H67TXUBNMmF9GT4lOM+jVEZdd+6nknUdnWxuZsKiN+Cv3kRpY/7zKDnixYyXvdWQufaZm0Tn1Ans228rYGJkpwBplUFxC3jCC/bqQQUKc7IU+L8/GJSzTDVspl+r/i4UMZpNkTy/CzKCbOdnbcSg9kU5PrCJWGjaOY2DvGL94S2HtyEn5pMMtB5tjYTUYVZrsjsKWS8YK2QXtxQUXfPz8haW2hd34jPTC1RPt7ROrF6b/mhvPgUH3FjdfMv7hKzYsb/NZbA6vEgyriXQ6myuVodpiRVAzYxObNi++eNGiixdv3jQxlmGaamPogN3Wy0RhFAsw6+cxK5iVMI5bmW3MmcxZzIXMRcxHmKuYG5lPMncwdzIPMF9iHiVroXEuK6qcT9VP38RsGWavgUwBF50CrkI/nkqo9wv1JRqKe+oD9UXQ572hkFc7JIdC8juvvXajWBDB4JUkrB0iaRC7V8yLYLS3j5QXRcUOEcwnqk6nCOYT4jdFMJ8QvyGCaUxjbdW6kUkOzatW9LEjxmovVx+JTN7QSPVdPiZq94oiOk7UH6Cbj+v1f1x/mvYbsSzWDMPXxpjA0xYY4T5mbI4wlQAHFwUBrkIMCtBtz6Worrw+948KSCuVMPwhW2ldCcz1169cmRhJJEZYW0MBsOYB5KwV+0BYewBKLQ8X15+2voiuHtD+mBheMpyo229IO1JMqzFT5zPL5tga2IrmCO6O3q7z8QuV1nUJ+LuAWBcSa5ZW3TdyMFH3xzTAKtKenrmOiaDwvggSkilBwqkMHkI+ReDD4JZLGcQf9cV/VBZTCewoRPutmYFwMse1LlzSdBNnCcTjfo5vLmRmacQeKTlmRWWp46VQm2QWB5aNRpyh+a54wGIJuJoyUhOFnXqbZIAJSSbH5AF+jjBLYCfZdSRMBh/WPjQjqtIQQBThofMRqqqC3Coc1uEyvgGQCoplVIEEwVqqCIZXe3/09Sgx+6jZSAx2kaxQ7CkCIZo7m596SpJl6SkoNB1hacB5SIXagwSvuSAai0UvIJADdZCMT0ElBHd5CgrO80rV6pi6vqquyyzAzyGAn6uZ9f/B+qQTuBpQIAW6AgLQEYrP66B4+zAq5bi8rM6ybEPhcOj1cCgUvoP4cmbzsNnvIpb2oXvvnevyrbp7Q4+Ew4+EzOaAecTs8luGLd6BKo7PkoVgA6gDbhkaRdZfjI5uKRfRqQ148QyG9waSQyijnVH8i2i0koiif9lU+wdsNu1Ci+020evgUQCL6A7tes956MwJ0vv4RzbbB+2qTbvIzMYwL3msd0sWNKbdcFkAnUEez0H//4X9KGtn4tDrS2EXWQ3YIoFH5VIElwEalfM6dIJ36EICn0wREIWmoDysw+kgvg7Ap2oo36fsnrskyfSvHzptnN0jmt90Ov/5HSnMetD70ysGYz6vGmxpDvqUYFMiqHqU2NDyjnLbSHpizaL0SFvPovRQR8dQGr3qsWsPrwO04cbtyGpzY7ekvWJxcOeZLTeeZna4OHSp3YPa44Mr0uViJh2PKh6Hw6NE4x2dxTI8Jq61J3OTx3Uu6ehY0nncZO7rkTSpWO8HfR6SsVBhxS6ZPhoG2na0ZcsNIcWXKw+hMAbUJp6CvUiQgG58K4pejkY1GI9eY2XpCJeOvFXuI4uHYF3eyv/0XzueW18yOZx2HnMLbhqL9xSCgiLzRbKi8PMUyRuFCqYogXk6baBTIX/ZhrYunOAFbHE4+S1bspFwt5W3+4EO0OnJ3xhwIw24ap4pz3WFuVTPtN/RV88/zj77luXLz8lmJ3O5zKJF+DeETtxh0Ik3EjoxF9d20Pw3xnMbtT3o6sbf4bAhBe87ZwjHyV4frJcCELtHhwaVdYTmQUN+662ieKvVP9vCnnfpc3a7+VTez59qthvr50V2P9BJXli/OaafWUjekqwLit7GCcJbIItDMdBl4qesDUFHJaAd0AolzusLhS35FDWDgG5QhxBmdm/d1NPX17Np62tVz+5Nd27ceOc3jl3e1d3dtfzYzWmC/64iVjrV07Ospyd18lf6V+SvuvGq/Ir+r7DJhsLUM77xzsfu3EgKf5PU0pOeWEmwb7BGypNlMNov0ObjewYGeo7fzNR4IoP4Ubo2GA9ZFS66KlyFJ/ehgX37tCf34UeITUJ03H6NT2LDDKGPRMYHPTJF+dXv1jg4kR5Ig2kijcE/CxN/+uluLdDdjX7XDeUR7d9N0L9NtF+RT8JdCLYjgiqTtYVLZVTCjOJEbQ4UTjt/DFTbj8Vg0CuYRaBt2KRLe96ZDiPHTyq3EDoOb/uJaBa8wSCkuvT6f0rHj84uoFO9PABTIGb6Yd1KLOAUuAw07DCkCRILqAbrUyDMbiZr9pfEuip/7c0fPF7uPu26T122XHDZOUlG5o2f+tp9Vwz6T7z94BeHZTapZw16+3qtSy/95CdOL7iPvXwpa/Mi5HNs2HeSf+DyL33l05ul0WOuBqDI0v6+A/8PY4b+dsJ7sflyTMmzKuvJe5Ar70JX/Gt3P/L07/7n+R0nm05G0mn4O5Vdd34OX6+djiLaK+jjlV34WkYfL6hrN/429duZAPRjkq6lAmAk82DHZzz1xIWrAb34D1Ku6TqhC4y6RwWDfDOH8Le7tE2ZDLq9q/KICn947OhhhvTELG1ZxqwDrOHko7Xpv5tyTVcG/rrUcRXMdzMQ6socMZDpgqAe+HcbflhHmGfsh8Z2x+oDDRhlrLENv+sCA/VTV9ukvqeCQbfr7tTrNr6GPiamw96lcX9w1YPQa7rwh7u6Kud2qfg2Va1sPqwrqvN1F/7F0edrjYJ1NdDR/0HKddltudy2rG4jKbc1VzMQqiaAjV/M/ioLRrtGd9Huo4cpbIC2/Bo/TOFXJ+C1q+cIwSQkyKWynHcZrAOyI+mcAYALeUCudOAiwG5aVAnRA3BjZXJeEkxlb3JeIjEviU+t7IXtNIxPBbvyujPpSzVl0H3+WMz/ihKLKe9PdaFW5EvLTquv3R5Ad59jXmT3d+IDUFa7T68DHQvuaDqs3UdqQseG0+9zKnynVfk1auqJKdprpCLUpMQW5dtCIU+r2+oMAoKiurNS03CbMTd+Z7R/OXPCXLENQDVlbx5CBZWAxXyurPBqnABSymJS40UShF04pwgAUbwGB5Jdd5Qu0EaSHoTNzvAZhYXLyl1yPN8bHVRy265cMRKVm0JNLZkhW5sjgJq8fvcsnfC5k81W1poJnzTvjBFnc7OiZK48YelJ4+FAe7Cl7HeGPOmUyyS5KK3+GPtHdhTowDZmnFnJbGB2MhcylzAfNXiDco03aPRFrNY/2aLeG2o2Rdqchm1fd3XY5FKJm2d1iEU4R9ADhHMk5Mt5JV9W5XypPISLhWSK8igMdAOmTBoVU4pazuX1YEot4s9oa2jb7tbW6D2IT9XbTmJ9hEPa0kLsmxyy7GhvJ/YkmUjaI2QCbEodk3RMOFvXLxyKi3bZ5nHaJKtLdCoBh1k085743kD2ux7OItosdrsfHzD6crTat9W+HtV798dyRK5IYIHBfwFL+11MeQUep/xaiS17uL394YcRQg6f3REwcbLfY8P4ZM7msiHUPTA6iaxO8KG2Kg/7f9nrWA/TDHTlEGD0JzJnwAhcAP1/HYX2CqCJSoyuMQmnYjzF60uUhCZsWyBCUJnIFWLQgYCECyoRpxTBlGMRJKhdSHUgNTWMYjmK7jkQoYb0tZlGkIsw8nyELkqmBDomOYr7eaaNGsFY0V2eMAutyLf3EtS+ciehrPvafvhDmxui8YlWD3batG/Gs2yU4wa4TvhxqM+0lMua7BN2rotbyiFT2i1aWRM28SaTRXQEHa6tHLcl22212OT/ldu+m+62irzZdrVLUVzac8RGzdrbyMZ6gvKH4AG97dq5lCeMyCvgzW198122ymesHhZBr14DOdic+gSX5O7lwCQ59gXB1NZmEl5gA452ycQi1sRxUpvLz7PcC9wVXcjEu+yWgZHVSc7kg+QvKa5NTr/fucmllOfRvR5wu28B7nU4L2sS4Pjp/3WOVoMEKDGEYBApCjmMgFQrs3HKik5X/kxx6jR2VP6cKBYT2AF2ZZK1HPr75tZUqvXKVGtr6grim4xeEolcEtV+b2kSb7pJcDmsrMCvX28xcWwyvTBdeQssMNgJ1nghUXkrUSgksDNR+Or4k6SS6k87MxKNRlaJrPn8CzhWsLsc/MSE4LMyhG6ro4FGmTHYR1fAPjJXOEKJC59CYQaxKcmRTKlAd5A5WQec5frA0WWDuyyRqCxHI5aFgtKkCAsbg3dG0WYgdm+LVt1ZaKofOmzm5niTxe6w2e02h93SFG822xxWSbKeQXgYVxliLQMv/hx+gwkyvVS+QtpUZcjSFsV0aioPCxe2RsXg1qqx2RNVPbEfAdWlucKWSbPDYnGYJy3heNhc+Z0ewgFz+Fl3yIIKelj7viWkhokjWcBAdPgXUBZH9eTKy6S0ZYEeWmAJ4zdcDosDfpLbLVGPA8gTl8PscMPPVfNoL9SSawX0ufAi+4PD1st/YZWwamZZZ+eyjMZnlmbAIK3yXmtvbytGYFeOY9lDlc21WT/3uc0YfPd7DFmkGahkmYkRHNGlIvKbEV/9eDaLf5vLVe7VsS/UoeNkrM2QW16R1fZks+jqbNWldOp7/2S/id+F+UE4G2QzDiMJJ6cIRoP/pyC68w7pYsxYseojXC7s4azmq3iOs7vcwqQ3KE+KIa94lejQrpC8FqfbacFPWJwehwiUHn4XYeEqwQ1ejl+ufYgyQc9bLnpD4kesqMJ6HZDVAub223X3CTuQfMZchn7Zb/CbgtOwZo6KBxMpLgcg3HXdDWjdDTdo+29glUh5IqWdhdDH5NaIi7XthUhI3PuUtic1UY6gtcgVaZXR1XpfvMh+E+ZKlz5DGjkSRYJD6PgE5eFR9h0VzsF8AMRCIBBKgc5DXYjKcku4adc2nYmw7bdbN/f0eqUzSWsXW0qFY4//+rIl7R18tmtyxUZJlnnJu9duE5vsd1sl7zQGxG5KBm9csqi1zVbILT/2kcllnRlvyPt5r/RyiQs027hB1mN9l7CGaR+9yP4E2uBn4rD3MR4dXcpPw5cCKEVlzzCOSYoQ1fYEmQz7IKqtbWj20z2tyPqOZtLnO/onTPb9MNd78OO9/ZJ3j0iGSdwD77hHH7E9XvSGdl2iMF6d62Tuv4l2vVtIrFuXKGg7vNIeMivEPaQ7oDxMkD309Y25/6gxxoSWCZG5P/OcT1RXhdMgRy7UJ78WyOXwa7Agzpk+6ffqq0Ef73fYJ1kET8kxTCJfIuyvZNyBXITrIrtSYHsBOeGmzfySjosIKvbxVuEq0RsUJ+Wgd7kYJJNe+7jDKzo8ZM5Dlzjt3J+x+SqSNInOJTx87cOTpMRV4iGv9ITed7fdRniRT9i8lG3kqcEvO6MwGcDChpnFgImtYdYy72OuZD7G3MLsYz7PfIH5CnOQeZLgxVQyTsUZbUjHz0pFtiroMFKqzFci6CA7HEH/uXoA1kDhlmtCANgAWZ2ESCUJNxsoDR2RzpHNIkW2hjiJJRsHdJ9BfgzDKkgm5iagZ6+ekqfj5ys7XHa8SvLGZ2H73hZA6wIBbX8APRrYFgCzLeD3B1oiyVTYHXA5EGu3Cn53JJmMuP0OF29y2QOyWeIFwQrQwW67w2qzUZ9g1+4N3Ov33xuot9HIG9XHvvEG1R7ABxqkMgYbuSqWOd0fII8P+HOBbX7/toB2cetAm8NqR9gmmBytg60AnDiTZHFmRJbnzIIFObyS3WcX7VaTuDgAf4tJ6UXEgjlg1flZbIIJMxEmzXQwPQC/x5nbmZeY15g3q9okh+vtGIu8EU2ZsecTJYJ8E/47zP0hOoSUkAQcIYwUGXY/WYIYCSYV5CNDD1NAVzFzGBsdjH+SuKlislAuDiFSD9GXKiuC7IPNRMgKZBFlqWxDpgoOZGPNlotkRy1ny4TjnIX3htKprLHZKmTCkUlW4/Hiz7cRDriq7SY40IEDOmbkiqKlgC89GI3+hJpNxKCdtpAICL3VbuVNWAzZWiUbh7Dbjh0yZlksO7DdjRFnk1rtISviOJvdBoSBNWRPkoy82zWV0eXmScbRFlMyiDBGwaQphnhBSSmCoJoSIRIXSphU3iynfIJQinR0DHZ0hEVJkiWJbWkda/vOd9QcvLZTzc4jqNxb0Iz7ibjvAYKiUesqgYXXNZnNJhO2sLwihB2Y4+1ejGWJdcXgbbwYIdnO8dgRFhTBBO9McnNINAk+ktsZAvoN3tapOuHVwR9ysI6wOexFVlswbUI2vx2Z2kM2K/IgnnO5OMFTTQnYgAQKkhSeczg4frxjiIh3cpLscMgS2Y8p/vi7RlwEGbturH6aNfCtUOKZZ5D8zDPacSr+aTxeyahVF3+28ggeqzwSV9U4/ogaj6s13b2f4m8zFkOfBJ5BiEwViMtEzYcaHrF9hxx5JoI6tvvA0UJx1hyPH3o3jpMRn3Yd2umL7AOy+C3slCPwNPirwcdvGrKH8lzlDlSsWCacFEMdsNAI28t9feXNRMywadOUmEF7SgyKu14hqNA/RbLhz0GwoD0kirt+TZChf4hQIliV6ejvTHBYIoWaG/bKUraGFYENZJoOhWsY6BTuWdDuuXey7bG2yXt3LWAXzIKoXqoN7NqFntR+/9RTlFfwFvsldoTK7NuYdqYEPTrKbGLOYS6dm8yeYNieeolzrD7ANnLuYBfKF1WKdhWSeR3MlMp5mYIm1UeZX0mhunOwboMyfTPa1+n3d/ZFsavyZrIAW4lLp02th955mkw/lCFT8c1sL+xi4XLQa4sWnA7HT24Ss52ucPnpzoFCp5Ky4UQkY+m0rckP9RWb47HeWIy1QvWaCoSvv6M/gl6K9HcExosJTSUEMHopUbxkHA2pO+LxHapua1cO5xPJprzf5ku4XW2+tkA04o4ty/ev6/V6uI6BjuM2TIwvT7b0q/H+BOXFwIS9mBUP4+suJJLWBu60MrcAojQt8hF61mps4GWi6IiXht+ORN4OD4cPRCIHwgvCZ0QiZ4Tn67qB2j4T0Fgs8nAWReH+/i+T12qyWbgz0fnaB/ET4UgkfIAo7DxU8+FjzaJorqy0KRbRik+u3CyKGHMKbDKDtfn8dWM+v4+5Zo76K3SlSpiACsAyKCIiyHnKkQKcnCWAijDtCMFOdKIBogkELBFxPNEDKHlyVO4OfrKMoTLZB+WqOA0hcgiCAzMnqPMyjsjTeKVFkVnES06gL0W7zWrDPFe0OrHLNjYidAZNatHM2hRZEOwus2QaGLXCrmxb4WA9Pn+3xQVtMjt4u8eS6bJg5LHzTkuixUJjsh1mjNyzLL+h5kDK7BCRWTLb/D5vmyDLSLJyNrd2KJREmM3EbTJvla1ep/UdhCSRs7lQrzgvGNWetZg7OuwsQu5mS6lstvKSm5W6u42YvjyNYRi3oV8Rm1VedAqzx6DAjog/sjNChob13jCJyw2LvwFPqU/ZGUMXA9C/PIbXRy+JxS6JvhdFF8di2uXRqvsrAlYr34YkyHAbCdwWuzsavTuGqBoxfrKq+au9Y9hEUWBX9GAUjHYziTuhFoCkE2JfiUa/EjPm7lvsp1kr4zT0lOjcJTLpOuhRU8CvgyANrCJpx8FTTz343IZ1hVKpsG7DaeuXLuno7OxYsvRA1aP9Jobmw6s9BtvMqQd/dnBHqbh2wwsnrCuW5nV2LF52YOnijkymY/HSA8sWd3Rqz5K3nNJBJmurOn6JOv0gpuEtGnDERN3q42KEkUvXHarJnWEE8vUBdGIcheJx7dX4O3FWAMD7jzj+NcxX7QkycwuaqytuRoNA7f2GgN5riMUmyUZ7LfGiyq+MOR4b11rUPFtIoF2ksmqlxGWq/JuvNbQnR6nzObVE0bcQfQPJ0wDVvqX6YltVFFRV7TfqO6reABW/Snb0J2HZ/w0IspDXe4lBynmP/Or3eyXtVcrACFF181d1+peEDD2HF9i7jXcPAt7UO13aOF1UpRJBNRCXsSq3G7Y2gm2QPWtv8XtFMPiLRCT/NLG+/oXPV17C+MOCxSJUzrVxnzSZPmkys8midnKhgG4uAhp0shyJyOhmoof9IXRe5VWWXSTyCcGySODY01krexqLDdnoY/jRw/TJ5oZnTFO0PaKfjczEJwaIXPlSoQh/hWcaHPxIuzEY4KIBcMcAuD5JgetAojhc1N4tFpG5ON2lPPK38R8oD4HoUhB8MgR0FOH+Zam+SZ1uBVfzsXOMQ5sWdQym04Md6OpFYIP/3Vkj8LfClDCI6I52G9GhSqcjugNBnWzQHaaGD9ePyRzlgHUcsdn6HP0C+iwx53424PZPYT47AdubYLZT7FkXiRG9rQLd+/jq5gcLrVTd/jKI6GtXMxbLlKlen6ekzJKO07u3bt65c/PW327btGvXpm27ll5dbFW8XqW1ePWnweuTZR94UUnyGpkQlpvddeleaeYkNtkUWH3K6kCT4Yw3KW7ZHYaf0lTn1b7llQp6rgJnd2FvcCpHyPv60RJ1naD33oa92QY9aSG8ViDfkSKkyvi8B7SOB/DJ96+5fw3xp7+MT3pg9f2ra/TK3bBK2wHzJ/QKYTCqeXVq3AfRECZToyg3zo2EkvUJiE9lk2VUQi/a3chtR08RYhS9pWYRYZGbiZDB2UZUzNrwSYqiaMRS0Kd9+G3kaXLrdGtW/Y7ZYbY4zfg7hjyCELGSkR3QyU8rBq56AP/+iHhDI57gmjHQQE6W66HNLVH8PID0tmjNRUsAOj4URT+OIgF8/4g+SYH47ynoP51Q2GiiCuavjGrvQglzdNpel2YyVMd4JcFl5rK+kCqoQE6pgDNyajGvizAFmKsCFQtTYSU5hKcSEiUN9EqO08XuZcouU1TCLSZLxEtRgzx/1DWqBY5z5laUVhSCwTBynHJmu8tq5a0ut+hodrh7exxmh8Nq81sCUq7HgZxNqVxPNJjubXagbtZiD9h8giOatQtcFz/LEtd+kHn11VVr16561e9os0FTmludfo49cdBkll2CKc2HLflz/cM9/dFQUvZJVodVlJcmXWZ3gs7P59k9sCekgfJbQyUI5H+Yns/QFS4AuU5RPnkXchEek4+saKJRTBB4SGUpD4qsc8FFM7KwBxD2EmFH6eylJC/gsFvtGFrQknBbrIiTXE0bH2Il6cDmgEviEbKZXbHWY4a6Ezbeabb2LhhZaEXWiOXYmz9+bMaBrAtHFvS1rjLZOMWETOeYbKafguvjbCY26moJqDYBIatZO9vk8YfCZy7CJtPiM8Mhv9eErjaLCCHBpja12vhVYjbo55H25XBSPGF0aFV3G0KTiAsEs9r7T4YKPVDxtRwy/R5cKGvSdfFgvh3ECwAGMR56GlKxIF3ZFcFmd5mF51w+xYzWoDVmn8/J82btKrtqQ/8y+xQnL5i1uyGB550+H0mwGzxyqPPrOALYkQiQjUC1pQSmCaon79Hnpqt+bkqoYXIeZW7GaxMT2c+S55+28NTxRDKFTv7IJ8p+CegdRbFbwi5ZWbLYY/N6rTZb3D262IN2xIvzFqdb+paoXjTMi66x1vZ5boswZEatQyij/XTXOefsQpmop+SyCuZEwefwmkwfWM6JQcXC9Qlt1tHbIsdPTKYTuWBQtnnKJ+V9NiVrwMAX8cuMn+lk+uj5qRwFCl6+yq/RoQ7FuSXsDeuqxHhKeWNKV7Tu4BUuHLdiYrB3dKx3aGL5ncsnhnrHRnsHJ1YcNzx/8OSBwVMG5l84b/CUwYGTB+cPU9neCUszncsyzeQgY4lY+OWWaE/xgpPPL/XEVDXWUzr/5AuKPdGW8eamVSeuOnF1UzDYtBo8q5qad9HS1Bo3SoNltO3bsK8HASOZ0FcOYbPqtCs0SYEWqnoTgYSNID2RcDwgH2X0Qsv17pC9QoookiOyuYA3UcopuhQvBbgjSuTGVkFz5g319Jdz2b75CyeOXT4x2De26edZtwyN8rdL3f7RROeyzshHjl++aKBvfibbDB0xf8Tt7e/WDolBEZ9nCPcqHxbx1bmO84rpbdBKRU7mMk2hlhh0Rn547/HdUrsfKpTd2WAEOi45+nfaT4XBhd2ZVAfpDtxn94ti5UO8223nOAGfK4YMGfXX6TinAF4cbZSJCn3t/Fz9AGPZGNO+QRjTFQthTOf3DSxafnx8qKtJH4NlndURbJpxBL/S1DUUzxxhwGrr7mqcMfB5/cwb06Anp06pwxrKRXIeHSnu09lTsmCuIce3TiGHtdYuWoTXE88pJIqEOrPvZsGEvO+SGLBGXkRN9aGanvED+EnGQfUIdSEl7Kf6AVKuBrtuCrjfdNvWsCxa5Q4ceiPgxt9yB9Df7nAH7GtwwD2gate6mppcaBdDYCTgKWcf4XzJ3HHQI4seGmjgV3S8QxsyVNwf14aoesPjgKJo5ShaDFD9QDT6dCz2NMDuABD2v5tNLeJMggJ8SWes6wRxVZf3V7Uxi8FekoHdZBGzjNnIbJ2mGxk7wlh5ZtSKnOtoX9O1JZPZ0oXu9DQ3e7YS6/hjjvk4xEC89sfM1gyYK0n0Fm9zs/e4Y47BReLZYuREJ+lqpkHP6yTmdU9w8PvIYqignqe7NJpmGPg+MteHDLz9C5TfFoHW9x95HFGMslRjhMpJUSlev7HQytUUGmLtOvmrRXQXnaY9S2ngDqCZt71AvC9QOvhS7VYav4WGDudsVb5PSOyQ9xFvUKYyYPDo2gJVPsYTbJTOwXydFs/pzEVz5RdOH4jGQ15c/dRs0FBOzFKSbTkK0nZarKsrti+WycT27TPb7eZ9Frtdi6pr1JpBL0W7uqL7aD6SaiH52Cjpkb8Z3SMajL+/UcafmCjszMSKpFQxlumzWYqk4qLFZiMKwNq7xF5A02iuPj2N5DLoh58avNbRufUcKxPclp5OcsGAk/PqskqZWpR/kmfzUwxS0g8NDNKH/9fhtZk5k0X2OIjXwrGC4pmFr1l53GYTOKtZRe2qx2oHpNUqqNpzqrt6XuRt9knjrgNyUvxY2g48J46xnEGEMwwwBJpQLPmUIZwwtJgaBIxsMtLX6Z9JRrJrdKi/q+2aWy4KRhe1rMy0phbfNBjYcqn2WlNHINDRlOrpSdk9niaPh7UFOvqiWlLvGfQiWEQmkKS49ouJ4qsBf8dpowukzYtW9wRDtgXuWNfo+3puaOrIdwR6lvUMkzqaPMYZmU/W8b1Cs2pBjBT3FcGgSd3VEuPj+JFC5a1CATsLVXfHoYcYpnoGZ29j/TNrwqeg/gcLpNoCelGv/uoZa9f3m+uhbiLLU5hmQv9VOV1Eaqhzu6qaG3/ZR3hZ+9Aj+4hHk6HeffD7cMSnrfNFyChEfGi/L7Lv0EPsElI/oaN/w34J9oYQ3csow1/IYCqSDhPNRKV6yoUi2iQacKMyTQJ8lMSkUJd6wtaVwaxrYMFY0+6wT+5fvjy0vmt9eudZK0OhNrS7fffu48PR9j112faEZLl/cjK8vgs9p8YsudbuSKtFCewJLV/eJ8vhE7pOaA+Fj9+5sx3tTkcjx+/e3banIdvk8n6vF7LV4PbX0WfrzgdVIeOZrfhQa2vF1IpupwphbtqfP6JjZWck6M8glbaVmR5mnDmG3jGxBSAZOW8Pe6NHrWFIgPRyRwmh/x9y/nRSTrQnZGqh/Q2B5b6WdIuPWpXP/jez4edlI1o2zHSvdsP/fQ4D//sx+nHDOPwb/f3MzK2pD1w665tUcbTb6B0arbAnLmVOYs5hPsp8Wt8Zid4Pnjrg3I+EaSBMTdQfg67dPNKY6fCa8JFrQrPWdDPRkSZ6M/cZx6PvR/cRzZn7KYbwWeNumPv0Y9f33UfUoYilLWsoRzyNBY0C08uxNqKrc3+tjH6Empa537jK4354CfIejUnaPpq/qvpDa6gvaZSA55HydSmMfifPi0DTEd0Clemi5xpX0nV5IfMRGJm7mAdn0DfwCPqhYKqGk0o6kKEWDxkShEOiR6fKqmwkQKGEKhviTJJL1WNpikfXqlfkPKRwJJAvUikn+Qly3igT01kycSM3APyUUKt+uOZCLhypHan8bVXpoWxFktcjYbtXdiBr/4esiZiZ6+5zsrIN2Vmb1+Ts6+aEeMsPv8EKrJTvsnHD1or2mG2Is2fyEsQh9BjCHGtfsMDOcvhBW1deMvHsN5B1WLsRItBjWMCQ+DQ3ZIOMvMlW6kZLyTPtrP5Mr8ebSt3v7M2a4DEia5O/bYI0a0tcgPc4kqpF5RLElpKqCSWSPSZkDrB2t4lLeDlze8ZiybSbOW/SZHLbf+DO51wmV7NZmDyR50+cFMzNEMzl3Z72Vg8SLRhcpJBIf2enT9g2OY8kODOddmyxLBKWbTP7Mp0K6w7VPYxFwjmcN8FB9Sx5lDmZsxiP13UeX2TPhHlTvUuF0CiH3ZFC7r1BM7JO2TI5V1J5g9gYXPh9KY9j+XzlV/mqyyYhRwvN8X+UWE+lhfXmc7l8JZDL53P6e9zGLmE3/1+9hyOgqgEtSmz0shZFL1d+U0J/LJU0b6nqspvVwKGDJAe7MKAOHDrIXlmCv0NfJHYVf3ic4qwJwFm31GSshnYqeY1hZJzqoeqY5AUFlZJeZQPmVxUDMMUOSwmCy1dPLgAGQgT9/Zjiwjz6pC63ewkIEaKhbCbbyEu68uahf0jexwUX4VbwT9xLFQHf4+wumZVJvK7F/PgXIR55HZDg9LJJqun8Et2fGHJc9dBDQOTQ8HsQxmjMK937uMBxdrebf5ycffVirw0xkvfJhgQbTxPeY8jmQs7cPsn+nB2kOLwvrxDVBTlPOUNUKYmo7Mr5nBGq3lgmyF5dT08XIYZgJ4C2EywItyB0IccLa/5g5240mW7k7H9Yg1lsYi80iSZIMK/5A0asxbSX4/by9t+vNvPchazI9qIbedsf1ggQ0vNBBYjk0+v4IyKVsIidSoXqWWToVj9O+cQTVIoBA9YoxSiQgZNTSj1Oj/McucyhbiynFHFRKYd+K7m9dvRMlfgSoectCFVJM6KWgz8nitq5UwNHxbnow2KQTSK52YOqVMgzIpS0uCz4mSr2T8gBUQxBaScdI4/9PV1b94tQnNF5u+9p7IP4nwCBmSqqGaP7OyEfKfEIVEdMoUqVZEjKyTIqwJg4oX/PROevWrSgvcMf9Q+fPk+76jQRW1hbzHqfHWM7/qOZ4xyyLJzZ0b5g0apfk3NHv553+vCpYtjKWa3QHI9d55uZGHwA8Gw74zJWaqy6RoluFbs9oB56Ww3gGyqn4RsOPcd+89AIPqAGKoewCVae1tM+oMuYNPbzLGbCALVG9DMiBGmo4uwSAH1AoNWalFofNqJZpLggIUazuEplchKEiklubT1G8S9IfZ5Im74UzduGbfnol0ngC18QHTaL6Qu9nRCD7vu8EC1Y2woPchabg8UtkUhLoaXyl5YCTobDSVxowVJLYchhrfzF4sAqjkAcpFReibLYYcGS1WHsFY/BvHIDPpaZ0uiT1VIGkxcfwpxMyFcYDV1Ho5j30ltv8hJOFAmhC6OFld1EiW8cHXPhLZ+5pGVx9JxPa2/f9oAvjD63i2jujx1zwb7PXNyyBOKRFeIjOnzZveL6E5PqlonJc+etunss7DtYEQls3AXRifjWhZPnzF9193jEd5Dq8xp6+QLVaCf6cp1MlikyvYC9zWOYMnlJeB0iVtKvBskTqluXoAgI0srGL2H8YtN+Tw/vaEID28/ZuWXz4JCdHWeRa+HC03ddrr03Tv7YJeOVrdtRHMwO3T537Xhx+75xtlxcf8JZ27dLl+w4eWCIRat37Di4fftXt28v7tgxOV77q9IsL+GfMj6C95JVqISxhAWi3wcdOoQ9RHm+qjWfI9r0KWwaOnO5q29DwdS7pU8L5db02uMLs8KyC35mDVvPaxcjsnXUGhE/YbXin+RPGODnvW/P1n42s/zEDaP2Bbvna9+xQi6rLwy5rJ8QI9aaTPTrFM8KMcMz4VTJKmEPGI6cp1IOn1w9A0y2zuoFLEns3U0GubeHSoeJZ9O2M1x+fzzgNy9qay35AoWOjGzylCU7Ktmtvg5r07IjIhhfRkoLKYZuz7RP5ELx7tZQgPdkI8GI0xn0eTwpu5oZXDh1zuFbBk+jBJjiBOCKc+JqHK6LmiBO9ZwOBQENvC02TjQgZxQyjsIet2kTOaBwjhi0niOiNjFIIkIkIgQ/raJeG49fq87G2tBOFEk5b1A8xyqeKwYfagwOGiq4xhnva9kY1RstG9IPgy+Fj3JXJafr7Xn1VpO2KmSmUWmqcXNJPAW7LSCcVK9xCCn43baxVqWtHNac4XKb0jrWht7SnIYQPJfTzhTFBQtET7NlkwVM8zuNwRMBoOMS9jVR285GCb/aGS61K0p7KUzF4CNVGTmp73mxSVy40NLsETeKtI5p4ZMRlu3aZXYn67OjS6Bug8/5tMGfq/LaVwDO837mAw13Rs5IWykzCs3nUnpO1Nvt+r2RXwsSJ/i1r5GDzV9zyvLVcbRQVbWD8dfJ2GoXzpAN3R/qDoH5muHoCWCxSRI0soN3XHZWC20imrl3xrWvxONoIq7NM3IY+cf0iknusRlTps4/6ntWRodth+1aRDboAFgRJscc2QzqAjSDPVzhe6aNbEFhfR/PdXeV7BNZ9KvU/CSrDiezkufMx8WI2H6eNeyjG9fokTe4iezKQs5uP3bLCG6dv2ysg+O6Ro/TvmW1QkmZ7ouj1rBO77/I/ozy1Ais9zFNAK3jTBJa5IoBpIi51CKrCCkVfgn45YtgueDncelXZrLPVjaM46ZTPnpe22e3n9H2SXTTLW17Y/e0Xbqv7f1sZQPeVHkNN+GLKhu+eDJuGtMs57bdfnrbjVnI9EfIhOyQDS2GfHeMV16r7l83s/MpraAwESZF9NI9RPKo91mKLlEBlVFZcbDkjt2UhxwSAlcx3N8500682uE4ydnhqNzjdH50Eo8sr3x7Z/dZpZ7t23vyZ27/Q3x4OB4eHf6Tv6PDL3d1sDYHydkBRUjJDkd6eeUby9EFZ2XPumZ7b+8pW4d78abheHy4Pxnf2qH4O9qa/YYM/uP4YnKyykMGtk4AD2+509Zi+yu6qyp+77epdu1NG3rEZnsb3WXhOCp777fbkctGjipQWP5X9jaWqd0Vq3M5I8YtUWREaJeniHJP3Q/Gpwvpv1Q1D3vrobfxD8jVM+d+Mf7F/P74XbF98VuTt6r7rrkrftc1t8Zv/eBd6n6crVyPs5qE/sIyh95mbcOVXXdC9m/sV+/6yT711h9ANq0ZAi3giYKL10P+s4Y1ibyvq+H8wOFnxk9gTmG2w35zNnP53M/Fzqy136DSS3QAq35hpoRyA7SKHU1rbTk5Uf400cVEnXTPuSq+KA7m60dyvqZOqGDwn4n2S8KQVv3C0H5JEKwf/YJq6Q/GiX6+YbQJUj35XdzgMdbgFw7rx1X/jV5j6cnR6nnrfkQv7mBtR9FEr6zQ+4KopHaQ9/SdaDZZPFbtQZ2arbSL3tC/2/bl7xN8HiuiUrg04ARMTQf3y9BuxbgFbRxmzc4pbGUKZh9+wsMTK8IsL8ZQtkzPhdUhiEo+pxweS4iKI+Utsd6IfpAjoiWqPvSLWlsKhfMOvcEq5Fd5foBDLMs5+K5uzilyA5xg4rk5xrFJUnHlreojdEKwQVqlaWPa18ZQedBk50wc193NWR3coAlVGiO4ygBn41me7+rirQ4enoUMvY/b8Lmwa0SYDqIRjKpn6o2j9tCDVFelKm9NzKzHcvforvnzd41qz4/uHAVD7jfOHp8Fg9pyxNU+N0YSPkRTaco2YuFz5u/6ICkJ1kj2+BNJHFgjR4ytv2s8bZxCPIY5ljmO2cRsZk5j9jAXMx8m2keN404vuT5sevSzLr0phJBsOJky8xnFhgAiN78QsZ1+AwzpkZoP3fJU7XSo9Ebt+ObU+dGnroiaycUAnnXR06NHNNodKKb9ilDXxNXvIKj58Pe80tQB1HmNdev3SVdugQKQGc+XPJfrmodV6wqqkrhgxNPsvmIevZ/gshGzwy1Z6u5R9AE8J3eurJri4h/t9K5Qt04ySMI+faFwRz4O3Hb087R3bhUwz1oC5qVLeYfTajLxWwUrZ0XoSGdzdf76TGdhv7dV8FlMZqiJ40w2h5Pbakbo4PTztNPuMR1jtjEnMmfBvnIRzKir5rinTju6LulIrFpjDXooyWDcaGCQSHRrpdhdeW6T7ug3e2yU3Dl9puTo7ALUzyNlPRstFlXlTSa708WrKqEBVJVQFmA3bY3eEZ1mZtFsWe6WslRjt/ood7MnK7m1H4ikRt7ltHEcP/UAD9iWn5Np9wKxzqbXgUzd5+xkYoA76qeKj3R+Zfqtiw03EdZAFmZ2HNyx4+DPNqwlp1jWbjh17c1r19784NLF5ATL4qXrsqHWEBgXeThr23Hw2a/sINme27C2WJq35lNfvnktyfYQyX+bHAq1hUK79Gv/azL/xxrubJ47lG3AJ6JHOfpYmWTNh969PP5QHAyBtmlC3lItWUreFpJV8jZZuHZce5WeVtX5D98z8IDSHLVRiJRaoOenqRZoBLGdR3mxsywhGVu0F8SY+EEe8w63iz9tFh2KfSJ2B63aXTZku1fwuKyYN3/UoC+PjPttnNubEzm9Z467M70wWEIGIek7Ki6nbR8fvzT+RHya0f45yPODnN0qCFb7LE1OH3odLyEI0L6ahU4a5N38oInlrPz5gsjhKr/oAPRBCCjA7VWq2mAqq4k4GZJSmagmE51KcmaIlXQZQQYR7MPYbtOIT6lxqjp0lM83xAyCGgMERI8Gu4KvJMpsuVU7zy7d5Lbb3aFlsPW02qzNiHcIopvrMQckYS/aLXg8wnuYxUE/upTQwJXriB2P66Qt3hnqDjpDKfmXeBnsuo/3pD6SHjDb7/TkC54Q24y+k+plx4FM+R+BNQtFMyvFhFsDlsssAYRaf2GRN/scfyJU8Z8Ivdwd+pNOqP9JToWcY9Puea/eczvn1Ub+E8Y3MuZwbyy9iaZt3sF5s+x4/xy5eOSX2ii5eBs9atz9Ur0ffPrbzYB7likCopIb4WLFWe70/mDtWuBZr+v+mX6hMLk6eJ5x5o7qhX53LmcfZrxSsiHQIF/bE8PPxWKV9ljsA9HoB2KoLfrBKBhwP0CiKvdV0/F36WnG5+u/baK9QPAOg3b5oSFjJKNcZvqZxfo3cqbL92AHPUIcOuywmpw//JskkO9VcuZMox8FQSHtr8h+D43ooxEPa+vQftRB/B8g1tknnaR/euQVelLN+R6Q62hrGMI0e8QXHnuPFUi6Lxwm4cj4e2isMXxpY3YyHBJt7zcMmqWR4j2B2cDsYE5lzp0bBdOozzpjgG1Q9VCOEmKj0b4Ov7+jL1r5c9XXQNlpu+LIraran+LT3e1FyR/yS9QqzuCfAwFzJ4Fjt07tmU0SKRsMSFLgixKxp3sNGTW581em55CGoSePZ5hE7czRIMrLVcyUbbibhPpg7yBahTBlinn4KcTKF1UuXyY+VUjRlDLxF9n91U1/XH/dtVP7PrlSSFpVKKwq+HuLvXehpsEkm1sfCa/Psb+5dt3ekA4pQiHS0hD+2JSfpGg/XLnypQ0bXkp/+cvplx5++KXPfvalh1MvtT8I80Wp2wMTQONM3bdzErOL2c1cwlzKXM1cf4S7d/QboWqoJ5FMx3TlWZlgTQROdCGUo2cuivoEIDADoEqd/Fq/RitRP5+KDWda5/ZtA6Kml2pAfuoD2XrkjVxlNsWyaSIkz/soVQKYJF5Bg55mDwQq9x8l7brqJe1VFw0ejtq+OG9eV3RjLLYxmo9+O0pM1LBZG9TzPp1k+oDNjREJkvpp4NDrR0v9Cqng1Npld6fULJ/2vEq/osATHfBo65RhmGnfAqnXbT/+P9Bu52bEhKbo3KODxDejqAk67rUoatV3d91eT3H92S5WJ+17ivYApS0V7Sm9s1Bf7Vto10M767Dn6ten6FYEPkHVcX0Dg9FVxRq09C+cuGjRoosmFi/u2dQDZvHWxeUtZTCLFxsJe6sn8fD1ExfdcNHESM/mszb3jBgOjXpLv43QUgfDdR38fmYBrLR1VZyM9r3+dSyDhSA0XPhqbNCxBiDaEFCITqlSVsqpckooq0pKiOD6kFL9HNm2bQSab3tKe55C9boPQ1XBq27GR0a074U8nlCw1dbCt3CqrfX0xiC+B/Axbb/+FTK0DnACgkXsr354bJ0nEXRUrta/RECGKVdZgrpkVZVDQtyVSrniQqghVNV/+WrtfvyZJJyz3Y5fzylyT0k4q55dG8ltNY8dp99Wc9zmhectWHDedcRaUFhXLK7bTqw5XFmzdsF515NSYI0X1p+yvlBYt2Ndgan/FgGRcbYCtTmnL9IRXDJh4JKpFFkAROB2GNl9zQjKTX0SKOUjArnDlsjIod+zPkR4grWzIPvxX4wzBWU6+9ZTPtZ2wAh2/xs8h2kHPOQjxB1+ikDOT50nV6bOmJuPdjfP9QTN+SpBbh687z7qEOu+e+5BS+pDNxifcXuwSL7A1hHR+b7rDFp2v8H3XUdp2f2JYjni20HwrR2+SN+mMyO+7aSa7SRwc30AlfUvuvl0xzjD/HP272zaOHNIr4uMVLWsI/qnBghDSv/4ik7t0jvByM9BVfGJPgwm5BZOJUvDOJVBKXyc07yZk+3PORSLYP20xYwT2OoPS9+wNtkek8J+K4TN4qesgkVxPGeT+c2WdtMKqTt84Aqvh0WRzwZKAcsdEc7hFq54uDkjsVHB9S2bA0ewJxSy3mgJ2J91BN1YOFEAA1Sy41l7wHKjNRTyQBaH7VteacOdzSrXdKmn0Gw5sNKOraaVB5qLXuHSJlPEX+WB/5r9HdsG2M9qOl92MRcwVzIMF0+pyVTtv0xuFq9+40X20WPBSUEibQZf3lcmBzDJ2s0rvjJduamiUZQe01T0+9gUHwtrt5TBfNnrgxUM0wQ85DOf5O7uOg+dQdickNlstjUR9LvY+RZzquWq1Rs3nLLumO6AGwfGOyfTqZBP5DgRmVtuN+0O8WbRFRkCEOUJ+prd3R67r31w8aplyxbuDKs83+vw+sKx1jtCacDi2sN94bYwmJvgh8Lp0D26G14ZaQuF2kNhE9/siweCXv7E07asX3lxMOJwTfSs7Mzz7PXjaZjbnM8WtPo7HcsmPKMi1FzwtHKYRYLF1X0GSqUWd/dLtib/SaOLV2xY61G8QbeC+qHp4Xb4fRBob3hGaNgbDoMznzjh8C3gwLOrdP1jBm9jrt9loaw/Q1lLl+wenUP0mhgSH3nE0PR7FgI/E2fhSrwqio8+Ss5Lul3Cs6IIZaq6wQR/JlJbte6rhxsBr7yZ+SzzUPX9dXr1SHf6zf3SZlYhmi5k4ynnFTlM5fjkSLYiqCnjikY6z6g2JWTx6YdOyeSk9/sZZ0u9FNwUylOnZMoRRPLLgvGd1GKZbl+19icMUdP5hK92QuPNzzfwomN5kE9wiPdx/MeiGcQledkqOWzumM/mSS/NcEkOm8yy3SzxNpsctvlaf5dWwmFlFbHS3qamtkDgGm4+l+C4VtMYcehQEBqTPLxKIOiny8Yfb7gu+jLuyiZnU7vKcZxJlqz2D3BcPMZxkig6BJOZEx09iZYoz1l5C+ZsAsuzJsHsiARbkD94asjvD50a9HdEB6JgkuzunRz3GIfP3k2cOv59lbKe4zkrzpV3KbLqAqKHnLhyERoIIB8QRgIhjopHRx1/1PPcJ340sBp+6JwH9sDfLOjiSVoe/SB7o/a3jfEbkbgx3qO1DNyLBi8YYGr81tvrYPX0G0dmgNYWpCAWKRYMjs040ekOldt95EjntI/fPdxZWbwUPZDRJpGNOMtnA9+V3fhAprIYLUZfgtza2+iBTm05pe2n5CX1d1OdyOxh3s9cxlzOXDs3Ccoc7z/1VHl6/1FVs0leZrjJNGdwoOZcShfK7KVCGXANhtZeUgKs4/XrSaFePTegrJ3Ne6tV7yVoan3u6nWmMDe8c+rv65hPM59h7mbuYQ78v+/7GTUL6mtC9Z9Rcv0XR0jbXz1ogtYRzF+nA7zavsANATC/DIwHwEyS7qzcS+7HCx8k5r85Xmur49WqPwwxYe23oRBqBod8kK+qc6jrL3jrvrE4V9qi4buAU52Nctg0K21xI+E3vR6/Q1XviM+Bonhf/N04mHcNhUHuMJq97z+g1ZW5UeRab5Ui/wG9WB62KLKj6aQI+hPscA071GWEpOutI7yZ6d8fqPIYls7xhpkGHlADT5hecwgF6SnG8CyfUH0zii6CZlwRjZKr66JYsJlX8KIJm1aYbFZhFlChvUco9gsJ0apdt8JsE6w2KIdNIqXp/sL+kCVcbnKX1lB9q1ICOWpAEJZUQ9vojQRloh5+hDayK2PlGJjvDjvSzvlPRUsxHO2J4XWV/b5QWP6RW+obsjr4Z+RwWDNTpR/tmThrj/XEtFaw0JCDleZFClH0KwgdE5G1VjliHxy04oiMXvCFNU2/YHYK/4pM4/uczVzMfIi5nrnfaEkA/VcQMB3X0q/78eqXdBh3W+nYlg9wUONuj7KiY1KHX3oMKRTXkr1KHl5FkelVOoOI5M7/O6jXx1oyrKnbhFjBJYlWQKLTa3xWqylrQiazz2rhkTUdbW7/mQnymB7OdndvzWazHnri8B5TgOMCCCG7hTMpLXZRNplk41MdbyILMh+GeL07/kRr3Z92XqjFZOJ5s1nkLUJICbV4LE0SZ7JyZsSxVkE0B5TmVL/p7yYwfYPH9fcfN5htLjSDOcHUZYqbThBg5rWYyHWWntMg3GWq3cXxM6Dlq/KMYf1LUYdfqHfkuLpjMzp9TjmxLKFcib4RgJV8VepXhBl7DqGWKRl+z803417i+SqJgpD2ExYNYTyEhZtMgmC6id0KAYSmwvjPEbnyIfohvfPkyFjlLnzL9AgFspvwIMuyLbwpahJUzGoP0LghbMTxLZjVeSq/Yp9hY7CHZyj/jLGg2mxVEL0SF5UKCcooI3e90pM2+pc+EJl+R+AR5ama/Be1pzuzWqW81OsBwr3c3O1BbKoiCB6vHbGS14JKoiCIWsXibfZatKdF4edqXzzeN06suIOAJYc/HkdPolJqaVmrQHnt6RTUxSbPfM/u9ZCyT+tlK6QiVLJ4pVeN8mCNOZsjzY54d9wY2/fjd2DVNgG9TTSOjmMYzxTVlixM6eYCvKpdqKSf+q67XylZSCCSUfc3JHzsXN7lssPMPFds9uJ+YotgeSyVH6Ib9CRBO93wIF9dHGTS3kFhUkB7xRL0oBtQWHC5iAaG9mtS2c5zgfqzudz8uRZPc+WFc0VPM1TtbRahmk8IJpPd5eK103jD80ZdHOS3oQjJCjV5gugTKEKrcgk0zBi47x3Gd9fr5XjLqVyL8LHObvgq43R+VMMXlJQ5xjWiTjNf+h0ld9Nso9fZTE7i9fTr53voF8ov1z6MoA9IxPM0IqL9AcmHRVS2U/wIDcJ2/0TNJd8/32ZUPTD50frAvpC8lTwPrP7l+4yHQ3L/JB4JaxygQP8Ch6BAqI3UXMODnq7TZ6x+1XVWWSDhS8bghwytRjZdvVy68ueavI2I8ggrgCo57BlHC8bQAv3uAnbJHIRz49W82leJmqGu+/0K+xLrbZAv9xH9jQbZcoOShqt+xI6EeChUMhfnBdmQVSl0wyP7R9HY9VJre3Cut7fyw57L8wdzuYN5cloUfyySj4DR7o8UwuFC5G6ncorDhxXnKR4H56r6vRLrJaig5iNnS9Hv85qSz6M38u8xdUXRCgicdFhJXq/R4IN/r+6Oisb2NtxNe0nt0oQfEKiH7iawB11MYkgKY/Au32Jvonf3dh5R70nvkTrZXb4qt0ti646v7tjxVaq8RK7iPU1yX0a+SHSpp9lzGRFKXeaZflHv90lks+fSumyGXOZb+D3aJi/jn/7F5LpL29/fAlt/y6FKC9r5/Lb8Hwpbn79urWnN4kRLSwI/VPnBNdfgvLb/b38z9subACY4G/H6f/te4obTI9UWk6aUiutOOG3dMv3O4WUPLdNVvJZpv43qlxRHX6HivOiOrz771R0kM+2AkYbMxJPRniEZbydFSFHj3d/CDzfM7cabThIN3+Rs6K1kz84eMKhVd7VwC9ufSBz6dgve0qPd19ODju05vkfjwfPPHu0tQJESDPP/AWOAdIEAAAB4nGNgZGBgAOLEz2pH4/ltvjJwszCAwJPsHysQ9P8FLAzMCUAuBwMTSBQAVToL3gB4nGNgZGBgbvjfwBDDUs8ABCwMDIwMqGABAFQNA4gAAHicY2FgYGDBhx0IyBPSZ09AjQOSWgcs4rgwNjPQxdHV2OOwwwZNjQ0B9xFyozGRfrAnQg02d4CwAQ5/4Qpf9HiwxxM3yGbVY7HbHodadPcyMGD6E00dAB93GZEAAAAAAABKAI4BBAGsAc4CYgLWA0QENgSaBQIFbAYCBoAGwgdGB7YIEAhiCNQI7AkSCUIJjAmyChgKnAriCwoLcAvwDHANMA4ADpIPGA+YD/IQKBB+EK4REBFwEaYR8hL0FDgUbBSgFPoVRhX2FmIXMBfAGBAYeBjWGSoZkhn0Gj4a3hr4G0wboBxIHNgdAh12HeQeah6+HwgfMh+YIBogdCEYIXoh9CIkIlIigiLkIvojviQEJM4l6iYuJnIm/CdcJ8YoBigqKIgo3Ck+KYIp5CpiKugrmCv8LEQsmizCLRotvi46LuAvOi/qMGYxHjF0McIyGDKaMyozfDPKNBw0lDU8Naw2oDcUN1438jhWOJ45QDm8OoY63DvKPCw8gj06Ph4+ej7SP0A/nECEQQBBckIAQqJC+kN2Q55D4EQKRGhEogAAeJxjYGRgYFjA8IFBigEEmICYCwgZGP6D+QwAMvACwQB4nF2RzU7CQBSFz8iPERIXmrhwNW6IiaEFluwMCexZ4LqUKT9pO810IGHl0/gEPoFP4BPoS/gCHsrVBNrMne+cuffOTQvgBt9QOD63XEdWuKQ68gX5XrhGfhCukx+FG2gjFG7SHwq38IRn4TY7puyg6ldUHbwKK1zjTfiC/C5cI38I18mfwg3c4Uu4Sf9HuIWZUsJtdNTLyJnIm4We7/U6tnlic5/E3QNOzXKbRk6UbDPjyrXNdT/oiTMxuXF/LcrdcuB9ohNnMz1mL5OmVhfObkzsg5X3xTAME/GD2GYYwcEggmdcQGOOPeMaMSxyJFX03GN0/90pc5fY8kNFrD49O1UzZjqU1Ael0UeA3lnOhDl5lXc+RYkd7xnQPUyguRwrMtJY5jKcISVrFNXZhk5MP8Cqqir4k0O+yVl+UN2d/QI8XWjpAAAAeJxtVIeW2zYQvDmRFCWdzzmf03uvTGKd03txeu89gYiVBB9I0AAondJ7773H+dMsKCk5vxe9J4LALoDZ2RmurK7Mf92V//8dxSpaiBAjQRspOuiihzXswTr24jhsYB82sR/H4wSciJNwMk7BqTgNp+MMnImzcDbOwbk4D+fjAlyIi3AxLsGluAwZLscVuBIH0McWDuIqXI1rcC2uw/W4ATfiJtyMW3ArbsPtuAN34hDuwt24B/fiPtyPB/AgHsLDeASP4jE8jifwJJ7C03gGz+I5PI8X8CJewst4BQID5JAgDDHCGAqHsQ2NAiUMKhyBhYNHjQmm2MEMr+I1vI438Cbewtt4B+/iPbyPD/AhPsLH+ASf4jN8ji/wJb7C1/gG3+I7fI8f8CN+ws/4Bb/iN/yOP/An/sJR/L2SOBI2HyeHdipRyrQQdluaadmTwovMkabcd0ZWyUyrkuLKqtJHufKzVJtceGXK5IjNjaRUlVXtMyUTNbSioFjUUpnu0NgiKziuY6+8psipUdkWUlpyruM8H+G8ytsD0ZwST5Qkk4gJ327brnYVlbI9FbZU5ShyPEktDXnvuL8qVDs3ui7KrcV4cDH2F+OBRIuZqX3H0aig0pNsh4Exd+ZgvRi1vBis5aYcqlFGE44yJqqyADtxmsHYRCqhzWjzcM1Ah7PMVSJnykxdyqSutBEyyk0163pVUGZFOaLUC7edcY37j9kzID8lKhNVVMb6Hl+sqbloq7cAMBCO9gnNDClPhcuct+Tz8e6loaYdZiHOx5RvR6L2Js2F5hVhl2U4P9O0dzERciLKnOQyWFlTuXVuB3nKcmVzTf09x0yT+Wy/VJZ7z2Rl1kwtc2MdrUnlKia1gRFJK0Z7lisD1sN2FFQTk1S+H4VnaHTGzdhcZqkyyKjJXSKccHW8jaIgu/VjE1s0ow7/s1wbR+2KYSia9sLtWcmoRJUMjeYm9RqdzQvoNOEQjMJqpwkF9iLFV8aqECPaWHYm5LIKrV9fruRBKXbvv62b9yBmONv9uFBl7WJWUd2PCmMpCq+p5q7XfGqrEjIpzEBpSiueZ4XY4bTJcqbKlEvIgsJWqzwKi+2FnBMrpKpdz4kJi0JpTTI9UpNrHOZya7QOg6p825H3jRs4NXFjwbylE2FV0FNrRm5tvsYUcmboCHXDY6FN7oYWleOdU8V1sccGgaAel0kLv8fckpoNrMmy14WVaaO2gdlhrblcBFMMau9N2W2+Eo2S4xFbompLFRxso8DrmqQ5ZK7BRWNf6CSIwti4sV8UKGVmnJsaK+NAgGmx1pJ57yPLoGOGa2wyxxUddkxGWRcDsnFjqe5/Jtrlp34UvBhxRpl62uHukmh7Y7RXVeS08alnLtyQLLt/1JnyPTZ896LAQdyc02mEO1ZaRvzWb/Fjc5cLg1EDxm6T1qhuY1d4LqGVlX8A+icldA==) format("woff")}.fc-icon{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:fc-icon!important;font-size:16px;font-style:normal}.icon-search:before{content:"\\e608"}.icon-expand:before{content:"\\e6df"}.icon-expand-left:before{content:"\\e6df";display:inline-block;transform:rotate(-180deg)}.icon-data-select:before{content:"\\e6dd"}.icon-markdown:before{content:"\\e893"}.icon-grid-line:before{content:"\\e600"}.icon-print:before{content:"\\e6de"}.icon-city:before{content:"\\e64b"}.icon-location:before{content:"\\e6d4"}.icon-qrcode:before{content:"\\e6ce"}.icon-input-id:before{content:"\\e6d1"}.icon-iframe:before{content:"\\e6d2"}.icon-audio:before{content:"\\e6d3"}.icon-form-model:before{content:"\\e6d5"}.icon-title:before{content:"\\e6d6"}.icon-sign:before{content:"\\e6d7"}.icon-address:before{content:"\\e6d8"}.icon-statistic:before{content:"\\e6d9"}.icon-barcode:before{content:"\\e6da"}.icon-video:before{content:"\\e6db"}.icon-avatar:before{content:"\\e6dc"}.icon-suspend:before{content:"\\e6cf"}.icon-warning:before{content:"\\e6d0"}.icon-send:before{content:"\\e6cc"}.icon-refresh2:before{content:"\\e6cd"}.icon-ai:before{content:"\\e6cb"}.icon-ai.bright{-webkit-text-fill-color:transparent;background:linear-gradient(90deg,#328ff7,#62e3a3);-webkit-background-clip:text}.icon-column4:before{content:"\\e6c7"}.icon-column3:before{content:"\\e6c6"}.icon-column2:before{content:"\\e6c8"}.icon-column1:before{content:"\\e6c9"}.icon-layout:before{content:"\\e6ca"}.icon-segmented:before{content:"\\e682"}.icon-mention:before{content:"\\e6c5"}.icon-input-tag:before{content:"\\e6c4"}.icon-up:before{content:"\\e697";display:inline-block;transform:rotate(180deg)}.icon-alignitems-flexstart:before{content:"\\e67f";display:inline-block;transform:rotate(180deg)}.icon-align-center:before{content:"\\e6a5";display:inline-block;transform:rotate(90deg)}.icon-align-flexstart:before{content:"\\e6a4";display:inline-block;transform:rotate(90deg)}.icon-align-spacearound:before{content:"\\e670";display:inline-block;transform:rotate(-90deg)}.icon-align-spacebetween:before{content:"\\e695";display:inline-block;transform:rotate(-90deg)}.icon-align-stretch:before{content:"\\e6a7";display:inline-block;transform:rotate(-90deg)}.icon-align-flexend:before{content:"\\e6a4";display:inline-block;transform:rotate(-90deg)}.icon-justify-flexend:before{content:"\\e6a4";display:inline-block;transform:rotate(180deg)}.icon-direction-row:before{content:"\\e68b";display:inline-block;transform:rotate(180deg)}.icon-direction-column:before{content:"\\e68b";display:inline-block;transform:rotate(-90deg)}.icon-direction-columnreverse:before{content:"\\e68b";display:inline-block;transform:rotate(90deg)}.icon-arrow:before{content:"\\e697";display:inline-block;transform:rotate(180deg)}.icon-cell:before{content:"\\e654"}.icon-table:before{content:"\\eb0a"}.icon-next-step:before{content:"\\e6b4";display:inline-block;transform:rotateY(180deg)}.icon-grid:before{content:"\\e65c";display:inline-block;transform:rotate(90deg)}.icon-alignitems-stretch:before{content:"\\e67e"}.icon-alignitems-flexend:before{content:"\\e67f"}.icon-check:before{content:"\\e680"}.icon-auto:before{content:"\\e681"}.icon-config-event:before{content:"\\e66e"}.icon-calendar:before{content:"\\e683"}.icon-config-style:before{content:"\\e684"}.icon-copy:before{content:"\\e676"}.icon-config-advanced:before{content:"\\e686"}.icon-config-props:before{content:"\\e687"}.icon-delete-circle2:before{content:"\\e688"}.icon-delete-circle:before,.icon-delete2:before{content:"\\e689"}.icon-delete:before{content:"\\e68a"}.icon-direction-rowreverse:before{content:"\\e68b"}.icon-display-flex:before{content:"\\e68c"}.icon-dialog:before{content:"\\e66f"}.icon-drag:before{content:"\\e68e"}.icon-display-block:before{content:"\\e68f"}.icon-data:before{content:"\\e690"}.icon-edit2:before{content:"\\e691"}.icon-edit:before{content:"\\e692"}.icon-add-col:before{content:"\\e693"}.icon-display-inlineblock:before{content:"\\e694"}.icon-config-base:before{content:"\\e6bf"}.icon-config-validate:before{content:"\\e696"}.icon-down:before{content:"\\e697"}.icon-display-inline:before{content:"\\e698"}.icon-eye:before{content:"\\e699"}.icon-eye-close:before{content:"\\e69a"}.icon-import:before{content:"\\e6a6"}.icon-preview:before{content:"\\e69b"}.icon-flex-nowrap:before{content:"\\e69c"}.icon-folder:before{content:"\\e69d"}.icon-form-circle:before{content:"\\e69e"}.icon-flex-wrap:before{content:"\\e69f"}.icon-form:before{content:"\\e6a0"}.icon-form-item:before{content:"\\e6a1"}.icon-icon:before{content:"\\e6a2"}.icon-image:before{content:"\\e6a3"}.icon-justify-flexstart:before{content:"\\e6a4"}.icon-justify-center:before{content:"\\e6a5"}.icon-justify-spacearound:before{content:"\\e670"}.icon-justify-stretch:before{content:"\\e6a7"}.icon-link2:before{content:"\\e6a8"}.icon-justify-spacebetween:before{content:"\\e695"}.icon-minus:before{content:"\\e6aa"}.icon-menu2:before{content:"\\e6ab"}.icon-more:before{content:"\\e6ac"}.icon-menu:before{content:"\\e6ad"}.icon-language:before{content:"\\e6ae"}.icon-pad:before{content:"\\e6af"}.icon-mobile:before{content:"\\e6b0"}.icon-page-max:before{content:"\\e6b1"}.icon-move:before{content:"\\e6b2"}.icon-page-min:before{content:"\\e6b3"}.icon-pre-step:before{content:"\\e6b4"}.icon-pc:before{content:"\\e6b5"}.icon-page:before{content:"\\e6b6"}.icon-refresh:before{content:"\\e6b7"}.icon-radius:before{content:"\\e6b8"}.icon-save-filled:before{content:"\\e6b9"}.icon-question:before{content:"\\e6ba"}.icon-scroll:before{content:"\\e6bb"}.icon-script:before{content:"\\e6bc"}.icon-setting:before{content:"\\e6bd"}.icon-save-online:before,.icon-save:before{content:"\\e6be"}.icon-task-add:before{content:"\\e68d"}.icon-shadow:before{content:"\\e6c0"}.icon-variable:before{content:"\\e6c1"}.icon-yes:before{content:"\\e6c2"}.icon-shadow-inset:before{content:"\\e6c3"}.icon-date:before{content:"\\e642"}.icon-date-range:before{content:"\\e643"}.icon-collapse:before{content:"\\e644"}.icon-slider:before{content:"\\e665"}.icon-switch:before{content:"\\e646"}.icon-subform:before{content:"\\e647"}.icon-time-range:before{content:"\\e685"}.icon-tree-select:before{content:"\\e649"}.icon-value:before{content:"\\e64a"}.icon-table-form3:before{content:"\\e6a9"}.icon-alert:before{content:"\\e64c"}.icon-card:before{content:"\\e64d"}.icon-checkbox:before{content:"\\e64e"}.icon-cascader:before{content:"\\e64f"}.icon-button:before{content:"\\e650"}.icon-data-table:before{content:"\\e651"}.icon-group:before{content:"\\e652"}.icon-divider:before{content:"\\e653"}.icon-flex:before{content:"\\e654"}.icon-descriptions:before{content:"\\e655"}.icon-html:before{content:"\\e656"}.icon-editor:before{content:"\\e657"}.icon-input:before{content:"\\e658"}.icon-link:before{content:"\\e659"}.icon-password:before{content:"\\e65a"}.icon-radio:before{content:"\\e65b"}.icon-row:before{content:"\\e65c"}.icon-inline:before{content:"\\e65d"}.icon-rate:before{content:"\\e65e"}.icon-color:before{content:"\\e65f"}.icon-select:before{content:"\\e660"}.icon-json:before{content:"\\e661"}.icon-number:before{content:"\\e662"}.icon-space:before{content:"\\e664"}.icon-step-form:before{content:"\\e663"}.icon-table-form:before{content:"\\e666"}.icon-table-form2:before{content:"\\e667"}.icon-time:before{content:"\\e668"}.icon-span:before{content:"\\e669"}.icon-textarea:before{content:"\\e66a"}.icon-tooltip:before{content:"\\e66b"}.icon-slot:before{content:"\\e66c"}.icon-transfer:before{content:"\\e66d"}.icon-upload:before{content:"\\e673"}.icon-tag:before{content:"\\e671"}.icon-watermark:before{content:"\\e672"}.icon-tab:before{content:"\\e674"}.icon-tree:before{content:"\\e675"}.icon-table:before{content:"\\e677"}.icon-add-child:before{content:"\\e678"}.icon-add2:before{content:"\\e679"}.icon-add:before{content:"\\e67a"}.icon-alignitems-baseline:before{content:"\\e67b"}.icon-add-circle:before{content:"\\e67c"}.icon-alignitems-center:before{content:"\\e67d"}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#fff;color:#000}.hljs-subst,.hljs-title{color:#000;font-weight:400}.hljs-title.function_{color:#7a7a43}.hljs-code,.hljs-comment,.hljs-quote{color:#8c8c8c;font-style:italic}.hljs-meta{color:#9e880d}.hljs-section{color:#871094}.hljs-built_in,.hljs-keyword,.hljs-literal,.hljs-meta .hljs-keyword,.hljs-name,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag,.hljs-symbol,.hljs-template-tag,.hljs-type,.hljs-variable.language_{color:#0033b3}.hljs-attr,.hljs-property{color:#871094}.hljs-attribute{color:#174ad4}.hljs-number{color:#1750eb}.hljs-regexp{color:#264eff}.hljs-link{color:#006dcc;text-decoration:underline}.hljs-meta .hljs-string,.hljs-string{color:#067d17}.hljs-char.escape_{color:#0037a6}.hljs-doctag{text-decoration:underline}.hljs-template-variable{color:#248f8f}.hljs-addition{background:#bee6be}.hljs-deletion{background:#d6d6d6}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}')), document.head.appendChild(e);
    }
  } catch (o) {
    console.error("vite-plugin-css-injected-by-js", o);
  }
})();
var ut = {
  type(t3, r) {
    return Object.prototype.toString.call(t3) === "[object " + r + "]";
  },
  Undef(t3) {
    return t3 == null;
  },
  Element(t3) {
    return typeof t3 == "object" && t3 !== null && t3.nodeType === 1 && !ut.Object(t3);
  },
  trueArray(t3) {
    return Array.isArray(t3) && t3.length > 0;
  },
  Function(t3) {
    const r = this.getType(t3);
    return r === "Function" || r === "AsyncFunction";
  },
  getType(t3) {
    const r = Object.prototype.toString.call(t3);
    return /^\[object (.*)\]$/.exec(r)[1];
  },
  empty(t3) {
    return t3 == null || Array.isArray(t3) && Array.isArray(t3) && !t3.length ? true : typeof t3 == "string" && !t3;
  }
};
["Date", "Object", "String", "Boolean", "Array", "Number"].forEach((t3) => {
  ut[t3] = function(r) {
    return ut.type(r, t3);
  };
});
function Dr(t3, r) {
  return {}.hasOwnProperty.call(t3, r);
}
function Ir(t3, r, a) {
  t3[r] = a;
}
function Ya(t3, r = {}, a) {
  let o = false;
  for (let n in r)
    if (Object.prototype.hasOwnProperty.call(r, n)) {
      let l = r[n];
      if ((o = Array.isArray(l)) || ut.Object(l)) {
        let f = t3[n] === void 0;
        if (o)
          o = false, f && Ir(t3, n, []);
        else if (l._clone && a !== void 0)
          if (a)
            l = l.getRule(), f && Ir(t3, n, {});
          else {
            Ir(t3, n, l._clone());
            continue;
          }
        else
          f && Ir(t3, n, {});
        t3[n] = Ya(t3[n], l, a);
      } else
        Ir(t3, n, l), ut.Undef(l) || (ut.Undef(l.__json) || (t3[n].__json = l.__json), ut.Undef(l.__origin) || (t3[n].__origin = l.__origin));
    }
  return a !== void 0 && Array.isArray(t3) ? t3.filter((n) => !n || !n.__ctrl) : t3;
}
function Ft(t3) {
  return Ya({}, { value: t3 }).value;
}
function rm2(t3, r, a) {
  return `[form-create ${t3}]: ${r}` + (a ? `

rule: ` + JSON.stringify(a.getRule ? a.getRule() : a) : "");
}
function om(t3, r) {
  console.error(rm2("err", t3, r));
}
var Id = "[[FORM-CREATE-PREFIX-";
var Md = "-FORM-CREATE-SUFFIX]]";
function Xl(t3) {
  return new Function("return " + t3)();
}
function am(t3, r) {
  if (t3 && ut.String(t3) && t3.length > 4) {
    let a = t3.trim(), o = false;
    try {
      if (a.indexOf(Md) > 0 && a.indexOf(Id) === 0)
        a = a.replace(Md, "").replace(Id, ""), o = true;
      else if (a.indexOf("$FN:") === 0)
        a = a.substring(4), o = true;
      else if (a.indexOf("$EXEC:") === 0)
        a = a.substring(6), o = true;
      else if (a.indexOf("$GLOBAL:") === 0) {
        const l = a.substring(8);
        return a = function(...f) {
          const d = f[0].api.getGlobalEvent(l);
          if (d)
            return d.call(this, ...f);
        }, a.__json = t3, a.__inject = true, a;
      } else {
        if (a.indexOf("$FNX:") === 0)
          return a = Xl("function($inject){" + a.substring(5) + "}"), a.__json = t3, a.__inject = true, a;
        (!r && a.indexOf("function ") === 0 && a !== "function " || !r && a.indexOf("function(") === 0 && a !== "function(") && (o = true);
      }
      if (!o)
        return t3;
      let n;
      try {
        n = Xl(a);
      } catch {
        n = Xl("function " + a);
      }
      return n.__json = t3, n;
    } catch (n) {
      om(`解析失败:${a}

err: ${n}`);
      return;
    }
  }
  return t3;
}
function lm(t3) {
  const r = t3.replace(/(-[a-z])/g, function(a) {
    return a.replace("-", "").toLocaleUpperCase();
  });
  return ou(r);
}
function ou(t3) {
  return t3.replace(t3[0], t3[0].toLowerCase());
}
var Jc = {
  name: "zh-cn",
  form: {
    field: "字段 ID",
    title: "字段名称",
    info: "提示信息",
    control: "组件联动",
    labelPosition: "标签的位置",
    labelStyle: "标签的样式",
    labelSuffix: "标签的后缀",
    size: "表单的尺寸",
    event: "表单事件",
    labelWidth: "标签的宽度",
    hideRequiredAsterisk: "隐藏必填字段的标签旁边的红色星号",
    showMessage: "显示校验错误信息",
    inlineMessage: "以行内形式展示校验信息",
    submitBtn: "是否显示表单提交按钮",
    resetBtn: "是否显示表单重置按钮",
    appendChild: "添加子级",
    formMode: "表单模式",
    formName: "表单名称",
    componentMode: "生成组件",
    htmlMode: "生成HTML",
    document: "帮助文档",
    controlDocument: "需要更详细的配置方法？请查看{doc}",
    onSubmit: "表单提交时触发",
    onReset: "表单重置后触发",
    onCreated: "表单组件初始化完毕后触发",
    onMounted: "表单组件渲染完毕后触发",
    onReload: "表单渲染规则重载后触发",
    onChange: "表单组件的值发生变化时触发",
    beforeSubmit: "表单验证通过时触发",
    beforeFetch: "远程数据请求发送前触发"
  },
  warning: {
    name: "组件的唯一标识，用于获取和修改该组件的配置规则。通过该标识可以精确定位组件，实现对组件属性和行为的控制。",
    field: "组件对应的字段名用于与组件的数据进行绑定。字段名需以字母开头，以确保能够正确识别。",
    fetch: "远程数据通过远程请求加载组件的配置项。配置请求参数后，组件会自动发起请求，获取远程数据并根据返回的结果更新组件。",
    fetchQuery: "定义请求的 GET 参数，通过 URL 传递数据。",
    fetchData: "定义请求的 POST 参数，通过请求体传递数据。",
    fetchDataType: "选择请求体的数据类型，确保数据格式正确。",
    beforeFetch: "在请求发送前，可通过处理函数修改请求参数；若需终止请求，直接返回 false 或一个拒绝的 Promise。",
    fetchParse: "请求返回后，可以通过处理函数对返回的结果进行处理，将结果转换为组件所需的数据和结构。",
    language: "管理页面的多语言数据，在组件中配置不同语言的文本，支持一键切换语言体系，便于在多语言环境下使用和展示内容。"
  },
  computed: {
    fieldUsed: "【{label}】在计算公式中被使用，请先修改对应公式",
    fieldExist: "【{label}】字段已存在",
    fieldEmpty: "字段名称不能为空",
    fieldChar: "字段名称必须以字母开头"
  },
  validate: {
    type: "字段类型",
    typePlaceholder: "请选择",
    trigger: "触发方式",
    mode: "验证方式",
    modes: {
      required: "必填",
      pattern: "正则表达式",
      validator: "自定义验证",
      min: "最小值",
      max: "最大值",
      len: "长度"
    },
    types: {
      string: "文本",
      boolean: "布尔",
      array: "多选",
      number: "数字",
      integer: "整数",
      float: "小数",
      object: "合集",
      date: "日期",
      url: "URL链接",
      email: "邮箱地址"
    },
    message: "错误信息",
    auto: "自动获取",
    autoRequired: "请输入{title}",
    autoMode: "请输入正确的{title}",
    requiredPlaceholder: "请输入提示语",
    required: "是否必填",
    rule: "验证规则"
  },
  tableOptions: {
    handle: "操作",
    add: "添加",
    empty1: "点击右下角",
    empty2: "按钮添加一列",
    rmCol: "删除当前列",
    rmRow: "删除当前行",
    batchRmCol: "删除列",
    batchRmRow: "删除行",
    batchSplit: "拆分单元格",
    batchMerge: "合并单元格",
    splitRow: "拆分成行",
    splitCol: "拆分成列",
    mergeBottom: "向下合并",
    mergeRight: "向右合并",
    addTop: "添加上列",
    addBottom: "添加下列",
    addLeft: "添加左列",
    addRight: "添加右列",
    keyValue: "键值对"
  },
  struct: {
    title: "编辑数据",
    only: "【{label}】只允许添加一个",
    errorMsg: "输入的内容语法错误",
    configured: "已配置"
  },
  event: {
    title: "设置事件",
    create: "创建事件",
    list: "事件列表",
    placeholder: "请输入事件的名称",
    saveMsg: "请先保存当前正在编辑的事件",
    type: "类型",
    info: "说明",
    label: "字段",
    inject: {
      api: "当前表单的api",
      rule: "当前表单的生成规则",
      self: "组件的生成规则",
      option: "表单的配置",
      args: "事件的原始参数"
    }
  },
  eventInfo: {
    blur: "失去焦点时触发",
    focus: "获得焦点时触发",
    change: "当绑定值变化时触发",
    input: "在值改变时触发",
    clear: "在点击清空按钮时触发",
    close: "关闭组件时触发",
    click: "点击组件时触发",
    add: "增加时触发",
    delete: "删除时触发",
    visibleChange: "下拉框出现/隐藏时触发",
    calendarChange: "在日历所选日期更改时触发",
    panelChange: "当日期面板改变时触发",
    open: "打开的回调",
    opened: "打开动画结束时的回调",
    closed: "关闭动画结束时的回调",
    openAutoFocus: "输入焦点聚焦在内容时的回调",
    closeAutoFocus: "输入焦点从内容失焦时的回调",
    submit: "表单提交时触发",
    confirm: "点击确认按钮时触发",
    validateFail: "表单验证失败时触发",
    hook_load: "组件规则加载后触发",
    hook_mounted: "组件挂载后触发",
    hook_deleted: "组件规则被移除后触发",
    hook_watch: "组件规则发生变化后触发",
    hook_value: "组件的值发生变化后触发",
    hook_hidden: "组件显示状态发生变化后触发"
  },
  fetch: {
    title: "设置数据源",
    create: "创建数据源",
    config: "请求配置",
    action: "请求链接",
    actionRequired: "请输入正确的链接",
    placeholder: "请输入数据源的名称",
    method: "请求方式",
    data: "附带数据",
    dataType: "数据类型",
    headers: "请求头部",
    query: "请求参数",
    parse: "数据处理",
    response: "接口返回的数据",
    onError: "错误处理",
    beforeFetch: "前置处理",
    remote: "远程数据",
    static: "静态数据",
    optionsType: {
      fetch: "远程数据",
      struct: "静态数据"
    }
  },
  style: {
    width: "宽度",
    height: "高度",
    color: "颜色",
    backgroundColor: "背景色",
    margin: "外边距",
    padding: "内边距",
    borderRadius: "圆角",
    border: "边框",
    solid: "实线",
    dashed: "虚线",
    dotted: "点状虚线",
    double: "双实线",
    opacity: "透明度",
    scale: "缩放",
    minWidth: "最小宽",
    minHeight: "最小高",
    maxWidth: "最大宽",
    maxHeight: "最大高",
    overflow: {
      name: "溢出",
      visible: "可见",
      hidden: "隐藏",
      scroll: "滚动",
      auto: "溢出后自动滚动"
    },
    shadow: {
      name: "阴影",
      x: "x轴偏移量",
      y: "y轴偏移量",
      vague: "模糊半径",
      extend: "扩散半径",
      inset: "向内",
      external: "向外",
      mode: "模式",
      classic: "经典",
      flat: "扁平",
      solid: "立体"
    },
    font: {
      name: "字体",
      size: "大小",
      align: "对齐方式",
      height: "行高",
      spacing: "字间距",
      preview: "样式预览"
    },
    decoration: {
      name: "修饰",
      underline: "下划线",
      "line-through": "删除线",
      overline: "上划线"
    },
    weight: {
      name: "粗细",
      300: "细体",
      400: "常规体",
      500: "中黑体",
      700: "中粗体"
    }
  },
  designer: {
    component: "组件配置",
    id: "唯一值",
    name: "编号",
    type: "组件类型",
    form: "表单配置",
    json: "渲染规则",
    style: "组件样式配置",
    rule: "基础配置",
    advanced: "高级配置",
    props: "属性配置",
    customProps: "自定义属性配置",
    validate: "验证配置",
    event: "事件配置",
    clearWarn: "清空后将不能恢复，确定要清空吗？",
    childEmpty: "点击右下角 \\e789  按钮添加一列",
    dragEmpty: "拖拽左侧列表中的组件到此处",
    unload: "确定离开当前页面吗?",
    comList: "组件列表"
  },
  language: {
    name: "国际化配置",
    add: "新增词条",
    batchRemove: "批量删除",
    select: "选择多语言"
  },
  menu: {
    main: "基础组件",
    aide: "辅助组件",
    layout: "布局组件",
    component: "组件",
    subform: "子表单组件",
    tree: "大纲"
  },
  props: {
    disabled: "禁用",
    time: "时间",
    size: "尺寸",
    email: "邮箱",
    number: "数字",
    globalData: "全局数据",
    mobile: "移动端",
    reactive: "响应式",
    pc: "电脑端",
    title: "标题",
    content: "内容",
    collection: "合集",
    group: "分组",
    custom: "自定义",
    change: "改变",
    blur: "失去焦点",
    preview: "预览",
    clear: "清空",
    cancel: "取消",
    close: "关闭",
    ok: "确定",
    save: "保存",
    refresh: "刷新",
    submit: "提交",
    reset: "重置",
    copy: "复制",
    delete: "删除",
    hide: "隐藏",
    show: "显示",
    position: "位置",
    render: "渲染",
    large: "大",
    default: "默认",
    small: "小",
    always: "常显",
    never: "不显示",
    hover: "悬浮",
    click: "点击",
    button: "按钮",
    year: "年份",
    month: "月份",
    date: "日期",
    dates: "日期多选",
    week: "一周",
    datetime: "日期时间",
    "datetime-local": "日期时间",
    datetimerange: "日期时间区间",
    daterange: "日期区间",
    monthrange: "月份区间",
    left: "左对齐",
    right: "右对齐",
    top: "顶部",
    text: "文字",
    picture: "图片",
    "picture-card": "卡片",
    center: "居中",
    vertical: "竖向",
    horizontal: "横向",
    manage: "管理",
    key: "键名",
    name: "名称",
    value: "值",
    inputData: "默认值",
    append: "插入",
    options: "选项数据",
    option: "选项",
    callback: "回调",
    style: "样式",
    _self: "当前窗口",
    _blank: "新的窗口",
    _parent: "父级窗口",
    _top: "顶级窗口"
  },
  com: {
    cascader: {
      name: "级联选择器",
      event: {
        expandChange: "当展开节点发生变化时触发",
        removeTag: "在多选模式下，移除Tag时触发"
      },
      props: {
        props: "配置选项",
        placeholder: "输入框占位文本",
        disabled: "是否禁用",
        clearable: "是否支持清空选项",
        showAllLevels: "输入框中是否显示选中值的完整路径",
        collapseTags: "多选模式下是否折叠Tag",
        collapseTagsTooltip: "当鼠标悬停于折叠标签的文本时，是否显示所有选中的标签",
        separator: "选项分隔符",
        filterable: "该选项是否可以被搜索",
        tagType: "标签类型"
      },
      propsOpt: {
        multiple: "是否多选",
        expandTrigger: "次级菜单的展开方式",
        checkStrictly: "是否严格的遵守父子节点不互相关联",
        emitPath: "在选中节点改变时，是否返回由该节点所在的各级菜单的值所组成的数组",
        value: "指定选项的值为选项对象的某个属性值",
        label: "指定选项标签为选项对象的某个属性值",
        children: "指定选项的子选项为选项对象的某个属性值",
        disabled: "指定选项的禁用为选项对象的某个属性值",
        leaf: "指定选项的叶子节点的标志位为选项对象的某个属性值"
      }
    },
    checkbox: {
      name: "多选框",
      props: {
        input: "是否可以填写",
        type: "按钮类型",
        disabled: "是否禁用",
        min: "可被勾选的最小数量",
        max: "可被勾选的最大数量",
        textColor: "当按钮为活跃状态时的字体颜色",
        fill: "当按钮为活跃状态时的边框和背景颜色"
      }
    },
    col: {
      name: "布局格子",
      props: {
        span: "栅格占据的列数",
        offset: "栅格左侧的间隔格数",
        push: "栅格向右移动格数",
        pull: "栅格向左移动格数"
      }
    },
    colorPicker: {
      name: "颜色选择器",
      event: {
        activeChange: "面板中当前显示的颜色发生改变时触发"
      },
      props: {
        disabled: "是否禁用",
        showAlpha: "是否支持透明度选择",
        colorFormat: "颜色的格式",
        predefine: "预定义颜色"
      }
    },
    datePicker: {
      name: "日期",
      props: {
        pickerOptions: "当前时间日期选择器特有的选项",
        readonly: "完全只读",
        disabled: "禁用",
        type: "显示类型",
        editable: "文本框可输入",
        clearable: "是否显示清除按钮",
        placeholder: "非范围选择时的占位内容",
        startPlaceholder: "范围选择时开始日期的占位内容",
        endPlaceholder: "范围选择时结束日期的占位内容",
        format: "显示在输入框中的格式",
        align: "对齐方式",
        rangeSeparator: "选择范围时的分隔符",
        unlinkPanels: "在范围选择器里取消两个日期面板之间的联动"
      }
    },
    dateRange: {
      name: "日期区间"
    },
    timeRange: {
      name: "时间区间"
    },
    elAlert: {
      name: "提示",
      description: "说明文字",
      props: {
        title: "标题",
        type: "主题",
        description: "辅助性文字",
        closable: "是否可关闭",
        center: "文字是否居中",
        closeText: "关闭按钮自定义文本",
        showIcon: "是否显示图标",
        effect: "选择提供的主题"
      }
    },
    elButton: {
      name: "按钮",
      props: {
        formCreateChild: "内容",
        size: "尺寸",
        type: "类型",
        plain: "是否朴素按钮",
        round: "是否圆角按钮",
        circle: "是否圆形按钮",
        loading: "是否加载中状态",
        disabled: "是否禁用状态"
      }
    },
    elCard: {
      name: "卡片",
      props: {
        header: "标题",
        shadow: "阴影显示时机"
      }
    },
    elCollapse: {
      name: "折叠面板",
      event: {
        change: "切换当前活动面板，在手风琴模式下其类型是string，在其他模式下是array"
      },
      props: {
        accordion: "是否手风琴模式"
      }
    },
    elCollapseItem: {
      name: "面板",
      props: {
        title: "面板标题",
        name: "唯一标志符",
        disabled: "是否禁用"
      }
    },
    elDivider: {
      name: "分割线",
      props: {
        formCreateChild: "设置分割线文案",
        contentPosition: "设置分割线文案的位置"
      }
    },
    elTabPane: {
      name: "选项卡",
      props: {
        label: "选项卡标题",
        disabled: "是否禁用",
        name: "选项卡的标识符",
        lazy: "标签是否延迟渲染"
      }
    },
    elTabs: {
      name: "标签页",
      event: {
        tabClick: "tab 被选中时触发",
        tabChange: "activeName 改变时触发",
        tabRemove: "点击 tab 移除按钮时触发",
        tabAdd: "点击 tab 新增按钮时触发",
        edit: "点击 tab 的新增或移除按钮后触发"
      },
      props: {
        type: "风格类型",
        closable: "标签是否可关闭",
        tabPosition: "选项卡所在位置",
        stretch: "标签的宽度是否自撑开"
      }
    },
    elTag: {
      name: "标签",
      props: {
        formCreateNative: "是否显示标题",
        formCreateTitle: "标题",
        formCreateChild: "标签内容",
        type: "标签的类型",
        size: "标签的尺寸",
        effect: "标签的主题",
        closable: "是否可关闭",
        disableTransitions: "是否禁用渐变动画",
        hit: "是否有边框描边",
        round: "是否为圆形",
        color: "背景色"
      }
    },
    elTransfer: {
      name: "穿梭框",
      event: {
        leftCheckChange: "左侧列表元素被用户选中 / 取消选中时触发",
        rightCheckChange: "右侧列表元素被用户选中 / 取消选中时触发"
      },
      props: {
        filterable: "是否可搜索",
        filterPlaceholder: "搜索框占位符",
        targetOrder: "右侧列表元素的排序策略",
        targetOrderInfo: "若为 original，则保持与数据相同的顺序；若为 push，则新加入的元素排在最后；若为 unshift，则新加入的元素排在最前",
        titles: "自定义列表标题",
        buttonTexts: "自定义按钮文案",
        props: "数据源的字段别名"
      }
    },
    elTreeSelect: {
      name: "树形选择",
      event: {
        removeTag: "多选模式下移除tag时触发"
      },
      props: {
        multiple: "是否多选",
        disabled: "是否禁用",
        clearable: "是否可以清空选项",
        collapseTags: "多选时是否将选中值按文字的形式展示",
        multipleLimit: "多选时用户最多可以选择的项目数，为 0 则不限制",
        placeholder: "占位符",
        props: "配置选项",
        renderAfterExpand: "是否在第一次展开某个树节点后才渲染其子节点",
        defaultExpandAll: "是否默认展开所有节点",
        expandOnClickNode: "是否在点击节点的时候展开或者收缩节点",
        checkOnClickNode: "是否在点击节点的时候选中节点",
        nodeKey: "每个树节点用来作为唯一标识的属性，整棵树应该是唯一的"
      }
    },
    elImage: {
      name: "图片",
      props: {
        src: "图片链接"
      }
    },
    fcTitle: {
      name: "标题",
      props: {
        title: "标题",
        size: "尺寸",
        align: "对齐方式"
      }
    },
    fcEditor: {
      name: "富文本框",
      props: {
        disabled: "是否禁用"
      }
    },
    fcRow: {
      name: "栅格布局",
      props: {
        gutter: "栅格间隔",
        type: "flex布局模式",
        justify: "flex布局下的水平排列方式",
        align: "flex布局下的垂直排列方式"
      }
    },
    fcTable: {
      name: "表格布局",
      props: {
        border: "是否显示边框",
        borderColor: "边框颜色",
        borderWidth: "边框宽度"
      }
    },
    fcTableGrid: {
      name: "格子"
    },
    signaturePad: {
      name: "手写签名",
      props: {
        penColor: "线条的颜色",
        disabled: "禁用"
      }
    },
    group: {
      name: "子表单",
      props: {
        disabled: "是否禁用",
        syncDisabled: "是否与子表单强制同步禁用状态",
        expand: "设置默认展开几项",
        button: "是否显示操作按钮",
        sortBtn: "是否显示排序按钮",
        min: "设置最小添加几项",
        max: "设置最多添加几项"
      }
    },
    html: {
      name: "HTML",
      props: {
        formCreateNative: "是否显示标题",
        formCreateTitle: "标题",
        formCreateChild: "内容"
      }
    },
    input: {
      name: "输入框",
      event: {
        change: "当值改变时，当组件失去焦点或用户按Enter时触发"
      },
      props: {
        type: "类型",
        maxlength: "最大输入长度",
        minlength: "最小输入长度",
        placeholder: "输入框占位文本",
        clearable: "是否显示清除按钮",
        disabled: "是否禁用",
        readonly: "是否只读"
      }
    },
    inputNumber: {
      name: "计数器",
      props: {
        precision: "数值精度",
        min: "设置计数器允许的最小值",
        max: "设置计数器允许的最大值",
        step: "计数器步长",
        stepStrictly: "是否只能输入 step 的倍数",
        disabled: "是否禁用计数器",
        controls: "是否使用控制按钮",
        controlsPosition: "控制按钮位置",
        placeholder: "输入框占位文本"
      }
    },
    password: {
      name: "密码输入框",
      event: {
        change: "当值改变时，当组件失去焦点或用户按Enter时触发"
      },
      props: {
        disabled: "是否禁用",
        readonly: "是否只读",
        maxlength: "最大输入长度",
        minlength: "最小输入长度",
        placeholder: "输入框占位文本",
        clearable: "是否显示清除按钮"
      }
    },
    radio: {
      name: "单选框",
      props: {
        input: "是否可以填写",
        disabled: "是否禁用",
        type: "按钮形式",
        textColor: "按钮形式激活时的文本颜色",
        fill: "按钮形式激活时的填充色和边框色"
      }
    },
    rate: {
      name: "评分",
      props: {
        max: "最大分值",
        disabled: "是否禁用",
        allowHalf: "是否允许半选",
        voidColor: "未选中时图标的颜色",
        disabledVoidColor: "只读时未选中时图标的颜色",
        voidIconClass: "未选中时图标的类名",
        disabledVoidIconClass: "只读时未选中时图标的类名",
        showScore: "是否显示当前分数",
        textColor: "辅助文字的颜色",
        scoreTemplate: "分数显示模板"
      }
    },
    select: {
      name: "选择器",
      event: {
        removeTag: "多选模式下移除tag时触发"
      },
      props: {
        multiple: "是否多选",
        disabled: "是否禁用",
        clearable: "是否可以清空选项",
        collapseTags: "多选时是否将选中值按文字的形式展示",
        multipleLimit: "多选时用户最多可以选择的项目数，为 0 则不限制",
        placeholder: "占位符",
        filterable: "是否可搜索",
        allowCreate: "是否允许用户创建新条目",
        noMatchText: "搜索条件无匹配时显示的文字",
        noDataText: "选项为空时显示的文字",
        reserveKeyword: "多选且可搜索时，是否在选中一个选项后保留当前的搜索关键词",
        defaultFirstOption: "在输入框按下回车，选择第一个匹配项",
        remote: "其中的选项是否从服务器远程加载",
        remoteMethod: "自定义远程搜索方法"
      }
    },
    slider: {
      name: "滑块",
      props: {
        min: "最小值",
        max: "最大值",
        disabled: "是否禁用",
        step: "步长",
        showInput: "是否显示输入框，仅在非范围选择时有效",
        showInputControls: "在显示输入框的情况下，是否显示输入框的控制按钮",
        showStops: "是否显示间断点",
        range: "是否为范围选择",
        vertical: "是否竖向模式",
        height: "Slider 高度，竖向模式时必填"
      }
    },
    space: {
      name: "间距",
      props: {
        height: "高度"
      }
    },
    subForm: {
      name: "分组",
      props: {
        disabled: "是否禁用",
        syncDisabled: "是否与子表单强制同步禁用状态"
      }
    },
    switch: {
      name: "开关",
      props: {
        disabled: "是否禁用",
        width: "宽度（px）",
        activeText: "打开时的文字描述",
        inactiveText: "关闭时的文字描述",
        activeValue: "打开时的值",
        inactiveValue: "关闭时的值",
        activeColor: "打开时的背景色",
        inactiveColor: "关闭时的背景色"
      }
    },
    tableForm: {
      name: "表格表单",
      props: {
        disabled: "是否禁用",
        filterEmptyColumn: "是否过滤空行的数据",
        max: "最多添加几行，为 0 则不限制",
        min: "最少添加几行",
        addable: "允许新增",
        deletable: "允许删除"
      }
    },
    tableFormColumn: {
      name: "表格格子",
      label: "自定义名称",
      props: {
        align: "对齐方式",
        label: "标题",
        width: "宽度",
        color: "颜色",
        required: "是否显示必填星号"
      }
    },
    text: {
      name: "文字",
      props: {
        formCreateNative: "是否显示标题",
        formCreateTitle: "标题",
        formCreateChild: "内容"
      }
    },
    textarea: {
      name: "多行输入框",
      event: {
        change: "当值改变时，当组件失去焦点或用户按Enter时触发"
      },
      props: {
        disabled: "是否禁用",
        readonly: "是否只读",
        maxlength: "最大输入长度",
        minlength: "最小输入长度",
        showWordLimit: "是否显示统计字数",
        placeholder: "输入框占位文本",
        rows: "输入框行数",
        autosize: "高度是否自适应"
      }
    },
    timePicker: {
      name: "时间",
      props: {
        pickerOptions: "当前时间日期选择器特有的选项",
        readonly: "完全只读",
        disabled: "禁用",
        editable: "文本框可输入",
        clearable: "是否显示清除按钮",
        placeholder: "非范围选择时的占位内容",
        startPlaceholder: "范围选择时开始日期的占位内容",
        endPlaceholder: "范围选择时开始日期的占位内容",
        isRange: "是否为时间范围选择",
        arrowControl: "是否使用箭头进行时间选择",
        align: "对齐方式"
      }
    },
    tree: {
      name: "树形控件",
      event: {
        nodeClick: "当节点被点击的时候触发",
        nodeContextmenu: "当某一节点被鼠标右键点击时会触发该事件",
        checkChange: "当复选框被点击的时候触发",
        check: "点击节点复选框之后触发",
        currentChange: "当前选中节点变化时触发的事件",
        nodeExpand: "节点被展开时触发的事件",
        nodeCollapse: "节点被关闭时触发的事件",
        nodeDragStart: "节点开始拖拽时触发的事件",
        nodeDragEnter: "拖拽进入其他节点时触发的事件",
        nodeDragLeave: "拖拽离开某个节点时触发的事件",
        nodeDragOver: "在拖拽节点时触发的事件（类似浏览器的 mouseover 事件）",
        nodeDragEnd: "拖拽结束时（可能未成功）触发的事件",
        nodeDrop: "拖拽成功完成时触发的事件"
      },
      props: {
        emptyText: "内容为空的时候展示的文本",
        props: "配置选项",
        renderAfterExpand: "是否在第一次展开某个树节点后才渲染其子节点",
        defaultExpandAll: "是否默认展开所有节点",
        expandOnClickNode: "是否在点击节点的时候展开或者收缩节点，如果为 false，则只有点箭头图标的时候才会展开或者收缩节点。",
        checkOnClickNode: "是否在点击节点的时候选中节点",
        autoExpandParent: "展开子节点的时候是否自动展开父节点",
        checkStrictly: "在显示复选框的情况下，是否严格的遵循父子不互相关联的做法",
        accordion: "是否每次只打开一个同级树节点展开",
        indent: "相邻级节点间的水平缩进(px)",
        nodeKey: "每个树节点用来作为唯一标识的属性，整棵树应该是唯一的"
      }
    },
    upload: {
      name: "上传",
      info: "上传成功后，将接口返回的 URL 赋值给 file.url，或将返回结果赋值给 file.value，以便在后续的表单提交时获取这些数据。",
      event: {
        remove: "文件列表移除文件时触发",
        preview: "点击文件列表中已上传的文件时触发",
        error: "文件上传失败时触发",
        progress: "文件上传时触发",
        exceed: "当超出限制时触发"
      },
      props: {
        listType: "上传类型",
        multiple: "是否支持多选文件",
        action: "上传的地址(必填)",
        beforeUpload: "上传文件之前触发",
        onSuccess: "上传成功时触发",
        beforeRemove: "删除文件之前触发",
        headers: "设置上传的请求头部",
        data: "上传时附带的额外参数",
        name: "上传的文件字段名",
        withCredentials: "支持发送 cookie 凭证信息",
        accept: "接受上传的文件类型",
        autoUpload: "是否在选取文件后立即进行上传",
        disabled: "是否禁用",
        limit: "最大允许上传个数"
      }
    }
  }
};
var Zc = (t3, r) => ElMessage({
  message: t3,
  type: r || "info",
  customClass: "_fc-message-tip"
});
var jn = (t3) => Zc(t3, "error");
var sm = Object.assign || function(t3) {
  for (let r, a = 1; a < arguments.length; a++)
    for (let o in r = arguments[a], r)
      Object.prototype.hasOwnProperty.call(r, o) && Ir(t3, o, r[o]);
  return t3;
};
function um() {
  return sm.apply(this, arguments);
}
function qc(t3) {
  return typeof t3 != "object" || t3 === null ? t3 : t3 instanceof Array ? [...t3] : { ...t3 };
}
function fm(t3, r) {
  return `<template>
  <form-create
    v-model="formData"
    v-model:api="fapi"
    :rule="rule"
    :option="option"
    @submit="onSubmit"
  ></form-create>
</template>

<script>
import formCreate from "@form-create/element-ui";

export default {
  components: {
    formCreate: formCreate.$form()
  },
  data () {
    const option = formCreate.parseJson('${r.replaceAll("\\", "\\\\").replaceAll("'", "\\'")}');
    return {
      formData: {},
      fapi: null,
      rule: formCreate.parseJson('${t3.replaceAll("\\", "\\\\").replaceAll("'", "\\'")}'),
      option: option
    }
  },
  methods: {
    onSubmit (formData) {
      //todo 提交表单
    }
  }
}
<\/script>`;
}
function dm(t3, r) {
  return `<template>
  <form-create
    v-model="formData"
    v-model:api="fapi"
    :rule="rule"
    :option="option"
    @submit="onSubmit"
  ></form-create>
</template>

<script setup>
import {ref} from "vue";
import formCreate from "@form-create/element-ui";

const option = ref(formCreate.parseJson('${r.replaceAll("\\", "\\\\").replaceAll("'", "\\'")}'));
const rule = ref(formCreate.parseJson('${t3.replaceAll("\\", "\\\\").replaceAll("'", "\\'")}'));
const fapi = ref(null);
const formData = ref({});

const onSubmit =  (formData) => {
  //todo 提交表单
}
<\/script>`;
}
function Pd(t3, r) {
  return `<html lang="zh">
    <head>
        <meta charset="UTF-8">
        <!-- Import style -->
        <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css"/>
        <!-- Import Vue 3 -->
        <script src="https://unpkg.com/vue@3"><\/script>
        <!-- Import element-plus -->
        <script src="https://unpkg.com/element-plus"><\/script>
        <!-- Import formCreate -->
        <script src="https://unpkg.com/@form-create/element-ui@3"><\/script>
        <script src="https://unpkg.com/@form-create/designer@3"><\/script>
    </head>
    <body>
        <div id="app">
            <form-create :rule="rule" :option="options" v-model="formData" v-model:api="api" @submit="onSubmit"></form-create>
        </div>
        <script>
            const App = {
                data() {
                    return {
                        rule: formCreate.parseJson('${t3.replaceAll("\\", "\\\\").replaceAll("'", "\\'")}'),
                        options: formCreate.parseJson('${r.replaceAll("\\", "\\\\").replaceAll("'", "\\'")}'),
                        formData: {},
                        api: null,
                    };
                },
                methods: {
                    onSubmit(formData){
                        console.log('submit', formData);
                    }
                }
            };
            const app = Vue.createApp(App);
            app.use(ElementPlus).use(formCreate);
            app.mount("#app");
        <\/script>
    </body>
</html>`;
}
function ep() {
  return {
    type: "Required",
    field: "formCreate$required",
    title: "是否必填"
  };
}
function ii(t3, r, a, o = []) {
  r.id || (r.id = 1), a && a--;
  for (let n = 0; n < 3; n++) {
    const l = {
      [r.label]: t3 + a * 10 + (n + 1),
      [r.value]: "" + r.id++
    };
    a && ii(t3, r, a, l.children = []), o.push(l);
  }
  return o;
}
function Lo(t3, r) {
  const a = [
    { label: t3("fetch.optionsType.struct"), value: 2 },
    { label: t3("fetch.optionsType.fetch"), value: 1 }
  ], o = [
    {
      value: 1,
      rule: [
        {
          type: "FetchConfig",
          field: "formCreateEffect>fetch",
          props: {
            to: r
          }
        }
      ]
    },
    {
      value: 2,
      rule: [
        {
          type: "TableOptions",
          field: "formCreate" + Mo(r).replace(".", ">"),
          props: {
            column: [{ label: t3("props.key"), key: "label" }, { value: true, label: t3("props.value"), key: "value" }],
            keyValue: "label"
          }
        }
      ]
    }
  ];
  return {
    type: "radio",
    title: t3("props.options"),
    field: "_optionType",
    value: 2,
    options: a,
    props: {
      type: "button"
    },
    control: o
  };
}
function Br(t3, r, a, o) {
  const n = [
    { label: t3("fetch.optionsType.struct"), value: 2 },
    { label: t3("fetch.optionsType.fetch"), value: 1 }
  ], l = [
    {
      value: 1,
      rule: [
        {
          type: "FetchConfig",
          field: "formCreateEffect>fetch",
          props: {
            to: r
          }
        }
      ]
    },
    {
      value: 2,
      rule: [
        {
          type: "TreeOptions",
          field: "formCreate" + Mo(r).replace(".", ">"),
          props: {
            columns: {
              label: a,
              value: o
            },
            keyValue: a
          }
        }
      ]
    }
  ];
  return {
    type: "radio",
    title: t3("props.options"),
    field: "_optionType",
    value: 2,
    options: n,
    props: {
      type: "button"
    },
    control: l
  };
}
function Mo(t3) {
  return t3.replace(t3[0], t3[0].toLocaleUpperCase());
}
var hi = function(t3) {
  const r = /object ([a-zA-Z]*)/.exec(Object.prototype.toString.call(t3));
  return r && Nd[r[1].toLowerCase()] ? Nd[r[1].toLowerCase()](t3) : t3;
};
var Nd = {
  object: function(t3) {
    var r = [];
    for (var a in t3)
      !Dr(t3, a) || r.push(
        hi(a) + ": " + (t3[a] != null ? hi(t3[a]) : "null")
      );
    return `{
 ` + r.join(`,
 `) + `
}`;
  },
  function: function(t3) {
    t3 = "" + t3;
    var r = /^ *([\w]+) *\(/.exec(t3);
    return r && r[1] !== "function" ? "function " + t3 : t3;
  },
  array: function(t3) {
    for (var r = 0, a = []; r < t3.length; r++)
      a[r] = t3[r] != null ? hi(t3[r]) : "null";
    return "[" + a.join(", ") + "]";
  },
  string: function(t3) {
    for (var r = t3.split(""), a = 0; a < r.length; a++) {
      var o = r[a];
      o >= " " ? o === "\\" ? r[a] = "\\\\" : o === '"' && (r[a] = '\\"') : r[a] = o === `
` ? "\\n" : o === "\r" ? "\\r" : o === "	" ? "\\t" : o === "\b" ? "\\b" : o === "\f" ? "\\f" : (o = o.charCodeAt(), "\\u00" + (o > 15 ? 1 : 0) + o % 16);
    }
    return '"' + r.join("") + '"';
  }
};
var tp = function(t3) {
  if (t3 && typeof t3 == "object") {
    for (let r in t3)
      if (Object.prototype.hasOwnProperty.call(t3, r)) {
        let a = t3[r];
        (Array.isArray(a) || ut.Object(a)) && tp(a), ut.String(a) && (t3[r] = am(a));
      }
  }
  return t3;
};
function cm(t3, r, a) {
  r = (r || "").split(".");
  let o = 0, n = r.length;
  for (; t3 != null && o < n; )
    t3 = t3[r[o++]];
  return o && o === n && t3 !== void 0 ? t3 : a;
}
var pm = (t3) => (r, a) => hm(r, a, unref(t3));
var hm = (t3, r, a) => cm(a, t3, "").replace(
  /\{(\w+)\}/g,
  (o, n) => {
    var l;
    return `${(l = r == null ? void 0 : r[n]) != null ? l : `{${n}}`}`;
  }
);
var vm = (t3) => {
  const r = computed(() => unref(t3).name), a = computed(() => Mo(lm(r.value || ""))), o = isRef(t3) ? t3 : ref(t3);
  return {
    lang: r,
    name: a,
    locale: o,
    t: pm(t3)
  };
};
var au = (t3) => vm(computed(() => t3.value || Jc));
var Pt = (t3, r, a) => r.map((o) => (o.label = t3((a || "props") + "." + o.label || o.value) || o.label, o));
var Xe = (t3, r, a) => a.map((o) => (o.field === "formCreate$required" ? o.title = t3("validate.required") || o.title : o.field && o.field !== "_optionType" && (o.title = t3("com." + r + "." + o.field) || o.title), o.type === "template" && ut.trueArray(o.children) && (o.children = Xe(t3, r, o.children)), o));
var lu = (t3) => {
  const r = [];
  return t3 && t3.forEach((a) => {
    if (a._fc_drag_tag) {
      const o = {
        id: a.__fc__.id,
        rule: a,
        children: lu(a.children)
      };
      o.children.length || delete o.children, r.push(o);
    } else
      r.push(...lu(a.children));
  }), r;
};
var Ld = (t3) => {
  const r = (a) => {
    const o = [];
    return a && a.forEach((n) => {
      n.field ? (n.children = r(n.children || []), n.children.length || delete n.children, o.push(n)) : o.push(...r(n.children || []));
    }), o;
  };
  return r(t3);
};
var Fd = (t3) => {
  const r = (a) => {
    const o = [];
    return a && a.forEach((n) => {
      if (typeof n == "object")
        if (n._fc_drag_tag) {
          const l = {
            _fc_id: n._fc_id,
            type: n.type,
            field: n.field,
            title: n.title,
            name: n.name,
            slot: n.slot,
            props: { ...n.props || {} },
            options: qc(n.options),
            children: r(n.children || [])
          };
          n.children && typeof n.children[0] == "string" && (l.content = n.children[0]), l.children.length || delete l.children, o.push(l);
        } else
          o.push(...r(n.children));
    }), o;
  };
  return r(t3);
};
function qi(t3) {
  return {
    name: "$inject",
    columns: [
      { label: "$inject.api", info: t3("event.inject.api"), type: "Api" },
      { label: "$inject.rule", info: t3("event.inject.rule"), type: "Rule[]" },
      { label: "$inject.self", info: t3("event.inject.self"), type: "Rule" },
      { label: "$inject.option", info: t3("event.inject.option"), type: "Object" },
      { label: "$inject.args", info: t3("event.inject.args"), type: "Array" }
    ]
  };
}
function pi(t3) {
  return ["", null, void 0].indexOf(t3) !== -1;
}
function mm(t3, r) {
  const a = t3.split("."), o = r.split("."), n = Math.min(a.length, o.length);
  for (var l = 0; l < n; l++) {
    var f = parseInt(a[l], 10) - parseInt(o[l], 10);
    if (f > 0)
      return 1;
    if (f < 0)
      return -1;
  }
  return a.length === o.length ? 0 : a.length < o.length ? -1 : 1;
}
function er(t3) {
  const r = document.createElement("textarea");
  r.style.position = "fixed", r.style.top = 0, r.style.left = "-9999px", r.value = t3, document.body.appendChild(r), r.focus(), r.select();
  try {
    document.execCommand("copy");
  } catch {
    console.log("Oops, unable to copy");
  }
  Zc("已复制!", "success"), document.body.removeChild(r);
}
function kd(t3) {
  return t3.filter((r, a) => t3.indexOf(r) === a);
}
function Bd({ t: t3 }) {
  return [
    {
      type: "input",
      field: ">formName",
      value: "",
      title: t3("form.formName")
    },
    {
      type: "radio",
      field: "labelPosition",
      value: "left",
      title: t3("form.labelPosition"),
      options: Pt(t3, [
        { value: "left", label: "left" },
        { value: "right", label: "right" },
        { value: "top", label: "top" }
      ])
    },
    {
      type: "radio",
      field: "size",
      value: "small",
      title: t3("form.size"),
      options: Pt(t3, [
        { value: "large", label: "large" },
        { value: "default", label: "default" },
        { value: "small", label: "small" }
      ])
    },
    {
      type: "input",
      field: "labelSuffix",
      value: "",
      title: t3("form.labelSuffix"),
      style: {
        width: "150px"
      }
    },
    {
      type: "SizeInput",
      field: "labelWidth",
      value: "125px",
      title: t3("form.labelWidth")
    },
    {
      type: "switch",
      field: "hideRequiredAsterisk",
      value: false,
      title: t3("form.hideRequiredAsterisk")
    },
    {
      type: "switch",
      field: "showMessage",
      value: true,
      title: t3("form.showMessage")
    },
    {
      type: "switch",
      field: "inlineMessage",
      value: false,
      title: t3("form.inlineMessage")
    },
    {
      type: "switch",
      field: "_submitBtn>show",
      value: true,
      title: t3("form.submitBtn")
    },
    {
      type: "switch",
      field: "_resetBtn>show",
      value: false,
      title: t3("form.resetBtn")
    },
    {
      type: "FnConfig",
      field: ">_event",
      warning: t3("form.controlDocument", { doc: '<a target="_blank" href="https://form-create.com/v3/guide/global-event" style="color: inherit;text-decoration: underline;">' + t3("form.document") + "</a>" }),
      value: {},
      col: { show: true },
      props: {
        eventConfig: [
          {
            name: "onSubmit",
            info: t3("form.onSubmit"),
            args: ["formData", "api"]
          },
          {
            name: "onReset",
            info: t3("form.onReset"),
            args: ["api"]
          },
          {
            name: "onCreated",
            info: t3("form.onCreated"),
            args: ["api"]
          },
          {
            name: "onMounted",
            info: t3("form.onMounted"),
            args: ["api"]
          },
          {
            name: "onReload",
            info: t3("form.onReload"),
            args: ["api"]
          },
          {
            name: "onChange",
            info: t3("form.onChange"),
            args: ["field", "value", "options"]
          },
          {
            name: "beforeSubmit",
            info: t3("form.beforeSubmit"),
            args: ["formData", "data"]
          },
          {
            name: "beforeFetch",
            info: t3("form.beforeFetch"),
            args: ["config", "data"]
          }
        ]
      },
      title: t3("form.event")
    }
  ];
}
function yo({ t: t3 }) {
  return [
    {
      type: "FieldInput",
      field: "field",
      value: "",
      title: t3("form.field"),
      warning: t3("warning.field")
    },
    {
      type: "LanguageInput",
      field: "title",
      value: "",
      title: t3("form.title")
    },
    {
      type: "LanguageInput",
      field: "info",
      value: "",
      title: t3("form.info")
    },
    {
      type: "SizeInput",
      field: "formCreateWrap>labelWidth",
      value: "",
      title: t3("form.labelWidth")
    },
    {
      type: "Struct",
      field: "_control",
      name: "control",
      value: [],
      title: t3("form.control"),
      warning: t3("form.controlDocument", { doc: '<a target="_blank" href="https://pro.form-create.com/doc/control" style="color: inherit;text-decoration: underline;">' + t3("form.document") + "</a>" }),
      props: {
        defaultValue: [],
        validate(r) {
          return Array.isArray(r) ? r.length ? !r.some(({ rule: a }) => !Array.isArray(a)) : true : false;
        }
      }
    }
  ];
}
function gm({ t: t3 }) {
  return [
    {
      type: "input",
      title: "ID",
      field: "id",
      wrap: {
        labelWidth: "45px"
      }
    },
    {
      type: "input",
      title: "Class",
      field: "class",
      wrap: {
        labelWidth: "45px"
      }
    },
    {
      type: "StyleConfig",
      field: "style",
      title: "",
      value: {}
    }
  ];
}
function $d({ t: t3 }) {
  return [
    {
      type: "Required",
      field: "$required",
      title: t3("validate.required")
    },
    {
      type: "validate",
      field: "validate",
      title: t3("validate.rule"),
      value: []
    }
  ];
}
function Hd(t3) {
  return Array.isArray(t3) ? t3 : [null, void 0, ""].indexOf(t3) > -1 ? [] : [t3];
}
function ym(t3) {
  t3 = t3 || /* @__PURE__ */ new Map();
  const r = {
    $on(a, o) {
      const n = t3.get(a);
      n && n.push(o) || t3.set(a, [o]);
    },
    $once(a, o) {
      o._once = true, r.$on(a, o);
    },
    $off(a, o) {
      const n = t3.get(a);
      n && n.splice(n.indexOf(o) >>> 0, 1);
    },
    $emit(a, ...o) {
      (t3.get(a) || []).slice().map((n) => {
        n._once && (r.$off(a, n), delete n._once), n(...o);
      }), (t3.get("*") || []).slice().map((n) => {
        n(a, o);
      });
    }
  };
  return r;
}
var bm = 0;
function Ze() {
  const t3 = 370 + ++bm;
  return "F" + Math.random().toString(36).substr(3, 3) + Number(`${Date.now()}`).toString(36) + t3.toString(36) + "c";
}
var Am = "单选框";
var Jl = "radio";
var wm = {
  menu: "main",
  icon: "icon-radio",
  label: Am,
  name: Jl,
  input: true,
  event: ["change"],
  validate: ["string", "number"],
  rule({ t: t3 }) {
    return {
      type: Jl,
      field: Ze(),
      title: t3("com.radio.name"),
      info: "",
      effect: {
        fetch: ""
      },
      $required: false,
      props: {},
      options: ii(t3("props.option"), { label: "label", value: "value" }, 1)
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Jl + ".props", [
      Lo(r, "options"),
      { type: "switch", field: "disabled" },
      { type: "switch", field: "input" },
      {
        type: "switch",
        field: "type",
        props: { activeValue: "button", inactiveValue: "default" }
      },
      { type: "ColorInput", field: "textColor" },
      {
        type: "ColorInput",
        field: "fill"
      }
    ]);
  }
};
var Cm = "多选框";
var Zl = "checkbox";
var Sm = {
  menu: "main",
  icon: "icon-checkbox",
  label: Cm,
  name: Zl,
  input: true,
  event: ["change"],
  validate: ["array"],
  rule({ t: t3 }) {
    return {
      type: Zl,
      field: Ze(),
      title: t3("com.checkbox.name"),
      info: "",
      effect: {
        fetch: ""
      },
      $required: false,
      props: {},
      options: ii(t3("props.option"), { label: "label", value: "value" }, 1)
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Zl + ".props", [
      Lo(r, "options"),
      {
        type: "switch",
        field: "disabled"
      },
      { type: "switch", field: "input" },
      {
        type: "switch",
        field: "type",
        props: { activeValue: "button", inactiveValue: "default" }
      },
      {
        field: "min",
        type: "inputNumber",
        props: {
          min: 0
        }
      },
      {
        field: "max",
        type: "inputNumber",
        props: {
          min: 0
        }
      },
      {
        type: "ColorInput",
        field: "textColor"
      },
      {
        type: "ColorInput",
        field: "fill"
      }
    ]);
  }
};
var Em = "输入框";
var ql = "input";
var xm = {
  menu: "main",
  icon: "icon-input",
  label: Em,
  name: ql,
  input: true,
  event: ["blur", "focus", "change", "input", "clear"],
  validate: ["string", "url", "email"],
  rule({ t: t3 }) {
    return {
      type: ql,
      field: Ze(),
      title: t3("com.input.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ql + ".props", [
      {
        type: "switch",
        field: "disabled"
      },
      {
        type: "switch",
        field: "readonly"
      },
      {
        type: "select",
        field: "type",
        options: Pt(r, [
          { label: "text", value: "text" },
          { label: "number", value: "number" },
          { label: "time", value: "time" },
          { label: "date", value: "date" },
          { label: "month", value: "month" },
          { label: "datetime-local", value: "datetime-local" }
        ])
      },
      {
        type: "inputNumber",
        field: "maxlength",
        props: { min: 0 }
      },
      {
        type: "input",
        field: "placeholder"
      },
      {
        type: "switch",
        field: "clearable"
      }
    ]);
  }
};
var Tm = "多行输入框";
var Vd = "textarea";
var _m = {
  menu: "main",
  icon: "icon-textarea",
  label: Tm,
  name: Vd,
  input: true,
  event: ["blur", "focus", "change", "input"],
  validate: ["string"],
  rule({ t: t3 }) {
    return {
      type: "input",
      field: Ze(),
      title: t3("com.textarea.name"),
      info: "",
      $required: false,
      props: {
        type: "textarea"
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Vd + ".props", [
      {
        type: "switch",
        field: "disabled"
      },
      {
        type: "switch",
        field: "readonly"
      },
      {
        type: "inputNumber",
        field: "maxlength",
        props: { min: 0 }
      },
      {
        type: "switch",
        field: "showWordLimit"
      },
      {
        type: "input",
        field: "placeholder"
      },
      {
        type: "inputNumber",
        field: "rows",
        props: {
          min: 0
        }
      },
      {
        type: "switch",
        field: "autosize"
      }
    ]);
  }
};
var Rm = "密码输入框";
var jd = "password";
var Om = {
  menu: "main",
  icon: "icon-password",
  label: Rm,
  name: jd,
  input: true,
  event: ["blur", "focus", "change", "input", "clear"],
  validate: ["string"],
  rule({ t: t3 }) {
    return {
      type: "input",
      field: Ze(),
      title: t3("com.password.name"),
      info: "",
      $required: false,
      props: {
        type: "password"
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, jd + ".props", [
      {
        type: "switch",
        field: "disabled"
      },
      {
        type: "switch",
        field: "readonly"
      },
      {
        type: "inputNumber",
        field: "maxlength",
        props: { min: 0 }
      },
      {
        type: "input",
        field: "placeholder"
      },
      {
        type: "switch",
        field: "clearable"
      }
    ]);
  }
};
var Dm = "计数器";
var es = "inputNumber";
var Im = {
  menu: "main",
  icon: "icon-number",
  label: Dm,
  name: es,
  input: true,
  event: ["blur", "focus", "change"],
  validate: ["number", "integer", "float"],
  rule({ t: t3 }) {
    return {
      type: es,
      field: Ze(),
      title: t3("com.inputNumber.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  props(t3, { t: r }) {
    return Xe(r, es + ".props", [{ type: "switch", field: "disabled" }, {
      type: "inputNumber",
      field: "min"
    }, {
      type: "inputNumber",
      field: "max"
    }, {
      type: "inputNumber",
      title: "precision",
      field: "precision"
    }, { type: "inputNumber", field: "step", props: { min: 0 } }, {
      type: "switch",
      field: "stepStrictly"
    }, {
      type: "switch",
      field: "controls",
      value: true
    }, {
      type: "select",
      field: "controlsPosition",
      options: Pt(r, [{ label: "default", value: "" }, { label: "right", value: "right" }])
    }, { type: "input", field: "placeholder" }]);
  }
};
var Mm = "选择器";
var ts = "select";
var Pm = {
  menu: "main",
  icon: "icon-select",
  label: Mm,
  name: ts,
  input: true,
  event: ["change", "visibleChange", "removeTag", "clear", "blur", "focus"],
  validate: ["string", "number", "array"],
  rule({ t: t3 }) {
    return {
      type: ts,
      field: Ze(),
      title: t3("com.select.name"),
      info: "",
      effect: {
        fetch: ""
      },
      $required: false,
      props: {},
      options: ii(t3("props.option"), { label: "label", value: "value" }, 1)
    };
  },
  watch: {
    multiple({ rule: t3 }) {
      t3.key = Ze();
    }
  },
  props(t3, { t: r }) {
    return Xe(r, ts + ".props", [
      Lo(r, "options"),
      { type: "switch", field: "multiple" },
      {
        type: "switch",
        field: "disabled"
      },
      { type: "switch", field: "clearable" },
      {
        type: "switch",
        field: "collapseTags"
      },
      {
        type: "inputNumber",
        field: "multipleLimit",
        props: { min: 0 }
      },
      { type: "input", field: "placeholder" },
      {
        type: "switch",
        field: "filterable"
      },
      {
        type: "switch",
        field: "remote"
      },
      {
        type: "FnInput",
        field: "remoteMethod",
        props: {
          body: true,
          fnx: true,
          name: "remoteMethod",
          args: [qi(r)]
        }
      },
      { type: "switch", field: "allowCreate" },
      {
        type: "input",
        field: "noMatchText"
      },
      { type: "input", field: "noDataText" },
      {
        type: "switch",
        field: "reserveKeyword"
      },
      { type: "switch", field: "defaultFirstOption" }
    ]);
  }
};
var Nm = "开关";
var ns = "switch";
var Lm = {
  menu: "main",
  icon: "icon-switch",
  label: Nm,
  name: ns,
  input: true,
  event: ["change"],
  rule({ t: t3 }) {
    return {
      type: ns,
      field: Ze(),
      title: t3("com.switch.name"),
      info: "",
      $required: false,
      props: {
        activeValue: true,
        inactiveValue: false
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ns + ".props", [{
      type: "switch",
      field: "disabled"
    }, {
      type: "inputNumber",
      field: "width",
      props: { min: 0 }
    }, { type: "input", field: "activeText" }, {
      type: "input",
      field: "inactiveText"
    }, { type: "ValueInput", field: "activeValue" }, {
      type: "ValueInput",
      field: "inactiveValue"
    }, { type: "ColorInput", field: "activeColor" }, {
      type: "ColorInput",
      field: "inactiveColor"
    }]);
  }
};
var Fm = "滑块";
var is2 = "slider";
var km = {
  menu: "main",
  icon: "icon-slider",
  label: Fm,
  name: is2,
  input: true,
  event: ["change", "input"],
  validate: ["number", "array"],
  rule({ t: t3 }) {
    return {
      type: is2,
      field: Ze(),
      title: t3("com.slider.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  props(t3, { t: r }) {
    return Xe(r, is2 + ".props", [{ type: "switch", field: "disabled" }, {
      type: "switch",
      field: "range"
    }, {
      type: "inputNumber",
      field: "min",
      props: { min: 0 }
    }, {
      type: "inputNumber",
      field: "max",
      props: { min: 0 }
    }, {
      type: "inputNumber",
      field: "step",
      props: { min: 0 }
    }, { type: "switch", field: "showInput" }, {
      type: "switch",
      field: "showInputControls",
      value: true
    }, { type: "switch", field: "showStops" }, {
      type: "switch",
      field: "vertical"
    }, {
      type: "input",
      field: "height"
    }]);
  }
};
var Bm = "时间";
var rs = "timePicker";
var $m = {
  menu: "main",
  icon: "icon-time",
  label: Bm,
  name: rs,
  input: true,
  event: ["change", "blur", "focus", "visibleChange"],
  rule({ t: t3 }) {
    return {
      type: rs,
      field: Ze(),
      title: t3("com.timePicker.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  watch: {
    isRange({ rule: t3 }) {
      t3.key = Ze();
    }
  },
  props(t3, { t: r }) {
    return Xe(r, rs + ".props", [{ type: "switch", field: "readonly" }, {
      type: "switch",
      field: "disabled"
    }, {
      type: "switch",
      field: "isRange"
    }, {
      type: "switch",
      field: "clearable",
      value: true
    }, {
      type: "Struct",
      field: "pickerOptions",
      props: { defaultValue: {} }
    }, { type: "switch", field: "editable", value: true }, {
      type: "input",
      field: "placeholder"
    }, {
      type: "input",
      field: "startPlaceholder"
    }, { type: "input", field: "endPlaceholder" }, {
      type: "switch",
      field: "arrowControl"
    }, {
      type: "select",
      field: "align",
      options: Pt(r, [{ label: "left", value: "left" }, { label: "center", value: "center" }, {
        label: "right",
        value: "right"
      }])
    }]);
  }
};
var Hm = "时间区间";
var Vm = "timeRange";
var jm = {
  menu: "main",
  icon: "icon-time-range",
  label: Hm,
  name: Vm,
  input: true,
  event: ["change", "blur", "focus", "visibleChange"],
  rule({ t: t3 }) {
    return {
      type: "timePicker",
      field: Ze(),
      title: t3("com.timeRange.name"),
      info: "",
      $required: false,
      props: {
        isRange: true
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, "timePicker.props", [{ type: "switch", field: "readonly" }, {
      type: "switch",
      field: "disabled"
    }, {
      type: "switch",
      field: "clearable",
      value: true
    }, {
      type: "Struct",
      field: "pickerOptions",
      props: { defaultValue: {} }
    }, { type: "switch", field: "editable", value: true }, {
      type: "input",
      field: "startPlaceholder"
    }, { type: "input", field: "endPlaceholder" }, {
      type: "switch",
      field: "arrowControl"
    }, {
      type: "select",
      field: "align",
      options: Pt(r, [{ label: "left", value: "left" }, { label: "center", value: "center" }, {
        label: "right",
        value: "right"
      }])
    }]);
  }
};
var zm = "日期";
var os = "datePicker";
var Um = {
  menu: "main",
  icon: "icon-date",
  label: zm,
  name: os,
  input: true,
  event: ["change", "blur", "focus", "calendarChange", "panelChange", "visibleChange"],
  rule({ t: t3 }) {
    return {
      type: os,
      field: Ze(),
      title: t3("com.datePicker.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  props(t3, { t: r }) {
    return Xe(r, os + ".props", [{ type: "switch", field: "readonly" }, {
      type: "switch",
      field: "disabled"
    }, {
      type: "select",
      field: "type",
      options: Pt(r, [{ label: "year", value: "year" }, { label: "month", value: "month" }, {
        label: "date",
        value: "date"
      }, { label: "dates", value: "dates" }, { label: "week", value: "week" }, {
        label: "datetime",
        value: "datetime"
      }, { label: "datetimerange", value: "datetimerange" }, {
        label: "daterange",
        value: "daterange"
      }, { label: "monthrange", value: "monthrange" }])
    }, {
      type: "switch",
      field: "clearable",
      value: true
    }, {
      type: "Struct",
      field: "pickerOptions",
      props: { defaultValue: {} }
    }, { type: "switch", field: "editable", value: true }, {
      type: "input",
      field: "placeholder"
    }, {
      type: "input",
      field: "startPlaceholder"
    }, { type: "input", field: "endPlaceholder" }, {
      type: "input",
      field: "format"
    }, {
      type: "select",
      field: "align",
      options: Pt(r, [{ label: "left", value: "left" }, { label: "center", value: "center" }, {
        label: "right",
        value: "right"
      }])
    }, { type: "input", field: "rangeSeparator" }, {
      type: "switch",
      field: "unlinkPanels"
    }]);
  }
};
var Wm = "日期区间";
var Km = "dateRange";
var Gm = {
  menu: "main",
  icon: "icon-date-range",
  label: Wm,
  name: Km,
  input: true,
  event: ["change", "blur", "focus", "calendarChange", "panelChange", "visibleChange"],
  rule({ t: t3 }) {
    return {
      type: "datePicker",
      field: Ze(),
      title: t3("com.dateRange.name"),
      info: "",
      $required: false,
      props: {
        type: "datetimerange"
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, "datePicker.props", [{ type: "switch", field: "readonly" }, {
      type: "switch",
      field: "disabled"
    }, {
      type: "select",
      field: "type",
      options: Pt(r, [
        { label: "datetimerange", value: "datetimerange" },
        { label: "daterange", value: "daterange" },
        { label: "monthrange", value: "monthrange" }
      ])
    }, {
      type: "switch",
      field: "clearable",
      value: true
    }, {
      type: "Struct",
      field: "pickerOptions",
      props: { defaultValue: {} }
    }, { type: "switch", field: "editable", value: true }, {
      type: "input",
      field: "startPlaceholder"
    }, { type: "input", field: "endPlaceholder" }, {
      type: "input",
      field: "format"
    }, {
      type: "select",
      field: "align",
      options: Pt(r, [{ label: "left", value: "left" }, { label: "center", value: "center" }, {
        label: "right",
        value: "right"
      }])
    }, { type: "input", field: "rangeSeparator" }, {
      type: "switch",
      field: "unlinkPanels"
    }]);
  }
};
var Qm = "评分";
var as = "rate";
var Ym = {
  menu: "main",
  icon: "icon-rate",
  label: Qm,
  name: as,
  input: true,
  event: ["change"],
  validate: ["number"],
  rule({ t: t3 }) {
    return {
      type: as,
      field: Ze(),
      title: t3("com.rate.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  props(t3, { t: r }) {
    return Xe(r, as + ".props", [
      { type: "inputNumber", field: "max", props: { min: 0 } },
      {
        type: "switch",
        field: "disabled"
      },
      { type: "switch", field: "allowHalf" },
      {
        type: "ColorInput",
        field: "voidColor"
      },
      { type: "ColorInput", field: "disabledVoidColor" },
      {
        type: "input",
        field: "voidIconClass"
      },
      { type: "input", field: "disabledVoidIconClass" },
      {
        type: "switch",
        field: "showScore"
      },
      { type: "ColorInput", field: "textColor" },
      {
        type: "input",
        field: "scoreTemplate"
      }
    ]);
  }
};
var Xm = "颜色选择器";
var ls = "colorPicker";
var Jm = {
  menu: "main",
  icon: "icon-color",
  label: Xm,
  name: ls,
  input: true,
  event: ["change", "activeChange", "focus", "blur"],
  validate: ["string"],
  rule({ t: t3 }) {
    return {
      type: ls,
      field: Ze(),
      title: t3("com.colorPicker.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ls + ".props", [
      {
        type: "switch",
        field: "disabled"
      },
      {
        type: "switch",
        field: "showAlpha"
      },
      {
        type: "select",
        field: "colorFormat",
        options: [{ label: "hsl", value: "hsl" }, { label: "hsv", value: "hsv" }, {
          label: "hex",
          value: "hex"
        }, { label: "rgb", value: "rgb" }]
      },
      {
        type: "tableOptions",
        field: "predefine",
        props: {
          column: [{ label: r("props.value"), key: "value" }],
          valueType: "string"
        }
      }
    ]);
  }
};
var Zm = "栅格布局";
var ss = "fcRow";
var qm = {
  menu: "layout",
  icon: "icon-row",
  label: Zm,
  name: ss,
  mask: false,
  children: "col",
  childrenLen: 2,
  rule() {
    return {
      type: ss,
      props: {},
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ss + ".props", [{
      type: "inputNumber",
      field: "gutter",
      props: { min: 0 }
    }, {
      type: "switch",
      field: "type",
      props: { activeValue: "flex", inactiveValue: "default" }
    }, {
      type: "select",
      field: "justify",
      options: [{ label: "start", value: "start" }, { label: "end", value: "end" }, {
        label: "center",
        value: "center"
      }, { label: "space-around", value: "space-around" }, { label: "space-between", value: "space-between" }]
    }, {
      type: "select",
      field: "align",
      options: [{ label: "top", value: "top" }, { label: "middle", value: "middle" }, {
        label: "bottom",
        value: "bottom"
      }]
    }]);
  }
};
var us = "col";
var zd = {
  xs: "<768px",
  sm: "≥768px",
  md: "≥992px",
  lg: "≥1200px",
  xl: "≥1920px"
};
var eg = {
  name: us,
  label: "格子",
  drag: true,
  dragBtn: false,
  inside: true,
  mask: false,
  rule() {
    return {
      type: us,
      props: { span: 12 },
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, us + ".props", [
      { type: "slider", field: "span", value: 12, props: { min: 0, max: 24 } },
      { type: "slider", field: "offset", props: { min: 0, max: 24 } },
      { type: "slider", field: "push", props: { min: 0, max: 24 } },
      { type: "slider", field: "pull", props: { min: 0, max: 24 } },
      {
        type: "ConfigItem",
        props: {
          label: r("props.reactive")
        },
        children: [
          {
            type: "elTabs",
            style: {
              width: "100%"
            },
            slot: "append",
            children: Object.keys(zd).map((a) => ({
              type: "elTabPane",
              props: {
                label: zd[a]
              },
              style: "padding:0 10px;",
              children: [
                {
                  type: "slider",
                  field: a + ">span",
                  title: r("com.col.props.span"),
                  value: 12,
                  props: { min: 0, max: 24 }
                },
                {
                  type: "slider",
                  field: a + ">offset",
                  title: r("com.col.props.offset"),
                  props: { min: 0, max: 24 }
                },
                {
                  type: "slider",
                  field: a + ">push",
                  title: r("com.col.props.push"),
                  props: { min: 0, max: 24 }
                },
                {
                  type: "slider",
                  field: a + ">pull",
                  title: r("com.col.props.pull"),
                  props: { min: 0, max: 24 }
                }
              ]
            }))
          }
        ]
      }
    ]);
  }
};
var tg = "选项卡";
var fs = "elTabPane";
var ng = {
  label: tg,
  name: fs,
  inside: true,
  drag: true,
  dragBtn: false,
  mask: false,
  rule({ t: t3 }) {
    return {
      type: fs,
      props: { label: t3("com.elTabPane.name") },
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, fs + ".props", [{ type: "input", field: "label" }, {
      type: "switch",
      field: "disabled"
    }, { type: "input", field: "name" }, {
      type: "switch",
      field: "lazy"
    }]);
  }
};
var ig = "分割线";
var ds = "elDivider";
var rg = {
  menu: "aide",
  icon: "icon-divider",
  label: ig,
  name: ds,
  rule({ t: t3 }) {
    return {
      type: ds,
      props: {},
      children: [t3("com.elDivider.name")]
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ds + ".props", [{
      type: "input",
      field: "formCreateChild"
    }, {
      type: "select",
      field: "contentPosition",
      options: Pt(r, [{ label: "left", value: "left" }, { label: "right", value: "right" }, {
        label: "center",
        value: "center"
      }])
    }]);
  }
};
var og = "级联选择器";
var Aa = "cascader";
var ag = {
  menu: "main",
  icon: "icon-cascader",
  label: og,
  name: Aa,
  input: true,
  event: ["change", "expandChange", "blur", "focus", "visibleChange", "removeTag"],
  validate: ["string", "number", "array"],
  rule({ t: t3 }) {
    return {
      type: Aa,
      field: Ze(),
      title: t3("com.cascader.name"),
      info: "",
      effect: {
        fetch: ""
      },
      $required: false,
      props: {
        options: ii(t3("props.option"), { label: "label", value: "value" }, 3)
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Aa + ".props", [
      Br(r, "props.options"),
      {
        type: "switch",
        field: "disabled"
      },
      {
        type: "switch",
        field: "clearable"
      },
      {
        type: "input",
        field: "placeholder"
      },
      {
        type: "Object",
        field: "props",
        props: {
          rule: Xe(r, Aa + ".propsOpt", [{
            type: "switch",
            field: "multiple"
          }, {
            type: "select",
            field: "expandTrigger",
            options: Pt(r, [{ label: "click", value: "click" }, {
              label: "hover",
              value: "hover"
            }])
          }, {
            type: "switch",
            field: "checkStrictly"
          }, {
            type: "switch",
            field: "emitPath",
            value: true
          }, {
            type: "input",
            field: "value",
            value: "value"
          }, {
            type: "input",
            field: "label",
            value: "label"
          }, {
            type: "input",
            field: "children",
            value: "children"
          }, {
            type: "input",
            field: "disabled",
            value: "disabled"
          }, { type: "input", field: "leaf" }])
        }
      },
      {
        type: "switch",
        field: "showAllLevels",
        value: true
      },
      {
        type: "switch",
        field: "collapseTags"
      },
      {
        type: "switch",
        field: "collapseTagsTooltip"
      },
      {
        type: "input",
        field: "separator"
      },
      {
        type: "switch",
        field: "filterable"
      },
      {
        type: "select",
        field: "tagType",
        options: [
          { label: "success", value: "success" },
          { label: "info", value: "info" },
          { label: "warning", value: "warning" },
          { label: "danger", value: "danger" }
        ]
      }
    ]);
  }
};
var lg = "上传";
var cs = "upload";
var sg = {
  menu: "main",
  icon: "icon-upload",
  label: lg,
  name: cs,
  input: true,
  event: ["change", "remove", "preview", "error", "progress", "exceed"],
  languageKey: ["clickToUpload"],
  validate: ["array"],
  rule({ t: t3 }) {
    return {
      type: cs,
      field: Ze(),
      title: t3("com.upload.name"),
      info: "",
      $required: false,
      props: {
        action: "/",
        onSuccess: `$FNX:const res = $inject.args[0];
const file = $inject.args[1];

file.url = res.data.url;`
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, cs + ".props", [{
      type: "switch",
      field: "disabled"
    }, {
      type: "select",
      field: "listType",
      options: Pt(r, [{ label: "text", value: "text" }, {
        label: "picture",
        value: "picture"
      }, {
        label: "picture-card",
        value: "picture-card"
      }])
    }, { type: "switch", field: "multiple" }, {
      type: "input",
      field: "action"
    }, {
      type: "input",
      field: "accept"
    }, {
      type: "FnInput",
      field: "beforeUpload",
      props: {
        body: true,
        button: true,
        fnx: true,
        args: [qi(r)],
        name: "beforeUpload"
      }
    }, {
      type: "FnInput",
      field: "beforeRemove",
      props: {
        body: true,
        button: true,
        fnx: true,
        args: [qi(r)],
        name: "beforeRemove"
      }
    }, {
      type: "FnInput",
      field: "onSuccess",
      warning: r("com.upload.info"),
      props: {
        body: true,
        button: true,
        fnx: true,
        args: [qi(r)],
        name: "onSuccess"
      }
    }, {
      type: "TableOptions",
      field: "headers",
      props: {
        column: [{ label: r("props.key"), key: "label" }, { label: r("props.value"), key: "value" }],
        valueType: "object"
      }
    }, {
      type: "TableOptions",
      field: "data",
      props: {
        column: [{ label: r("props.key"), key: "label" }, { label: r("props.value"), key: "value" }],
        valueType: "object"
      }
    }, {
      type: "switch",
      field: "withCredentials"
    }, {
      type: "switch",
      field: "autoUpload",
      value: true
    }, {
      type: "inputNumber",
      field: "limit",
      props: { min: 0 }
    }]);
  }
};
var ug = "穿梭框";
var ps = "elTransfer";
var fg = {
  menu: "main",
  icon: "icon-transfer",
  label: ug,
  name: ps,
  input: true,
  event: ["change", "leftCheckChange", "rightCheckChange"],
  validate: ["string", "number", "array"],
  rule({ t: t3 }) {
    return {
      type: ps,
      field: Ze(),
      title: t3("com.elTransfer.name"),
      info: "",
      $required: false,
      props: {
        data: ii(t3("props.option"), { label: "label", value: "key" }, 1)
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ps + ".props", [
      Br(r, "props.data", "label", "key"),
      { type: "switch", field: "filterable" },
      {
        type: "input",
        field: "filterPlaceholder"
      },
      {
        type: "select",
        field: "targetOrder",
        warning: r("com.elTransfer.props.targetOrderInfo"),
        options: [{ label: "original", value: "original" }, {
          label: "push",
          value: "push"
        }, { label: "unshift", value: "unshift" }]
      },
      {
        type: "TableOptions",
        field: "titles",
        props: {
          column: [{ label: r("props.value"), key: "value" }],
          valueType: "string",
          max: 2
        }
      },
      {
        type: "TableOptions",
        field: "buttonTexts",
        props: {
          column: [{ label: r("props.value"), key: "value" }],
          valueType: "string",
          max: 2
        }
      }
    ]);
  }
};
var dg = "树形控件";
var hs = "tree";
var cg = {
  menu: "main",
  icon: "icon-tree",
  label: dg,
  name: hs,
  input: true,
  event: ["nodeClick", "nodeContextmenu", "checkChange", "check", "currentChange", "nodeExpand", "nodeCollapse", "nodeDragStart", "nodeDragEnter", "nodeDragLeave", "nodeDragOver", "nodeDragEnd", "nodeDrop"],
  validate: ["string", "number", "array"],
  rule({ t: t3 }) {
    return {
      type: hs,
      field: Ze(),
      title: t3("com.tree.name"),
      info: "",
      effect: {
        fetch: ""
      },
      $required: false,
      props: {
        props: {
          label: "label"
        },
        showCheckbox: true,
        nodeKey: "id",
        data: ii(t3("props.option"), { label: "label", value: "id" }, 3)
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, hs + ".props", [
      Br(r, "props.data", "label", "id"),
      { type: "input", field: "emptyText" },
      {
        type: "TableOptions",
        field: "props",
        props: {
          column: [{ label: r("props.key"), key: "label" }, { label: r("props.value"), key: "value" }],
          valueType: "object"
        }
      },
      {
        type: "switch",
        field: "renderAfterExpand",
        value: true
      },
      {
        type: "switch",
        field: "defaultExpandAll"
      },
      {
        type: "switch",
        field: "expandOnClickNode",
        value: true
      },
      {
        type: "switch",
        field: "checkOnClickNode"
      },
      { type: "switch", field: "autoExpandParent", value: true },
      {
        type: "switch",
        field: "checkStrictly"
      },
      { type: "switch", field: "accordion" },
      {
        type: "inputNumber",
        field: "indent"
      },
      {
        type: "input",
        field: "nodeKey"
      }
    ]);
  }
};
var pg = "提示";
var vs = "elAlert";
var hg = {
  menu: "aide",
  icon: "icon-alert",
  label: pg,
  name: vs,
  event: ["close"],
  rule({ t: t3 }) {
    return {
      type: vs,
      props: {
        title: t3("com.elAlert.name"),
        description: t3("com.elAlert.description"),
        type: "success",
        effect: "dark"
      },
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, vs + ".props", [{ type: "input", field: "title" }, {
      type: "select",
      field: "type",
      options: [{ label: "success", value: "success" }, { label: "warning", value: "warning" }, {
        label: "info",
        value: "info"
      }, { label: "error", value: "error" }]
    }, { type: "input", field: "description" }, {
      type: "switch",
      field: "closable",
      value: true
    }, { type: "switch", field: "center", value: true }, {
      type: "input",
      field: "closeText"
    }, { type: "switch", field: "showIcon" }, {
      type: "select",
      field: "effect",
      options: [{ label: "light", value: "light" }, { label: "dark", value: "dark" }]
    }]);
  }
};
var vg = "文字";
var Ud = "text";
var mg = {
  menu: "aide",
  icon: "icon-span",
  label: vg,
  name: Ud,
  rule({ t: t3 }) {
    return {
      type: "div",
      title: "",
      native: true,
      style: {
        whiteSpace: "pre-line",
        width: "100%"
      },
      children: [t3("com.text.name")]
    };
  },
  watch: {
    formCreateNative({ value: t3, rule: r }) {
      t3 && (r.title = "");
    }
  },
  props(t3, { t: r }) {
    return Xe(r, Ud + ".props", [
      {
        type: "switch",
        field: "formCreateNative",
        props: {
          activeValue: false,
          inactiveValue: true
        },
        control: [{ value: false, rule: ["formCreateTitle"] }]
      },
      {
        type: "input",
        field: "formCreateTitle"
      },
      {
        type: "input",
        field: "formCreateChild",
        props: {
          type: "textarea"
        }
      }
    ]);
  }
};
var gg = "间距";
var Wd = "space";
var yg = {
  menu: "layout",
  icon: "icon-space",
  label: gg,
  name: Wd,
  rule() {
    return {
      type: "div",
      wrap: {
        show: false
      },
      native: true,
      style: {
        width: "100%",
        height: "20px"
      },
      children: []
    };
  },
  props(t3, { t: r }) {
    return [
      {
        type: "object",
        field: "formCreateStyle",
        native: true,
        props: {
          rule: Xe(r, Wd + ".props", [
            {
              type: "input",
              field: "height",
              title: "height"
            }
          ])
        }
      }
    ];
  }
};
var bg = "标签页";
var ms = "elTabs";
var Ag = {
  menu: "layout",
  icon: "icon-tab",
  label: bg,
  name: ms,
  mask: false,
  event: ["tabClick", "tabChange", "tabRemove", "tabAdd", "edit"],
  children: "elTabPane",
  rule() {
    return {
      type: ms,
      style: { width: "100%" },
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ms + ".props", [{
      type: "select",
      field: "type",
      options: [{
        label: "card",
        value: "card"
      }, { label: "border-card", value: "border-card" }]
    }, { type: "switch", field: "closable" }, {
      type: "select",
      field: "tabPosition",
      options: Pt(r, [{ label: "top", value: "top" }, { label: "right", value: "right" }, {
        label: "left",
        value: "left"
      }])
    }, { type: "switch", field: "stretch" }]);
  }
};
var wg = "按钮";
var gs = "elButton";
var Cg = {
  menu: "aide",
  icon: "icon-button",
  label: wg,
  name: gs,
  mask: true,
  event: ["click"],
  rule({ t: t3 }) {
    return {
      type: gs,
      props: {},
      children: [t3("com.elButton.name")]
    };
  },
  props(t3, { t: r }) {
    return Xe(r, gs + ".props", [{
      type: "input",
      field: "formCreateChild"
    }, {
      type: "select",
      field: "size",
      options: Pt(r, [{ label: "large", value: "large" }, { label: "default", value: "default" }, {
        label: "small",
        value: "small"
      }])
    }, {
      type: "select",
      field: "type",
      options: [{ label: "primary", value: "primary" }, {
        label: "success",
        value: "success"
      }, { label: "warning", value: "warning" }, { label: "danger", value: "danger" }, {
        label: "info",
        value: "info"
      }]
    }, { type: "switch", field: "plain" }, {
      type: "switch",
      field: "round"
    }, { type: "switch", field: "circle" }, {
      type: "switch",
      field: "loading"
    }, { type: "switch", field: "disabled" }]);
  }
};
var Sg = "富文本框";
var ys = "fcEditor";
var Eg = {
  menu: "main",
  icon: "icon-editor",
  label: Sg,
  name: ys,
  input: true,
  event: ["change"],
  validate: ["string"],
  rule({ t: t3 }) {
    return {
      type: ys,
      field: Ze(),
      title: t3("com.fcEditor.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ys + ".props", [{
      type: "switch",
      field: "disabled"
    }]);
  }
};
var xg = "子表单";
var Kd = "group";
var Tg = {
  menu: "subform",
  icon: "icon-subform",
  label: xg,
  name: Kd,
  inside: false,
  drag: true,
  dragBtn: true,
  mask: false,
  input: true,
  event: ["change"],
  subForm: "array",
  loadRule(t3) {
    t3.children = t3.props.rule || [], t3.type = "FcRow", delete t3.props.rule;
  },
  parseRule(t3) {
    t3.props.rule = t3.children, t3.type = "group", delete t3.children, delete t3.props.mode;
  },
  rule({ t: t3 }) {
    return {
      type: "fcRow",
      field: Ze(),
      title: t3("com.group.name"),
      info: "",
      $required: false,
      props: {},
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Kd + ".props", [
      {
        type: "switch",
        field: "disabled"
      },
      { type: "switch", field: "syncDisabled", value: true },
      { type: "switch", field: "button", value: true },
      { type: "switch", field: "sortBtn", value: true },
      { type: "inputNumber", field: "expand" },
      { type: "inputNumber", field: "min" },
      { type: "inputNumber", field: "max" }
    ]);
  }
};
var _g = "分组";
var Gd = "subForm";
var Rg = {
  menu: "subform",
  icon: "icon-group",
  label: _g,
  name: Gd,
  inside: false,
  drag: true,
  dragBtn: true,
  mask: false,
  input: true,
  subForm: "object",
  event: ["change"],
  loadRule(t3) {
    t3.children = t3.props.rule || [], t3.type = "FcRow", delete t3.props.rule;
  },
  parseRule(t3) {
    t3.props.rule = t3.children, t3.type = "subForm", delete t3.children;
  },
  rule({ t: t3 }) {
    return {
      type: "fcRow",
      field: Ze(),
      title: t3("com.subForm.name"),
      info: "",
      $required: false,
      props: {},
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Gd + ".props", [
      {
        type: "switch",
        field: "disabled"
      },
      { type: "switch", field: "syncDisabled", value: true }
    ]);
  }
};
var Og = "卡片";
var bs = "elCard";
var Dg = {
  menu: "layout",
  icon: "icon-card",
  label: Og,
  name: bs,
  drag: true,
  inside: false,
  mask: false,
  rule({ t: t3 }) {
    return {
      type: bs,
      props: {
        header: t3("com.elCard.props.header")
      },
      style: {
        width: "100%"
      },
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, bs + ".props", [{
      type: "input",
      field: "header"
    }, {
      type: "select",
      field: "shadow",
      value: "always",
      options: Pt(r, [{ label: "always", value: "always" }, { label: "never", value: "never" }, {
        label: "hover",
        value: "hover"
      }])
    }]);
  }
};
var Ig = "折叠面板";
var As = "elCollapse";
var Mg = {
  menu: "layout",
  icon: "icon-collapse",
  label: Ig,
  name: As,
  mask: false,
  children: "elCollapseItem",
  event: ["change"],
  rule() {
    return {
      type: As,
      props: {},
      style: {
        width: "100%"
      },
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, As + ".props", [{
      type: "switch",
      field: "accordion"
    }]);
  }
};
var Pg = "面板";
var ws = "elCollapseItem";
var Ng = {
  icon: "icon-cell",
  label: Pg,
  name: ws,
  drag: true,
  dragBtn: false,
  inside: true,
  mask: false,
  rule({ t: t3 }) {
    return {
      type: ws,
      props: {
        title: t3("com.elCollapseItem.name")
      },
      style: {},
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, ws + ".props", [{
      type: "input",
      field: "title"
    }, {
      type: "input",
      field: "name"
    }, {
      type: "switch",
      field: "disabled"
    }]);
  }
};
var Lg = "树形选择";
var Cs = "elTreeSelect";
var Fg = {
  menu: "main",
  icon: "icon-tree-select",
  label: Lg,
  name: Cs,
  input: true,
  event: ["change", "visibleChange", "removeTag", "clear", "blur", "focus"],
  validate: ["string", "number", "array"],
  rule({ t: t3 }) {
    return {
      type: Cs,
      field: Ze(),
      title: t3("com.elTreeSelect.name"),
      info: "",
      effect: {
        fetch: ""
      },
      $required: false,
      props: {
        nodeKey: "value",
        showCheckbox: true,
        data: ii(t3("props.option"), { label: "label", value: "value" }, 3)
      }
    };
  },
  watch: {
    multiple({ rule: t3 }) {
      t3.key = Ze();
    }
  },
  props(t3, { t: r }) {
    return Xe(r, Cs + ".props", [
      Br(r, "props.data", "label", "value"),
      { type: "switch", field: "multiple" },
      {
        type: "switch",
        field: "disabled"
      },
      { type: "switch", field: "clearable" },
      {
        type: "switch",
        field: "collapseTags"
      },
      {
        type: "inputNumber",
        field: "multipleLimit",
        props: { min: 0 }
      },
      { type: "input", field: "placeholder" },
      {
        type: "TableOptions",
        field: "props",
        props: {
          column: [{ label: r("props.key"), key: "label" }, { label: r("props.value"), key: "value" }],
          valueType: "object"
        }
      },
      {
        type: "switch",
        field: "renderAfterExpand",
        value: true
      },
      {
        type: "switch",
        field: "defaultExpandAll"
      },
      {
        type: "switch",
        field: "expandOnClickNode",
        value: true
      },
      {
        type: "switch",
        field: "checkOnClickNode"
      },
      {
        type: "input",
        field: "nodeKey"
      }
    ]);
  }
};
var kg = "标签";
var Ss = "elTag";
var Bg = {
  menu: "aide",
  icon: "icon-tag",
  label: kg,
  name: Ss,
  mask: true,
  event: ["click", "close"],
  rule({ t: t3 }) {
    return {
      type: Ss,
      title: "",
      native: true,
      children: [t3("com.elTag.name")]
    };
  },
  watch: {
    formCreateNative({ value: t3, rule: r }) {
      t3 && (r.title = "");
    }
  },
  props(t3, { t: r }) {
    return Xe(r, Ss + ".props", [
      {
        type: "switch",
        field: "formCreateNative",
        props: {
          activeValue: false,
          inactiveValue: true
        },
        control: [{ value: false, rule: ["formCreateTitle"] }]
      },
      {
        type: "input",
        field: "formCreateTitle"
      },
      {
        type: "input",
        field: "formCreateChild"
      },
      {
        type: "select",
        field: "type",
        options: [{ label: "primary", value: "primary" }, {
          label: "success",
          value: "success"
        }, { label: "warning", value: "warning" }, { label: "danger", value: "danger" }, {
          label: "info",
          value: "info"
        }]
      },
      {
        type: "select",
        field: "size",
        options: Pt(r, [{ label: "large", value: "large" }, {
          label: "default",
          value: "default"
        }, { label: "small", value: "small" }])
      },
      {
        type: "select",
        field: "effect",
        options: [{ label: "dark", value: "dark" }, {
          label: "light",
          value: "light"
        }, { label: "plain", value: "plain" }]
      },
      {
        type: "switch",
        field: "closable"
      },
      {
        type: "switch",
        field: "disableTransitions"
      },
      {
        type: "switch",
        field: "hit"
      },
      {
        type: "switch",
        field: "round"
      },
      {
        type: "ColorInput",
        field: "color"
      }
    ]);
  }
};
var $g = "HTML";
var Es = "html";
var Hg = {
  menu: "aide",
  icon: "icon-html",
  label: $g,
  name: Es,
  rule() {
    return {
      type: Es,
      title: "",
      native: true,
      attrs: {
        innerHTML: ""
      },
      style: {
        display: "block",
        width: "100%"
      },
      children: [`<div style="color:blue;">
 html html html html html html html html html
  </div>`]
    };
  },
  watch: {
    formCreateNative({ value: t3, rule: r }) {
      t3 && (r.title = "");
    }
  },
  props(t3, { t: r }) {
    return Xe(r, Es + ".props", [
      {
        type: "switch",
        field: "formCreateNative",
        props: {
          activeValue: false,
          inactiveValue: true
        },
        control: [{ value: false, rule: ["formCreateTitle"] }]
      },
      {
        type: "input",
        field: "formCreateTitle"
      },
      {
        type: "HtmlEditor",
        field: "formCreateChild"
      }
    ]);
  }
};
var Vg = "表格布局";
var xs = "fcTable";
var jg = {
  menu: "layout",
  icon: "icon-table",
  label: Vg,
  name: xs,
  inside: false,
  mask: false,
  rule() {
    return {
      type: xs,
      props: {
        rule: {
          row: 3,
          col: 4,
          style: {},
          class: {},
          layout: []
        }
      },
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, xs + ".props", [
      { type: "switch", field: "border", value: true },
      { type: "ColorInput", field: "borderColor" },
      { type: "input", field: "borderWidth" }
    ]);
  }
};
var zg = "表格表单";
var Ts = "tableForm";
var Ug = {
  menu: "subform",
  icon: "icon-table-form",
  label: zg,
  name: Ts,
  mask: false,
  input: true,
  subForm: "array",
  languageKey: ["add", "operation", "dataEmpty"],
  event: ["change", "add", "delete"],
  children: "tableFormColumn",
  loadRule(t3) {
    t3.props || (t3.props = {});
    const r = t3.props.columns || [];
    t3.children = r.map((a) => ({
      type: "tableFormColumn",
      _fc_drag_tag: "tableFormColumn",
      props: {
        label: a.label,
        align: a.align,
        required: a.required || false,
        width: a.style.width || "",
        color: a.style.color || ""
      },
      children: a.rule || []
    })), delete t3.props.columns;
  },
  parseRule(t3) {
    const r = t3.children || [];
    t3.props.columns = r.map((a) => ({
      label: a.props.label,
      required: a.props.required,
      align: a.props.align,
      style: {
        width: a.props.width,
        color: a.props.color
      },
      rule: a.children || []
    })), t3.children = [];
  },
  rule({ t: t3 }) {
    return {
      type: Ts,
      field: Ze(),
      title: t3("com.tableForm.name"),
      info: "",
      props: {},
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Ts + ".props", [
      {
        type: "switch",
        field: "disabled"
      },
      {
        type: "switch",
        field: "addable",
        value: true
      },
      {
        type: "switch",
        field: "deletable",
        value: true
      },
      {
        type: "switch",
        field: "filterEmptyColumn",
        value: true
      },
      {
        type: "inputNumber",
        field: "min",
        props: { min: 0 }
      },
      {
        type: "inputNumber",
        field: "max",
        props: { min: 0 }
      }
    ]);
  }
};
var _s = "tableFormColumn";
var Wg = {
  icon: "icon-cell",
  name: _s,
  aide: true,
  drag: true,
  dragBtn: false,
  mask: false,
  style: false,
  rule({ t: t3 }) {
    return {
      type: _s,
      props: {
        label: t3("com.tableFormColumn.label"),
        width: "auto"
      },
      children: []
    };
  },
  props(t3, { t: r }) {
    return Xe(r, _s + ".props", [
      {
        type: "input",
        field: "label"
      },
      {
        type: "select",
        field: "align",
        options: Pt(r, [{ label: "left", value: "left" }, { label: "center", value: "center" }, {
          label: "right",
          value: "right"
        }])
      },
      {
        type: "switch",
        field: "required"
      },
      {
        type: "input",
        field: "width"
      },
      {
        type: "ColorInput",
        field: "color"
      }
    ]);
  }
};
var Kg = "图片";
var Rs = "elImage";
var Gg = {
  menu: "aide",
  icon: "icon-image",
  label: Kg,
  name: Rs,
  rule() {
    return {
      type: Rs,
      title: "",
      style: {
        width: "100px",
        height: "100px"
      },
      props: {
        src: "https://static.form-create.com/example.png"
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Rs + ".props", [
      {
        type: "input",
        field: "src"
      }
    ]);
  }
};
var Qg = "手写签名";
var Os = "signaturePad";
var Yg = {
  menu: "main",
  icon: "icon-sign",
  label: Qg,
  name: Os,
  input: true,
  mask: true,
  languageKey: ["signaturePadTip", "signaturePadTitle", "reset", "ok"],
  event: ["change", "remove"],
  rule({ t: t3 }) {
    return {
      type: Os,
      field: Ze(),
      title: t3("com.signaturePad.name"),
      info: "",
      $required: false,
      props: {}
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Os + ".props", [
      {
        type: "ColorInput",
        field: "penColor"
      },
      {
        type: "switch",
        field: "disabled"
      }
    ]);
  }
};
var Xg = "标题";
var Qd = "fcTitle";
var Jg = {
  menu: "aide",
  icon: "icon-title",
  label: Xg,
  name: Qd,
  event: [],
  rule({ t: t3 }) {
    return {
      type: "fcTitle",
      props: {
        title: t3("props.title")
      }
    };
  },
  props(t3, { t: r }) {
    return Xe(r, Qd + ".props", [{ type: "input", field: "title" }, {
      type: "select",
      field: "size",
      value: "H2",
      options: [1, 2, 3, 4, 5, 6].map((a) => ({ label: "H" + a, value: "h" + a }))
    }, {
      type: "select",
      field: "align",
      options: Pt(r, [{ label: "left", value: "left" }, { label: "center", value: "center" }, {
        label: "right",
        value: "right"
      }])
    }]);
  }
};
var Yd = [
  xm,
  _m,
  Om,
  Im,
  wm,
  Sm,
  Pm,
  Lm,
  Ym,
  $m,
  jm,
  km,
  Um,
  Gm,
  Jm,
  ag,
  sg,
  fg,
  cg,
  Fg,
  Eg,
  Yg,
  Tg,
  Rg,
  Ug,
  Wg,
  hg,
  Cg,
  mg,
  Jg,
  Hg,
  rg,
  Bg,
  Gg,
  qm,
  jg,
  Ag,
  yg,
  Dg,
  Mg,
  eg,
  ng,
  Ng
];
function Zg(t3) {
  return {
    icon: t3.field ? "icon-input" : "icon-cell",
    label: t3.field || t3.type,
    name: "_",
    mask: true,
    handleBtn: ["delete"],
    rule() {
      return t3;
    },
    props() {
      return [];
    }
  };
}
function Xd(t3, r) {
  var a = Object.keys(t3);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(t3);
    r && (o = o.filter(function(n) {
      return Object.getOwnPropertyDescriptor(t3, n).enumerable;
    })), a.push.apply(a, o);
  }
  return a;
}
function ni(t3) {
  for (var r = 1; r < arguments.length; r++) {
    var a = arguments[r] != null ? arguments[r] : {};
    r % 2 ? Xd(Object(a), true).forEach(function(o) {
      qg(t3, o, a[o]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(a)) : Xd(Object(a)).forEach(function(o) {
      Object.defineProperty(t3, o, Object.getOwnPropertyDescriptor(a, o));
    });
  }
  return t3;
}
function La(t3) {
  return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? La = function(r) {
    return typeof r;
  } : La = function(r) {
    return r && typeof Symbol == "function" && r.constructor === Symbol && r !== Symbol.prototype ? "symbol" : typeof r;
  }, La(t3);
}
function qg(t3, r, a) {
  return r in t3 ? Object.defineProperty(t3, r, {
    value: a,
    enumerable: true,
    configurable: true,
    writable: true
  }) : t3[r] = a, t3;
}
function mi() {
  return mi = Object.assign || function(t3) {
    for (var r = 1; r < arguments.length; r++) {
      var a = arguments[r];
      for (var o in a)
        Object.prototype.hasOwnProperty.call(a, o) && (t3[o] = a[o]);
    }
    return t3;
  }, mi.apply(this, arguments);
}
function ey(t3, r) {
  if (t3 == null)
    return {};
  var a = {}, o = Object.keys(t3), n, l;
  for (l = 0; l < o.length; l++)
    n = o[l], !(r.indexOf(n) >= 0) && (a[n] = t3[n]);
  return a;
}
function ty(t3, r) {
  if (t3 == null)
    return {};
  var a = ey(t3, r), o, n;
  if (Object.getOwnPropertySymbols) {
    var l = Object.getOwnPropertySymbols(t3);
    for (n = 0; n < l.length; n++)
      o = l[n], !(r.indexOf(o) >= 0) && (!Object.prototype.propertyIsEnumerable.call(t3, o) || (a[o] = t3[o]));
  }
  return a;
}
var ny = "1.14.0";
function vi(t3) {
  if (typeof window < "u" && window.navigator)
    return !!navigator.userAgent.match(t3);
}
var gi = vi(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i);
var Fo = vi(/Edge/i);
var Jd = vi(/firefox/i);
var To = vi(/safari/i) && !vi(/chrome/i) && !vi(/android/i);
var np = vi(/iP(ad|od|hone)/i);
var iy = vi(/chrome/i) && vi(/android/i);
var ip = {
  capture: false,
  passive: false
};
function mt(t3, r, a) {
  t3.addEventListener(r, a, !gi && ip);
}
function dt(t3, r, a) {
  t3.removeEventListener(r, a, !gi && ip);
}
function Ha(t3, r) {
  if (!!r) {
    if (r[0] === ">" && (r = r.substring(1)), t3)
      try {
        if (t3.matches)
          return t3.matches(r);
        if (t3.msMatchesSelector)
          return t3.msMatchesSelector(r);
        if (t3.webkitMatchesSelector)
          return t3.webkitMatchesSelector(r);
      } catch {
        return false;
      }
    return false;
  }
}
function ry(t3) {
  return t3.host && t3 !== document && t3.host.nodeType ? t3.host : t3.parentNode;
}
function ei(t3, r, a, o) {
  if (t3) {
    a = a || document;
    do {
      if (r != null && (r[0] === ">" ? t3.parentNode === a && Ha(t3, r) : Ha(t3, r)) || o && t3 === a)
        return t3;
      if (t3 === a)
        break;
    } while (t3 = ry(t3));
  }
  return null;
}
var Zd = /\s+/g;
function xn(t3, r, a) {
  if (t3 && r)
    if (t3.classList)
      t3.classList[a ? "add" : "remove"](r);
    else {
      var o = (" " + t3.className + " ").replace(Zd, " ").replace(" " + r + " ", " ");
      t3.className = (o + (a ? " " + r : "")).replace(Zd, " ");
    }
}
function Ge(t3, r, a) {
  var o = t3 && t3.style;
  if (o) {
    if (a === void 0)
      return document.defaultView && document.defaultView.getComputedStyle ? a = document.defaultView.getComputedStyle(t3, "") : t3.currentStyle && (a = t3.currentStyle), r === void 0 ? a : a[r];
    !(r in o) && r.indexOf("webkit") === -1 && (r = "-webkit-" + r), o[r] = a + (typeof a == "string" ? "" : "px");
  }
}
function Lr(t3, r) {
  var a = "";
  if (typeof t3 == "string")
    a = t3;
  else
    do {
      var o = Ge(t3, "transform");
      o && o !== "none" && (a = o + " " + a);
    } while (!r && (t3 = t3.parentNode));
  var n = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;
  return n && new n(a);
}
function rp(t3, r, a) {
  if (t3) {
    var o = t3.getElementsByTagName(r), n = 0, l = o.length;
    if (a)
      for (; n < l; n++)
        a(o[n], n);
    return o;
  }
  return [];
}
function ti() {
  var t3 = document.scrollingElement;
  return t3 || document.documentElement;
}
function Qt(t3, r, a, o, n) {
  if (!(!t3.getBoundingClientRect && t3 !== window)) {
    var l, f, d, c, h2, m, g;
    if (t3 !== window && t3.parentNode && t3 !== ti() ? (l = t3.getBoundingClientRect(), f = l.top, d = l.left, c = l.bottom, h2 = l.right, m = l.height, g = l.width) : (f = 0, d = 0, c = window.innerHeight, h2 = window.innerWidth, m = window.innerHeight, g = window.innerWidth), (r || a) && t3 !== window && (n = n || t3.parentNode, !gi))
      do
        if (n && n.getBoundingClientRect && (Ge(n, "transform") !== "none" || a && Ge(n, "position") !== "static")) {
          var w = n.getBoundingClientRect();
          f -= w.top + parseInt(Ge(n, "border-top-width")), d -= w.left + parseInt(Ge(n, "border-left-width")), c = f + l.height, h2 = d + l.width;
          break;
        }
      while (n = n.parentNode);
    if (o && t3 !== window) {
      var R = Lr(n || t3), A = R && R.a, E = R && R.d;
      R && (f /= E, d /= A, g /= A, m /= E, c = f + m, h2 = d + g);
    }
    return {
      top: f,
      left: d,
      bottom: c,
      right: h2,
      width: g,
      height: m
    };
  }
}
function qd(t3, r, a) {
  for (var o = Fi(t3, true), n = Qt(t3)[r]; o; ) {
    var l = Qt(o)[a], f = void 0;
    if (a === "top" || a === "left" ? f = n >= l : f = n <= l, !f)
      return o;
    if (o === ti())
      break;
    o = Fi(o, false);
  }
  return false;
}
function kr(t3, r, a, o) {
  for (var n = 0, l = 0, f = t3.children; l < f.length; ) {
    if (f[l].style.display !== "none" && f[l] !== Qe.ghost && (o || f[l] !== Qe.dragged) && ei(f[l], a.draggable, t3, false)) {
      if (n === r)
        return f[l];
      n++;
    }
    l++;
  }
  return null;
}
function vu(t3, r) {
  for (var a = t3.lastElementChild; a && (a === Qe.ghost || Ge(a, "display") === "none" || r && !Ha(a, r)); )
    a = a.previousElementSibling;
  return a || null;
}
function Pn(t3, r) {
  var a = 0;
  if (!t3 || !t3.parentNode)
    return -1;
  for (; t3 = t3.previousElementSibling; )
    t3.nodeName.toUpperCase() !== "TEMPLATE" && t3 !== Qe.clone && (!r || Ha(t3, r)) && a++;
  return a;
}
function ec(t3) {
  var r = 0, a = 0, o = ti();
  if (t3)
    do {
      var n = Lr(t3), l = n.a, f = n.d;
      r += t3.scrollLeft * l, a += t3.scrollTop * f;
    } while (t3 !== o && (t3 = t3.parentNode));
  return [r, a];
}
function oy(t3, r) {
  for (var a in t3)
    if (!!t3.hasOwnProperty(a)) {
      for (var o in r)
        if (r.hasOwnProperty(o) && r[o] === t3[a][o])
          return Number(a);
    }
  return -1;
}
function Fi(t3, r) {
  if (!t3 || !t3.getBoundingClientRect)
    return ti();
  var a = t3, o = false;
  do
    if (a.clientWidth < a.scrollWidth || a.clientHeight < a.scrollHeight) {
      var n = Ge(a);
      if (a.clientWidth < a.scrollWidth && (n.overflowX == "auto" || n.overflowX == "scroll") || a.clientHeight < a.scrollHeight && (n.overflowY == "auto" || n.overflowY == "scroll")) {
        if (!a.getBoundingClientRect || a === document.body)
          return ti();
        if (o || r)
          return a;
        o = true;
      }
    }
  while (a = a.parentNode);
  return ti();
}
function ay(t3, r) {
  if (t3 && r)
    for (var a in r)
      r.hasOwnProperty(a) && (t3[a] = r[a]);
  return t3;
}
function Ds(t3, r) {
  return Math.round(t3.top) === Math.round(r.top) && Math.round(t3.left) === Math.round(r.left) && Math.round(t3.height) === Math.round(r.height) && Math.round(t3.width) === Math.round(r.width);
}
var _o;
function op(t3, r) {
  return function() {
    if (!_o) {
      var a = arguments, o = this;
      a.length === 1 ? t3.call(o, a[0]) : t3.apply(o, a), _o = setTimeout(function() {
        _o = void 0;
      }, r);
    }
  };
}
function ly() {
  clearTimeout(_o), _o = void 0;
}
function ap(t3, r, a) {
  t3.scrollLeft += r, t3.scrollTop += a;
}
function lp(t3) {
  var r = window.Polymer, a = window.jQuery || window.Zepto;
  return r && r.dom ? r.dom(t3).cloneNode(true) : a ? a(t3).clone(true)[0] : t3.cloneNode(true);
}
var _n = "Sortable" + (/* @__PURE__ */ new Date()).getTime();
function sy() {
  var t3 = [], r;
  return {
    captureAnimationState: function() {
      if (t3 = [], !!this.options.animation) {
        var o = [].slice.call(this.el.children);
        o.forEach(function(n) {
          if (!(Ge(n, "display") === "none" || n === Qe.ghost)) {
            t3.push({
              target: n,
              rect: Qt(n)
            });
            var l = ni({}, t3[t3.length - 1].rect);
            if (n.thisAnimationDuration) {
              var f = Lr(n, true);
              f && (l.top -= f.f, l.left -= f.e);
            }
            n.fromRect = l;
          }
        });
      }
    },
    addAnimationState: function(o) {
      t3.push(o);
    },
    removeAnimationState: function(o) {
      t3.splice(oy(t3, {
        target: o
      }), 1);
    },
    animateAll: function(o) {
      var n = this;
      if (!this.options.animation) {
        clearTimeout(r), typeof o == "function" && o();
        return;
      }
      var l = false, f = 0;
      t3.forEach(function(d) {
        var c = 0, h2 = d.target, m = h2.fromRect, g = Qt(h2), w = h2.prevFromRect, R = h2.prevToRect, A = d.rect, E = Lr(h2, true);
        E && (g.top -= E.f, g.left -= E.e), h2.toRect = g, h2.thisAnimationDuration && Ds(w, g) && !Ds(m, g) && (A.top - g.top) / (A.left - g.left) === (m.top - g.top) / (m.left - g.left) && (c = fy(A, w, R, n.options)), Ds(g, m) || (h2.prevFromRect = m, h2.prevToRect = g, c || (c = n.options.animation), n.animate(h2, A, g, c)), c && (l = true, f = Math.max(f, c), clearTimeout(h2.animationResetTimer), h2.animationResetTimer = setTimeout(function() {
          h2.animationTime = 0, h2.prevFromRect = null, h2.fromRect = null, h2.prevToRect = null, h2.thisAnimationDuration = null;
        }, c), h2.thisAnimationDuration = c);
      }), clearTimeout(r), l ? r = setTimeout(function() {
        typeof o == "function" && o();
      }, f) : typeof o == "function" && o(), t3 = [];
    },
    animate: function(o, n, l, f) {
      if (f) {
        Ge(o, "transition", ""), Ge(o, "transform", "");
        var d = Lr(this.el), c = d && d.a, h2 = d && d.d, m = (n.left - l.left) / (c || 1), g = (n.top - l.top) / (h2 || 1);
        o.animatingX = !!m, o.animatingY = !!g, Ge(o, "transform", "translate3d(" + m + "px," + g + "px,0)"), this.forRepaintDummy = uy(o), Ge(o, "transition", "transform " + f + "ms" + (this.options.easing ? " " + this.options.easing : "")), Ge(o, "transform", "translate3d(0,0,0)"), typeof o.animated == "number" && clearTimeout(o.animated), o.animated = setTimeout(function() {
          Ge(o, "transition", ""), Ge(o, "transform", ""), o.animated = false, o.animatingX = false, o.animatingY = false;
        }, f);
      }
    }
  };
}
function uy(t3) {
  return t3.offsetWidth;
}
function fy(t3, r, a, o) {
  return Math.sqrt(Math.pow(r.top - t3.top, 2) + Math.pow(r.left - t3.left, 2)) / Math.sqrt(Math.pow(r.top - a.top, 2) + Math.pow(r.left - a.left, 2)) * o.animation;
}
var Tr = [];
var Is = {
  initializeByDefault: true
};
var ko = {
  mount: function(r) {
    for (var a in Is)
      Is.hasOwnProperty(a) && !(a in r) && (r[a] = Is[a]);
    Tr.forEach(function(o) {
      if (o.pluginName === r.pluginName)
        throw "Sortable: Cannot mount plugin ".concat(r.pluginName, " more than once");
    }), Tr.push(r);
  },
  pluginEvent: function(r, a, o) {
    var n = this;
    this.eventCanceled = false, o.cancel = function() {
      n.eventCanceled = true;
    };
    var l = r + "Global";
    Tr.forEach(function(f) {
      !a[f.pluginName] || (a[f.pluginName][l] && a[f.pluginName][l](ni({
        sortable: a
      }, o)), a.options[f.pluginName] && a[f.pluginName][r] && a[f.pluginName][r](ni({
        sortable: a
      }, o)));
    });
  },
  initializePlugins: function(r, a, o, n) {
    Tr.forEach(function(d) {
      var c = d.pluginName;
      if (!(!r.options[c] && !d.initializeByDefault)) {
        var h2 = new d(r, a, r.options);
        h2.sortable = r, h2.options = r.options, r[c] = h2, mi(o, h2.defaults);
      }
    });
    for (var l in r.options)
      if (!!r.options.hasOwnProperty(l)) {
        var f = this.modifyOption(r, l, r.options[l]);
        typeof f < "u" && (r.options[l] = f);
      }
  },
  getEventProperties: function(r, a) {
    var o = {};
    return Tr.forEach(function(n) {
      typeof n.eventProperties == "function" && mi(o, n.eventProperties.call(a[n.pluginName], r));
    }), o;
  },
  modifyOption: function(r, a, o) {
    var n;
    return Tr.forEach(function(l) {
      !r[l.pluginName] || l.optionListeners && typeof l.optionListeners[a] == "function" && (n = l.optionListeners[a].call(r[l.pluginName], o));
    }), n;
  }
};
function dy(t3) {
  var r = t3.sortable, a = t3.rootEl, o = t3.name, n = t3.targetEl, l = t3.cloneEl, f = t3.toEl, d = t3.fromEl, c = t3.oldIndex, h2 = t3.newIndex, m = t3.oldDraggableIndex, g = t3.newDraggableIndex, w = t3.originalEvent, R = t3.putSortable, A = t3.extraEventProperties;
  if (r = r || a && a[_n], !!r) {
    var E, b = r.options, v = "on" + o.charAt(0).toUpperCase() + o.substr(1);
    window.CustomEvent && !gi && !Fo ? E = new CustomEvent(o, {
      bubbles: true,
      cancelable: true
    }) : (E = document.createEvent("Event"), E.initEvent(o, true, true)), E.to = f || a, E.from = d || a, E.item = n || a, E.clone = l, E.oldIndex = c, E.newIndex = h2, E.oldDraggableIndex = m, E.newDraggableIndex = g, E.originalEvent = w, E.pullMode = R ? R.lastPutMode : void 0;
    var y = ni(ni({}, A), ko.getEventProperties(o, r));
    for (var T in y)
      E[T] = y[T];
    a && a.dispatchEvent(E), b[v] && b[v].call(r, E);
  }
}
var cy = ["evt"];
var bn = function(r, a) {
  var o = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, n = o.evt, l = ty(o, cy);
  ko.pluginEvent.bind(Qe)(r, a, ni({
    dragEl: _e,
    parentEl: It,
    ghostEl: et,
    rootEl: _t,
    nextEl: Ji,
    lastDownEl: Fa,
    cloneEl: Mt,
    cloneHidden: Ni,
    dragStarted: wo,
    putSortable: en,
    activeSortable: Qe.active,
    originalEvent: n,
    oldIndex: Nr,
    oldDraggableIndex: Ro,
    newIndex: Tn,
    newDraggableIndex: Pi,
    hideGhostForTarget: dp,
    unhideGhostForTarget: cp,
    cloneNowHidden: function() {
      Ni = true;
    },
    cloneNowShown: function() {
      Ni = false;
    },
    dispatchSortableEvent: function(d) {
      cn({
        sortable: a,
        name: d,
        originalEvent: n
      });
    }
  }, l));
};
function cn(t3) {
  dy(ni({
    putSortable: en,
    cloneEl: Mt,
    targetEl: _e,
    rootEl: _t,
    oldIndex: Nr,
    oldDraggableIndex: Ro,
    newIndex: Tn,
    newDraggableIndex: Pi
  }, t3));
}
var _e;
var It;
var et;
var _t;
var Ji;
var Fa;
var Mt;
var Ni;
var Nr;
var Tn;
var Ro;
var Pi;
var wa;
var en;
var Mr = false;
var Va = false;
var ja = [];
var Yi;
var Hn;
var Ms;
var Ps;
var tc;
var nc;
var wo;
var _r;
var Oo;
var Do = false;
var Ca = false;
var ka;
var rn;
var Ns = [];
var su = false;
var za = [];
var Xa = typeof document < "u";
var Sa = np;
var ic = Fo || gi ? "cssFloat" : "float";
var py = Xa && !iy && !np && "draggable" in document.createElement("div");
var sp = function() {
  if (!!Xa) {
    if (gi)
      return false;
    var t3 = document.createElement("x");
    return t3.style.cssText = "pointer-events:auto", t3.style.pointerEvents === "auto";
  }
}();
var up = function(r, a) {
  var o = Ge(r), n = parseInt(o.width) - parseInt(o.paddingLeft) - parseInt(o.paddingRight) - parseInt(o.borderLeftWidth) - parseInt(o.borderRightWidth), l = kr(r, 0, a), f = kr(r, 1, a), d = l && Ge(l), c = f && Ge(f), h2 = d && parseInt(d.marginLeft) + parseInt(d.marginRight) + Qt(l).width, m = c && parseInt(c.marginLeft) + parseInt(c.marginRight) + Qt(f).width;
  if (o.display === "flex")
    return o.flexDirection === "column" || o.flexDirection === "column-reverse" ? "vertical" : "horizontal";
  if (o.display === "grid")
    return o.gridTemplateColumns.split(" ").length <= 1 ? "vertical" : "horizontal";
  if (l && d.float && d.float !== "none") {
    var g = d.float === "left" ? "left" : "right";
    return f && (c.clear === "both" || c.clear === g) ? "vertical" : "horizontal";
  }
  return l && (d.display === "block" || d.display === "flex" || d.display === "table" || d.display === "grid" || h2 >= n && o[ic] === "none" || f && o[ic] === "none" && h2 + m > n) ? "vertical" : "horizontal";
};
var hy = function(r, a, o) {
  var n = o ? r.left : r.top, l = o ? r.right : r.bottom, f = o ? r.width : r.height, d = o ? a.left : a.top, c = o ? a.right : a.bottom, h2 = o ? a.width : a.height;
  return n === d || l === c || n + f / 2 === d + h2 / 2;
};
var vy = function(r, a) {
  var o;
  return ja.some(function(n) {
    var l = n[_n].options.emptyInsertThreshold;
    if (!(!l || vu(n))) {
      var f = Qt(n), d = r >= f.left - l && r <= f.right + l, c = a >= f.top - l && a <= f.bottom + l;
      if (d && c)
        return o = n;
    }
  }), o;
};
var fp = function(r) {
  function a(l, f) {
    return function(d, c, h2, m) {
      var g = d.options.group.name && c.options.group.name && d.options.group.name === c.options.group.name;
      if (l == null && (f || g))
        return true;
      if (l == null || l === false)
        return false;
      if (f && l === "clone")
        return l;
      if (typeof l == "function")
        return a(l(d, c, h2, m), f)(d, c, h2, m);
      var w = (f ? d : c).options.group.name;
      return l === true || typeof l == "string" && l === w || l.join && l.indexOf(w) > -1;
    };
  }
  var o = {}, n = r.group;
  (!n || La(n) != "object") && (n = {
    name: n
  }), o.name = n.name, o.checkPull = a(n.pull, true), o.checkPut = a(n.put), o.revertClone = n.revertClone, r.group = o;
};
var dp = function() {
  !sp && et && Ge(et, "display", "none");
};
var cp = function() {
  !sp && et && Ge(et, "display", "");
};
Xa && document.addEventListener("click", function(t3) {
  if (Va)
    return t3.preventDefault(), t3.stopPropagation && t3.stopPropagation(), t3.stopImmediatePropagation && t3.stopImmediatePropagation(), Va = false, false;
}, true);
var Xi = function(r) {
  if (_e) {
    r = r.touches ? r.touches[0] : r;
    var a = vy(r.clientX, r.clientY);
    if (a) {
      var o = {};
      for (var n in r)
        r.hasOwnProperty(n) && (o[n] = r[n]);
      o.target = o.rootEl = a, o.preventDefault = void 0, o.stopPropagation = void 0, a[_n]._onDragOver(o);
    }
  }
};
var my = function(r) {
  _e && _e.parentNode[_n]._isOutsideThisEl(r.target);
};
function Qe(t3, r) {
  if (!(t3 && t3.nodeType && t3.nodeType === 1))
    throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t3));
  this.el = t3, this.options = r = mi({}, r), t3[_n] = this;
  var a = {
    group: null,
    sort: true,
    disabled: false,
    store: null,
    handle: null,
    draggable: /^[uo]l$/i.test(t3.nodeName) ? ">li" : ">*",
    swapThreshold: 1,
    invertSwap: false,
    invertedSwapThreshold: null,
    removeCloneOnHide: true,
    direction: function() {
      return up(t3, this.options);
    },
    ghostClass: "sortable-ghost",
    chosenClass: "sortable-chosen",
    dragClass: "sortable-drag",
    ignore: "a, img",
    filter: null,
    preventOnFilter: true,
    animation: 0,
    easing: null,
    setData: function(f, d) {
      f.setData("Text", d.textContent);
    },
    dropBubble: false,
    dragoverBubble: false,
    dataIdAttr: "data-id",
    delay: 0,
    delayOnTouchOnly: false,
    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,
    forceFallback: false,
    fallbackClass: "sortable-fallback",
    fallbackOnBody: false,
    fallbackTolerance: 0,
    fallbackOffset: {
      x: 0,
      y: 0
    },
    supportPointer: Qe.supportPointer !== false && "PointerEvent" in window && !To,
    emptyInsertThreshold: 5
  };
  ko.initializePlugins(this, t3, a);
  for (var o in a)
    !(o in r) && (r[o] = a[o]);
  fp(r);
  for (var n in this)
    n.charAt(0) === "_" && typeof this[n] == "function" && (this[n] = this[n].bind(this));
  this.nativeDraggable = r.forceFallback ? false : py, this.nativeDraggable && (this.options.touchStartThreshold = 1), r.supportPointer ? mt(t3, "pointerdown", this._onTapStart) : (mt(t3, "mousedown", this._onTapStart), mt(t3, "touchstart", this._onTapStart)), this.nativeDraggable && (mt(t3, "dragover", this), mt(t3, "dragenter", this)), ja.push(this.el), r.store && r.store.get && this.sort(r.store.get(this) || []), mi(this, sy());
}
Qe.prototype = {
  constructor: Qe,
  _isOutsideThisEl: function(r) {
    !this.el.contains(r) && r !== this.el && (_r = null);
  },
  _getDirection: function(r, a) {
    return typeof this.options.direction == "function" ? this.options.direction.call(this, r, a, _e) : this.options.direction;
  },
  _onTapStart: function(r) {
    if (!!r.cancelable) {
      var a = this, o = this.el, n = this.options, l = n.preventOnFilter, f = r.type, d = r.touches && r.touches[0] || r.pointerType && r.pointerType === "touch" && r, c = (d || r).target, h2 = r.target.shadowRoot && (r.path && r.path[0] || r.composedPath && r.composedPath()[0]) || c, m = n.filter;
      if (Ey(o), !_e && !(/mousedown|pointerdown/.test(f) && r.button !== 0 || n.disabled) && !h2.isContentEditable && !(!this.nativeDraggable && To && c && c.tagName.toUpperCase() === "SELECT") && (c = ei(c, n.draggable, o, false), !(c && c.animated) && Fa !== c)) {
        if (Nr = Pn(c), Ro = Pn(c, n.draggable), typeof m == "function") {
          if (m.call(this, r, c, this)) {
            cn({
              sortable: a,
              rootEl: h2,
              name: "filter",
              targetEl: c,
              toEl: o,
              fromEl: o
            }), bn("filter", a, {
              evt: r
            }), l && r.cancelable && r.preventDefault();
            return;
          }
        } else if (m && (m = m.split(",").some(function(g) {
          if (g = ei(h2, g.trim(), o, false), g)
            return cn({
              sortable: a,
              rootEl: g,
              name: "filter",
              targetEl: c,
              fromEl: o,
              toEl: o
            }), bn("filter", a, {
              evt: r
            }), true;
        }), m)) {
          l && r.cancelable && r.preventDefault();
          return;
        }
        n.handle && !ei(h2, n.handle, o, false) || this._prepareDragStart(r, d, c);
      }
    }
  },
  _prepareDragStart: function(r, a, o) {
    var n = this, l = n.el, f = n.options, d = l.ownerDocument, c;
    if (o && !_e && o.parentNode === l) {
      var h2 = Qt(o);
      if (_t = l, _e = o, It = _e.parentNode, Ji = _e.nextSibling, Fa = o, wa = f.group, Qe.dragged = _e, Yi = {
        target: _e,
        clientX: (a || r).clientX,
        clientY: (a || r).clientY
      }, tc = Yi.clientX - h2.left, nc = Yi.clientY - h2.top, this._lastX = (a || r).clientX, this._lastY = (a || r).clientY, _e.style["will-change"] = "all", c = function() {
        if (bn("delayEnded", n, {
          evt: r
        }), Qe.eventCanceled) {
          n._onDrop();
          return;
        }
        n._disableDelayedDragEvents(), !Jd && n.nativeDraggable && (_e.draggable = true), n._triggerDragStart(r, a), cn({
          sortable: n,
          name: "choose",
          originalEvent: r
        }), xn(_e, f.chosenClass, true);
      }, f.ignore.split(",").forEach(function(m) {
        rp(_e, m.trim(), Ls);
      }), mt(d, "dragover", Xi), mt(d, "mousemove", Xi), mt(d, "touchmove", Xi), mt(d, "mouseup", n._onDrop), mt(d, "touchend", n._onDrop), mt(d, "touchcancel", n._onDrop), Jd && this.nativeDraggable && (this.options.touchStartThreshold = 4, _e.draggable = true), bn("delayStart", this, {
        evt: r
      }), f.delay && (!f.delayOnTouchOnly || a) && (!this.nativeDraggable || !(Fo || gi))) {
        if (Qe.eventCanceled) {
          this._onDrop();
          return;
        }
        mt(d, "mouseup", n._disableDelayedDrag), mt(d, "touchend", n._disableDelayedDrag), mt(d, "touchcancel", n._disableDelayedDrag), mt(d, "mousemove", n._delayedDragTouchMoveHandler), mt(d, "touchmove", n._delayedDragTouchMoveHandler), f.supportPointer && mt(d, "pointermove", n._delayedDragTouchMoveHandler), n._dragStartTimer = setTimeout(c, f.delay);
      } else
        c();
    }
  },
  _delayedDragTouchMoveHandler: function(r) {
    var a = r.touches ? r.touches[0] : r;
    Math.max(Math.abs(a.clientX - this._lastX), Math.abs(a.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1)) && this._disableDelayedDrag();
  },
  _disableDelayedDrag: function() {
    _e && Ls(_e), clearTimeout(this._dragStartTimer), this._disableDelayedDragEvents();
  },
  _disableDelayedDragEvents: function() {
    var r = this.el.ownerDocument;
    dt(r, "mouseup", this._disableDelayedDrag), dt(r, "touchend", this._disableDelayedDrag), dt(r, "touchcancel", this._disableDelayedDrag), dt(r, "mousemove", this._delayedDragTouchMoveHandler), dt(r, "touchmove", this._delayedDragTouchMoveHandler), dt(r, "pointermove", this._delayedDragTouchMoveHandler);
  },
  _triggerDragStart: function(r, a) {
    a = a || r.pointerType == "touch" && r, !this.nativeDraggable || a ? this.options.supportPointer ? mt(document, "pointermove", this._onTouchMove) : a ? mt(document, "touchmove", this._onTouchMove) : mt(document, "mousemove", this._onTouchMove) : (mt(_e, "dragend", this), mt(_t, "dragstart", this._onDragStart));
    try {
      document.selection ? Ba(function() {
        document.selection.empty();
      }) : window.getSelection().removeAllRanges();
    } catch {
    }
  },
  _dragStarted: function(r, a) {
    if (Mr = false, _t && _e) {
      bn("dragStarted", this, {
        evt: a
      }), this.nativeDraggable && mt(document, "dragover", my);
      var o = this.options;
      !r && xn(_e, o.dragClass, false), xn(_e, o.ghostClass, true), Qe.active = this, r && this._appendGhost(), cn({
        sortable: this,
        name: "start",
        originalEvent: a
      });
    } else
      this._nulling();
  },
  _emulateDragOver: function() {
    if (Hn) {
      this._lastX = Hn.clientX, this._lastY = Hn.clientY, dp();
      for (var r = document.elementFromPoint(Hn.clientX, Hn.clientY), a = r; r && r.shadowRoot && (r = r.shadowRoot.elementFromPoint(Hn.clientX, Hn.clientY), r !== a); )
        a = r;
      if (_e.parentNode[_n]._isOutsideThisEl(r), a)
        do {
          if (a[_n]) {
            var o = void 0;
            if (o = a[_n]._onDragOver({
              clientX: Hn.clientX,
              clientY: Hn.clientY,
              target: r,
              rootEl: a
            }), o && !this.options.dragoverBubble)
              break;
          }
          r = a;
        } while (a = a.parentNode);
      cp();
    }
  },
  _onTouchMove: function(r) {
    if (Yi) {
      var a = this.options, o = a.fallbackTolerance, n = a.fallbackOffset, l = r.touches ? r.touches[0] : r, f = et && Lr(et, true), d = et && f && f.a, c = et && f && f.d, h2 = Sa && rn && ec(rn), m = (l.clientX - Yi.clientX + n.x) / (d || 1) + (h2 ? h2[0] - Ns[0] : 0) / (d || 1), g = (l.clientY - Yi.clientY + n.y) / (c || 1) + (h2 ? h2[1] - Ns[1] : 0) / (c || 1);
      if (!Qe.active && !Mr) {
        if (o && Math.max(Math.abs(l.clientX - this._lastX), Math.abs(l.clientY - this._lastY)) < o)
          return;
        this._onDragStart(r, true);
      }
      if (et) {
        f ? (f.e += m - (Ms || 0), f.f += g - (Ps || 0)) : f = {
          a: 1,
          b: 0,
          c: 0,
          d: 1,
          e: m,
          f: g
        };
        var w = "matrix(".concat(f.a, ",").concat(f.b, ",").concat(f.c, ",").concat(f.d, ",").concat(f.e, ",").concat(f.f, ")");
        Ge(et, "webkitTransform", w), Ge(et, "mozTransform", w), Ge(et, "msTransform", w), Ge(et, "transform", w), Ms = m, Ps = g, Hn = l;
      }
      r.cancelable && r.preventDefault();
    }
  },
  _appendGhost: function() {
    if (!et) {
      var r = this.options.fallbackOnBody ? document.body : _t, a = Qt(_e, true, Sa, true, r), o = this.options;
      if (Sa) {
        for (rn = r; Ge(rn, "position") === "static" && Ge(rn, "transform") === "none" && rn !== document; )
          rn = rn.parentNode;
        rn !== document.body && rn !== document.documentElement ? (rn === document && (rn = ti()), a.top += rn.scrollTop, a.left += rn.scrollLeft) : rn = ti(), Ns = ec(rn);
      }
      et = _e.cloneNode(true), xn(et, o.ghostClass, false), xn(et, o.fallbackClass, true), xn(et, o.dragClass, true), Ge(et, "transition", ""), Ge(et, "transform", ""), Ge(et, "box-sizing", "border-box"), Ge(et, "margin", 0), Ge(et, "top", a.top), Ge(et, "left", a.left), Ge(et, "width", a.width), Ge(et, "height", a.height), Ge(et, "opacity", "0.8"), Ge(et, "position", Sa ? "absolute" : "fixed"), Ge(et, "zIndex", "100000"), Ge(et, "pointerEvents", "none"), Qe.ghost = et, r.appendChild(et), Ge(et, "transform-origin", tc / parseInt(et.style.width) * 100 + "% " + nc / parseInt(et.style.height) * 100 + "%");
    }
  },
  _onDragStart: function(r, a) {
    var o = this, n = r.dataTransfer, l = o.options;
    if (bn("dragStart", this, {
      evt: r
    }), Qe.eventCanceled) {
      this._onDrop();
      return;
    }
    bn("setupClone", this), Qe.eventCanceled || (Mt = lp(_e), Mt.draggable = false, Mt.style["will-change"] = "", this._hideClone(), xn(Mt, this.options.chosenClass, false), Qe.clone = Mt), o.cloneId = Ba(function() {
      bn("clone", o), !Qe.eventCanceled && (o.options.removeCloneOnHide || _t.insertBefore(Mt, _e), o._hideClone(), cn({
        sortable: o,
        name: "clone"
      }));
    }), !a && xn(_e, l.dragClass, true), a ? (Va = true, o._loopId = setInterval(o._emulateDragOver, 50)) : (dt(document, "mouseup", o._onDrop), dt(document, "touchend", o._onDrop), dt(document, "touchcancel", o._onDrop), n && (n.effectAllowed = "move", l.setData && l.setData.call(o, n, _e)), mt(document, "drop", o), Ge(_e, "transform", "translateZ(0)")), Mr = true, o._dragStartId = Ba(o._dragStarted.bind(o, a, r)), mt(document, "selectstart", o), wo = true, To && Ge(document.body, "user-select", "none");
  },
  _onDragOver: function(r) {
    var a = this.el, o = r.target, n, l, f, d = this.options, c = d.group, h2 = Qe.active, m = wa === c, g = d.sort, w = en || h2, R, A = this, E = false;
    if (su)
      return;
    function b(J, ae) {
      bn(J, A, ni({
        evt: r,
        isOwner: m,
        axis: R ? "vertical" : "horizontal",
        revert: f,
        dragRect: n,
        targetRect: l,
        canSort: g,
        fromSortable: w,
        target: o,
        completed: y,
        onMove: function(V, K) {
          return Ea(_t, a, _e, n, V, Qt(V), r, K);
        },
        changed: T
      }, ae));
    }
    function v() {
      b("dragOverAnimationCapture"), A.captureAnimationState(), A !== w && w.captureAnimationState();
    }
    function y(J) {
      return b("dragOverCompleted", {
        insertion: J
      }), J && (m ? h2._hideClone() : h2._showClone(A), A !== w && (xn(_e, en ? en.options.ghostClass : h2.options.ghostClass, false), xn(_e, d.ghostClass, true)), en !== A && A !== Qe.active ? en = A : A === Qe.active && en && (en = null), w === A && (A._ignoreWhileAnimating = o), A.animateAll(function() {
        b("dragOverAnimationComplete"), A._ignoreWhileAnimating = null;
      }), A !== w && (w.animateAll(), w._ignoreWhileAnimating = null)), (o === _e && !_e.animated || o === a && !o.animated) && (_r = null), !d.dragoverBubble && !r.rootEl && o !== document && (_e.parentNode[_n]._isOutsideThisEl(r.target), !J && Xi(r)), !d.dragoverBubble && r.stopPropagation && r.stopPropagation(), E = true;
    }
    function T() {
      Tn = Pn(_e), Pi = Pn(_e, d.draggable), cn({
        sortable: A,
        name: "change",
        toEl: a,
        newIndex: Tn,
        newDraggableIndex: Pi,
        originalEvent: r
      });
    }
    if (r.preventDefault !== void 0 && r.cancelable && r.preventDefault(), o = ei(o, d.draggable, a, true), b("dragOver"), Qe.eventCanceled)
      return E;
    if (_e.contains(r.target) || o.animated && o.animatingX && o.animatingY || A._ignoreWhileAnimating === o)
      return y(false);
    if (Va = false, h2 && !d.disabled && (m ? g || (f = It !== _t) : en === this || (this.lastPutMode = wa.checkPull(this, h2, _e, r)) && c.checkPut(this, h2, _e, r))) {
      if (R = this._getDirection(r, o) === "vertical", n = Qt(_e), b("dragOverValid"), Qe.eventCanceled)
        return E;
      if (f)
        return It = _t, v(), this._hideClone(), b("revert"), Qe.eventCanceled || (Ji ? _t.insertBefore(_e, Ji) : _t.appendChild(_e)), y(true);
      var x = vu(a, d.draggable);
      if (!x || Ay(r, R, this) && !x.animated) {
        if (x === _e)
          return y(false);
        if (x && a === r.target && (o = x), o && (l = Qt(o)), Ea(_t, a, _e, n, o, l, r, !!o) !== false)
          return v(), a.appendChild(_e), It = a, T(), y(true);
      } else if (x && by(r, R, this)) {
        var D = kr(a, 0, d, true);
        if (D === _e)
          return y(false);
        if (o = D, l = Qt(o), Ea(_t, a, _e, n, o, l, r, false) !== false)
          return v(), a.insertBefore(_e, D), It = a, T(), y(true);
      } else if (o.parentNode === a) {
        l = Qt(o);
        var I = 0, N, C = _e.parentNode !== a, B = !hy(_e.animated && _e.toRect || n, o.animated && o.toRect || l, R), O = R ? "top" : "left", S = qd(o, "top", "top") || qd(_e, "top", "top"), F = S ? S.scrollTop : void 0;
        _r !== o && (N = l[O], Do = false, Ca = !B && d.invertSwap || C), I = wy(r, o, l, R, B ? 1 : d.swapThreshold, d.invertedSwapThreshold == null ? d.swapThreshold : d.invertedSwapThreshold, Ca, _r === o);
        var $;
        if (I !== 0) {
          var U = Pn(_e);
          do
            U -= I, $ = It.children[U];
          while ($ && (Ge($, "display") === "none" || $ === et));
        }
        if (I === 0 || $ === o)
          return y(false);
        _r = o, Oo = I;
        var L = o.nextElementSibling, z = false;
        z = I === 1;
        var Q = Ea(_t, a, _e, n, o, l, r, z);
        if (Q !== false)
          return (Q === 1 || Q === -1) && (z = Q === 1), su = true, setTimeout(yy, 30), v(), z && !L ? a.appendChild(_e) : o.parentNode.insertBefore(_e, z ? L : o), S && ap(S, 0, F - S.scrollTop), It = _e.parentNode, N !== void 0 && !Ca && (ka = Math.abs(N - Qt(o)[O])), T(), y(true);
      }
      if (a.contains(_e))
        return y(false);
    }
    return false;
  },
  _ignoreWhileAnimating: null,
  _offMoveEvents: function() {
    dt(document, "mousemove", this._onTouchMove), dt(document, "touchmove", this._onTouchMove), dt(document, "pointermove", this._onTouchMove), dt(document, "dragover", Xi), dt(document, "mousemove", Xi), dt(document, "touchmove", Xi);
  },
  _offUpEvents: function() {
    var r = this.el.ownerDocument;
    dt(r, "mouseup", this._onDrop), dt(r, "touchend", this._onDrop), dt(r, "pointerup", this._onDrop), dt(r, "touchcancel", this._onDrop), dt(document, "selectstart", this);
  },
  _onDrop: function(r) {
    var a = this.el, o = this.options;
    if (Tn = Pn(_e), Pi = Pn(_e, o.draggable), bn("drop", this, {
      evt: r
    }), It = _e && _e.parentNode, Tn = Pn(_e), Pi = Pn(_e, o.draggable), Qe.eventCanceled) {
      this._nulling();
      return;
    }
    Mr = false, Ca = false, Do = false, clearInterval(this._loopId), clearTimeout(this._dragStartTimer), uu(this.cloneId), uu(this._dragStartId), this.nativeDraggable && (dt(document, "drop", this), dt(a, "dragstart", this._onDragStart)), this._offMoveEvents(), this._offUpEvents(), To && Ge(document.body, "user-select", ""), Ge(_e, "transform", ""), r && (wo && (r.cancelable && r.preventDefault(), !o.dropBubble && r.stopPropagation()), et && et.parentNode && et.parentNode.removeChild(et), (_t === It || en && en.lastPutMode !== "clone") && Mt && Mt.parentNode && Mt.parentNode.removeChild(Mt), _e && (this.nativeDraggable && dt(_e, "dragend", this), Ls(_e), _e.style["will-change"] = "", wo && !Mr && xn(_e, en ? en.options.ghostClass : this.options.ghostClass, false), xn(_e, this.options.chosenClass, false), cn({
      sortable: this,
      name: "unchoose",
      toEl: It,
      newIndex: null,
      newDraggableIndex: null,
      originalEvent: r
    }), _t !== It ? (Tn >= 0 && (cn({
      rootEl: It,
      name: "add",
      toEl: It,
      fromEl: _t,
      originalEvent: r
    }), cn({
      sortable: this,
      name: "remove",
      toEl: It,
      originalEvent: r
    }), cn({
      rootEl: It,
      name: "sort",
      toEl: It,
      fromEl: _t,
      originalEvent: r
    }), cn({
      sortable: this,
      name: "sort",
      toEl: It,
      originalEvent: r
    })), en && en.save()) : Tn !== Nr && Tn >= 0 && (cn({
      sortable: this,
      name: "update",
      toEl: It,
      originalEvent: r
    }), cn({
      sortable: this,
      name: "sort",
      toEl: It,
      originalEvent: r
    })), Qe.active && ((Tn == null || Tn === -1) && (Tn = Nr, Pi = Ro), cn({
      sortable: this,
      name: "end",
      toEl: It,
      originalEvent: r
    }), this.save()))), this._nulling();
  },
  _nulling: function() {
    bn("nulling", this), _t = _e = It = et = Ji = Mt = Fa = Ni = Yi = Hn = wo = Tn = Pi = Nr = Ro = _r = Oo = en = wa = Qe.dragged = Qe.ghost = Qe.clone = Qe.active = null, za.forEach(function(r) {
      r.checked = true;
    }), za.length = Ms = Ps = 0;
  },
  handleEvent: function(r) {
    switch (r.type) {
      case "drop":
      case "dragend":
        this._onDrop(r);
        break;
      case "dragenter":
      case "dragover":
        _e && (this._onDragOver(r), gy(r));
        break;
      case "selectstart":
        r.preventDefault();
        break;
    }
  },
  toArray: function() {
    for (var r = [], a, o = this.el.children, n = 0, l = o.length, f = this.options; n < l; n++)
      a = o[n], ei(a, f.draggable, this.el, false) && r.push(a.getAttribute(f.dataIdAttr) || Sy(a));
    return r;
  },
  sort: function(r, a) {
    var o = {}, n = this.el;
    this.toArray().forEach(function(l, f) {
      var d = n.children[f];
      ei(d, this.options.draggable, n, false) && (o[l] = d);
    }, this), a && this.captureAnimationState(), r.forEach(function(l) {
      o[l] && (n.removeChild(o[l]), n.appendChild(o[l]));
    }), a && this.animateAll();
  },
  save: function() {
    var r = this.options.store;
    r && r.set && r.set(this);
  },
  closest: function(r, a) {
    return ei(r, a || this.options.draggable, this.el, false);
  },
  option: function(r, a) {
    var o = this.options;
    if (a === void 0)
      return o[r];
    var n = ko.modifyOption(this, r, a);
    typeof n < "u" ? o[r] = n : o[r] = a, r === "group" && fp(o);
  },
  destroy: function() {
    bn("destroy", this);
    var r = this.el;
    r[_n] = null, dt(r, "mousedown", this._onTapStart), dt(r, "touchstart", this._onTapStart), dt(r, "pointerdown", this._onTapStart), this.nativeDraggable && (dt(r, "dragover", this), dt(r, "dragenter", this)), Array.prototype.forEach.call(r.querySelectorAll("[draggable]"), function(a) {
      a.removeAttribute("draggable");
    }), this._onDrop(), this._disableDelayedDragEvents(), ja.splice(ja.indexOf(this.el), 1), this.el = r = null;
  },
  _hideClone: function() {
    if (!Ni) {
      if (bn("hideClone", this), Qe.eventCanceled)
        return;
      Ge(Mt, "display", "none"), this.options.removeCloneOnHide && Mt.parentNode && Mt.parentNode.removeChild(Mt), Ni = true;
    }
  },
  _showClone: function(r) {
    if (r.lastPutMode !== "clone") {
      this._hideClone();
      return;
    }
    if (Ni) {
      if (bn("showClone", this), Qe.eventCanceled)
        return;
      _e.parentNode == _t && !this.options.group.revertClone ? _t.insertBefore(Mt, _e) : Ji ? _t.insertBefore(Mt, Ji) : _t.appendChild(Mt), this.options.group.revertClone && this.animate(_e, Mt), Ge(Mt, "display", ""), Ni = false;
    }
  }
};
function gy(t3) {
  t3.dataTransfer && (t3.dataTransfer.dropEffect = "move"), t3.cancelable && t3.preventDefault();
}
function Ea(t3, r, a, o, n, l, f, d) {
  var c, h2 = t3[_n], m = h2.options.onMove, g;
  return window.CustomEvent && !gi && !Fo ? c = new CustomEvent("move", {
    bubbles: true,
    cancelable: true
  }) : (c = document.createEvent("Event"), c.initEvent("move", true, true)), c.to = r, c.from = t3, c.dragged = a, c.draggedRect = o, c.related = n || r, c.relatedRect = l || Qt(r), c.willInsertAfter = d, c.originalEvent = f, t3.dispatchEvent(c), m && (g = m.call(h2, c, f)), g;
}
function Ls(t3) {
  t3.draggable = false;
}
function yy() {
  su = false;
}
function by(t3, r, a) {
  var o = Qt(kr(a.el, 0, a.options, true)), n = 10;
  return r ? t3.clientX < o.left - n || t3.clientY < o.top && t3.clientX < o.right : t3.clientY < o.top - n || t3.clientY < o.bottom && t3.clientX < o.left;
}
function Ay(t3, r, a) {
  var o = Qt(vu(a.el, a.options.draggable)), n = 10;
  return r ? t3.clientX > o.right + n || t3.clientX <= o.right && t3.clientY > o.bottom && t3.clientX >= o.left : t3.clientX > o.right && t3.clientY > o.top || t3.clientX <= o.right && t3.clientY > o.bottom + n;
}
function wy(t3, r, a, o, n, l, f, d) {
  var c = o ? t3.clientY : t3.clientX, h2 = o ? a.height : a.width, m = o ? a.top : a.left, g = o ? a.bottom : a.right, w = false;
  if (!f) {
    if (d && ka < h2 * n) {
      if (!Do && (Oo === 1 ? c > m + h2 * l / 2 : c < g - h2 * l / 2) && (Do = true), Do)
        w = true;
      else if (Oo === 1 ? c < m + ka : c > g - ka)
        return -Oo;
    } else if (c > m + h2 * (1 - n) / 2 && c < g - h2 * (1 - n) / 2)
      return Cy(r);
  }
  return w = w || f, w && (c < m + h2 * l / 2 || c > g - h2 * l / 2) ? c > m + h2 / 2 ? 1 : -1 : 0;
}
function Cy(t3) {
  return Pn(_e) < Pn(t3) ? 1 : -1;
}
function Sy(t3) {
  for (var r = t3.tagName + t3.className + t3.src + t3.href + t3.textContent, a = r.length, o = 0; a--; )
    o += r.charCodeAt(a);
  return o.toString(36);
}
function Ey(t3) {
  za.length = 0;
  for (var r = t3.getElementsByTagName("input"), a = r.length; a--; ) {
    var o = r[a];
    o.checked && za.push(o);
  }
}
function Ba(t3) {
  return setTimeout(t3, 0);
}
function uu(t3) {
  return clearTimeout(t3);
}
Xa && mt(document, "touchmove", function(t3) {
  (Qe.active || Mr) && t3.cancelable && t3.preventDefault();
});
Qe.utils = {
  on: mt,
  off: dt,
  css: Ge,
  find: rp,
  is: function(r, a) {
    return !!ei(r, a, r, false);
  },
  extend: ay,
  throttle: op,
  closest: ei,
  toggleClass: xn,
  clone: lp,
  index: Pn,
  nextTick: Ba,
  cancelNextTick: uu,
  detectDirection: up,
  getChild: kr
};
Qe.get = function(t3) {
  return t3[_n];
};
Qe.mount = function() {
  for (var t3 = arguments.length, r = new Array(t3), a = 0; a < t3; a++)
    r[a] = arguments[a];
  r[0].constructor === Array && (r = r[0]), r.forEach(function(o) {
    if (!o.prototype || !o.prototype.constructor)
      throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));
    o.utils && (Qe.utils = ni(ni({}, Qe.utils), o.utils)), ko.mount(o);
  });
};
Qe.create = function(t3, r) {
  return new Qe(t3, r);
};
Qe.version = ny;
var Ht = [];
var Co;
var fu;
var du = false;
var Fs;
var ks;
var Ua;
var So;
function xy() {
  function t3() {
    this.defaults = {
      scroll: true,
      forceAutoScrollFallback: false,
      scrollSensitivity: 30,
      scrollSpeed: 10,
      bubbleScroll: true
    };
    for (var r in this)
      r.charAt(0) === "_" && typeof this[r] == "function" && (this[r] = this[r].bind(this));
  }
  return t3.prototype = {
    dragStarted: function(a) {
      var o = a.originalEvent;
      this.sortable.nativeDraggable ? mt(document, "dragover", this._handleAutoScroll) : this.options.supportPointer ? mt(document, "pointermove", this._handleFallbackAutoScroll) : o.touches ? mt(document, "touchmove", this._handleFallbackAutoScroll) : mt(document, "mousemove", this._handleFallbackAutoScroll);
    },
    dragOverCompleted: function(a) {
      var o = a.originalEvent;
      !this.options.dragOverBubble && !o.rootEl && this._handleAutoScroll(o);
    },
    drop: function() {
      this.sortable.nativeDraggable ? dt(document, "dragover", this._handleAutoScroll) : (dt(document, "pointermove", this._handleFallbackAutoScroll), dt(document, "touchmove", this._handleFallbackAutoScroll), dt(document, "mousemove", this._handleFallbackAutoScroll)), rc(), $a(), ly();
    },
    nulling: function() {
      Ua = fu = Co = du = So = Fs = ks = null, Ht.length = 0;
    },
    _handleFallbackAutoScroll: function(a) {
      this._handleAutoScroll(a, true);
    },
    _handleAutoScroll: function(a, o) {
      var n = this, l = (a.touches ? a.touches[0] : a).clientX, f = (a.touches ? a.touches[0] : a).clientY, d = document.elementFromPoint(l, f);
      if (Ua = a, o || this.options.forceAutoScrollFallback || Fo || gi || To) {
        Bs(a, this.options, d, o);
        var c = Fi(d, true);
        du && (!So || l !== Fs || f !== ks) && (So && rc(), So = setInterval(function() {
          var h2 = Fi(document.elementFromPoint(l, f), true);
          h2 !== c && (c = h2, $a()), Bs(a, n.options, h2, o);
        }, 10), Fs = l, ks = f);
      } else {
        if (!this.options.bubbleScroll || Fi(d, true) === ti()) {
          $a();
          return;
        }
        Bs(a, this.options, Fi(d, false), false);
      }
    }
  }, mi(t3, {
    pluginName: "scroll",
    initializeByDefault: true
  });
}
function $a() {
  Ht.forEach(function(t3) {
    clearInterval(t3.pid);
  }), Ht = [];
}
function rc() {
  clearInterval(So);
}
var Bs = op(function(t3, r, a, o) {
  if (!!r.scroll) {
    var n = (t3.touches ? t3.touches[0] : t3).clientX, l = (t3.touches ? t3.touches[0] : t3).clientY, f = r.scrollSensitivity, d = r.scrollSpeed, c = ti(), h2 = false, m;
    fu !== a && (fu = a, $a(), Co = r.scroll, m = r.scrollFn, Co === true && (Co = Fi(a, true)));
    var g = 0, w = Co;
    do {
      var R = w, A = Qt(R), E = A.top, b = A.bottom, v = A.left, y = A.right, T = A.width, x = A.height, D = void 0, I = void 0, N = R.scrollWidth, C = R.scrollHeight, B = Ge(R), O = R.scrollLeft, S = R.scrollTop;
      R === c ? (D = T < N && (B.overflowX === "auto" || B.overflowX === "scroll" || B.overflowX === "visible"), I = x < C && (B.overflowY === "auto" || B.overflowY === "scroll" || B.overflowY === "visible")) : (D = T < N && (B.overflowX === "auto" || B.overflowX === "scroll"), I = x < C && (B.overflowY === "auto" || B.overflowY === "scroll"));
      var F = D && (Math.abs(y - n) <= f && O + T < N) - (Math.abs(v - n) <= f && !!O), $ = I && (Math.abs(b - l) <= f && S + x < C) - (Math.abs(E - l) <= f && !!S);
      if (!Ht[g])
        for (var U = 0; U <= g; U++)
          Ht[U] || (Ht[U] = {});
      (Ht[g].vx != F || Ht[g].vy != $ || Ht[g].el !== R) && (Ht[g].el = R, Ht[g].vx = F, Ht[g].vy = $, clearInterval(Ht[g].pid), (F != 0 || $ != 0) && (h2 = true, Ht[g].pid = setInterval((function() {
        o && this.layer === 0 && Qe.active._onTouchMove(Ua);
        var L = Ht[this.layer].vy ? Ht[this.layer].vy * d : 0, z = Ht[this.layer].vx ? Ht[this.layer].vx * d : 0;
        typeof m == "function" && m.call(Qe.dragged.parentNode[_n], z, L, t3, Ua, Ht[this.layer].el) !== "continue" || ap(Ht[this.layer].el, z, L);
      }).bind({
        layer: g
      }), 24))), g++;
    } while (r.bubbleScroll && w !== c && (w = Fi(w, false)));
    du = h2;
  }
}, 30);
var pp = function(r) {
  var a = r.originalEvent, o = r.putSortable, n = r.dragEl, l = r.activeSortable, f = r.dispatchSortableEvent, d = r.hideGhostForTarget, c = r.unhideGhostForTarget;
  if (!!a) {
    var h2 = o || l;
    d();
    var m = a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : a, g = document.elementFromPoint(m.clientX, m.clientY);
    c(), h2 && !h2.el.contains(g) && (f("spill"), this.onSpill({
      dragEl: n,
      putSortable: o
    }));
  }
};
function mu() {
}
mu.prototype = {
  startIndex: null,
  dragStart: function(r) {
    var a = r.oldDraggableIndex;
    this.startIndex = a;
  },
  onSpill: function(r) {
    var a = r.dragEl, o = r.putSortable;
    this.sortable.captureAnimationState(), o && o.captureAnimationState();
    var n = kr(this.sortable.el, this.startIndex, this.options);
    n ? this.sortable.el.insertBefore(a, n) : this.sortable.el.appendChild(a), this.sortable.animateAll(), o && o.animateAll();
  },
  drop: pp
};
mi(mu, {
  pluginName: "revertOnSpill"
});
function gu() {
}
gu.prototype = {
  onSpill: function(r) {
    var a = r.dragEl, o = r.putSortable, n = o || this.sortable;
    n.captureAnimationState(), a.parentNode && a.parentNode.removeChild(a), n.animateAll();
  },
  drop: pp
};
mi(gu, {
  pluginName: "removeOnSpill"
});
Qe.mount(new xy());
Qe.mount(gu, mu);
function $s(t3) {
  t3.parentElement !== null && t3.parentElement.removeChild(t3);
}
function oc(t3, r, a) {
  const o = a === 0 ? t3.children[0] : t3.children[a - 1].nextSibling;
  t3.insertBefore(r, o);
}
function Ty() {
  return typeof window < "u" ? window.console : global.console;
}
var _y = Ty();
function Ry(t3) {
  const r = /* @__PURE__ */ Object.create(null);
  return function(o) {
    return r[o] || (r[o] = t3(o));
  };
}
var Oy = /-(\w)/g;
var Dy = Ry((t3) => t3.replace(Oy, (r, a) => a.toUpperCase()));
var hp = ["Start", "Add", "Remove", "Update", "End"];
var vp = ["Choose", "Unchoose", "Sort", "Filter", "Clone"];
var mp = ["Move"];
var Iy = [mp, hp, vp].flatMap((t3) => t3).map((t3) => `on${t3}`);
var cu = {
  manage: mp,
  manageAndEmit: hp,
  emit: vp
};
function My(t3) {
  return Iy.indexOf(t3) !== -1;
}
var Py = [
  "a",
  "abbr",
  "address",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "bdi",
  "bdo",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "cite",
  "code",
  "col",
  "colgroup",
  "data",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "footer",
  "form",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "head",
  "header",
  "hgroup",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "math",
  "menu",
  "menuitem",
  "meta",
  "meter",
  "nav",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "picture",
  "pre",
  "progress",
  "q",
  "rb",
  "rp",
  "rt",
  "rtc",
  "ruby",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "slot",
  "small",
  "source",
  "span",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "svg",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "track",
  "u",
  "ul",
  "var",
  "video",
  "wbr"
];
function Ny(t3) {
  return Py.includes(t3);
}
function Ly(t3) {
  return ["transition-group", "TransitionGroup"].includes(t3);
}
function gp(t3) {
  return ["id", "class", "role", "style"].includes(t3) || t3.startsWith("data-") || t3.startsWith("aria-") || t3.startsWith("on");
}
function yp(t3) {
  return t3.reduce((r, [a, o]) => (r[a] = o, r), {});
}
function Fy({ $attrs: t3, componentData: r = {} }) {
  return {
    ...yp(
      Object.entries(t3).filter(([o, n]) => gp(o))
    ),
    ...r
  };
}
function ky({ $attrs: t3, callBackBuilder: r }) {
  const a = yp(bp(t3));
  Object.entries(r).forEach(([n, l]) => {
    cu[n].forEach((f) => {
      a[`on${f}`] = l(f);
    });
  });
  const o = `[data-draggable]${a.draggable || ""}`;
  return {
    ...a,
    draggable: o
  };
}
function bp(t3) {
  return Object.entries(t3).filter(([r, a]) => !gp(r)).map(([r, a]) => [Dy(r), a]).filter(([r, a]) => !My(r));
}
var ac = ({ el: t3 }) => t3;
var By = (t3, r) => t3.__draggable_context = r;
var lc = (t3) => t3.__draggable_context;
var $y = class {
  constructor({
    nodes: { header: r, default: a, footer: o },
    root: n,
    realList: l
  }) {
    this.defaultNodes = a, this.children = [...r, ...a, ...o], this.externalComponent = n.externalComponent, this.rootTransition = n.transition, this.tag = n.tag, this.realList = l;
  }
  get _isRootComponent() {
    return this.externalComponent || this.rootTransition;
  }
  render(r, a) {
    const { tag: o, children: n, _isRootComponent: l } = this;
    return r(o, a, l ? { default: () => n } : n);
  }
  updated() {
    const { defaultNodes: r, realList: a } = this;
    r.forEach((o, n) => {
      By(ac(o), {
        element: a[n],
        index: n
      });
    });
  }
  getUnderlyingVm(r) {
    return lc(r);
  }
  getVmIndexFromDomIndex(r, a) {
    const { defaultNodes: o } = this, { length: n } = o, l = a.children, f = l.item(r);
    if (f === null)
      return n;
    const d = lc(f);
    if (d)
      return d.index;
    if (n === 0)
      return 0;
    const c = ac(o[0]), h2 = [...l].findIndex(
      (m) => m === c
    );
    return r < h2 ? 0 : n;
  }
};
function Hy(t3, r) {
  const a = t3[r];
  return a ? a() : [];
}
function Vy({ $slots: t3, realList: r, getKey: a }) {
  const o = r || [], [n, l] = ["header", "footer"].map(
    (c) => Hy(t3, c)
  ), { item: f } = t3;
  if (!f)
    throw new Error("draggable element must have an item slot");
  const d = o.flatMap(
    (c, h2) => f({ element: c, index: h2 }).map((m) => (m.key = a(c), m.props = { ...m.props || {}, "data-draggable": true }, m))
  );
  if (d.length !== o.length)
    throw new Error("Item slot must have only one child");
  return {
    header: n,
    footer: l,
    default: d
  };
}
function jy(t3) {
  const r = Ly(t3), a = !Ny(t3) && !r;
  return {
    transition: r,
    externalComponent: a,
    tag: a ? resolveComponent(t3) : r ? TransitionGroup : t3
  };
}
function zy({ $slots: t3, tag: r, realList: a, getKey: o }) {
  const n = Vy({ $slots: t3, realList: a, getKey: o }), l = jy(r);
  return new $y({ nodes: n, root: l, realList: a });
}
function Ap(t3, r) {
  nextTick(() => this.$emit(t3.toLowerCase(), r));
}
function wp(t3) {
  return (r, a) => {
    if (this.realList !== null)
      return this[`onDrag${t3}`](r, a);
  };
}
function Uy(t3) {
  const r = wp.call(this, t3);
  return (a, o) => {
    r.call(this, a, o), Ap.call(this, t3, a);
  };
}
var Hs = null;
var Wy = {
  list: {
    type: Array,
    required: false,
    default: null
  },
  modelValue: {
    type: Array,
    required: false,
    default: null
  },
  itemKey: {
    type: [String, Function],
    required: true
  },
  clone: {
    type: Function,
    default: (t3) => t3
  },
  tag: {
    type: String,
    default: "div"
  },
  move: {
    type: Function,
    default: null
  },
  componentData: {
    type: Object,
    required: false,
    default: null
  }
};
var Ky = [
  "update:modelValue",
  "change",
  ...[...cu.manageAndEmit, ...cu.emit].map((t3) => t3.toLowerCase())
];
var yu = defineComponent({
  name: "draggable",
  inheritAttrs: false,
  props: Wy,
  emits: Ky,
  data() {
    return {
      error: false
    };
  },
  render() {
    try {
      this.error = false;
      const { $slots: t3, $attrs: r, tag: a, componentData: o, realList: n, getKey: l } = this, f = zy({
        $slots: t3,
        tag: a,
        realList: n,
        getKey: l
      });
      this.componentStructure = f;
      const d = Fy({ $attrs: r, componentData: o });
      return f.render(h, d);
    } catch (t3) {
      return this.error = true, h("pre", { style: { color: "red" } }, t3.stack);
    }
  },
  created() {
    this.list !== null && this.modelValue !== null && _y.error(
      "modelValue and list props are mutually exclusive! Please set one or another."
    );
  },
  mounted() {
    if (this.error)
      return;
    const { $attrs: t3, $el: r, componentStructure: a } = this;
    a.updated();
    const o = ky({
      $attrs: t3,
      callBackBuilder: {
        manageAndEmit: (l) => Uy.call(this, l),
        emit: (l) => Ap.bind(this, l),
        manage: (l) => wp.call(this, l)
      }
    }), n = r.nodeType === 1 ? r : r.parentElement;
    this._sortable = new Qe(n, o), this.targetDomElement = n, n.__draggable_component__ = this;
  },
  updated() {
    this.componentStructure.updated();
  },
  beforeUnmount() {
    this._sortable !== void 0 && this._sortable.destroy();
  },
  computed: {
    realList() {
      const { list: t3 } = this;
      return t3 || this.modelValue;
    },
    getKey() {
      const { itemKey: t3 } = this;
      return typeof t3 == "function" ? t3 : (r) => r[t3];
    }
  },
  watch: {
    $attrs: {
      handler(t3) {
        const { _sortable: r } = this;
        !r || bp(t3).forEach(([a, o]) => {
          r.option(a, o);
        });
      },
      deep: true
    }
  },
  methods: {
    getUnderlyingVm(t3) {
      return this.componentStructure.getUnderlyingVm(t3) || null;
    },
    getUnderlyingPotencialDraggableComponent(t3) {
      return t3.__draggable_component__;
    },
    emitChanges(t3) {
      nextTick(() => this.$emit("change", t3));
    },
    alterList(t3) {
      if (this.list) {
        t3(this.list);
        return;
      }
      const r = [...this.modelValue];
      t3(r), this.$emit("update:modelValue", r);
    },
    spliceList() {
      const t3 = (r) => r.splice(...arguments);
      this.alterList(t3);
    },
    updatePosition(t3, r) {
      const a = (o) => o.splice(r, 0, o.splice(t3, 1)[0]);
      this.alterList(a);
    },
    getRelatedContextFromMoveEvent({ to: t3, related: r }) {
      const a = this.getUnderlyingPotencialDraggableComponent(t3);
      if (!a)
        return { component: a };
      const o = a.realList, n = { list: o, component: a };
      return t3 !== r && o ? { ...a.getUnderlyingVm(r) || {}, ...n } : n;
    },
    getVmIndexFromDomIndex(t3) {
      return this.componentStructure.getVmIndexFromDomIndex(
        t3,
        this.targetDomElement
      );
    },
    onDragStart(t3) {
      this.context = this.getUnderlyingVm(t3.item), t3.item._underlying_vm_ = this.clone(this.context.element), Hs = t3.item;
    },
    onDragAdd(t3) {
      const r = t3.item._underlying_vm_;
      if (r === void 0)
        return;
      $s(t3.item);
      const a = this.getVmIndexFromDomIndex(t3.newIndex);
      this.spliceList(a, 0, r);
      const o = { element: r, newIndex: a };
      this.emitChanges({ added: o });
    },
    onDragRemove(t3) {
      if (oc(this.$el, t3.item, t3.oldIndex), t3.pullMode === "clone") {
        $s(t3.clone);
        return;
      }
      const { index: r, element: a } = this.context;
      this.spliceList(r, 1);
      const o = { element: a, oldIndex: r };
      this.emitChanges({ removed: o });
    },
    onDragUpdate(t3) {
      $s(t3.item), oc(t3.from, t3.item, t3.oldIndex);
      const r = this.context.index, a = this.getVmIndexFromDomIndex(t3.newIndex);
      this.updatePosition(r, a);
      const o = { element: this.context.element, oldIndex: r, newIndex: a };
      this.emitChanges({ moved: o });
    },
    computeFutureIndex(t3, r) {
      if (!t3.element)
        return 0;
      const a = [...r.to.children].filter(
        (f) => f.style.display !== "none"
      ), o = a.indexOf(r.related), n = t3.component.getVmIndexFromDomIndex(
        o
      );
      return a.indexOf(Hs) !== -1 || !r.willInsertAfter ? n : n + 1;
    },
    onDragMove(t3, r) {
      const { move: a, realList: o } = this;
      if (!a || !o)
        return true;
      const n = this.getRelatedContextFromMoveEvent(t3), l = this.computeFutureIndex(n, t3), f = {
        ...this.context,
        futureIndex: l
      }, d = {
        ...t3,
        relatedContext: n,
        draggedContext: f
      };
      return a(d, r);
    },
    onDragEnd() {
      Hs = null;
    }
  }
});
function Gy() {
  return [
    {
      name: "main",
      title: "基础组件",
      list: []
    },
    {
      name: "subform",
      title: "子表单组件",
      list: []
    },
    {
      name: "aide",
      title: "辅助组件",
      list: []
    },
    {
      name: "layout",
      title: "布局组件",
      list: []
    }
  ];
}
var Ja = FormCreate;
var Je = FormCreate.factory();
var Cp = null;
var sc = ref(null);
function pu(...t3) {
  return Cp(...t3);
}
var Sp = (t3) => {
  sc.value = t3 || Jc;
  const r = au(sc);
  return Cp = r.t, r;
};
Sp();
var Qy = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
var Vs = { exports: {} };
var uc;
function Za() {
  return uc || (uc = 1, function(t3, r) {
    (function(a, o) {
      t3.exports = o();
    })(Qy, function() {
      var a = navigator.userAgent, o = navigator.platform, n = /gecko\/\d/i.test(a), l = /MSIE \d/.test(a), f = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(a), d = /Edge\/(\d+)/.exec(a), c = l || f || d, h2 = c && (l ? document.documentMode || 6 : +(d || f)[1]), m = !d && /WebKit\//.test(a), g = m && /Qt\/\d+\.\d+/.test(a), w = !d && /Chrome\/(\d+)/.exec(a), R = w && +w[1], A = /Opera\//.test(a), E = /Apple Computer/.test(navigator.vendor), b = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(a), v = /PhantomJS/.test(a), y = E && (/Mobile\/\w+/.test(a) || navigator.maxTouchPoints > 2), T = /Android/.test(a), x = y || T || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(a), D = y || /Mac/.test(o), I = /\bCrOS\b/.test(a), N = /win/i.test(o), C = A && a.match(/Version\/(\d*\.\d*)/);
      C && (C = Number(C[1])), C && C >= 15 && (A = false, m = true);
      var B = D && (g || A && (C == null || C < 12.11)), O = n || c && h2 >= 9;
      function S(e) {
        return new RegExp("(^|\\s)" + e + "(?:$|\\s)\\s*");
      }
      var F = function(e, i) {
        var u = e.className, s = S(i).exec(u);
        if (s) {
          var p = u.slice(s.index + s[0].length);
          e.className = u.slice(0, s.index) + (p ? s[1] + p : "");
        }
      };
      function $(e) {
        for (var i = e.childNodes.length; i > 0; --i)
          e.removeChild(e.firstChild);
        return e;
      }
      function U(e, i) {
        return $(e).appendChild(i);
      }
      function L(e, i, u, s) {
        var p = document.createElement(e);
        if (u && (p.className = u), s && (p.style.cssText = s), typeof i == "string")
          p.appendChild(document.createTextNode(i));
        else if (i)
          for (var _7 = 0; _7 < i.length; ++_7)
            p.appendChild(i[_7]);
        return p;
      }
      function z(e, i, u, s) {
        var p = L(e, i, u, s);
        return p.setAttribute("role", "presentation"), p;
      }
      var Q;
      document.createRange ? Q = function(e, i, u, s) {
        var p = document.createRange();
        return p.setEnd(s || e, u), p.setStart(e, i), p;
      } : Q = function(e, i, u) {
        var s = document.body.createTextRange();
        try {
          s.moveToElementText(e.parentNode);
        } catch {
          return s;
        }
        return s.collapse(true), s.moveEnd("character", u), s.moveStart("character", i), s;
      };
      function J(e, i) {
        if (i.nodeType == 3 && (i = i.parentNode), e.contains)
          return e.contains(i);
        do
          if (i.nodeType == 11 && (i = i.host), i == e)
            return true;
        while (i = i.parentNode);
      }
      function ae(e) {
        var i;
        try {
          i = e.activeElement;
        } catch {
          i = e.body || null;
        }
        for (; i && i.shadowRoot && i.shadowRoot.activeElement; )
          i = i.shadowRoot.activeElement;
        return i;
      }
      function M(e, i) {
        var u = e.className;
        S(i).test(u) || (e.className += (u ? " " : "") + i);
      }
      function V(e, i) {
        for (var u = e.split(" "), s = 0; s < u.length; s++)
          u[s] && !S(u[s]).test(i) && (i += " " + u[s]);
        return i;
      }
      var K = function(e) {
        e.select();
      };
      y ? K = function(e) {
        e.selectionStart = 0, e.selectionEnd = e.value.length;
      } : c && (K = function(e) {
        try {
          e.select();
        } catch {
        }
      });
      function G(e) {
        return e.display.wrapper.ownerDocument;
      }
      function Z(e) {
        return G(e).defaultView;
      }
      function ue(e) {
        var i = Array.prototype.slice.call(arguments, 1);
        return function() {
          return e.apply(null, i);
        };
      }
      function pe(e, i, u) {
        i || (i = {});
        for (var s in e)
          e.hasOwnProperty(s) && (u !== false || !i.hasOwnProperty(s)) && (i[s] = e[s]);
        return i;
      }
      function ce(e, i, u, s, p) {
        i == null && (i = e.search(/[^\s\u00a0]/), i == -1 && (i = e.length));
        for (var _7 = s || 0, P = p || 0; ; ) {
          var k = e.indexOf("	", _7);
          if (k < 0 || k >= i)
            return P + (i - _7);
          P += k - _7, P += u - P % u, _7 = k + 1;
        }
      }
      var fe = function() {
        this.id = null, this.f = null, this.time = 0, this.handler = ue(this.onTimeout, this);
      };
      fe.prototype.onTimeout = function(e) {
        e.id = 0, e.time <= +/* @__PURE__ */ new Date() ? e.f() : setTimeout(e.handler, e.time - +/* @__PURE__ */ new Date());
      }, fe.prototype.set = function(e, i) {
        this.f = i;
        var u = +/* @__PURE__ */ new Date() + e;
        (!this.id || u < this.time) && (clearTimeout(this.id), this.id = setTimeout(this.handler, e), this.time = u);
      };
      function ne(e, i) {
        for (var u = 0; u < e.length; ++u)
          if (e[u] == i)
            return u;
        return -1;
      }
      var be = 50, we = { toString: function() {
        return "CodeMirror.Pass";
      } }, Re = { scroll: false }, Ke = { origin: "*mouse" }, lt = { origin: "+move" };
      function ot(e, i, u) {
        for (var s = 0, p = 0; ; ) {
          var _7 = e.indexOf("	", s);
          _7 == -1 && (_7 = e.length);
          var P = _7 - s;
          if (_7 == e.length || p + P >= i)
            return s + Math.min(P, i - p);
          if (p += _7 - s, p += u - p % u, s = _7 + 1, p >= i)
            return s;
        }
      }
      var Ct = [""];
      function St(e) {
        for (; Ct.length <= e; )
          Ct.push($e(Ct) + " ");
        return Ct[e];
      }
      function $e(e) {
        return e[e.length - 1];
      }
      function bt(e, i) {
        for (var u = [], s = 0; s < e.length; s++)
          u[s] = i(e[s], s);
        return u;
      }
      function hn(e, i, u) {
        for (var s = 0, p = u(i); s < e.length && u(e[s]) <= p; )
          s++;
        e.splice(s, 0, i);
      }
      function Vt() {
      }
      function yi(e, i) {
        var u;
        return Object.create ? u = Object.create(e) : (Vt.prototype = e, u = new Vt()), i && pe(i, u), u;
      }
      var zn = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
      function An(e) {
        return /\w/.test(e) || e > "" && (e.toUpperCase() != e.toLowerCase() || zn.test(e));
      }
      function wn(e, i) {
        return i ? i.source.indexOf("\\w") > -1 && An(e) ? true : i.test(e) : An(e);
      }
      function Un(e) {
        for (var i in e)
          if (e.hasOwnProperty(i) && e[i])
            return false;
        return true;
      }
      var Cn = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
      function Rn(e) {
        return e.charCodeAt(0) >= 768 && Cn.test(e);
      }
      function kt(e, i, u) {
        for (; (u < 0 ? i > 0 : i < e.length) && Rn(e.charAt(i)); )
          i += u;
        return i;
      }
      function ct(e, i, u) {
        for (var s = i > u ? -1 : 1; ; ) {
          if (i == u)
            return i;
          var p = (i + u) / 2, _7 = s < 0 ? Math.ceil(p) : Math.floor(p);
          if (_7 == i)
            return e(_7) ? i : u;
          e(_7) ? u = _7 : i = _7 + s;
        }
      }
      function vn(e, i, u, s) {
        if (!e)
          return s(i, u, "ltr", 0);
        for (var p = false, _7 = 0; _7 < e.length; ++_7) {
          var P = e[_7];
          (P.from < u && P.to > i || i == u && P.to == i) && (s(Math.max(P.from, i), Math.min(P.to, u), P.level == 1 ? "rtl" : "ltr", _7), p = true);
        }
        p || s(i, u, "ltr");
      }
      var rt = null;
      function Ie(e, i, u) {
        var s;
        rt = null;
        for (var p = 0; p < e.length; ++p) {
          var _7 = e[p];
          if (_7.from < i && _7.to > i)
            return p;
          _7.to == i && (_7.from != _7.to && u == "before" ? s = p : rt = p), _7.from == i && (_7.from != _7.to && u != "before" ? s = p : rt = p);
        }
        return s != null ? s : rt;
      }
      var Oe = /* @__PURE__ */ function() {
        var e = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN", i = "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";
        function u(j) {
          return j <= 247 ? e.charAt(j) : 1424 <= j && j <= 1524 ? "R" : 1536 <= j && j <= 1785 ? i.charAt(j - 1536) : 1774 <= j && j <= 2220 ? "r" : 8192 <= j && j <= 8203 ? "w" : j == 8204 ? "b" : "L";
        }
        var s = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, p = /[stwN]/, _7 = /[LRr]/, P = /[Lb1n]/, k = /[1n]/;
        function H(j, Y, q) {
          this.level = j, this.from = Y, this.to = q;
        }
        return function(j, Y) {
          var q = Y == "ltr" ? "L" : "R";
          if (j.length == 0 || Y == "ltr" && !s.test(j))
            return false;
          for (var se = j.length, le = [], ge = 0; ge < se; ++ge)
            le.push(u(j.charCodeAt(ge)));
          for (var Ae = 0, Ce = q; Ae < se; ++Ae) {
            var xe = le[Ae];
            xe == "m" ? le[Ae] = Ce : Ce = xe;
          }
          for (var De = 0, Te = q; De < se; ++De) {
            var Ne = le[De];
            Ne == "1" && Te == "r" ? le[De] = "n" : _7.test(Ne) && (Te = Ne, Ne == "r" && (le[De] = "R"));
          }
          for (var Ve = 1, He = le[0]; Ve < se - 1; ++Ve) {
            var qe = le[Ve];
            qe == "+" && He == "1" && le[Ve + 1] == "1" ? le[Ve] = "1" : qe == "," && He == le[Ve + 1] && (He == "1" || He == "n") && (le[Ve] = He), He = qe;
          }
          for (var At = 0; At < se; ++At) {
            var Wt = le[At];
            if (Wt == ",")
              le[At] = "N";
            else if (Wt == "%") {
              var Tt = void 0;
              for (Tt = At + 1; Tt < se && le[Tt] == "%"; ++Tt)
                ;
              for (var yn = At && le[At - 1] == "!" || Tt < se && le[Tt] == "1" ? "1" : "N", un = At; un < Tt; ++un)
                le[un] = yn;
              At = Tt - 1;
            }
          }
          for (var Nt = 0, fn = q; Nt < se; ++Nt) {
            var Xt = le[Nt];
            fn == "L" && Xt == "1" ? le[Nt] = "L" : _7.test(Xt) && (fn = Xt);
          }
          for (var $t = 0; $t < se; ++$t)
            if (p.test(le[$t])) {
              var Lt = void 0;
              for (Lt = $t + 1; Lt < se && p.test(le[Lt]); ++Lt)
                ;
              for (var Ot = ($t ? le[$t - 1] : q) == "L", dn = (Lt < se ? le[Lt] : q) == "L", Sr = Ot == dn ? Ot ? "L" : "R" : q, Mi = $t; Mi < Lt; ++Mi)
                le[Mi] = Sr;
              $t = Lt - 1;
            }
          for (var qt = [], Jn, Kt = 0; Kt < se; )
            if (P.test(le[Kt])) {
              var Gl = Kt;
              for (++Kt; Kt < se && P.test(le[Kt]); ++Kt)
                ;
              qt.push(new H(0, Gl, Kt));
            } else {
              var ci = Kt, Gi = qt.length, Qi = Y == "rtl" ? 1 : 0;
              for (++Kt; Kt < se && le[Kt] != "L"; ++Kt)
                ;
              for (var nn = ci; nn < Kt; )
                if (k.test(le[nn])) {
                  ci < nn && (qt.splice(Gi, 0, new H(1, ci, nn)), Gi += Qi);
                  var Er = nn;
                  for (++nn; nn < Kt && k.test(le[nn]); ++nn)
                    ;
                  qt.splice(Gi, 0, new H(2, Er, nn)), Gi += Qi, ci = nn;
                } else
                  ++nn;
              ci < Kt && qt.splice(Gi, 0, new H(1, ci, Kt));
            }
          return Y == "ltr" && (qt[0].level == 1 && (Jn = j.match(/^\s+/)) && (qt[0].from = Jn[0].length, qt.unshift(new H(0, 0, Jn[0].length))), $e(qt).level == 1 && (Jn = j.match(/\s+$/)) && ($e(qt).to -= Jn[0].length, qt.push(new H(0, se - Jn[0].length, se)))), Y == "rtl" ? qt.reverse() : qt;
        };
      }();
      function ze(e, i) {
        var u = e.order;
        return u == null && (u = e.order = Oe(e.text, i)), u;
      }
      var Pe = [], he = function(e, i, u) {
        if (e.addEventListener)
          e.addEventListener(i, u, false);
        else if (e.attachEvent)
          e.attachEvent("on" + i, u);
        else {
          var s = e._handlers || (e._handlers = {});
          s[i] = (s[i] || Pe).concat(u);
        }
      };
      function Be(e, i) {
        return e._handlers && e._handlers[i] || Pe;
      }
      function Le(e, i, u) {
        if (e.removeEventListener)
          e.removeEventListener(i, u, false);
        else if (e.detachEvent)
          e.detachEvent("on" + i, u);
        else {
          var s = e._handlers, p = s && s[i];
          if (p) {
            var _7 = ne(p, u);
            _7 > -1 && (s[i] = p.slice(0, _7).concat(p.slice(_7 + 1)));
          }
        }
      }
      function Fe(e, i) {
        var u = Be(e, i);
        if (!!u.length)
          for (var s = Array.prototype.slice.call(arguments, 2), p = 0; p < u.length; ++p)
            u[p].apply(null, s);
      }
      function Ye(e, i, u) {
        return typeof i == "string" && (i = { type: i, preventDefault: function() {
          this.defaultPrevented = true;
        } }), Fe(e, u || i.type, e, i), bi(i) || i.codemirrorIgnore;
      }
      function on2(e) {
        var i = e._handlers && e._handlers.cursorActivity;
        if (!!i)
          for (var u = e.curOp.cursorActivityHandlers || (e.curOp.cursorActivityHandlers = []), s = 0; s < i.length; ++s)
            ne(u, i[s]) == -1 && u.push(i[s]);
      }
      function xt(e, i) {
        return Be(e, i).length > 0;
      }
      function wt(e) {
        e.prototype.on = function(i, u) {
          he(this, i, u);
        }, e.prototype.off = function(i, u) {
          Le(this, i, u);
        };
      }
      function pt(e) {
        e.preventDefault ? e.preventDefault() : e.returnValue = false;
      }
      function On(e) {
        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;
      }
      function bi(e) {
        return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;
      }
      function Nn(e) {
        pt(e), On(e);
      }
      function an(e) {
        return e.target || e.srcElement;
      }
      function Vr(e) {
        var i = e.which;
        return i == null && (e.button & 1 ? i = 1 : e.button & 2 ? i = 3 : e.button & 4 && (i = 2)), D && e.ctrlKey && i == 1 && (i = 3), i;
      }
      var tl = function() {
        if (c && h2 < 9)
          return false;
        var e = L("div");
        return "draggable" in e || "dragDrop" in e;
      }(), Dn;
      function nl(e) {
        if (Dn == null) {
          var i = L("span", "​");
          U(e, L("span", [i, document.createTextNode("x")])), e.firstChild.offsetHeight != 0 && (Dn = i.offsetWidth <= 1 && i.offsetHeight > 2 && !(c && h2 < 8));
        }
        var u = Dn ? L("span", "​") : L("span", " ", null, "display: inline-block; width: 1px; margin-right: -1px");
        return u.setAttribute("cm-text", ""), u;
      }
      var ir;
      function Ho(e) {
        if (ir != null)
          return ir;
        var i = U(e, document.createTextNode("AخA")), u = Q(i, 0, 1).getBoundingClientRect(), s = Q(i, 1, 2).getBoundingClientRect();
        return $(e), !u || u.left == u.right ? false : ir = s.right - u.right < 3;
      }
      var jr = `

b`.split(/\n/).length != 3 ? function(e) {
        for (var i = 0, u = [], s = e.length; i <= s; ) {
          var p = e.indexOf(`
`, i);
          p == -1 && (p = e.length);
          var _7 = e.slice(i, e.charAt(p - 1) == "\r" ? p - 1 : p), P = _7.indexOf("\r");
          P != -1 ? (u.push(_7.slice(0, P)), i += P + 1) : (u.push(_7), i = p + 1);
        }
        return u;
      } : function(e) {
        return e.split(/\r\n?|\n/);
      }, Ai = window.getSelection ? function(e) {
        try {
          return e.selectionStart != e.selectionEnd;
        } catch {
          return false;
        }
      } : function(e) {
        var i;
        try {
          i = e.ownerDocument.selection.createRange();
        } catch {
        }
        return !i || i.parentElement() != e ? false : i.compareEndPoints("StartToEnd", i) != 0;
      }, Wn = function() {
        var e = L("div");
        return "oncopy" in e ? true : (e.setAttribute("oncopy", "return;"), typeof e.oncopy == "function");
      }(), Kn = null;
      function Vo(e) {
        if (Kn != null)
          return Kn;
        var i = U(e, L("span", "x")), u = i.getBoundingClientRect(), s = Q(i, 0, 1).getBoundingClientRect();
        return Kn = Math.abs(u.left - s.left) > 1;
      }
      var Ln = {}, wi = {};
      function jo(e, i) {
        arguments.length > 2 && (i.dependencies = Array.prototype.slice.call(arguments, 2)), Ln[e] = i;
      }
      function rr(e, i) {
        wi[e] = i;
      }
      function mn(e) {
        if (typeof e == "string" && wi.hasOwnProperty(e))
          e = wi[e];
        else if (e && typeof e.name == "string" && wi.hasOwnProperty(e.name)) {
          var i = wi[e.name];
          typeof i == "string" && (i = { name: i }), e = yi(i, e), e.name = i.name;
        } else {
          if (typeof e == "string" && /^[\w\-]+\/[\w\-]+\+xml$/.test(e))
            return mn("application/xml");
          if (typeof e == "string" && /^[\w\-]+\/[\w\-]+\+json$/.test(e))
            return mn("application/json");
        }
        return typeof e == "string" ? { name: e } : e || { name: "null" };
      }
      function ri(e, i) {
        i = mn(i);
        var u = Ln[i.name];
        if (!u)
          return ri(e, "text/plain");
        var s = u(e, i);
        if (Ci.hasOwnProperty(i.name)) {
          var p = Ci[i.name];
          for (var _7 in p)
            !p.hasOwnProperty(_7) || (s.hasOwnProperty(_7) && (s["_" + _7] = s[_7]), s[_7] = p[_7]);
        }
        if (s.name = i.name, i.helperType && (s.helperType = i.helperType), i.modeProps)
          for (var P in i.modeProps)
            s[P] = i.modeProps[P];
        return s;
      }
      var Ci = {};
      function zo(e, i) {
        var u = Ci.hasOwnProperty(e) ? Ci[e] : Ci[e] = {};
        pe(i, u);
      }
      function oi(e, i) {
        if (i === true)
          return i;
        if (e.copyState)
          return e.copyState(i);
        var u = {};
        for (var s in i) {
          var p = i[s];
          p instanceof Array && (p = p.concat([])), u[s] = p;
        }
        return u;
      }
      function Si(e, i) {
        for (var u; e.innerMode && (u = e.innerMode(i), !(!u || u.mode == e)); )
          i = u.state, e = u.mode;
        return u || { mode: e, state: i };
      }
      function zr(e, i, u) {
        return e.startState ? e.startState(i, u) : true;
      }
      var Rt = function(e, i, u) {
        this.pos = this.start = 0, this.string = e, this.tabSize = i || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0, this.lineOracle = u;
      };
      Rt.prototype.eol = function() {
        return this.pos >= this.string.length;
      }, Rt.prototype.sol = function() {
        return this.pos == this.lineStart;
      }, Rt.prototype.peek = function() {
        return this.string.charAt(this.pos) || void 0;
      }, Rt.prototype.next = function() {
        if (this.pos < this.string.length)
          return this.string.charAt(this.pos++);
      }, Rt.prototype.eat = function(e) {
        var i = this.string.charAt(this.pos), u;
        if (typeof e == "string" ? u = i == e : u = i && (e.test ? e.test(i) : e(i)), u)
          return ++this.pos, i;
      }, Rt.prototype.eatWhile = function(e) {
        for (var i = this.pos; this.eat(e); )
          ;
        return this.pos > i;
      }, Rt.prototype.eatSpace = function() {
        for (var e = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos)); )
          ++this.pos;
        return this.pos > e;
      }, Rt.prototype.skipToEnd = function() {
        this.pos = this.string.length;
      }, Rt.prototype.skipTo = function(e) {
        var i = this.string.indexOf(e, this.pos);
        if (i > -1)
          return this.pos = i, true;
      }, Rt.prototype.backUp = function(e) {
        this.pos -= e;
      }, Rt.prototype.column = function() {
        return this.lastColumnPos < this.start && (this.lastColumnValue = ce(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? ce(this.string, this.lineStart, this.tabSize) : 0);
      }, Rt.prototype.indentation = function() {
        return ce(this.string, null, this.tabSize) - (this.lineStart ? ce(this.string, this.lineStart, this.tabSize) : 0);
      }, Rt.prototype.match = function(e, i, u) {
        if (typeof e == "string") {
          var s = function(P) {
            return u ? P.toLowerCase() : P;
          }, p = this.string.substr(this.pos, e.length);
          if (s(p) == s(e))
            return i !== false && (this.pos += e.length), true;
        } else {
          var _7 = this.string.slice(this.pos).match(e);
          return _7 && _7.index > 0 ? null : (_7 && i !== false && (this.pos += _7[0].length), _7);
        }
      }, Rt.prototype.current = function() {
        return this.string.slice(this.start, this.pos);
      }, Rt.prototype.hideFirstChars = function(e, i) {
        this.lineStart += e;
        try {
          return i();
        } finally {
          this.lineStart -= e;
        }
      }, Rt.prototype.lookAhead = function(e) {
        var i = this.lineOracle;
        return i && i.lookAhead(e);
      }, Rt.prototype.baseToken = function() {
        var e = this.lineOracle;
        return e && e.baseToken(this.pos);
      };
      function ke(e, i) {
        if (i -= e.first, i < 0 || i >= e.size)
          throw new Error("There is no line " + (i + e.first) + " in the document.");
        for (var u = e; !u.lines; )
          for (var s = 0; ; ++s) {
            var p = u.children[s], _7 = p.chunkSize();
            if (i < _7) {
              u = p;
              break;
            }
            i -= _7;
          }
        return u.lines[i];
      }
      function ai(e, i, u) {
        var s = [], p = i.line;
        return e.iter(i.line, u.line + 1, function(_7) {
          var P = _7.text;
          p == u.line && (P = P.slice(0, u.ch)), p == i.line && (P = P.slice(i.ch)), s.push(P), ++p;
        }), s;
      }
      function or(e, i, u) {
        var s = [];
        return e.iter(i, u, function(p) {
          s.push(p.text);
        }), s;
      }
      function In(e, i) {
        var u = i - e.height;
        if (u)
          for (var s = e; s; s = s.parent)
            s.height += u;
      }
      function ht(e) {
        if (e.parent == null)
          return null;
        for (var i = e.parent, u = ne(i.lines, e), s = i.parent; s; i = s, s = s.parent)
          for (var p = 0; s.children[p] != i; ++p)
            u += s.children[p].chunkSize();
        return u + i.first;
      }
      function Gn(e, i) {
        var u = e.first;
        e:
          do {
            for (var s = 0; s < e.children.length; ++s) {
              var p = e.children[s], _7 = p.height;
              if (i < _7) {
                e = p;
                continue e;
              }
              i -= _7, u += p.chunkSize();
            }
            return u;
          } while (!e.lines);
        for (var P = 0; P < e.lines.length; ++P) {
          var k = e.lines[P], H = k.height;
          if (i < H)
            break;
          i -= H;
        }
        return u + P;
      }
      function W(e, i) {
        return i >= e.first && i < e.first + e.size;
      }
      function ee(e, i) {
        return String(e.lineNumberFormatter(i + e.firstLineNumber));
      }
      function oe(e, i, u) {
        if (u === void 0 && (u = null), !(this instanceof oe))
          return new oe(e, i, u);
        this.line = e, this.ch = i, this.sticky = u;
      }
      function ve(e, i) {
        return e.line - i.line || e.ch - i.ch;
      }
      function Ue(e, i) {
        return e.sticky == i.sticky && ve(e, i) == 0;
      }
      function at(e) {
        return oe(e.line, e.ch);
      }
      function ft(e, i) {
        return ve(e, i) < 0 ? i : e;
      }
      function Bt(e, i) {
        return ve(e, i) < 0 ? e : i;
      }
      function Sn(e, i) {
        return Math.max(e.first, Math.min(i, e.first + e.size - 1));
      }
      function We(e, i) {
        if (i.line < e.first)
          return oe(e.first, 0);
        var u = e.first + e.size - 1;
        return i.line > u ? oe(u, ke(e, u).text.length) : Jp(i, ke(e, i.line).text.length);
      }
      function Jp(e, i) {
        var u = e.ch;
        return u == null || u > i ? oe(e.line, i) : u < 0 ? oe(e.line, 0) : e;
      }
      function Ou(e, i) {
        for (var u = [], s = 0; s < i.length; s++)
          u[s] = We(e, i[s]);
        return u;
      }
      var Uo = function(e, i) {
        this.state = e, this.lookAhead = i;
      }, Qn = function(e, i, u, s) {
        this.state = i, this.doc = e, this.line = u, this.maxLookAhead = s || 0, this.baseTokens = null, this.baseTokenPos = 1;
      };
      Qn.prototype.lookAhead = function(e) {
        var i = this.doc.getLine(this.line + e);
        return i != null && e > this.maxLookAhead && (this.maxLookAhead = e), i;
      }, Qn.prototype.baseToken = function(e) {
        if (!this.baseTokens)
          return null;
        for (; this.baseTokens[this.baseTokenPos] <= e; )
          this.baseTokenPos += 2;
        var i = this.baseTokens[this.baseTokenPos + 1];
        return {
          type: i && i.replace(/( |^)overlay .*/, ""),
          size: this.baseTokens[this.baseTokenPos] - e
        };
      }, Qn.prototype.nextLine = function() {
        this.line++, this.maxLookAhead > 0 && this.maxLookAhead--;
      }, Qn.fromSaved = function(e, i, u) {
        return i instanceof Uo ? new Qn(e, oi(e.mode, i.state), u, i.lookAhead) : new Qn(e, oi(e.mode, i), u);
      }, Qn.prototype.save = function(e) {
        var i = e !== false ? oi(this.doc.mode, this.state) : this.state;
        return this.maxLookAhead > 0 ? new Uo(i, this.maxLookAhead) : i;
      };
      function Du(e, i, u, s) {
        var p = [e.state.modeGen], _7 = {};
        Fu(
          e,
          i.text,
          e.doc.mode,
          u,
          function(j, Y) {
            return p.push(j, Y);
          },
          _7,
          s
        );
        for (var P = u.state, k = function(j) {
          u.baseTokens = p;
          var Y = e.state.overlays[j], q = 1, se = 0;
          u.state = true, Fu(e, i.text, Y.mode, u, function(le, ge) {
            for (var Ae = q; se < le; ) {
              var Ce = p[q];
              Ce > le && p.splice(q, 1, le, p[q + 1], Ce), q += 2, se = Math.min(le, Ce);
            }
            if (!!ge)
              if (Y.opaque)
                p.splice(Ae, q - Ae, le, "overlay " + ge), q = Ae + 2;
              else
                for (; Ae < q; Ae += 2) {
                  var xe = p[Ae + 1];
                  p[Ae + 1] = (xe ? xe + " " : "") + "overlay " + ge;
                }
          }, _7), u.state = P, u.baseTokens = null, u.baseTokenPos = 1;
        }, H = 0; H < e.state.overlays.length; ++H)
          k(H);
        return { styles: p, classes: _7.bgClass || _7.textClass ? _7 : null };
      }
      function Iu(e, i, u) {
        if (!i.styles || i.styles[0] != e.state.modeGen) {
          var s = Ur(e, ht(i)), p = i.text.length > e.options.maxHighlightLength && oi(e.doc.mode, s.state), _7 = Du(e, i, s);
          p && (s.state = p), i.stateAfter = s.save(!p), i.styles = _7.styles, _7.classes ? i.styleClasses = _7.classes : i.styleClasses && (i.styleClasses = null), u === e.doc.highlightFrontier && (e.doc.modeFrontier = Math.max(e.doc.modeFrontier, ++e.doc.highlightFrontier));
        }
        return i.styles;
      }
      function Ur(e, i, u) {
        var s = e.doc, p = e.display;
        if (!s.mode.startState)
          return new Qn(s, true, i);
        var _7 = Zp(e, i, u), P = _7 > s.first && ke(s, _7 - 1).stateAfter, k = P ? Qn.fromSaved(s, P, _7) : new Qn(s, zr(s.mode), _7);
        return s.iter(_7, i, function(H) {
          il(e, H.text, k);
          var j = k.line;
          H.stateAfter = j == i - 1 || j % 5 == 0 || j >= p.viewFrom && j < p.viewTo ? k.save() : null, k.nextLine();
        }), u && (s.modeFrontier = k.line), k;
      }
      function il(e, i, u, s) {
        var p = e.doc.mode, _7 = new Rt(i, e.options.tabSize, u);
        for (_7.start = _7.pos = s || 0, i == "" && Mu(p, u.state); !_7.eol(); )
          rl(p, _7, u.state), _7.start = _7.pos;
      }
      function Mu(e, i) {
        if (e.blankLine)
          return e.blankLine(i);
        if (!!e.innerMode) {
          var u = Si(e, i);
          if (u.mode.blankLine)
            return u.mode.blankLine(u.state);
        }
      }
      function rl(e, i, u, s) {
        for (var p = 0; p < 10; p++) {
          s && (s[0] = Si(e, u).mode);
          var _7 = e.token(i, u);
          if (i.pos > i.start)
            return _7;
        }
        throw new Error("Mode " + e.name + " failed to advance stream.");
      }
      var Pu = function(e, i, u) {
        this.start = e.start, this.end = e.pos, this.string = e.current(), this.type = i || null, this.state = u;
      };
      function Nu(e, i, u, s) {
        var p = e.doc, _7 = p.mode, P;
        i = We(p, i);
        var k = ke(p, i.line), H = Ur(e, i.line, u), j = new Rt(k.text, e.options.tabSize, H), Y;
        for (s && (Y = []); (s || j.pos < i.ch) && !j.eol(); )
          j.start = j.pos, P = rl(_7, j, H.state), s && Y.push(new Pu(j, P, oi(p.mode, H.state)));
        return s ? Y : new Pu(j, P, H.state);
      }
      function Lu(e, i) {
        if (e)
          for (; ; ) {
            var u = e.match(/(?:^|\s+)line-(background-)?(\S+)/);
            if (!u)
              break;
            e = e.slice(0, u.index) + e.slice(u.index + u[0].length);
            var s = u[1] ? "bgClass" : "textClass";
            i[s] == null ? i[s] = u[2] : new RegExp("(?:^|\\s)" + u[2] + "(?:$|\\s)").test(i[s]) || (i[s] += " " + u[2]);
          }
        return e;
      }
      function Fu(e, i, u, s, p, _7, P) {
        var k = u.flattenSpans;
        k == null && (k = e.options.flattenSpans);
        var H = 0, j = null, Y = new Rt(i, e.options.tabSize, s), q, se = e.options.addModeClass && [null];
        for (i == "" && Lu(Mu(u, s.state), _7); !Y.eol(); ) {
          if (Y.pos > e.options.maxHighlightLength ? (k = false, P && il(e, i, s, Y.pos), Y.pos = i.length, q = null) : q = Lu(rl(u, Y, s.state, se), _7), se) {
            var le = se[0].name;
            le && (q = "m-" + (q ? le + " " + q : le));
          }
          if (!k || j != q) {
            for (; H < Y.start; )
              H = Math.min(Y.start, H + 5e3), p(H, j);
            j = q;
          }
          Y.start = Y.pos;
        }
        for (; H < Y.pos; ) {
          var ge = Math.min(Y.pos, H + 5e3);
          p(ge, j), H = ge;
        }
      }
      function Zp(e, i, u) {
        for (var s, p, _7 = e.doc, P = u ? -1 : i - (e.doc.mode.innerMode ? 1e3 : 100), k = i; k > P; --k) {
          if (k <= _7.first)
            return _7.first;
          var H = ke(_7, k - 1), j = H.stateAfter;
          if (j && (!u || k + (j instanceof Uo ? j.lookAhead : 0) <= _7.modeFrontier))
            return k;
          var Y = ce(H.text, null, e.options.tabSize);
          (p == null || s > Y) && (p = k - 1, s = Y);
        }
        return p;
      }
      function qp(e, i) {
        if (e.modeFrontier = Math.min(e.modeFrontier, i), !(e.highlightFrontier < i - 10)) {
          for (var u = e.first, s = i - 1; s > u; s--) {
            var p = ke(e, s).stateAfter;
            if (p && (!(p instanceof Uo) || s + p.lookAhead < i)) {
              u = s + 1;
              break;
            }
          }
          e.highlightFrontier = Math.min(e.highlightFrontier, u);
        }
      }
      var ku = false, li = false;
      function eh() {
        ku = true;
      }
      function th() {
        li = true;
      }
      function Wo(e, i, u) {
        this.marker = e, this.from = i, this.to = u;
      }
      function Wr(e, i) {
        if (e)
          for (var u = 0; u < e.length; ++u) {
            var s = e[u];
            if (s.marker == i)
              return s;
          }
      }
      function nh(e, i) {
        for (var u, s = 0; s < e.length; ++s)
          e[s] != i && (u || (u = [])).push(e[s]);
        return u;
      }
      function ih(e, i, u) {
        var s = u && window.WeakSet && (u.markedSpans || (u.markedSpans = /* @__PURE__ */ new WeakSet()));
        s && e.markedSpans && s.has(e.markedSpans) ? e.markedSpans.push(i) : (e.markedSpans = e.markedSpans ? e.markedSpans.concat([i]) : [i], s && s.add(e.markedSpans)), i.marker.attachLine(e);
      }
      function rh(e, i, u) {
        var s;
        if (e)
          for (var p = 0; p < e.length; ++p) {
            var _7 = e[p], P = _7.marker, k = _7.from == null || (P.inclusiveLeft ? _7.from <= i : _7.from < i);
            if (k || _7.from == i && P.type == "bookmark" && (!u || !_7.marker.insertLeft)) {
              var H = _7.to == null || (P.inclusiveRight ? _7.to >= i : _7.to > i);
              (s || (s = [])).push(new Wo(P, _7.from, H ? null : _7.to));
            }
          }
        return s;
      }
      function oh(e, i, u) {
        var s;
        if (e)
          for (var p = 0; p < e.length; ++p) {
            var _7 = e[p], P = _7.marker, k = _7.to == null || (P.inclusiveRight ? _7.to >= i : _7.to > i);
            if (k || _7.from == i && P.type == "bookmark" && (!u || _7.marker.insertLeft)) {
              var H = _7.from == null || (P.inclusiveLeft ? _7.from <= i : _7.from < i);
              (s || (s = [])).push(new Wo(
                P,
                H ? null : _7.from - i,
                _7.to == null ? null : _7.to - i
              ));
            }
          }
        return s;
      }
      function ol(e, i) {
        if (i.full)
          return null;
        var u = W(e, i.from.line) && ke(e, i.from.line).markedSpans, s = W(e, i.to.line) && ke(e, i.to.line).markedSpans;
        if (!u && !s)
          return null;
        var p = i.from.ch, _7 = i.to.ch, P = ve(i.from, i.to) == 0, k = rh(u, p, P), H = oh(s, _7, P), j = i.text.length == 1, Y = $e(i.text).length + (j ? p : 0);
        if (k)
          for (var q = 0; q < k.length; ++q) {
            var se = k[q];
            if (se.to == null) {
              var le = Wr(H, se.marker);
              le ? j && (se.to = le.to == null ? null : le.to + Y) : se.to = p;
            }
          }
        if (H)
          for (var ge = 0; ge < H.length; ++ge) {
            var Ae = H[ge];
            if (Ae.to != null && (Ae.to += Y), Ae.from == null) {
              var Ce = Wr(k, Ae.marker);
              Ce || (Ae.from = Y, j && (k || (k = [])).push(Ae));
            } else
              Ae.from += Y, j && (k || (k = [])).push(Ae);
          }
        k && (k = Bu(k)), H && H != k && (H = Bu(H));
        var xe = [k];
        if (!j) {
          var De = i.text.length - 2, Te;
          if (De > 0 && k)
            for (var Ne = 0; Ne < k.length; ++Ne)
              k[Ne].to == null && (Te || (Te = [])).push(new Wo(k[Ne].marker, null, null));
          for (var Ve = 0; Ve < De; ++Ve)
            xe.push(Te);
          xe.push(H);
        }
        return xe;
      }
      function Bu(e) {
        for (var i = 0; i < e.length; ++i) {
          var u = e[i];
          u.from != null && u.from == u.to && u.marker.clearWhenEmpty !== false && e.splice(i--, 1);
        }
        return e.length ? e : null;
      }
      function ah(e, i, u) {
        var s = null;
        if (e.iter(i.line, u.line + 1, function(le) {
          if (le.markedSpans)
            for (var ge = 0; ge < le.markedSpans.length; ++ge) {
              var Ae = le.markedSpans[ge].marker;
              Ae.readOnly && (!s || ne(s, Ae) == -1) && (s || (s = [])).push(Ae);
            }
        }), !s)
          return null;
        for (var p = [{ from: i, to: u }], _7 = 0; _7 < s.length; ++_7)
          for (var P = s[_7], k = P.find(0), H = 0; H < p.length; ++H) {
            var j = p[H];
            if (!(ve(j.to, k.from) < 0 || ve(j.from, k.to) > 0)) {
              var Y = [H, 1], q = ve(j.from, k.from), se = ve(j.to, k.to);
              (q < 0 || !P.inclusiveLeft && !q) && Y.push({ from: j.from, to: k.from }), (se > 0 || !P.inclusiveRight && !se) && Y.push({ from: k.to, to: j.to }), p.splice.apply(p, Y), H += Y.length - 3;
            }
          }
        return p;
      }
      function $u(e) {
        var i = e.markedSpans;
        if (!!i) {
          for (var u = 0; u < i.length; ++u)
            i[u].marker.detachLine(e);
          e.markedSpans = null;
        }
      }
      function Hu(e, i) {
        if (!!i) {
          for (var u = 0; u < i.length; ++u)
            i[u].marker.attachLine(e);
          e.markedSpans = i;
        }
      }
      function Ko(e) {
        return e.inclusiveLeft ? -1 : 0;
      }
      function Go(e) {
        return e.inclusiveRight ? 1 : 0;
      }
      function al(e, i) {
        var u = e.lines.length - i.lines.length;
        if (u != 0)
          return u;
        var s = e.find(), p = i.find(), _7 = ve(s.from, p.from) || Ko(e) - Ko(i);
        if (_7)
          return -_7;
        var P = ve(s.to, p.to) || Go(e) - Go(i);
        return P || i.id - e.id;
      }
      function Vu(e, i) {
        var u = li && e.markedSpans, s;
        if (u)
          for (var p = void 0, _7 = 0; _7 < u.length; ++_7)
            p = u[_7], p.marker.collapsed && (i ? p.from : p.to) == null && (!s || al(s, p.marker) < 0) && (s = p.marker);
        return s;
      }
      function ju(e) {
        return Vu(e, true);
      }
      function Qo(e) {
        return Vu(e, false);
      }
      function lh(e, i) {
        var u = li && e.markedSpans, s;
        if (u)
          for (var p = 0; p < u.length; ++p) {
            var _7 = u[p];
            _7.marker.collapsed && (_7.from == null || _7.from < i) && (_7.to == null || _7.to > i) && (!s || al(s, _7.marker) < 0) && (s = _7.marker);
          }
        return s;
      }
      function zu(e, i, u, s, p) {
        var _7 = ke(e, i), P = li && _7.markedSpans;
        if (P)
          for (var k = 0; k < P.length; ++k) {
            var H = P[k];
            if (!!H.marker.collapsed) {
              var j = H.marker.find(0), Y = ve(j.from, u) || Ko(H.marker) - Ko(p), q = ve(j.to, s) || Go(H.marker) - Go(p);
              if (!(Y >= 0 && q <= 0 || Y <= 0 && q >= 0) && (Y <= 0 && (H.marker.inclusiveRight && p.inclusiveLeft ? ve(j.to, u) >= 0 : ve(j.to, u) > 0) || Y >= 0 && (H.marker.inclusiveRight && p.inclusiveLeft ? ve(j.from, s) <= 0 : ve(j.from, s) < 0)))
                return true;
            }
          }
      }
      function Fn(e) {
        for (var i; i = ju(e); )
          e = i.find(-1, true).line;
        return e;
      }
      function sh(e) {
        for (var i; i = Qo(e); )
          e = i.find(1, true).line;
        return e;
      }
      function uh(e) {
        for (var i, u; i = Qo(e); )
          e = i.find(1, true).line, (u || (u = [])).push(e);
        return u;
      }
      function ll(e, i) {
        var u = ke(e, i), s = Fn(u);
        return u == s ? i : ht(s);
      }
      function Uu(e, i) {
        if (i > e.lastLine())
          return i;
        var u = ke(e, i), s;
        if (!Ei(e, u))
          return i;
        for (; s = Qo(u); )
          u = s.find(1, true).line;
        return ht(u) + 1;
      }
      function Ei(e, i) {
        var u = li && i.markedSpans;
        if (u) {
          for (var s = void 0, p = 0; p < u.length; ++p)
            if (s = u[p], !!s.marker.collapsed) {
              if (s.from == null)
                return true;
              if (!s.marker.widgetNode && s.from == 0 && s.marker.inclusiveLeft && sl(e, i, s))
                return true;
            }
        }
      }
      function sl(e, i, u) {
        if (u.to == null) {
          var s = u.marker.find(1, true);
          return sl(e, s.line, Wr(s.line.markedSpans, u.marker));
        }
        if (u.marker.inclusiveRight && u.to == i.text.length)
          return true;
        for (var p = void 0, _7 = 0; _7 < i.markedSpans.length; ++_7)
          if (p = i.markedSpans[_7], p.marker.collapsed && !p.marker.widgetNode && p.from == u.to && (p.to == null || p.to != u.from) && (p.marker.inclusiveLeft || u.marker.inclusiveRight) && sl(e, i, p))
            return true;
      }
      function si(e) {
        e = Fn(e);
        for (var i = 0, u = e.parent, s = 0; s < u.lines.length; ++s) {
          var p = u.lines[s];
          if (p == e)
            break;
          i += p.height;
        }
        for (var _7 = u.parent; _7; u = _7, _7 = u.parent)
          for (var P = 0; P < _7.children.length; ++P) {
            var k = _7.children[P];
            if (k == u)
              break;
            i += k.height;
          }
        return i;
      }
      function Yo(e) {
        if (e.height == 0)
          return 0;
        for (var i = e.text.length, u, s = e; u = ju(s); ) {
          var p = u.find(0, true);
          s = p.from.line, i += p.from.ch - p.to.ch;
        }
        for (s = e; u = Qo(s); ) {
          var _7 = u.find(0, true);
          i -= s.text.length - _7.from.ch, s = _7.to.line, i += s.text.length - _7.to.ch;
        }
        return i;
      }
      function ul(e) {
        var i = e.display, u = e.doc;
        i.maxLine = ke(u, u.first), i.maxLineLength = Yo(i.maxLine), i.maxLineChanged = true, u.iter(function(s) {
          var p = Yo(s);
          p > i.maxLineLength && (i.maxLineLength = p, i.maxLine = s);
        });
      }
      var ar = function(e, i, u) {
        this.text = e, Hu(this, i), this.height = u ? u(this) : 1;
      };
      ar.prototype.lineNo = function() {
        return ht(this);
      }, wt(ar);
      function fh(e, i, u, s) {
        e.text = i, e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null), e.order != null && (e.order = null), $u(e), Hu(e, u);
        var p = s ? s(e) : 1;
        p != e.height && In(e, p);
      }
      function dh(e) {
        e.parent = null, $u(e);
      }
      var ch = {}, ph = {};
      function Wu(e, i) {
        if (!e || /^\s*$/.test(e))
          return null;
        var u = i.addModeClass ? ph : ch;
        return u[e] || (u[e] = e.replace(/\S+/g, "cm-$&"));
      }
      function Ku(e, i) {
        var u = z("span", null, null, m ? "padding-right: .1px" : null), s = {
          pre: z("pre", [u], "CodeMirror-line"),
          content: u,
          col: 0,
          pos: 0,
          cm: e,
          trailingSpace: false,
          splitSpaces: e.getOption("lineWrapping")
        };
        i.measure = {};
        for (var p = 0; p <= (i.rest ? i.rest.length : 0); p++) {
          var _7 = p ? i.rest[p - 1] : i.line, P = void 0;
          s.pos = 0, s.addToken = vh, Ho(e.display.measure) && (P = ze(_7, e.doc.direction)) && (s.addToken = gh(s.addToken, P)), s.map = [];
          var k = i != e.display.externalMeasured && ht(_7);
          yh(_7, s, Iu(e, _7, k)), _7.styleClasses && (_7.styleClasses.bgClass && (s.bgClass = V(_7.styleClasses.bgClass, s.bgClass || "")), _7.styleClasses.textClass && (s.textClass = V(_7.styleClasses.textClass, s.textClass || ""))), s.map.length == 0 && s.map.push(0, 0, s.content.appendChild(nl(e.display.measure))), p == 0 ? (i.measure.map = s.map, i.measure.cache = {}) : ((i.measure.maps || (i.measure.maps = [])).push(s.map), (i.measure.caches || (i.measure.caches = [])).push({}));
        }
        if (m) {
          var H = s.content.lastChild;
          (/\bcm-tab\b/.test(H.className) || H.querySelector && H.querySelector(".cm-tab")) && (s.content.className = "cm-tab-wrap-hack");
        }
        return Fe(e, "renderLine", e, i.line, s.pre), s.pre.className && (s.textClass = V(s.pre.className, s.textClass || "")), s;
      }
      function hh(e) {
        var i = L("span", "•", "cm-invalidchar");
        return i.title = "\\u" + e.charCodeAt(0).toString(16), i.setAttribute("aria-label", i.title), i;
      }
      function vh(e, i, u, s, p, _7, P) {
        if (!!i) {
          var k = e.splitSpaces ? mh(i, e.trailingSpace) : i, H = e.cm.state.specialChars, j = false, Y;
          if (!H.test(i))
            e.col += i.length, Y = document.createTextNode(k), e.map.push(e.pos, e.pos + i.length, Y), c && h2 < 9 && (j = true), e.pos += i.length;
          else {
            Y = document.createDocumentFragment();
            for (var q = 0; ; ) {
              H.lastIndex = q;
              var se = H.exec(i), le = se ? se.index - q : i.length - q;
              if (le) {
                var ge = document.createTextNode(k.slice(q, q + le));
                c && h2 < 9 ? Y.appendChild(L("span", [ge])) : Y.appendChild(ge), e.map.push(e.pos, e.pos + le, ge), e.col += le, e.pos += le;
              }
              if (!se)
                break;
              q += le + 1;
              var Ae = void 0;
              if (se[0] == "	") {
                var Ce = e.cm.options.tabSize, xe = Ce - e.col % Ce;
                Ae = Y.appendChild(L("span", St(xe), "cm-tab")), Ae.setAttribute("role", "presentation"), Ae.setAttribute("cm-text", "	"), e.col += xe;
              } else
                se[0] == "\r" || se[0] == `
` ? (Ae = Y.appendChild(L("span", se[0] == "\r" ? "␍" : "␤", "cm-invalidchar")), Ae.setAttribute("cm-text", se[0]), e.col += 1) : (Ae = e.cm.options.specialCharPlaceholder(se[0]), Ae.setAttribute("cm-text", se[0]), c && h2 < 9 ? Y.appendChild(L("span", [Ae])) : Y.appendChild(Ae), e.col += 1);
              e.map.push(e.pos, e.pos + 1, Ae), e.pos++;
            }
          }
          if (e.trailingSpace = k.charCodeAt(i.length - 1) == 32, u || s || p || j || _7 || P) {
            var De = u || "";
            s && (De += s), p && (De += p);
            var Te = L("span", [Y], De, _7);
            if (P)
              for (var Ne in P)
                P.hasOwnProperty(Ne) && Ne != "style" && Ne != "class" && Te.setAttribute(Ne, P[Ne]);
            return e.content.appendChild(Te);
          }
          e.content.appendChild(Y);
        }
      }
      function mh(e, i) {
        if (e.length > 1 && !/  /.test(e))
          return e;
        for (var u = i, s = "", p = 0; p < e.length; p++) {
          var _7 = e.charAt(p);
          _7 == " " && u && (p == e.length - 1 || e.charCodeAt(p + 1) == 32) && (_7 = " "), s += _7, u = _7 == " ";
        }
        return s;
      }
      function gh(e, i) {
        return function(u, s, p, _7, P, k, H) {
          p = p ? p + " cm-force-border" : "cm-force-border";
          for (var j = u.pos, Y = j + s.length; ; ) {
            for (var q = void 0, se = 0; se < i.length && (q = i[se], !(q.to > j && q.from <= j)); se++)
              ;
            if (q.to >= Y)
              return e(u, s, p, _7, P, k, H);
            e(u, s.slice(0, q.to - j), p, _7, null, k, H), _7 = null, s = s.slice(q.to - j), j = q.to;
          }
        };
      }
      function Gu(e, i, u, s) {
        var p = !s && u.widgetNode;
        p && e.map.push(e.pos, e.pos + i, p), !s && e.cm.display.input.needsContentAttribute && (p || (p = e.content.appendChild(document.createElement("span"))), p.setAttribute("cm-marker", u.id)), p && (e.cm.display.input.setUneditable(p), e.content.appendChild(p)), e.pos += i, e.trailingSpace = false;
      }
      function yh(e, i, u) {
        var s = e.markedSpans, p = e.text, _7 = 0;
        if (!s) {
          for (var P = 1; P < u.length; P += 2)
            i.addToken(i, p.slice(_7, _7 = u[P]), Wu(u[P + 1], i.cm.options));
          return;
        }
        for (var k = p.length, H = 0, j = 1, Y = "", q, se, le = 0, ge, Ae, Ce, xe, De; ; ) {
          if (le == H) {
            ge = Ae = Ce = se = "", De = null, xe = null, le = 1 / 0;
            for (var Te = [], Ne = void 0, Ve = 0; Ve < s.length; ++Ve) {
              var He = s[Ve], qe = He.marker;
              if (qe.type == "bookmark" && He.from == H && qe.widgetNode)
                Te.push(qe);
              else if (He.from <= H && (He.to == null || He.to > H || qe.collapsed && He.to == H && He.from == H)) {
                if (He.to != null && He.to != H && le > He.to && (le = He.to, Ae = ""), qe.className && (ge += " " + qe.className), qe.css && (se = (se ? se + ";" : "") + qe.css), qe.startStyle && He.from == H && (Ce += " " + qe.startStyle), qe.endStyle && He.to == le && (Ne || (Ne = [])).push(qe.endStyle, He.to), qe.title && ((De || (De = {})).title = qe.title), qe.attributes)
                  for (var At in qe.attributes)
                    (De || (De = {}))[At] = qe.attributes[At];
                qe.collapsed && (!xe || al(xe.marker, qe) < 0) && (xe = He);
              } else
                He.from > H && le > He.from && (le = He.from);
            }
            if (Ne)
              for (var Wt = 0; Wt < Ne.length; Wt += 2)
                Ne[Wt + 1] == le && (Ae += " " + Ne[Wt]);
            if (!xe || xe.from == H)
              for (var Tt = 0; Tt < Te.length; ++Tt)
                Gu(i, 0, Te[Tt]);
            if (xe && (xe.from || 0) == H) {
              if (Gu(
                i,
                (xe.to == null ? k + 1 : xe.to) - H,
                xe.marker,
                xe.from == null
              ), xe.to == null)
                return;
              xe.to == H && (xe = false);
            }
          }
          if (H >= k)
            break;
          for (var yn = Math.min(k, le); ; ) {
            if (Y) {
              var un = H + Y.length;
              if (!xe) {
                var Nt = un > yn ? Y.slice(0, yn - H) : Y;
                i.addToken(
                  i,
                  Nt,
                  q ? q + ge : ge,
                  Ce,
                  H + Nt.length == le ? Ae : "",
                  se,
                  De
                );
              }
              if (un >= yn) {
                Y = Y.slice(yn - H), H = yn;
                break;
              }
              H = un, Ce = "";
            }
            Y = p.slice(_7, _7 = u[j++]), q = Wu(u[j++], i.cm.options);
          }
        }
      }
      function Qu(e, i, u) {
        this.line = i, this.rest = uh(i), this.size = this.rest ? ht($e(this.rest)) - u + 1 : 1, this.node = this.text = null, this.hidden = Ei(e, i);
      }
      function Xo(e, i, u) {
        for (var s = [], p, _7 = i; _7 < u; _7 = p) {
          var P = new Qu(e.doc, ke(e.doc, _7), _7);
          p = _7 + P.size, s.push(P);
        }
        return s;
      }
      var lr = null;
      function bh(e) {
        lr ? lr.ops.push(e) : e.ownsGroup = lr = {
          ops: [e],
          delayedCallbacks: []
        };
      }
      function Ah(e) {
        var i = e.delayedCallbacks, u = 0;
        do {
          for (; u < i.length; u++)
            i[u].call(null);
          for (var s = 0; s < e.ops.length; s++) {
            var p = e.ops[s];
            if (p.cursorActivityHandlers)
              for (; p.cursorActivityCalled < p.cursorActivityHandlers.length; )
                p.cursorActivityHandlers[p.cursorActivityCalled++].call(null, p.cm);
          }
        } while (u < i.length);
      }
      function wh(e, i) {
        var u = e.ownsGroup;
        if (!!u)
          try {
            Ah(u);
          } finally {
            lr = null, i(u);
          }
      }
      var Kr = null;
      function jt(e, i) {
        var u = Be(e, i);
        if (!!u.length) {
          var s = Array.prototype.slice.call(arguments, 2), p;
          lr ? p = lr.delayedCallbacks : Kr ? p = Kr : (p = Kr = [], setTimeout(Ch, 0));
          for (var _7 = function(k) {
            p.push(function() {
              return u[k].apply(null, s);
            });
          }, P = 0; P < u.length; ++P)
            _7(P);
        }
      }
      function Ch() {
        var e = Kr;
        Kr = null;
        for (var i = 0; i < e.length; ++i)
          e[i]();
      }
      function Yu(e, i, u, s) {
        for (var p = 0; p < i.changes.length; p++) {
          var _7 = i.changes[p];
          _7 == "text" ? Eh(e, i) : _7 == "gutter" ? Ju(e, i, u, s) : _7 == "class" ? fl(e, i) : _7 == "widget" && xh(e, i, s);
        }
        i.changes = null;
      }
      function Gr(e) {
        return e.node == e.text && (e.node = L("div", null, null, "position: relative"), e.text.parentNode && e.text.parentNode.replaceChild(e.node, e.text), e.node.appendChild(e.text), c && h2 < 8 && (e.node.style.zIndex = 2)), e.node;
      }
      function Sh(e, i) {
        var u = i.bgClass ? i.bgClass + " " + (i.line.bgClass || "") : i.line.bgClass;
        if (u && (u += " CodeMirror-linebackground"), i.background)
          u ? i.background.className = u : (i.background.parentNode.removeChild(i.background), i.background = null);
        else if (u) {
          var s = Gr(i);
          i.background = s.insertBefore(L("div", null, u), s.firstChild), e.display.input.setUneditable(i.background);
        }
      }
      function Xu(e, i) {
        var u = e.display.externalMeasured;
        return u && u.line == i.line ? (e.display.externalMeasured = null, i.measure = u.measure, u.built) : Ku(e, i);
      }
      function Eh(e, i) {
        var u = i.text.className, s = Xu(e, i);
        i.text == i.node && (i.node = s.pre), i.text.parentNode.replaceChild(s.pre, i.text), i.text = s.pre, s.bgClass != i.bgClass || s.textClass != i.textClass ? (i.bgClass = s.bgClass, i.textClass = s.textClass, fl(e, i)) : u && (i.text.className = u);
      }
      function fl(e, i) {
        Sh(e, i), i.line.wrapClass ? Gr(i).className = i.line.wrapClass : i.node != i.text && (i.node.className = "");
        var u = i.textClass ? i.textClass + " " + (i.line.textClass || "") : i.line.textClass;
        i.text.className = u || "";
      }
      function Ju(e, i, u, s) {
        if (i.gutter && (i.node.removeChild(i.gutter), i.gutter = null), i.gutterBackground && (i.node.removeChild(i.gutterBackground), i.gutterBackground = null), i.line.gutterClass) {
          var p = Gr(i);
          i.gutterBackground = L(
            "div",
            null,
            "CodeMirror-gutter-background " + i.line.gutterClass,
            "left: " + (e.options.fixedGutter ? s.fixedPos : -s.gutterTotalWidth) + "px; width: " + s.gutterTotalWidth + "px"
          ), e.display.input.setUneditable(i.gutterBackground), p.insertBefore(i.gutterBackground, i.text);
        }
        var _7 = i.line.gutterMarkers;
        if (e.options.lineNumbers || _7) {
          var P = Gr(i), k = i.gutter = L("div", null, "CodeMirror-gutter-wrapper", "left: " + (e.options.fixedGutter ? s.fixedPos : -s.gutterTotalWidth) + "px");
          if (k.setAttribute("aria-hidden", "true"), e.display.input.setUneditable(k), P.insertBefore(k, i.text), i.line.gutterClass && (k.className += " " + i.line.gutterClass), e.options.lineNumbers && (!_7 || !_7["CodeMirror-linenumbers"]) && (i.lineNumber = k.appendChild(
            L(
              "div",
              ee(e.options, u),
              "CodeMirror-linenumber CodeMirror-gutter-elt",
              "left: " + s.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + e.display.lineNumInnerWidth + "px"
            )
          )), _7)
            for (var H = 0; H < e.display.gutterSpecs.length; ++H) {
              var j = e.display.gutterSpecs[H].className, Y = _7.hasOwnProperty(j) && _7[j];
              Y && k.appendChild(L(
                "div",
                [Y],
                "CodeMirror-gutter-elt",
                "left: " + s.gutterLeft[j] + "px; width: " + s.gutterWidth[j] + "px"
              ));
            }
        }
      }
      function xh(e, i, u) {
        i.alignable && (i.alignable = null);
        for (var s = S("CodeMirror-linewidget"), p = i.node.firstChild, _7 = void 0; p; p = _7)
          _7 = p.nextSibling, s.test(p.className) && i.node.removeChild(p);
        Zu(e, i, u);
      }
      function Th(e, i, u, s) {
        var p = Xu(e, i);
        return i.text = i.node = p.pre, p.bgClass && (i.bgClass = p.bgClass), p.textClass && (i.textClass = p.textClass), fl(e, i), Ju(e, i, u, s), Zu(e, i, s), i.node;
      }
      function Zu(e, i, u) {
        if (qu(e, i.line, i, u, true), i.rest)
          for (var s = 0; s < i.rest.length; s++)
            qu(e, i.rest[s], i, u, false);
      }
      function qu(e, i, u, s, p) {
        if (!!i.widgets)
          for (var _7 = Gr(u), P = 0, k = i.widgets; P < k.length; ++P) {
            var H = k[P], j = L("div", [H.node], "CodeMirror-linewidget" + (H.className ? " " + H.className : ""));
            H.handleMouseEvents || j.setAttribute("cm-ignore-events", "true"), _h(H, j, u, s), e.display.input.setUneditable(j), p && H.above ? _7.insertBefore(j, u.gutter || u.text) : _7.appendChild(j), jt(H, "redraw");
          }
      }
      function _h(e, i, u, s) {
        if (e.noHScroll) {
          (u.alignable || (u.alignable = [])).push(i);
          var p = s.wrapperWidth;
          i.style.left = s.fixedPos + "px", e.coverGutter || (p -= s.gutterTotalWidth, i.style.paddingLeft = s.gutterTotalWidth + "px"), i.style.width = p + "px";
        }
        e.coverGutter && (i.style.zIndex = 5, i.style.position = "relative", e.noHScroll || (i.style.marginLeft = -s.gutterTotalWidth + "px"));
      }
      function Qr(e) {
        if (e.height != null)
          return e.height;
        var i = e.doc.cm;
        if (!i)
          return 0;
        if (!J(document.body, e.node)) {
          var u = "position: relative;";
          e.coverGutter && (u += "margin-left: -" + i.display.gutters.offsetWidth + "px;"), e.noHScroll && (u += "width: " + i.display.wrapper.clientWidth + "px;"), U(i.display.measure, L("div", [e.node], null, u));
        }
        return e.height = e.node.parentNode.offsetHeight;
      }
      function ui(e, i) {
        for (var u = an(i); u != e.wrapper; u = u.parentNode)
          if (!u || u.nodeType == 1 && u.getAttribute("cm-ignore-events") == "true" || u.parentNode == e.sizer && u != e.mover)
            return true;
      }
      function Jo(e) {
        return e.lineSpace.offsetTop;
      }
      function dl(e) {
        return e.mover.offsetHeight - e.lineSpace.offsetHeight;
      }
      function ef(e) {
        if (e.cachedPaddingH)
          return e.cachedPaddingH;
        var i = U(e.measure, L("pre", "x", "CodeMirror-line-like")), u = window.getComputedStyle ? window.getComputedStyle(i) : i.currentStyle, s = { left: parseInt(u.paddingLeft), right: parseInt(u.paddingRight) };
        return !isNaN(s.left) && !isNaN(s.right) && (e.cachedPaddingH = s), s;
      }
      function Yn(e) {
        return be - e.display.nativeBarWidth;
      }
      function $i(e) {
        return e.display.scroller.clientWidth - Yn(e) - e.display.barWidth;
      }
      function cl(e) {
        return e.display.scroller.clientHeight - Yn(e) - e.display.barHeight;
      }
      function Rh(e, i, u) {
        var s = e.options.lineWrapping, p = s && $i(e);
        if (!i.measure.heights || s && i.measure.width != p) {
          var _7 = i.measure.heights = [];
          if (s) {
            i.measure.width = p;
            for (var P = i.text.firstChild.getClientRects(), k = 0; k < P.length - 1; k++) {
              var H = P[k], j = P[k + 1];
              Math.abs(H.bottom - j.bottom) > 2 && _7.push((H.bottom + j.top) / 2 - u.top);
            }
          }
          _7.push(u.bottom - u.top);
        }
      }
      function tf(e, i, u) {
        if (e.line == i)
          return { map: e.measure.map, cache: e.measure.cache };
        if (e.rest) {
          for (var s = 0; s < e.rest.length; s++)
            if (e.rest[s] == i)
              return { map: e.measure.maps[s], cache: e.measure.caches[s] };
          for (var p = 0; p < e.rest.length; p++)
            if (ht(e.rest[p]) > u)
              return { map: e.measure.maps[p], cache: e.measure.caches[p], before: true };
        }
      }
      function Oh(e, i) {
        i = Fn(i);
        var u = ht(i), s = e.display.externalMeasured = new Qu(e.doc, i, u);
        s.lineN = u;
        var p = s.built = Ku(e, s);
        return s.text = p.pre, U(e.display.lineMeasure, p.pre), s;
      }
      function nf(e, i, u, s) {
        return Xn(e, sr(e, i), u, s);
      }
      function pl(e, i) {
        if (i >= e.display.viewFrom && i < e.display.viewTo)
          return e.display.view[ji(e, i)];
        var u = e.display.externalMeasured;
        if (u && i >= u.lineN && i < u.lineN + u.size)
          return u;
      }
      function sr(e, i) {
        var u = ht(i), s = pl(e, u);
        s && !s.text ? s = null : s && s.changes && (Yu(e, s, u, yl(e)), e.curOp.forceUpdate = true), s || (s = Oh(e, i));
        var p = tf(s, i, u);
        return {
          line: i,
          view: s,
          rect: null,
          map: p.map,
          cache: p.cache,
          before: p.before,
          hasHeights: false
        };
      }
      function Xn(e, i, u, s, p) {
        i.before && (u = -1);
        var _7 = u + (s || ""), P;
        return i.cache.hasOwnProperty(_7) ? P = i.cache[_7] : (i.rect || (i.rect = i.view.text.getBoundingClientRect()), i.hasHeights || (Rh(e, i.view, i.rect), i.hasHeights = true), P = Ih(e, i, u, s), P.bogus || (i.cache[_7] = P)), {
          left: P.left,
          right: P.right,
          top: p ? P.rtop : P.top,
          bottom: p ? P.rbottom : P.bottom
        };
      }
      var rf = { left: 0, right: 0, top: 0, bottom: 0 };
      function of(e, i, u) {
        for (var s, p, _7, P, k, H, j = 0; j < e.length; j += 3)
          if (k = e[j], H = e[j + 1], i < k ? (p = 0, _7 = 1, P = "left") : i < H ? (p = i - k, _7 = p + 1) : (j == e.length - 3 || i == H && e[j + 3] > i) && (_7 = H - k, p = _7 - 1, i >= H && (P = "right")), p != null) {
            if (s = e[j + 2], k == H && u == (s.insertLeft ? "left" : "right") && (P = u), u == "left" && p == 0)
              for (; j && e[j - 2] == e[j - 3] && e[j - 1].insertLeft; )
                s = e[(j -= 3) + 2], P = "left";
            if (u == "right" && p == H - k)
              for (; j < e.length - 3 && e[j + 3] == e[j + 4] && !e[j + 5].insertLeft; )
                s = e[(j += 3) + 2], P = "right";
            break;
          }
        return { node: s, start: p, end: _7, collapse: P, coverStart: k, coverEnd: H };
      }
      function Dh(e, i) {
        var u = rf;
        if (i == "left")
          for (var s = 0; s < e.length && (u = e[s]).left == u.right; s++)
            ;
        else
          for (var p = e.length - 1; p >= 0 && (u = e[p]).left == u.right; p--)
            ;
        return u;
      }
      function Ih(e, i, u, s) {
        var p = of(i.map, u, s), _7 = p.node, P = p.start, k = p.end, H = p.collapse, j;
        if (_7.nodeType == 3) {
          for (var Y = 0; Y < 4; Y++) {
            for (; P && Rn(i.line.text.charAt(p.coverStart + P)); )
              --P;
            for (; p.coverStart + k < p.coverEnd && Rn(i.line.text.charAt(p.coverStart + k)); )
              ++k;
            if (c && h2 < 9 && P == 0 && k == p.coverEnd - p.coverStart ? j = _7.parentNode.getBoundingClientRect() : j = Dh(Q(_7, P, k).getClientRects(), s), j.left || j.right || P == 0)
              break;
            k = P, P = P - 1, H = "right";
          }
          c && h2 < 11 && (j = Mh(e.display.measure, j));
        } else {
          P > 0 && (H = s = "right");
          var q;
          e.options.lineWrapping && (q = _7.getClientRects()).length > 1 ? j = q[s == "right" ? q.length - 1 : 0] : j = _7.getBoundingClientRect();
        }
        if (c && h2 < 9 && !P && (!j || !j.left && !j.right)) {
          var se = _7.parentNode.getClientRects()[0];
          se ? j = { left: se.left, right: se.left + fr(e.display), top: se.top, bottom: se.bottom } : j = rf;
        }
        for (var le = j.top - i.rect.top, ge = j.bottom - i.rect.top, Ae = (le + ge) / 2, Ce = i.view.measure.heights, xe = 0; xe < Ce.length - 1 && !(Ae < Ce[xe]); xe++)
          ;
        var De = xe ? Ce[xe - 1] : 0, Te = Ce[xe], Ne = {
          left: (H == "right" ? j.right : j.left) - i.rect.left,
          right: (H == "left" ? j.left : j.right) - i.rect.left,
          top: De,
          bottom: Te
        };
        return !j.left && !j.right && (Ne.bogus = true), e.options.singleCursorHeightPerLine || (Ne.rtop = le, Ne.rbottom = ge), Ne;
      }
      function Mh(e, i) {
        if (!window.screen || screen.logicalXDPI == null || screen.logicalXDPI == screen.deviceXDPI || !Vo(e))
          return i;
        var u = screen.logicalXDPI / screen.deviceXDPI, s = screen.logicalYDPI / screen.deviceYDPI;
        return {
          left: i.left * u,
          right: i.right * u,
          top: i.top * s,
          bottom: i.bottom * s
        };
      }
      function af(e) {
        if (e.measure && (e.measure.cache = {}, e.measure.heights = null, e.rest))
          for (var i = 0; i < e.rest.length; i++)
            e.measure.caches[i] = {};
      }
      function lf(e) {
        e.display.externalMeasure = null, $(e.display.lineMeasure);
        for (var i = 0; i < e.display.view.length; i++)
          af(e.display.view[i]);
      }
      function Yr(e) {
        lf(e), e.display.cachedCharWidth = e.display.cachedTextHeight = e.display.cachedPaddingH = null, e.options.lineWrapping || (e.display.maxLineChanged = true), e.display.lineNumChars = null;
      }
      function sf(e) {
        return w && T ? -(e.body.getBoundingClientRect().left - parseInt(getComputedStyle(e.body).marginLeft)) : e.defaultView.pageXOffset || (e.documentElement || e.body).scrollLeft;
      }
      function uf(e) {
        return w && T ? -(e.body.getBoundingClientRect().top - parseInt(getComputedStyle(e.body).marginTop)) : e.defaultView.pageYOffset || (e.documentElement || e.body).scrollTop;
      }
      function hl(e) {
        var i = Fn(e), u = i.widgets, s = 0;
        if (u)
          for (var p = 0; p < u.length; ++p)
            u[p].above && (s += Qr(u[p]));
        return s;
      }
      function Zo(e, i, u, s, p) {
        if (!p) {
          var _7 = hl(i);
          u.top += _7, u.bottom += _7;
        }
        if (s == "line")
          return u;
        s || (s = "local");
        var P = si(i);
        if (s == "local" ? P += Jo(e.display) : P -= e.display.viewOffset, s == "page" || s == "window") {
          var k = e.display.lineSpace.getBoundingClientRect();
          P += k.top + (s == "window" ? 0 : uf(G(e)));
          var H = k.left + (s == "window" ? 0 : sf(G(e)));
          u.left += H, u.right += H;
        }
        return u.top += P, u.bottom += P, u;
      }
      function ff(e, i, u) {
        if (u == "div")
          return i;
        var s = i.left, p = i.top;
        if (u == "page")
          s -= sf(G(e)), p -= uf(G(e));
        else if (u == "local" || !u) {
          var _7 = e.display.sizer.getBoundingClientRect();
          s += _7.left, p += _7.top;
        }
        var P = e.display.lineSpace.getBoundingClientRect();
        return { left: s - P.left, top: p - P.top };
      }
      function qo(e, i, u, s, p) {
        return s || (s = ke(e.doc, i.line)), Zo(e, s, nf(e, s, i.ch, p), u);
      }
      function kn(e, i, u, s, p, _7) {
        s = s || ke(e.doc, i.line), p || (p = sr(e, s));
        function P(ge, Ae) {
          var Ce = Xn(e, p, ge, Ae ? "right" : "left", _7);
          return Ae ? Ce.left = Ce.right : Ce.right = Ce.left, Zo(e, s, Ce, u);
        }
        var k = ze(s, e.doc.direction), H = i.ch, j = i.sticky;
        if (H >= s.text.length ? (H = s.text.length, j = "before") : H <= 0 && (H = 0, j = "after"), !k)
          return P(j == "before" ? H - 1 : H, j == "before");
        function Y(ge, Ae, Ce) {
          var xe = k[Ae], De = xe.level == 1;
          return P(Ce ? ge - 1 : ge, De != Ce);
        }
        var q = Ie(k, H, j), se = rt, le = Y(H, q, j == "before");
        return se != null && (le.other = Y(H, se, j != "before")), le;
      }
      function df(e, i) {
        var u = 0;
        i = We(e.doc, i), e.options.lineWrapping || (u = fr(e.display) * i.ch);
        var s = ke(e.doc, i.line), p = si(s) + Jo(e.display);
        return { left: u, right: u, top: p, bottom: p + s.height };
      }
      function vl(e, i, u, s, p) {
        var _7 = oe(e, i, u);
        return _7.xRel = p, s && (_7.outside = s), _7;
      }
      function ml(e, i, u) {
        var s = e.doc;
        if (u += e.display.viewOffset, u < 0)
          return vl(s.first, 0, null, -1, -1);
        var p = Gn(s, u), _7 = s.first + s.size - 1;
        if (p > _7)
          return vl(s.first + s.size - 1, ke(s, _7).text.length, null, 1, 1);
        i < 0 && (i = 0);
        for (var P = ke(s, p); ; ) {
          var k = Ph(e, P, p, i, u), H = lh(P, k.ch + (k.xRel > 0 || k.outside > 0 ? 1 : 0));
          if (!H)
            return k;
          var j = H.find(1);
          if (j.line == p)
            return j;
          P = ke(s, p = j.line);
        }
      }
      function cf(e, i, u, s) {
        s -= hl(i);
        var p = i.text.length, _7 = ct(function(P) {
          return Xn(e, u, P - 1).bottom <= s;
        }, p, 0);
        return p = ct(function(P) {
          return Xn(e, u, P).top > s;
        }, _7, p), { begin: _7, end: p };
      }
      function pf(e, i, u, s) {
        u || (u = sr(e, i));
        var p = Zo(e, i, Xn(e, u, s), "line").top;
        return cf(e, i, u, p);
      }
      function gl(e, i, u, s) {
        return e.bottom <= u ? false : e.top > u ? true : (s ? e.left : e.right) > i;
      }
      function Ph(e, i, u, s, p) {
        p -= si(i);
        var _7 = sr(e, i), P = hl(i), k = 0, H = i.text.length, j = true, Y = ze(i, e.doc.direction);
        if (Y) {
          var q = (e.options.lineWrapping ? Lh : Nh)(e, i, u, _7, Y, s, p);
          j = q.level != 1, k = j ? q.from : q.to - 1, H = j ? q.to : q.from - 1;
        }
        var se = null, le = null, ge = ct(function(Ve) {
          var He = Xn(e, _7, Ve);
          return He.top += P, He.bottom += P, gl(He, s, p, false) ? (He.top <= p && He.left <= s && (se = Ve, le = He), true) : false;
        }, k, H), Ae, Ce, xe = false;
        if (le) {
          var De = s - le.left < le.right - s, Te = De == j;
          ge = se + (Te ? 0 : 1), Ce = Te ? "after" : "before", Ae = De ? le.left : le.right;
        } else {
          !j && (ge == H || ge == k) && ge++, Ce = ge == 0 ? "after" : ge == i.text.length ? "before" : Xn(e, _7, ge - (j ? 1 : 0)).bottom + P <= p == j ? "after" : "before";
          var Ne = kn(e, oe(u, ge, Ce), "line", i, _7);
          Ae = Ne.left, xe = p < Ne.top ? -1 : p >= Ne.bottom ? 1 : 0;
        }
        return ge = kt(i.text, ge, 1), vl(u, ge, Ce, xe, s - Ae);
      }
      function Nh(e, i, u, s, p, _7, P) {
        var k = ct(function(q) {
          var se = p[q], le = se.level != 1;
          return gl(kn(
            e,
            oe(u, le ? se.to : se.from, le ? "before" : "after"),
            "line",
            i,
            s
          ), _7, P, true);
        }, 0, p.length - 1), H = p[k];
        if (k > 0) {
          var j = H.level != 1, Y = kn(
            e,
            oe(u, j ? H.from : H.to, j ? "after" : "before"),
            "line",
            i,
            s
          );
          gl(Y, _7, P, true) && Y.top > P && (H = p[k - 1]);
        }
        return H;
      }
      function Lh(e, i, u, s, p, _7, P) {
        var k = cf(e, i, s, P), H = k.begin, j = k.end;
        /\s/.test(i.text.charAt(j - 1)) && j--;
        for (var Y = null, q = null, se = 0; se < p.length; se++) {
          var le = p[se];
          if (!(le.from >= j || le.to <= H)) {
            var ge = le.level != 1, Ae = Xn(e, s, ge ? Math.min(j, le.to) - 1 : Math.max(H, le.from)).right, Ce = Ae < _7 ? _7 - Ae + 1e9 : Ae - _7;
            (!Y || q > Ce) && (Y = le, q = Ce);
          }
        }
        return Y || (Y = p[p.length - 1]), Y.from < H && (Y = { from: H, to: Y.to, level: Y.level }), Y.to > j && (Y = { from: Y.from, to: j, level: Y.level }), Y;
      }
      var Hi;
      function ur(e) {
        if (e.cachedTextHeight != null)
          return e.cachedTextHeight;
        if (Hi == null) {
          Hi = L("pre", null, "CodeMirror-line-like");
          for (var i = 0; i < 49; ++i)
            Hi.appendChild(document.createTextNode("x")), Hi.appendChild(L("br"));
          Hi.appendChild(document.createTextNode("x"));
        }
        U(e.measure, Hi);
        var u = Hi.offsetHeight / 50;
        return u > 3 && (e.cachedTextHeight = u), $(e.measure), u || 1;
      }
      function fr(e) {
        if (e.cachedCharWidth != null)
          return e.cachedCharWidth;
        var i = L("span", "xxxxxxxxxx"), u = L("pre", [i], "CodeMirror-line-like");
        U(e.measure, u);
        var s = i.getBoundingClientRect(), p = (s.right - s.left) / 10;
        return p > 2 && (e.cachedCharWidth = p), p || 10;
      }
      function yl(e) {
        for (var i = e.display, u = {}, s = {}, p = i.gutters.clientLeft, _7 = i.gutters.firstChild, P = 0; _7; _7 = _7.nextSibling, ++P) {
          var k = e.display.gutterSpecs[P].className;
          u[k] = _7.offsetLeft + _7.clientLeft + p, s[k] = _7.clientWidth;
        }
        return {
          fixedPos: bl(i),
          gutterTotalWidth: i.gutters.offsetWidth,
          gutterLeft: u,
          gutterWidth: s,
          wrapperWidth: i.wrapper.clientWidth
        };
      }
      function bl(e) {
        return e.scroller.getBoundingClientRect().left - e.sizer.getBoundingClientRect().left;
      }
      function hf(e) {
        var i = ur(e.display), u = e.options.lineWrapping, s = u && Math.max(5, e.display.scroller.clientWidth / fr(e.display) - 3);
        return function(p) {
          if (Ei(e.doc, p))
            return 0;
          var _7 = 0;
          if (p.widgets)
            for (var P = 0; P < p.widgets.length; P++)
              p.widgets[P].height && (_7 += p.widgets[P].height);
          return u ? _7 + (Math.ceil(p.text.length / s) || 1) * i : _7 + i;
        };
      }
      function Al(e) {
        var i = e.doc, u = hf(e);
        i.iter(function(s) {
          var p = u(s);
          p != s.height && In(s, p);
        });
      }
      function Vi(e, i, u, s) {
        var p = e.display;
        if (!u && an(i).getAttribute("cm-not-content") == "true")
          return null;
        var _7, P, k = p.lineSpace.getBoundingClientRect();
        try {
          _7 = i.clientX - k.left, P = i.clientY - k.top;
        } catch {
          return null;
        }
        var H = ml(e, _7, P), j;
        if (s && H.xRel > 0 && (j = ke(e.doc, H.line).text).length == H.ch) {
          var Y = ce(j, j.length, e.options.tabSize) - j.length;
          H = oe(H.line, Math.max(0, Math.round((_7 - ef(e.display).left) / fr(e.display)) - Y));
        }
        return H;
      }
      function ji(e, i) {
        if (i >= e.display.viewTo || (i -= e.display.viewFrom, i < 0))
          return null;
        for (var u = e.display.view, s = 0; s < u.length; s++)
          if (i -= u[s].size, i < 0)
            return s;
      }
      function ln(e, i, u, s) {
        i == null && (i = e.doc.first), u == null && (u = e.doc.first + e.doc.size), s || (s = 0);
        var p = e.display;
        if (s && u < p.viewTo && (p.updateLineNumbers == null || p.updateLineNumbers > i) && (p.updateLineNumbers = i), e.curOp.viewChanged = true, i >= p.viewTo)
          li && ll(e.doc, i) < p.viewTo && Ti(e);
        else if (u <= p.viewFrom)
          li && Uu(e.doc, u + s) > p.viewFrom ? Ti(e) : (p.viewFrom += s, p.viewTo += s);
        else if (i <= p.viewFrom && u >= p.viewTo)
          Ti(e);
        else if (i <= p.viewFrom) {
          var _7 = ea(e, u, u + s, 1);
          _7 ? (p.view = p.view.slice(_7.index), p.viewFrom = _7.lineN, p.viewTo += s) : Ti(e);
        } else if (u >= p.viewTo) {
          var P = ea(e, i, i, -1);
          P ? (p.view = p.view.slice(0, P.index), p.viewTo = P.lineN) : Ti(e);
        } else {
          var k = ea(e, i, i, -1), H = ea(e, u, u + s, 1);
          k && H ? (p.view = p.view.slice(0, k.index).concat(Xo(e, k.lineN, H.lineN)).concat(p.view.slice(H.index)), p.viewTo += s) : Ti(e);
        }
        var j = p.externalMeasured;
        j && (u < j.lineN ? j.lineN += s : i < j.lineN + j.size && (p.externalMeasured = null));
      }
      function xi(e, i, u) {
        e.curOp.viewChanged = true;
        var s = e.display, p = e.display.externalMeasured;
        if (p && i >= p.lineN && i < p.lineN + p.size && (s.externalMeasured = null), !(i < s.viewFrom || i >= s.viewTo)) {
          var _7 = s.view[ji(e, i)];
          if (_7.node != null) {
            var P = _7.changes || (_7.changes = []);
            ne(P, u) == -1 && P.push(u);
          }
        }
      }
      function Ti(e) {
        e.display.viewFrom = e.display.viewTo = e.doc.first, e.display.view = [], e.display.viewOffset = 0;
      }
      function ea(e, i, u, s) {
        var p = ji(e, i), _7, P = e.display.view;
        if (!li || u == e.doc.first + e.doc.size)
          return { index: p, lineN: u };
        for (var k = e.display.viewFrom, H = 0; H < p; H++)
          k += P[H].size;
        if (k != i) {
          if (s > 0) {
            if (p == P.length - 1)
              return null;
            _7 = k + P[p].size - i, p++;
          } else
            _7 = k - i;
          i += _7, u += _7;
        }
        for (; ll(e.doc, u) != u; ) {
          if (p == (s < 0 ? 0 : P.length - 1))
            return null;
          u += s * P[p - (s < 0 ? 1 : 0)].size, p += s;
        }
        return { index: p, lineN: u };
      }
      function Fh(e, i, u) {
        var s = e.display, p = s.view;
        p.length == 0 || i >= s.viewTo || u <= s.viewFrom ? (s.view = Xo(e, i, u), s.viewFrom = i) : (s.viewFrom > i ? s.view = Xo(e, i, s.viewFrom).concat(s.view) : s.viewFrom < i && (s.view = s.view.slice(ji(e, i))), s.viewFrom = i, s.viewTo < u ? s.view = s.view.concat(Xo(e, s.viewTo, u)) : s.viewTo > u && (s.view = s.view.slice(0, ji(e, u)))), s.viewTo = u;
      }
      function vf(e) {
        for (var i = e.display.view, u = 0, s = 0; s < i.length; s++) {
          var p = i[s];
          !p.hidden && (!p.node || p.changes) && ++u;
        }
        return u;
      }
      function Xr(e) {
        e.display.input.showSelection(e.display.input.prepareSelection());
      }
      function mf(e, i) {
        i === void 0 && (i = true);
        var u = e.doc, s = {}, p = s.cursors = document.createDocumentFragment(), _7 = s.selection = document.createDocumentFragment(), P = e.options.$customCursor;
        P && (i = true);
        for (var k = 0; k < u.sel.ranges.length; k++)
          if (!(!i && k == u.sel.primIndex)) {
            var H = u.sel.ranges[k];
            if (!(H.from().line >= e.display.viewTo || H.to().line < e.display.viewFrom)) {
              var j = H.empty();
              if (P) {
                var Y = P(e, H);
                Y && wl(e, Y, p);
              } else
                (j || e.options.showCursorWhenSelecting) && wl(e, H.head, p);
              j || kh(e, H, _7);
            }
          }
        return s;
      }
      function wl(e, i, u) {
        var s = kn(e, i, "div", null, null, !e.options.singleCursorHeightPerLine), p = u.appendChild(L("div", " ", "CodeMirror-cursor"));
        if (p.style.left = s.left + "px", p.style.top = s.top + "px", p.style.height = Math.max(0, s.bottom - s.top) * e.options.cursorHeight + "px", /\bcm-fat-cursor\b/.test(e.getWrapperElement().className)) {
          var _7 = qo(e, i, "div", null, null), P = _7.right - _7.left;
          p.style.width = (P > 0 ? P : e.defaultCharWidth()) + "px";
        }
        if (s.other) {
          var k = u.appendChild(L("div", " ", "CodeMirror-cursor CodeMirror-secondarycursor"));
          k.style.display = "", k.style.left = s.other.left + "px", k.style.top = s.other.top + "px", k.style.height = (s.other.bottom - s.other.top) * 0.85 + "px";
        }
      }
      function ta(e, i) {
        return e.top - i.top || e.left - i.left;
      }
      function kh(e, i, u) {
        var s = e.display, p = e.doc, _7 = document.createDocumentFragment(), P = ef(e.display), k = P.left, H = Math.max(s.sizerWidth, $i(e) - s.sizer.offsetLeft) - P.right, j = p.direction == "ltr";
        function Y(Te, Ne, Ve, He) {
          Ne < 0 && (Ne = 0), Ne = Math.round(Ne), He = Math.round(He), _7.appendChild(L("div", null, "CodeMirror-selected", "position: absolute; left: " + Te + `px;
                             top: ` + Ne + "px; width: " + (Ve == null ? H - Te : Ve) + `px;
                             height: ` + (He - Ne) + "px"));
        }
        function q(Te, Ne, Ve) {
          var He = ke(p, Te), qe = He.text.length, At, Wt;
          function Tt(Nt, fn) {
            return qo(e, oe(Te, Nt), "div", He, fn);
          }
          function yn(Nt, fn, Xt) {
            var $t = pf(e, He, null, Nt), Lt = fn == "ltr" == (Xt == "after") ? "left" : "right", Ot = Xt == "after" ? $t.begin : $t.end - (/\s/.test(He.text.charAt($t.end - 1)) ? 2 : 1);
            return Tt(Ot, Lt)[Lt];
          }
          var un = ze(He, p.direction);
          return vn(un, Ne || 0, Ve == null ? qe : Ve, function(Nt, fn, Xt, $t) {
            var Lt = Xt == "ltr", Ot = Tt(Nt, Lt ? "left" : "right"), dn = Tt(fn - 1, Lt ? "right" : "left"), Sr = Ne == null && Nt == 0, Mi = Ve == null && fn == qe, qt = $t == 0, Jn = !un || $t == un.length - 1;
            if (dn.top - Ot.top <= 3) {
              var Kt = (j ? Sr : Mi) && qt, Gl = (j ? Mi : Sr) && Jn, ci = Kt ? k : (Lt ? Ot : dn).left, Gi = Gl ? H : (Lt ? dn : Ot).right;
              Y(ci, Ot.top, Gi - ci, Ot.bottom);
            } else {
              var Qi, nn, Er, Ql;
              Lt ? (Qi = j && Sr && qt ? k : Ot.left, nn = j ? H : yn(Nt, Xt, "before"), Er = j ? k : yn(fn, Xt, "after"), Ql = j && Mi && Jn ? H : dn.right) : (Qi = j ? yn(Nt, Xt, "before") : k, nn = !j && Sr && qt ? H : Ot.right, Er = !j && Mi && Jn ? k : dn.left, Ql = j ? yn(fn, Xt, "after") : H), Y(Qi, Ot.top, nn - Qi, Ot.bottom), Ot.bottom < dn.top && Y(k, Ot.bottom, null, dn.top), Y(Er, dn.top, Ql - Er, dn.bottom);
            }
            (!At || ta(Ot, At) < 0) && (At = Ot), ta(dn, At) < 0 && (At = dn), (!Wt || ta(Ot, Wt) < 0) && (Wt = Ot), ta(dn, Wt) < 0 && (Wt = dn);
          }), { start: At, end: Wt };
        }
        var se = i.from(), le = i.to();
        if (se.line == le.line)
          q(se.line, se.ch, le.ch);
        else {
          var ge = ke(p, se.line), Ae = ke(p, le.line), Ce = Fn(ge) == Fn(Ae), xe = q(se.line, se.ch, Ce ? ge.text.length + 1 : null).end, De = q(le.line, Ce ? 0 : null, le.ch).start;
          Ce && (xe.top < De.top - 2 ? (Y(xe.right, xe.top, null, xe.bottom), Y(k, De.top, De.left, De.bottom)) : Y(xe.right, xe.top, De.left - xe.right, xe.bottom)), xe.bottom < De.top && Y(k, xe.bottom, null, De.top);
        }
        u.appendChild(_7);
      }
      function Cl(e) {
        if (!!e.state.focused) {
          var i = e.display;
          clearInterval(i.blinker);
          var u = true;
          i.cursorDiv.style.visibility = "", e.options.cursorBlinkRate > 0 ? i.blinker = setInterval(function() {
            e.hasFocus() || dr(e), i.cursorDiv.style.visibility = (u = !u) ? "" : "hidden";
          }, e.options.cursorBlinkRate) : e.options.cursorBlinkRate < 0 && (i.cursorDiv.style.visibility = "hidden");
        }
      }
      function gf(e) {
        e.hasFocus() || (e.display.input.focus(), e.state.focused || El(e));
      }
      function Sl(e) {
        e.state.delayingBlurEvent = true, setTimeout(function() {
          e.state.delayingBlurEvent && (e.state.delayingBlurEvent = false, e.state.focused && dr(e));
        }, 100);
      }
      function El(e, i) {
        e.state.delayingBlurEvent && !e.state.draggingText && (e.state.delayingBlurEvent = false), e.options.readOnly != "nocursor" && (e.state.focused || (Fe(e, "focus", e, i), e.state.focused = true, M(e.display.wrapper, "CodeMirror-focused"), !e.curOp && e.display.selForContextMenu != e.doc.sel && (e.display.input.reset(), m && setTimeout(function() {
          return e.display.input.reset(true);
        }, 20)), e.display.input.receivedFocus()), Cl(e));
      }
      function dr(e, i) {
        e.state.delayingBlurEvent || (e.state.focused && (Fe(e, "blur", e, i), e.state.focused = false, F(e.display.wrapper, "CodeMirror-focused")), clearInterval(e.display.blinker), setTimeout(function() {
          e.state.focused || (e.display.shift = false);
        }, 150));
      }
      function na(e) {
        for (var i = e.display, u = i.lineDiv.offsetTop, s = Math.max(0, i.scroller.getBoundingClientRect().top), p = i.lineDiv.getBoundingClientRect().top, _7 = 0, P = 0; P < i.view.length; P++) {
          var k = i.view[P], H = e.options.lineWrapping, j = void 0, Y = 0;
          if (!k.hidden) {
            if (p += k.line.height, c && h2 < 8) {
              var q = k.node.offsetTop + k.node.offsetHeight;
              j = q - u, u = q;
            } else {
              var se = k.node.getBoundingClientRect();
              j = se.bottom - se.top, !H && k.text.firstChild && (Y = k.text.firstChild.getBoundingClientRect().right - se.left - 1);
            }
            var le = k.line.height - j;
            if ((le > 5e-3 || le < -5e-3) && (p < s && (_7 -= le), In(k.line, j), yf(k.line), k.rest))
              for (var ge = 0; ge < k.rest.length; ge++)
                yf(k.rest[ge]);
            if (Y > e.display.sizerWidth) {
              var Ae = Math.ceil(Y / fr(e.display));
              Ae > e.display.maxLineLength && (e.display.maxLineLength = Ae, e.display.maxLine = k.line, e.display.maxLineChanged = true);
            }
          }
        }
        Math.abs(_7) > 2 && (i.scroller.scrollTop += _7);
      }
      function yf(e) {
        if (e.widgets)
          for (var i = 0; i < e.widgets.length; ++i) {
            var u = e.widgets[i], s = u.node.parentNode;
            s && (u.height = s.offsetHeight);
          }
      }
      function ia(e, i, u) {
        var s = u && u.top != null ? Math.max(0, u.top) : e.scroller.scrollTop;
        s = Math.floor(s - Jo(e));
        var p = u && u.bottom != null ? u.bottom : s + e.wrapper.clientHeight, _7 = Gn(i, s), P = Gn(i, p);
        if (u && u.ensure) {
          var k = u.ensure.from.line, H = u.ensure.to.line;
          k < _7 ? (_7 = k, P = Gn(i, si(ke(i, k)) + e.wrapper.clientHeight)) : Math.min(H, i.lastLine()) >= P && (_7 = Gn(i, si(ke(i, H)) - e.wrapper.clientHeight), P = H);
        }
        return { from: _7, to: Math.max(P, _7 + 1) };
      }
      function Bh(e, i) {
        if (!Ye(e, "scrollCursorIntoView")) {
          var u = e.display, s = u.sizer.getBoundingClientRect(), p = null, _7 = u.wrapper.ownerDocument;
          if (i.top + s.top < 0 ? p = true : i.bottom + s.top > (_7.defaultView.innerHeight || _7.documentElement.clientHeight) && (p = false), p != null && !v) {
            var P = L("div", "​", null, `position: absolute;
                         top: ` + (i.top - u.viewOffset - Jo(e.display)) + `px;
                         height: ` + (i.bottom - i.top + Yn(e) + u.barHeight) + `px;
                         left: ` + i.left + "px; width: " + Math.max(2, i.right - i.left) + "px;");
            e.display.lineSpace.appendChild(P), P.scrollIntoView(p), e.display.lineSpace.removeChild(P);
          }
        }
      }
      function $h(e, i, u, s) {
        s == null && (s = 0);
        var p;
        !e.options.lineWrapping && i == u && (u = i.sticky == "before" ? oe(i.line, i.ch + 1, "before") : i, i = i.ch ? oe(i.line, i.sticky == "before" ? i.ch - 1 : i.ch, "after") : i);
        for (var _7 = 0; _7 < 5; _7++) {
          var P = false, k = kn(e, i), H = !u || u == i ? k : kn(e, u);
          p = {
            left: Math.min(k.left, H.left),
            top: Math.min(k.top, H.top) - s,
            right: Math.max(k.left, H.left),
            bottom: Math.max(k.bottom, H.bottom) + s
          };
          var j = xl(e, p), Y = e.doc.scrollTop, q = e.doc.scrollLeft;
          if (j.scrollTop != null && (Zr(e, j.scrollTop), Math.abs(e.doc.scrollTop - Y) > 1 && (P = true)), j.scrollLeft != null && (zi(e, j.scrollLeft), Math.abs(e.doc.scrollLeft - q) > 1 && (P = true)), !P)
            break;
        }
        return p;
      }
      function Hh(e, i) {
        var u = xl(e, i);
        u.scrollTop != null && Zr(e, u.scrollTop), u.scrollLeft != null && zi(e, u.scrollLeft);
      }
      function xl(e, i) {
        var u = e.display, s = ur(e.display);
        i.top < 0 && (i.top = 0);
        var p = e.curOp && e.curOp.scrollTop != null ? e.curOp.scrollTop : u.scroller.scrollTop, _7 = cl(e), P = {};
        i.bottom - i.top > _7 && (i.bottom = i.top + _7);
        var k = e.doc.height + dl(u), H = i.top < s, j = i.bottom > k - s;
        if (i.top < p)
          P.scrollTop = H ? 0 : i.top;
        else if (i.bottom > p + _7) {
          var Y = Math.min(i.top, (j ? k : i.bottom) - _7);
          Y != p && (P.scrollTop = Y);
        }
        var q = e.options.fixedGutter ? 0 : u.gutters.offsetWidth, se = e.curOp && e.curOp.scrollLeft != null ? e.curOp.scrollLeft : u.scroller.scrollLeft - q, le = $i(e) - u.gutters.offsetWidth, ge = i.right - i.left > le;
        return ge && (i.right = i.left + le), i.left < 10 ? P.scrollLeft = 0 : i.left < se ? P.scrollLeft = Math.max(0, i.left + q - (ge ? 0 : 10)) : i.right > le + se - 3 && (P.scrollLeft = i.right + (ge ? 0 : 10) - le), P;
      }
      function Tl(e, i) {
        i != null && (ra(e), e.curOp.scrollTop = (e.curOp.scrollTop == null ? e.doc.scrollTop : e.curOp.scrollTop) + i);
      }
      function cr(e) {
        ra(e);
        var i = e.getCursor();
        e.curOp.scrollToPos = { from: i, to: i, margin: e.options.cursorScrollMargin };
      }
      function Jr(e, i, u) {
        (i != null || u != null) && ra(e), i != null && (e.curOp.scrollLeft = i), u != null && (e.curOp.scrollTop = u);
      }
      function Vh(e, i) {
        ra(e), e.curOp.scrollToPos = i;
      }
      function ra(e) {
        var i = e.curOp.scrollToPos;
        if (i) {
          e.curOp.scrollToPos = null;
          var u = df(e, i.from), s = df(e, i.to);
          bf(e, u, s, i.margin);
        }
      }
      function bf(e, i, u, s) {
        var p = xl(e, {
          left: Math.min(i.left, u.left),
          top: Math.min(i.top, u.top) - s,
          right: Math.max(i.right, u.right),
          bottom: Math.max(i.bottom, u.bottom) + s
        });
        Jr(e, p.scrollLeft, p.scrollTop);
      }
      function Zr(e, i) {
        Math.abs(e.doc.scrollTop - i) < 2 || (n || Rl(e, { top: i }), Af(e, i, true), n && Rl(e), to(e, 100));
      }
      function Af(e, i, u) {
        i = Math.max(0, Math.min(e.display.scroller.scrollHeight - e.display.scroller.clientHeight, i)), !(e.display.scroller.scrollTop == i && !u) && (e.doc.scrollTop = i, e.display.scrollbars.setScrollTop(i), e.display.scroller.scrollTop != i && (e.display.scroller.scrollTop = i));
      }
      function zi(e, i, u, s) {
        i = Math.max(0, Math.min(i, e.display.scroller.scrollWidth - e.display.scroller.clientWidth)), !((u ? i == e.doc.scrollLeft : Math.abs(e.doc.scrollLeft - i) < 2) && !s) && (e.doc.scrollLeft = i, xf(e), e.display.scroller.scrollLeft != i && (e.display.scroller.scrollLeft = i), e.display.scrollbars.setScrollLeft(i));
      }
      function qr(e) {
        var i = e.display, u = i.gutters.offsetWidth, s = Math.round(e.doc.height + dl(e.display));
        return {
          clientHeight: i.scroller.clientHeight,
          viewHeight: i.wrapper.clientHeight,
          scrollWidth: i.scroller.scrollWidth,
          clientWidth: i.scroller.clientWidth,
          viewWidth: i.wrapper.clientWidth,
          barLeft: e.options.fixedGutter ? u : 0,
          docHeight: s,
          scrollHeight: s + Yn(e) + i.barHeight,
          nativeBarWidth: i.nativeBarWidth,
          gutterWidth: u
        };
      }
      var Ui = function(e, i, u) {
        this.cm = u;
        var s = this.vert = L("div", [L("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar"), p = this.horiz = L("div", [L("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
        s.tabIndex = p.tabIndex = -1, e(s), e(p), he(s, "scroll", function() {
          s.clientHeight && i(s.scrollTop, "vertical");
        }), he(p, "scroll", function() {
          p.clientWidth && i(p.scrollLeft, "horizontal");
        }), this.checkedZeroWidth = false, c && h2 < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = "18px");
      };
      Ui.prototype.update = function(e) {
        var i = e.scrollWidth > e.clientWidth + 1, u = e.scrollHeight > e.clientHeight + 1, s = e.nativeBarWidth;
        if (u) {
          this.vert.style.display = "block", this.vert.style.bottom = i ? s + "px" : "0";
          var p = e.viewHeight - (i ? s : 0);
          this.vert.firstChild.style.height = Math.max(0, e.scrollHeight - e.clientHeight + p) + "px";
        } else
          this.vert.scrollTop = 0, this.vert.style.display = "", this.vert.firstChild.style.height = "0";
        if (i) {
          this.horiz.style.display = "block", this.horiz.style.right = u ? s + "px" : "0", this.horiz.style.left = e.barLeft + "px";
          var _7 = e.viewWidth - e.barLeft - (u ? s : 0);
          this.horiz.firstChild.style.width = Math.max(0, e.scrollWidth - e.clientWidth + _7) + "px";
        } else
          this.horiz.style.display = "", this.horiz.firstChild.style.width = "0";
        return !this.checkedZeroWidth && e.clientHeight > 0 && (s == 0 && this.zeroWidthHack(), this.checkedZeroWidth = true), { right: u ? s : 0, bottom: i ? s : 0 };
      }, Ui.prototype.setScrollLeft = function(e) {
        this.horiz.scrollLeft != e && (this.horiz.scrollLeft = e), this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz");
      }, Ui.prototype.setScrollTop = function(e) {
        this.vert.scrollTop != e && (this.vert.scrollTop = e), this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, "vert");
      }, Ui.prototype.zeroWidthHack = function() {
        var e = D && !b ? "12px" : "18px";
        this.horiz.style.height = this.vert.style.width = e, this.horiz.style.visibility = this.vert.style.visibility = "hidden", this.disableHoriz = new fe(), this.disableVert = new fe();
      }, Ui.prototype.enableZeroWidthBar = function(e, i, u) {
        e.style.visibility = "";
        function s() {
          var p = e.getBoundingClientRect(), _7 = u == "vert" ? document.elementFromPoint(p.right - 1, (p.top + p.bottom) / 2) : document.elementFromPoint((p.right + p.left) / 2, p.bottom - 1);
          _7 != e ? e.style.visibility = "hidden" : i.set(1e3, s);
        }
        i.set(1e3, s);
      }, Ui.prototype.clear = function() {
        var e = this.horiz.parentNode;
        e.removeChild(this.horiz), e.removeChild(this.vert);
      };
      var eo = function() {
      };
      eo.prototype.update = function() {
        return { bottom: 0, right: 0 };
      }, eo.prototype.setScrollLeft = function() {
      }, eo.prototype.setScrollTop = function() {
      }, eo.prototype.clear = function() {
      };
      function pr(e, i) {
        i || (i = qr(e));
        var u = e.display.barWidth, s = e.display.barHeight;
        wf(e, i);
        for (var p = 0; p < 4 && u != e.display.barWidth || s != e.display.barHeight; p++)
          u != e.display.barWidth && e.options.lineWrapping && na(e), wf(e, qr(e)), u = e.display.barWidth, s = e.display.barHeight;
      }
      function wf(e, i) {
        var u = e.display, s = u.scrollbars.update(i);
        u.sizer.style.paddingRight = (u.barWidth = s.right) + "px", u.sizer.style.paddingBottom = (u.barHeight = s.bottom) + "px", u.heightForcer.style.borderBottom = s.bottom + "px solid transparent", s.right && s.bottom ? (u.scrollbarFiller.style.display = "block", u.scrollbarFiller.style.height = s.bottom + "px", u.scrollbarFiller.style.width = s.right + "px") : u.scrollbarFiller.style.display = "", s.bottom && e.options.coverGutterNextToScrollbar && e.options.fixedGutter ? (u.gutterFiller.style.display = "block", u.gutterFiller.style.height = s.bottom + "px", u.gutterFiller.style.width = i.gutterWidth + "px") : u.gutterFiller.style.display = "";
      }
      var Cf = { native: Ui, null: eo };
      function Sf(e) {
        e.display.scrollbars && (e.display.scrollbars.clear(), e.display.scrollbars.addClass && F(e.display.wrapper, e.display.scrollbars.addClass)), e.display.scrollbars = new Cf[e.options.scrollbarStyle](function(i) {
          e.display.wrapper.insertBefore(i, e.display.scrollbarFiller), he(i, "mousedown", function() {
            e.state.focused && setTimeout(function() {
              return e.display.input.focus();
            }, 0);
          }), i.setAttribute("cm-not-content", "true");
        }, function(i, u) {
          u == "horizontal" ? zi(e, i) : Zr(e, i);
        }, e), e.display.scrollbars.addClass && M(e.display.wrapper, e.display.scrollbars.addClass);
      }
      var jh = 0;
      function Wi(e) {
        e.curOp = {
          cm: e,
          viewChanged: false,
          startHeight: e.doc.height,
          forceUpdate: false,
          updateInput: 0,
          typing: false,
          changeObjs: null,
          cursorActivityHandlers: null,
          cursorActivityCalled: 0,
          selectionChanged: false,
          updateMaxLine: false,
          scrollLeft: null,
          scrollTop: null,
          scrollToPos: null,
          focus: false,
          id: ++jh,
          markArrays: null
        }, bh(e.curOp);
      }
      function Ki(e) {
        var i = e.curOp;
        i && wh(i, function(u) {
          for (var s = 0; s < u.ops.length; s++)
            u.ops[s].cm.curOp = null;
          zh(u);
        });
      }
      function zh(e) {
        for (var i = e.ops, u = 0; u < i.length; u++)
          Uh(i[u]);
        for (var s = 0; s < i.length; s++)
          Wh(i[s]);
        for (var p = 0; p < i.length; p++)
          Kh(i[p]);
        for (var _7 = 0; _7 < i.length; _7++)
          Gh(i[_7]);
        for (var P = 0; P < i.length; P++)
          Qh(i[P]);
      }
      function Uh(e) {
        var i = e.cm, u = i.display;
        Xh(i), e.updateMaxLine && ul(i), e.mustUpdate = e.viewChanged || e.forceUpdate || e.scrollTop != null || e.scrollToPos && (e.scrollToPos.from.line < u.viewFrom || e.scrollToPos.to.line >= u.viewTo) || u.maxLineChanged && i.options.lineWrapping, e.update = e.mustUpdate && new oa(i, e.mustUpdate && { top: e.scrollTop, ensure: e.scrollToPos }, e.forceUpdate);
      }
      function Wh(e) {
        e.updatedDisplay = e.mustUpdate && _l(e.cm, e.update);
      }
      function Kh(e) {
        var i = e.cm, u = i.display;
        e.updatedDisplay && na(i), e.barMeasure = qr(i), u.maxLineChanged && !i.options.lineWrapping && (e.adjustWidthTo = nf(i, u.maxLine, u.maxLine.text.length).left + 3, i.display.sizerWidth = e.adjustWidthTo, e.barMeasure.scrollWidth = Math.max(u.scroller.clientWidth, u.sizer.offsetLeft + e.adjustWidthTo + Yn(i) + i.display.barWidth), e.maxScrollLeft = Math.max(0, u.sizer.offsetLeft + e.adjustWidthTo - $i(i))), (e.updatedDisplay || e.selectionChanged) && (e.preparedSelection = u.input.prepareSelection());
      }
      function Gh(e) {
        var i = e.cm;
        e.adjustWidthTo != null && (i.display.sizer.style.minWidth = e.adjustWidthTo + "px", e.maxScrollLeft < i.doc.scrollLeft && zi(i, Math.min(i.display.scroller.scrollLeft, e.maxScrollLeft), true), i.display.maxLineChanged = false);
        var u = e.focus && e.focus == ae(G(i));
        e.preparedSelection && i.display.input.showSelection(e.preparedSelection, u), (e.updatedDisplay || e.startHeight != i.doc.height) && pr(i, e.barMeasure), e.updatedDisplay && Dl(i, e.barMeasure), e.selectionChanged && Cl(i), i.state.focused && e.updateInput && i.display.input.reset(e.typing), u && gf(e.cm);
      }
      function Qh(e) {
        var i = e.cm, u = i.display, s = i.doc;
        if (e.updatedDisplay && Ef(i, e.update), u.wheelStartX != null && (e.scrollTop != null || e.scrollLeft != null || e.scrollToPos) && (u.wheelStartX = u.wheelStartY = null), e.scrollTop != null && Af(i, e.scrollTop, e.forceScroll), e.scrollLeft != null && zi(i, e.scrollLeft, true, true), e.scrollToPos) {
          var p = $h(
            i,
            We(s, e.scrollToPos.from),
            We(s, e.scrollToPos.to),
            e.scrollToPos.margin
          );
          Bh(i, p);
        }
        var _7 = e.maybeHiddenMarkers, P = e.maybeUnhiddenMarkers;
        if (_7)
          for (var k = 0; k < _7.length; ++k)
            _7[k].lines.length || Fe(_7[k], "hide");
        if (P)
          for (var H = 0; H < P.length; ++H)
            P[H].lines.length && Fe(P[H], "unhide");
        u.wrapper.offsetHeight && (s.scrollTop = i.display.scroller.scrollTop), e.changeObjs && Fe(i, "changes", i, e.changeObjs), e.update && e.update.finish();
      }
      function gn(e, i) {
        if (e.curOp)
          return i();
        Wi(e);
        try {
          return i();
        } finally {
          Ki(e);
        }
      }
      function zt(e, i) {
        return function() {
          if (e.curOp)
            return i.apply(e, arguments);
          Wi(e);
          try {
            return i.apply(e, arguments);
          } finally {
            Ki(e);
          }
        };
      }
      function tn(e) {
        return function() {
          if (this.curOp)
            return e.apply(this, arguments);
          Wi(this);
          try {
            return e.apply(this, arguments);
          } finally {
            Ki(this);
          }
        };
      }
      function Ut(e) {
        return function() {
          var i = this.cm;
          if (!i || i.curOp)
            return e.apply(this, arguments);
          Wi(i);
          try {
            return e.apply(this, arguments);
          } finally {
            Ki(i);
          }
        };
      }
      function to(e, i) {
        e.doc.highlightFrontier < e.display.viewTo && e.state.highlight.set(i, ue(Yh, e));
      }
      function Yh(e) {
        var i = e.doc;
        if (!(i.highlightFrontier >= e.display.viewTo)) {
          var u = +/* @__PURE__ */ new Date() + e.options.workTime, s = Ur(e, i.highlightFrontier), p = [];
          i.iter(s.line, Math.min(i.first + i.size, e.display.viewTo + 500), function(_7) {
            if (s.line >= e.display.viewFrom) {
              var P = _7.styles, k = _7.text.length > e.options.maxHighlightLength ? oi(i.mode, s.state) : null, H = Du(e, _7, s, true);
              k && (s.state = k), _7.styles = H.styles;
              var j = _7.styleClasses, Y = H.classes;
              Y ? _7.styleClasses = Y : j && (_7.styleClasses = null);
              for (var q = !P || P.length != _7.styles.length || j != Y && (!j || !Y || j.bgClass != Y.bgClass || j.textClass != Y.textClass), se = 0; !q && se < P.length; ++se)
                q = P[se] != _7.styles[se];
              q && p.push(s.line), _7.stateAfter = s.save(), s.nextLine();
            } else
              _7.text.length <= e.options.maxHighlightLength && il(e, _7.text, s), _7.stateAfter = s.line % 5 == 0 ? s.save() : null, s.nextLine();
            if (+/* @__PURE__ */ new Date() > u)
              return to(e, e.options.workDelay), true;
          }), i.highlightFrontier = s.line, i.modeFrontier = Math.max(i.modeFrontier, s.line), p.length && gn(e, function() {
            for (var _7 = 0; _7 < p.length; _7++)
              xi(e, p[_7], "text");
          });
        }
      }
      var oa = function(e, i, u) {
        var s = e.display;
        this.viewport = i, this.visible = ia(s, e.doc, i), this.editorIsHidden = !s.wrapper.offsetWidth, this.wrapperHeight = s.wrapper.clientHeight, this.wrapperWidth = s.wrapper.clientWidth, this.oldDisplayWidth = $i(e), this.force = u, this.dims = yl(e), this.events = [];
      };
      oa.prototype.signal = function(e, i) {
        xt(e, i) && this.events.push(arguments);
      }, oa.prototype.finish = function() {
        for (var e = 0; e < this.events.length; e++)
          Fe.apply(null, this.events[e]);
      };
      function Xh(e) {
        var i = e.display;
        !i.scrollbarsClipped && i.scroller.offsetWidth && (i.nativeBarWidth = i.scroller.offsetWidth - i.scroller.clientWidth, i.heightForcer.style.height = Yn(e) + "px", i.sizer.style.marginBottom = -i.nativeBarWidth + "px", i.sizer.style.borderRightWidth = Yn(e) + "px", i.scrollbarsClipped = true);
      }
      function Jh(e) {
        if (e.hasFocus())
          return null;
        var i = ae(G(e));
        if (!i || !J(e.display.lineDiv, i))
          return null;
        var u = { activeElt: i };
        if (window.getSelection) {
          var s = Z(e).getSelection();
          s.anchorNode && s.extend && J(e.display.lineDiv, s.anchorNode) && (u.anchorNode = s.anchorNode, u.anchorOffset = s.anchorOffset, u.focusNode = s.focusNode, u.focusOffset = s.focusOffset);
        }
        return u;
      }
      function Zh(e) {
        if (!(!e || !e.activeElt || e.activeElt == ae(e.activeElt.ownerDocument)) && (e.activeElt.focus(), !/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName) && e.anchorNode && J(document.body, e.anchorNode) && J(document.body, e.focusNode))) {
          var i = e.activeElt.ownerDocument, u = i.defaultView.getSelection(), s = i.createRange();
          s.setEnd(e.anchorNode, e.anchorOffset), s.collapse(false), u.removeAllRanges(), u.addRange(s), u.extend(e.focusNode, e.focusOffset);
        }
      }
      function _l(e, i) {
        var u = e.display, s = e.doc;
        if (i.editorIsHidden)
          return Ti(e), false;
        if (!i.force && i.visible.from >= u.viewFrom && i.visible.to <= u.viewTo && (u.updateLineNumbers == null || u.updateLineNumbers >= u.viewTo) && u.renderedView == u.view && vf(e) == 0)
          return false;
        Tf(e) && (Ti(e), i.dims = yl(e));
        var p = s.first + s.size, _7 = Math.max(i.visible.from - e.options.viewportMargin, s.first), P = Math.min(p, i.visible.to + e.options.viewportMargin);
        u.viewFrom < _7 && _7 - u.viewFrom < 20 && (_7 = Math.max(s.first, u.viewFrom)), u.viewTo > P && u.viewTo - P < 20 && (P = Math.min(p, u.viewTo)), li && (_7 = ll(e.doc, _7), P = Uu(e.doc, P));
        var k = _7 != u.viewFrom || P != u.viewTo || u.lastWrapHeight != i.wrapperHeight || u.lastWrapWidth != i.wrapperWidth;
        Fh(e, _7, P), u.viewOffset = si(ke(e.doc, u.viewFrom)), e.display.mover.style.top = u.viewOffset + "px";
        var H = vf(e);
        if (!k && H == 0 && !i.force && u.renderedView == u.view && (u.updateLineNumbers == null || u.updateLineNumbers >= u.viewTo))
          return false;
        var j = Jh(e);
        return H > 4 && (u.lineDiv.style.display = "none"), qh(e, u.updateLineNumbers, i.dims), H > 4 && (u.lineDiv.style.display = ""), u.renderedView = u.view, Zh(j), $(u.cursorDiv), $(u.selectionDiv), u.gutters.style.height = u.sizer.style.minHeight = 0, k && (u.lastWrapHeight = i.wrapperHeight, u.lastWrapWidth = i.wrapperWidth, to(e, 400)), u.updateLineNumbers = null, true;
      }
      function Ef(e, i) {
        for (var u = i.viewport, s = true; ; s = false) {
          if (!s || !e.options.lineWrapping || i.oldDisplayWidth == $i(e)) {
            if (u && u.top != null && (u = { top: Math.min(e.doc.height + dl(e.display) - cl(e), u.top) }), i.visible = ia(e.display, e.doc, u), i.visible.from >= e.display.viewFrom && i.visible.to <= e.display.viewTo)
              break;
          } else
            s && (i.visible = ia(e.display, e.doc, u));
          if (!_l(e, i))
            break;
          na(e);
          var p = qr(e);
          Xr(e), pr(e, p), Dl(e, p), i.force = false;
        }
        i.signal(e, "update", e), (e.display.viewFrom != e.display.reportedViewFrom || e.display.viewTo != e.display.reportedViewTo) && (i.signal(e, "viewportChange", e, e.display.viewFrom, e.display.viewTo), e.display.reportedViewFrom = e.display.viewFrom, e.display.reportedViewTo = e.display.viewTo);
      }
      function Rl(e, i) {
        var u = new oa(e, i);
        if (_l(e, u)) {
          na(e), Ef(e, u);
          var s = qr(e);
          Xr(e), pr(e, s), Dl(e, s), u.finish();
        }
      }
      function qh(e, i, u) {
        var s = e.display, p = e.options.lineNumbers, _7 = s.lineDiv, P = _7.firstChild;
        function k(ge) {
          var Ae = ge.nextSibling;
          return m && D && e.display.currentWheelTarget == ge ? ge.style.display = "none" : ge.parentNode.removeChild(ge), Ae;
        }
        for (var H = s.view, j = s.viewFrom, Y = 0; Y < H.length; Y++) {
          var q = H[Y];
          if (!q.hidden)
            if (!q.node || q.node.parentNode != _7) {
              var se = Th(e, q, j, u);
              _7.insertBefore(se, P);
            } else {
              for (; P != q.node; )
                P = k(P);
              var le = p && i != null && i <= j && q.lineNumber;
              q.changes && (ne(q.changes, "gutter") > -1 && (le = false), Yu(e, q, j, u)), le && ($(q.lineNumber), q.lineNumber.appendChild(document.createTextNode(ee(e.options, j)))), P = q.node.nextSibling;
            }
          j += q.size;
        }
        for (; P; )
          P = k(P);
      }
      function Ol(e) {
        var i = e.gutters.offsetWidth;
        e.sizer.style.marginLeft = i + "px", jt(e, "gutterChanged", e);
      }
      function Dl(e, i) {
        e.display.sizer.style.minHeight = i.docHeight + "px", e.display.heightForcer.style.top = i.docHeight + "px", e.display.gutters.style.height = i.docHeight + e.display.barHeight + Yn(e) + "px";
      }
      function xf(e) {
        var i = e.display, u = i.view;
        if (!(!i.alignWidgets && (!i.gutters.firstChild || !e.options.fixedGutter))) {
          for (var s = bl(i) - i.scroller.scrollLeft + e.doc.scrollLeft, p = i.gutters.offsetWidth, _7 = s + "px", P = 0; P < u.length; P++)
            if (!u[P].hidden) {
              e.options.fixedGutter && (u[P].gutter && (u[P].gutter.style.left = _7), u[P].gutterBackground && (u[P].gutterBackground.style.left = _7));
              var k = u[P].alignable;
              if (k)
                for (var H = 0; H < k.length; H++)
                  k[H].style.left = _7;
            }
          e.options.fixedGutter && (i.gutters.style.left = s + p + "px");
        }
      }
      function Tf(e) {
        if (!e.options.lineNumbers)
          return false;
        var i = e.doc, u = ee(e.options, i.first + i.size - 1), s = e.display;
        if (u.length != s.lineNumChars) {
          var p = s.measure.appendChild(L(
            "div",
            [L("div", u)],
            "CodeMirror-linenumber CodeMirror-gutter-elt"
          )), _7 = p.firstChild.offsetWidth, P = p.offsetWidth - _7;
          return s.lineGutter.style.width = "", s.lineNumInnerWidth = Math.max(_7, s.lineGutter.offsetWidth - P) + 1, s.lineNumWidth = s.lineNumInnerWidth + P, s.lineNumChars = s.lineNumInnerWidth ? u.length : -1, s.lineGutter.style.width = s.lineNumWidth + "px", Ol(e.display), true;
        }
        return false;
      }
      function Il(e, i) {
        for (var u = [], s = false, p = 0; p < e.length; p++) {
          var _7 = e[p], P = null;
          if (typeof _7 != "string" && (P = _7.style, _7 = _7.className), _7 == "CodeMirror-linenumbers")
            if (i)
              s = true;
            else
              continue;
          u.push({ className: _7, style: P });
        }
        return i && !s && u.push({ className: "CodeMirror-linenumbers", style: null }), u;
      }
      function _f(e) {
        var i = e.gutters, u = e.gutterSpecs;
        $(i), e.lineGutter = null;
        for (var s = 0; s < u.length; ++s) {
          var p = u[s], _7 = p.className, P = p.style, k = i.appendChild(L("div", null, "CodeMirror-gutter " + _7));
          P && (k.style.cssText = P), _7 == "CodeMirror-linenumbers" && (e.lineGutter = k, k.style.width = (e.lineNumWidth || 1) + "px");
        }
        i.style.display = u.length ? "" : "none", Ol(e);
      }
      function no(e) {
        _f(e.display), ln(e), xf(e);
      }
      function ev(e, i, u, s) {
        var p = this;
        this.input = u, p.scrollbarFiller = L("div", null, "CodeMirror-scrollbar-filler"), p.scrollbarFiller.setAttribute("cm-not-content", "true"), p.gutterFiller = L("div", null, "CodeMirror-gutter-filler"), p.gutterFiller.setAttribute("cm-not-content", "true"), p.lineDiv = z("div", null, "CodeMirror-code"), p.selectionDiv = L("div", null, null, "position: relative; z-index: 1"), p.cursorDiv = L("div", null, "CodeMirror-cursors"), p.measure = L("div", null, "CodeMirror-measure"), p.lineMeasure = L("div", null, "CodeMirror-measure"), p.lineSpace = z(
          "div",
          [p.measure, p.lineMeasure, p.selectionDiv, p.cursorDiv, p.lineDiv],
          null,
          "position: relative; outline: none"
        );
        var _7 = z("div", [p.lineSpace], "CodeMirror-lines");
        p.mover = L("div", [_7], null, "position: relative"), p.sizer = L("div", [p.mover], "CodeMirror-sizer"), p.sizerWidth = null, p.heightForcer = L("div", null, null, "position: absolute; height: " + be + "px; width: 1px;"), p.gutters = L("div", null, "CodeMirror-gutters"), p.lineGutter = null, p.scroller = L("div", [p.sizer, p.heightForcer, p.gutters], "CodeMirror-scroll"), p.scroller.setAttribute("tabIndex", "-1"), p.wrapper = L("div", [p.scrollbarFiller, p.gutterFiller, p.scroller], "CodeMirror"), p.wrapper.setAttribute("translate", "no"), c && h2 < 8 && (p.gutters.style.zIndex = -1, p.scroller.style.paddingRight = 0), !m && !(n && x) && (p.scroller.draggable = true), e && (e.appendChild ? e.appendChild(p.wrapper) : e(p.wrapper)), p.viewFrom = p.viewTo = i.first, p.reportedViewFrom = p.reportedViewTo = i.first, p.view = [], p.renderedView = null, p.externalMeasured = null, p.viewOffset = 0, p.lastWrapHeight = p.lastWrapWidth = 0, p.updateLineNumbers = null, p.nativeBarWidth = p.barHeight = p.barWidth = 0, p.scrollbarsClipped = false, p.lineNumWidth = p.lineNumInnerWidth = p.lineNumChars = null, p.alignWidgets = false, p.cachedCharWidth = p.cachedTextHeight = p.cachedPaddingH = null, p.maxLine = null, p.maxLineLength = 0, p.maxLineChanged = false, p.wheelDX = p.wheelDY = p.wheelStartX = p.wheelStartY = null, p.shift = false, p.selForContextMenu = null, p.activeTouch = null, p.gutterSpecs = Il(s.gutters, s.lineNumbers), _f(p), u.init(p);
      }
      var aa = 0, fi = null;
      c ? fi = -0.53 : n ? fi = 15 : w ? fi = -0.7 : E && (fi = -1 / 3);
      function Rf(e) {
        var i = e.wheelDeltaX, u = e.wheelDeltaY;
        return i == null && e.detail && e.axis == e.HORIZONTAL_AXIS && (i = e.detail), u == null && e.detail && e.axis == e.VERTICAL_AXIS ? u = e.detail : u == null && (u = e.wheelDelta), { x: i, y: u };
      }
      function tv(e) {
        var i = Rf(e);
        return i.x *= fi, i.y *= fi, i;
      }
      function Of(e, i) {
        w && R == 102 && (e.display.chromeScrollHack == null ? e.display.sizer.style.pointerEvents = "none" : clearTimeout(e.display.chromeScrollHack), e.display.chromeScrollHack = setTimeout(function() {
          e.display.chromeScrollHack = null, e.display.sizer.style.pointerEvents = "";
        }, 100));
        var u = Rf(i), s = u.x, p = u.y, _7 = fi;
        i.deltaMode === 0 && (s = i.deltaX, p = i.deltaY, _7 = 1);
        var P = e.display, k = P.scroller, H = k.scrollWidth > k.clientWidth, j = k.scrollHeight > k.clientHeight;
        if (!!(s && H || p && j)) {
          if (p && D && m) {
            e:
              for (var Y = i.target, q = P.view; Y != k; Y = Y.parentNode)
                for (var se = 0; se < q.length; se++)
                  if (q[se].node == Y) {
                    e.display.currentWheelTarget = Y;
                    break e;
                  }
          }
          if (s && !n && !A && _7 != null) {
            p && j && Zr(e, Math.max(0, k.scrollTop + p * _7)), zi(e, Math.max(0, k.scrollLeft + s * _7)), (!p || p && j) && pt(i), P.wheelStartX = null;
            return;
          }
          if (p && _7 != null) {
            var le = p * _7, ge = e.doc.scrollTop, Ae = ge + P.wrapper.clientHeight;
            le < 0 ? ge = Math.max(0, ge + le - 50) : Ae = Math.min(e.doc.height, Ae + le + 50), Rl(e, { top: ge, bottom: Ae });
          }
          aa < 20 && i.deltaMode !== 0 && (P.wheelStartX == null ? (P.wheelStartX = k.scrollLeft, P.wheelStartY = k.scrollTop, P.wheelDX = s, P.wheelDY = p, setTimeout(function() {
            if (P.wheelStartX != null) {
              var Ce = k.scrollLeft - P.wheelStartX, xe = k.scrollTop - P.wheelStartY, De = xe && P.wheelDY && xe / P.wheelDY || Ce && P.wheelDX && Ce / P.wheelDX;
              P.wheelStartX = P.wheelStartY = null, De && (fi = (fi * aa + De) / (aa + 1), ++aa);
            }
          }, 200)) : (P.wheelDX += s, P.wheelDY += p));
        }
      }
      var En = function(e, i) {
        this.ranges = e, this.primIndex = i;
      };
      En.prototype.primary = function() {
        return this.ranges[this.primIndex];
      }, En.prototype.equals = function(e) {
        if (e == this)
          return true;
        if (e.primIndex != this.primIndex || e.ranges.length != this.ranges.length)
          return false;
        for (var i = 0; i < this.ranges.length; i++) {
          var u = this.ranges[i], s = e.ranges[i];
          if (!Ue(u.anchor, s.anchor) || !Ue(u.head, s.head))
            return false;
        }
        return true;
      }, En.prototype.deepCopy = function() {
        for (var e = [], i = 0; i < this.ranges.length; i++)
          e[i] = new vt(at(this.ranges[i].anchor), at(this.ranges[i].head));
        return new En(e, this.primIndex);
      }, En.prototype.somethingSelected = function() {
        for (var e = 0; e < this.ranges.length; e++)
          if (!this.ranges[e].empty())
            return true;
        return false;
      }, En.prototype.contains = function(e, i) {
        i || (i = e);
        for (var u = 0; u < this.ranges.length; u++) {
          var s = this.ranges[u];
          if (ve(i, s.from()) >= 0 && ve(e, s.to()) <= 0)
            return u;
        }
        return -1;
      };
      var vt = function(e, i) {
        this.anchor = e, this.head = i;
      };
      vt.prototype.from = function() {
        return Bt(this.anchor, this.head);
      }, vt.prototype.to = function() {
        return ft(this.anchor, this.head);
      }, vt.prototype.empty = function() {
        return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;
      };
      function Bn(e, i, u) {
        var s = e && e.options.selectionsMayTouch, p = i[u];
        i.sort(function(se, le) {
          return ve(se.from(), le.from());
        }), u = ne(i, p);
        for (var _7 = 1; _7 < i.length; _7++) {
          var P = i[_7], k = i[_7 - 1], H = ve(k.to(), P.from());
          if (s && !P.empty() ? H > 0 : H >= 0) {
            var j = Bt(k.from(), P.from()), Y = ft(k.to(), P.to()), q = k.empty() ? P.from() == P.head : k.from() == k.head;
            _7 <= u && --u, i.splice(--_7, 2, new vt(q ? Y : j, q ? j : Y));
          }
        }
        return new En(i, u);
      }
      function _i(e, i) {
        return new En([new vt(e, i || e)], 0);
      }
      function Ri(e) {
        return e.text ? oe(
          e.from.line + e.text.length - 1,
          $e(e.text).length + (e.text.length == 1 ? e.from.ch : 0)
        ) : e.to;
      }
      function Df(e, i) {
        if (ve(e, i.from) < 0)
          return e;
        if (ve(e, i.to) <= 0)
          return Ri(i);
        var u = e.line + i.text.length - (i.to.line - i.from.line) - 1, s = e.ch;
        return e.line == i.to.line && (s += Ri(i).ch - i.to.ch), oe(u, s);
      }
      function Ml(e, i) {
        for (var u = [], s = 0; s < e.sel.ranges.length; s++) {
          var p = e.sel.ranges[s];
          u.push(new vt(
            Df(p.anchor, i),
            Df(p.head, i)
          ));
        }
        return Bn(e.cm, u, e.sel.primIndex);
      }
      function If(e, i, u) {
        return e.line == i.line ? oe(u.line, e.ch - i.ch + u.ch) : oe(u.line + (e.line - i.line), e.ch);
      }
      function nv(e, i, u) {
        for (var s = [], p = oe(e.first, 0), _7 = p, P = 0; P < i.length; P++) {
          var k = i[P], H = If(k.from, p, _7), j = If(Ri(k), p, _7);
          if (p = k.to, _7 = j, u == "around") {
            var Y = e.sel.ranges[P], q = ve(Y.head, Y.anchor) < 0;
            s[P] = new vt(q ? j : H, q ? H : j);
          } else
            s[P] = new vt(H, H);
        }
        return new En(s, e.sel.primIndex);
      }
      function Pl(e) {
        e.doc.mode = ri(e.options, e.doc.modeOption), io(e);
      }
      function io(e) {
        e.doc.iter(function(i) {
          i.stateAfter && (i.stateAfter = null), i.styles && (i.styles = null);
        }), e.doc.modeFrontier = e.doc.highlightFrontier = e.doc.first, to(e, 100), e.state.modeGen++, e.curOp && ln(e);
      }
      function Mf(e, i) {
        return i.from.ch == 0 && i.to.ch == 0 && $e(i.text) == "" && (!e.cm || e.cm.options.wholeLineUpdateBefore);
      }
      function Nl(e, i, u, s) {
        function p(De) {
          return u ? u[De] : null;
        }
        function _7(De, Te, Ne) {
          fh(De, Te, Ne, s), jt(De, "change", De, i);
        }
        function P(De, Te) {
          for (var Ne = [], Ve = De; Ve < Te; ++Ve)
            Ne.push(new ar(j[Ve], p(Ve), s));
          return Ne;
        }
        var k = i.from, H = i.to, j = i.text, Y = ke(e, k.line), q = ke(e, H.line), se = $e(j), le = p(j.length - 1), ge = H.line - k.line;
        if (i.full)
          e.insert(0, P(0, j.length)), e.remove(j.length, e.size - j.length);
        else if (Mf(e, i)) {
          var Ae = P(0, j.length - 1);
          _7(q, q.text, le), ge && e.remove(k.line, ge), Ae.length && e.insert(k.line, Ae);
        } else if (Y == q)
          if (j.length == 1)
            _7(Y, Y.text.slice(0, k.ch) + se + Y.text.slice(H.ch), le);
          else {
            var Ce = P(1, j.length - 1);
            Ce.push(new ar(se + Y.text.slice(H.ch), le, s)), _7(Y, Y.text.slice(0, k.ch) + j[0], p(0)), e.insert(k.line + 1, Ce);
          }
        else if (j.length == 1)
          _7(Y, Y.text.slice(0, k.ch) + j[0] + q.text.slice(H.ch), p(0)), e.remove(k.line + 1, ge);
        else {
          _7(Y, Y.text.slice(0, k.ch) + j[0], p(0)), _7(q, se + q.text.slice(H.ch), le);
          var xe = P(1, j.length - 1);
          ge > 1 && e.remove(k.line + 1, ge - 1), e.insert(k.line + 1, xe);
        }
        jt(e, "change", e, i);
      }
      function Oi(e, i, u) {
        function s(p, _7, P) {
          if (p.linked)
            for (var k = 0; k < p.linked.length; ++k) {
              var H = p.linked[k];
              if (H.doc != _7) {
                var j = P && H.sharedHist;
                u && !j || (i(H.doc, j), s(H.doc, p, j));
              }
            }
        }
        s(e, null, true);
      }
      function Pf(e, i) {
        if (i.cm)
          throw new Error("This document is already in use.");
        e.doc = i, i.cm = e, Al(e), Pl(e), Nf(e), e.options.direction = i.direction, e.options.lineWrapping || ul(e), e.options.mode = i.modeOption, ln(e);
      }
      function Nf(e) {
        (e.doc.direction == "rtl" ? M : F)(e.display.lineDiv, "CodeMirror-rtl");
      }
      function iv(e) {
        gn(e, function() {
          Nf(e), ln(e);
        });
      }
      function la(e) {
        this.done = [], this.undone = [], this.undoDepth = e ? e.undoDepth : 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = e ? e.maxGeneration : 1;
      }
      function Ll(e, i) {
        var u = { from: at(i.from), to: Ri(i), text: ai(e, i.from, i.to) };
        return kf(e, u, i.from.line, i.to.line + 1), Oi(e, function(s) {
          return kf(s, u, i.from.line, i.to.line + 1);
        }, true), u;
      }
      function Lf(e) {
        for (; e.length; ) {
          var i = $e(e);
          if (i.ranges)
            e.pop();
          else
            break;
        }
      }
      function rv(e, i) {
        if (i)
          return Lf(e.done), $e(e.done);
        if (e.done.length && !$e(e.done).ranges)
          return $e(e.done);
        if (e.done.length > 1 && !e.done[e.done.length - 2].ranges)
          return e.done.pop(), $e(e.done);
      }
      function Ff(e, i, u, s) {
        var p = e.history;
        p.undone.length = 0;
        var _7 = +/* @__PURE__ */ new Date(), P, k;
        if ((p.lastOp == s || p.lastOrigin == i.origin && i.origin && (i.origin.charAt(0) == "+" && p.lastModTime > _7 - (e.cm ? e.cm.options.historyEventDelay : 500) || i.origin.charAt(0) == "*")) && (P = rv(p, p.lastOp == s)))
          k = $e(P.changes), ve(i.from, i.to) == 0 && ve(i.from, k.to) == 0 ? k.to = Ri(i) : P.changes.push(Ll(e, i));
        else {
          var H = $e(p.done);
          for ((!H || !H.ranges) && sa(e.sel, p.done), P = {
            changes: [Ll(e, i)],
            generation: p.generation
          }, p.done.push(P); p.done.length > p.undoDepth; )
            p.done.shift(), p.done[0].ranges || p.done.shift();
        }
        p.done.push(u), p.generation = ++p.maxGeneration, p.lastModTime = p.lastSelTime = _7, p.lastOp = p.lastSelOp = s, p.lastOrigin = p.lastSelOrigin = i.origin, k || Fe(e, "historyAdded");
      }
      function ov(e, i, u, s) {
        var p = i.charAt(0);
        return p == "*" || p == "+" && u.ranges.length == s.ranges.length && u.somethingSelected() == s.somethingSelected() && /* @__PURE__ */ new Date() - e.history.lastSelTime <= (e.cm ? e.cm.options.historyEventDelay : 500);
      }
      function av(e, i, u, s) {
        var p = e.history, _7 = s && s.origin;
        u == p.lastSelOp || _7 && p.lastSelOrigin == _7 && (p.lastModTime == p.lastSelTime && p.lastOrigin == _7 || ov(e, _7, $e(p.done), i)) ? p.done[p.done.length - 1] = i : sa(i, p.done), p.lastSelTime = +/* @__PURE__ */ new Date(), p.lastSelOrigin = _7, p.lastSelOp = u, s && s.clearRedo !== false && Lf(p.undone);
      }
      function sa(e, i) {
        var u = $e(i);
        u && u.ranges && u.equals(e) || i.push(e);
      }
      function kf(e, i, u, s) {
        var p = i["spans_" + e.id], _7 = 0;
        e.iter(Math.max(e.first, u), Math.min(e.first + e.size, s), function(P) {
          P.markedSpans && ((p || (p = i["spans_" + e.id] = {}))[_7] = P.markedSpans), ++_7;
        });
      }
      function lv(e) {
        if (!e)
          return null;
        for (var i, u = 0; u < e.length; ++u)
          e[u].marker.explicitlyCleared ? i || (i = e.slice(0, u)) : i && i.push(e[u]);
        return i ? i.length ? i : null : e;
      }
      function sv(e, i) {
        var u = i["spans_" + e.id];
        if (!u)
          return null;
        for (var s = [], p = 0; p < i.text.length; ++p)
          s.push(lv(u[p]));
        return s;
      }
      function Bf(e, i) {
        var u = sv(e, i), s = ol(e, i);
        if (!u)
          return s;
        if (!s)
          return u;
        for (var p = 0; p < u.length; ++p) {
          var _7 = u[p], P = s[p];
          if (_7 && P) {
            e:
              for (var k = 0; k < P.length; ++k) {
                for (var H = P[k], j = 0; j < _7.length; ++j)
                  if (_7[j].marker == H.marker)
                    continue e;
                _7.push(H);
              }
          } else
            P && (u[p] = P);
        }
        return u;
      }
      function hr(e, i, u) {
        for (var s = [], p = 0; p < e.length; ++p) {
          var _7 = e[p];
          if (_7.ranges) {
            s.push(u ? En.prototype.deepCopy.call(_7) : _7);
            continue;
          }
          var P = _7.changes, k = [];
          s.push({ changes: k });
          for (var H = 0; H < P.length; ++H) {
            var j = P[H], Y = void 0;
            if (k.push({ from: j.from, to: j.to, text: j.text }), i)
              for (var q in j)
                (Y = q.match(/^spans_(\d+)$/)) && ne(i, Number(Y[1])) > -1 && ($e(k)[q] = j[q], delete j[q]);
          }
        }
        return s;
      }
      function Fl(e, i, u, s) {
        if (s) {
          var p = e.anchor;
          if (u) {
            var _7 = ve(i, p) < 0;
            _7 != ve(u, p) < 0 ? (p = i, i = u) : _7 != ve(i, u) < 0 && (i = u);
          }
          return new vt(p, i);
        } else
          return new vt(u || i, i);
      }
      function ua(e, i, u, s, p) {
        p == null && (p = e.cm && (e.cm.display.shift || e.extend)), Zt(e, new En([Fl(e.sel.primary(), i, u, p)], 0), s);
      }
      function $f(e, i, u) {
        for (var s = [], p = e.cm && (e.cm.display.shift || e.extend), _7 = 0; _7 < e.sel.ranges.length; _7++)
          s[_7] = Fl(e.sel.ranges[_7], i[_7], null, p);
        var P = Bn(e.cm, s, e.sel.primIndex);
        Zt(e, P, u);
      }
      function kl(e, i, u, s) {
        var p = e.sel.ranges.slice(0);
        p[i] = u, Zt(e, Bn(e.cm, p, e.sel.primIndex), s);
      }
      function Hf(e, i, u, s) {
        Zt(e, _i(i, u), s);
      }
      function uv(e, i, u) {
        var s = {
          ranges: i.ranges,
          update: function(p) {
            this.ranges = [];
            for (var _7 = 0; _7 < p.length; _7++)
              this.ranges[_7] = new vt(
                We(e, p[_7].anchor),
                We(e, p[_7].head)
              );
          },
          origin: u && u.origin
        };
        return Fe(e, "beforeSelectionChange", e, s), e.cm && Fe(e.cm, "beforeSelectionChange", e.cm, s), s.ranges != i.ranges ? Bn(e.cm, s.ranges, s.ranges.length - 1) : i;
      }
      function Vf(e, i, u) {
        var s = e.history.done, p = $e(s);
        p && p.ranges ? (s[s.length - 1] = i, fa(e, i, u)) : Zt(e, i, u);
      }
      function Zt(e, i, u) {
        fa(e, i, u), av(e, e.sel, e.cm ? e.cm.curOp.id : NaN, u);
      }
      function fa(e, i, u) {
        (xt(e, "beforeSelectionChange") || e.cm && xt(e.cm, "beforeSelectionChange")) && (i = uv(e, i, u));
        var s = u && u.bias || (ve(i.primary().head, e.sel.primary().head) < 0 ? -1 : 1);
        jf(e, Uf(e, i, s, true)), !(u && u.scroll === false) && e.cm && e.cm.getOption("readOnly") != "nocursor" && cr(e.cm);
      }
      function jf(e, i) {
        i.equals(e.sel) || (e.sel = i, e.cm && (e.cm.curOp.updateInput = 1, e.cm.curOp.selectionChanged = true, on2(e.cm)), jt(e, "cursorActivity", e));
      }
      function zf(e) {
        jf(e, Uf(e, e.sel, null, false));
      }
      function Uf(e, i, u, s) {
        for (var p, _7 = 0; _7 < i.ranges.length; _7++) {
          var P = i.ranges[_7], k = i.ranges.length == e.sel.ranges.length && e.sel.ranges[_7], H = da(e, P.anchor, k && k.anchor, u, s), j = P.head == P.anchor ? H : da(e, P.head, k && k.head, u, s);
          (p || H != P.anchor || j != P.head) && (p || (p = i.ranges.slice(0, _7)), p[_7] = new vt(H, j));
        }
        return p ? Bn(e.cm, p, i.primIndex) : i;
      }
      function vr(e, i, u, s, p) {
        var _7 = ke(e, i.line);
        if (_7.markedSpans)
          for (var P = 0; P < _7.markedSpans.length; ++P) {
            var k = _7.markedSpans[P], H = k.marker, j = "selectLeft" in H ? !H.selectLeft : H.inclusiveLeft, Y = "selectRight" in H ? !H.selectRight : H.inclusiveRight;
            if ((k.from == null || (j ? k.from <= i.ch : k.from < i.ch)) && (k.to == null || (Y ? k.to >= i.ch : k.to > i.ch))) {
              if (p && (Fe(H, "beforeCursorEnter"), H.explicitlyCleared))
                if (_7.markedSpans) {
                  --P;
                  continue;
                } else
                  break;
              if (!H.atomic)
                continue;
              if (u) {
                var q = H.find(s < 0 ? 1 : -1), se = void 0;
                if ((s < 0 ? Y : j) && (q = Wf(e, q, -s, q && q.line == i.line ? _7 : null)), q && q.line == i.line && (se = ve(q, u)) && (s < 0 ? se < 0 : se > 0))
                  return vr(e, q, i, s, p);
              }
              var le = H.find(s < 0 ? -1 : 1);
              return (s < 0 ? j : Y) && (le = Wf(e, le, s, le.line == i.line ? _7 : null)), le ? vr(e, le, i, s, p) : null;
            }
          }
        return i;
      }
      function da(e, i, u, s, p) {
        var _7 = s || 1, P = vr(e, i, u, _7, p) || !p && vr(e, i, u, _7, true) || vr(e, i, u, -_7, p) || !p && vr(e, i, u, -_7, true);
        return P || (e.cantEdit = true, oe(e.first, 0));
      }
      function Wf(e, i, u, s) {
        return u < 0 && i.ch == 0 ? i.line > e.first ? We(e, oe(i.line - 1)) : null : u > 0 && i.ch == (s || ke(e, i.line)).text.length ? i.line < e.first + e.size - 1 ? oe(i.line + 1, 0) : null : new oe(i.line, i.ch + u);
      }
      function Kf(e) {
        e.setSelection(oe(e.firstLine(), 0), oe(e.lastLine()), Re);
      }
      function Gf(e, i, u) {
        var s = {
          canceled: false,
          from: i.from,
          to: i.to,
          text: i.text,
          origin: i.origin,
          cancel: function() {
            return s.canceled = true;
          }
        };
        return u && (s.update = function(p, _7, P, k) {
          p && (s.from = We(e, p)), _7 && (s.to = We(e, _7)), P && (s.text = P), k !== void 0 && (s.origin = k);
        }), Fe(e, "beforeChange", e, s), e.cm && Fe(e.cm, "beforeChange", e.cm, s), s.canceled ? (e.cm && (e.cm.curOp.updateInput = 2), null) : { from: s.from, to: s.to, text: s.text, origin: s.origin };
      }
      function mr(e, i, u) {
        if (e.cm) {
          if (!e.cm.curOp)
            return zt(e.cm, mr)(e, i, u);
          if (e.cm.state.suppressEdits)
            return;
        }
        if (!((xt(e, "beforeChange") || e.cm && xt(e.cm, "beforeChange")) && (i = Gf(e, i, true), !i))) {
          var s = ku && !u && ah(e, i.from, i.to);
          if (s)
            for (var p = s.length - 1; p >= 0; --p)
              Qf(e, { from: s[p].from, to: s[p].to, text: p ? [""] : i.text, origin: i.origin });
          else
            Qf(e, i);
        }
      }
      function Qf(e, i) {
        if (!(i.text.length == 1 && i.text[0] == "" && ve(i.from, i.to) == 0)) {
          var u = Ml(e, i);
          Ff(e, i, u, e.cm ? e.cm.curOp.id : NaN), ro(e, i, u, ol(e, i));
          var s = [];
          Oi(e, function(p, _7) {
            !_7 && ne(s, p.history) == -1 && (Zf(p.history, i), s.push(p.history)), ro(p, i, null, ol(p, i));
          });
        }
      }
      function ca(e, i, u) {
        var s = e.cm && e.cm.state.suppressEdits;
        if (!(s && !u)) {
          for (var p = e.history, _7, P = e.sel, k = i == "undo" ? p.done : p.undone, H = i == "undo" ? p.undone : p.done, j = 0; j < k.length && (_7 = k[j], !(u ? _7.ranges && !_7.equals(e.sel) : !_7.ranges)); j++)
            ;
          if (j != k.length) {
            for (p.lastOrigin = p.lastSelOrigin = null; ; )
              if (_7 = k.pop(), _7.ranges) {
                if (sa(_7, H), u && !_7.equals(e.sel)) {
                  Zt(e, _7, { clearRedo: false });
                  return;
                }
                P = _7;
              } else if (s) {
                k.push(_7);
                return;
              } else
                break;
            var Y = [];
            sa(P, H), H.push({ changes: Y, generation: p.generation }), p.generation = _7.generation || ++p.maxGeneration;
            for (var q = xt(e, "beforeChange") || e.cm && xt(e.cm, "beforeChange"), se = function(Ae) {
              var Ce = _7.changes[Ae];
              if (Ce.origin = i, q && !Gf(e, Ce, false))
                return k.length = 0, {};
              Y.push(Ll(e, Ce));
              var xe = Ae ? Ml(e, Ce) : $e(k);
              ro(e, Ce, xe, Bf(e, Ce)), !Ae && e.cm && e.cm.scrollIntoView({ from: Ce.from, to: Ri(Ce) });
              var De = [];
              Oi(e, function(Te, Ne) {
                !Ne && ne(De, Te.history) == -1 && (Zf(Te.history, Ce), De.push(Te.history)), ro(Te, Ce, null, Bf(Te, Ce));
              });
            }, le = _7.changes.length - 1; le >= 0; --le) {
              var ge = se(le);
              if (ge)
                return ge.v;
            }
          }
        }
      }
      function Yf(e, i) {
        if (i != 0 && (e.first += i, e.sel = new En(bt(e.sel.ranges, function(p) {
          return new vt(
            oe(p.anchor.line + i, p.anchor.ch),
            oe(p.head.line + i, p.head.ch)
          );
        }), e.sel.primIndex), e.cm)) {
          ln(e.cm, e.first, e.first - i, i);
          for (var u = e.cm.display, s = u.viewFrom; s < u.viewTo; s++)
            xi(e.cm, s, "gutter");
        }
      }
      function ro(e, i, u, s) {
        if (e.cm && !e.cm.curOp)
          return zt(e.cm, ro)(e, i, u, s);
        if (i.to.line < e.first) {
          Yf(e, i.text.length - 1 - (i.to.line - i.from.line));
          return;
        }
        if (!(i.from.line > e.lastLine())) {
          if (i.from.line < e.first) {
            var p = i.text.length - 1 - (e.first - i.from.line);
            Yf(e, p), i = {
              from: oe(e.first, 0),
              to: oe(i.to.line + p, i.to.ch),
              text: [$e(i.text)],
              origin: i.origin
            };
          }
          var _7 = e.lastLine();
          i.to.line > _7 && (i = {
            from: i.from,
            to: oe(_7, ke(e, _7).text.length),
            text: [i.text[0]],
            origin: i.origin
          }), i.removed = ai(e, i.from, i.to), u || (u = Ml(e, i)), e.cm ? fv(e.cm, i, s) : Nl(e, i, s), fa(e, u, Re), e.cantEdit && da(e, oe(e.firstLine(), 0)) && (e.cantEdit = false);
        }
      }
      function fv(e, i, u) {
        var s = e.doc, p = e.display, _7 = i.from, P = i.to, k = false, H = _7.line;
        e.options.lineWrapping || (H = ht(Fn(ke(s, _7.line))), s.iter(H, P.line + 1, function(le) {
          if (le == p.maxLine)
            return k = true, true;
        })), s.sel.contains(i.from, i.to) > -1 && on2(e), Nl(s, i, u, hf(e)), e.options.lineWrapping || (s.iter(H, _7.line + i.text.length, function(le) {
          var ge = Yo(le);
          ge > p.maxLineLength && (p.maxLine = le, p.maxLineLength = ge, p.maxLineChanged = true, k = false);
        }), k && (e.curOp.updateMaxLine = true)), qp(s, _7.line), to(e, 400);
        var j = i.text.length - (P.line - _7.line) - 1;
        i.full ? ln(e) : _7.line == P.line && i.text.length == 1 && !Mf(e.doc, i) ? xi(e, _7.line, "text") : ln(e, _7.line, P.line + 1, j);
        var Y = xt(e, "changes"), q = xt(e, "change");
        if (q || Y) {
          var se = {
            from: _7,
            to: P,
            text: i.text,
            removed: i.removed,
            origin: i.origin
          };
          q && jt(e, "change", e, se), Y && (e.curOp.changeObjs || (e.curOp.changeObjs = [])).push(se);
        }
        e.display.selForContextMenu = null;
      }
      function gr(e, i, u, s, p) {
        var _7;
        s || (s = u), ve(s, u) < 0 && (_7 = [s, u], u = _7[0], s = _7[1]), typeof i == "string" && (i = e.splitLines(i)), mr(e, { from: u, to: s, text: i, origin: p });
      }
      function Xf(e, i, u, s) {
        u < e.line ? e.line += s : i < e.line && (e.line = i, e.ch = 0);
      }
      function Jf(e, i, u, s) {
        for (var p = 0; p < e.length; ++p) {
          var _7 = e[p], P = true;
          if (_7.ranges) {
            _7.copied || (_7 = e[p] = _7.deepCopy(), _7.copied = true);
            for (var k = 0; k < _7.ranges.length; k++)
              Xf(_7.ranges[k].anchor, i, u, s), Xf(_7.ranges[k].head, i, u, s);
            continue;
          }
          for (var H = 0; H < _7.changes.length; ++H) {
            var j = _7.changes[H];
            if (u < j.from.line)
              j.from = oe(j.from.line + s, j.from.ch), j.to = oe(j.to.line + s, j.to.ch);
            else if (i <= j.to.line) {
              P = false;
              break;
            }
          }
          P || (e.splice(0, p + 1), p = 0);
        }
      }
      function Zf(e, i) {
        var u = i.from.line, s = i.to.line, p = i.text.length - (s - u) - 1;
        Jf(e.done, u, s, p), Jf(e.undone, u, s, p);
      }
      function oo(e, i, u, s) {
        var p = i, _7 = i;
        return typeof i == "number" ? _7 = ke(e, Sn(e, i)) : p = ht(i), p == null ? null : (s(_7, p) && e.cm && xi(e.cm, p, u), _7);
      }
      function ao(e) {
        this.lines = e, this.parent = null;
        for (var i = 0, u = 0; u < e.length; ++u)
          e[u].parent = this, i += e[u].height;
        this.height = i;
      }
      ao.prototype = {
        chunkSize: function() {
          return this.lines.length;
        },
        removeInner: function(e, i) {
          for (var u = e, s = e + i; u < s; ++u) {
            var p = this.lines[u];
            this.height -= p.height, dh(p), jt(p, "delete");
          }
          this.lines.splice(e, i);
        },
        collapse: function(e) {
          e.push.apply(e, this.lines);
        },
        insertInner: function(e, i, u) {
          this.height += u, this.lines = this.lines.slice(0, e).concat(i).concat(this.lines.slice(e));
          for (var s = 0; s < i.length; ++s)
            i[s].parent = this;
        },
        iterN: function(e, i, u) {
          for (var s = e + i; e < s; ++e)
            if (u(this.lines[e]))
              return true;
        }
      };
      function lo(e) {
        this.children = e;
        for (var i = 0, u = 0, s = 0; s < e.length; ++s) {
          var p = e[s];
          i += p.chunkSize(), u += p.height, p.parent = this;
        }
        this.size = i, this.height = u, this.parent = null;
      }
      lo.prototype = {
        chunkSize: function() {
          return this.size;
        },
        removeInner: function(e, i) {
          this.size -= i;
          for (var u = 0; u < this.children.length; ++u) {
            var s = this.children[u], p = s.chunkSize();
            if (e < p) {
              var _7 = Math.min(i, p - e), P = s.height;
              if (s.removeInner(e, _7), this.height -= P - s.height, p == _7 && (this.children.splice(u--, 1), s.parent = null), (i -= _7) == 0)
                break;
              e = 0;
            } else
              e -= p;
          }
          if (this.size - i < 25 && (this.children.length > 1 || !(this.children[0] instanceof ao))) {
            var k = [];
            this.collapse(k), this.children = [new ao(k)], this.children[0].parent = this;
          }
        },
        collapse: function(e) {
          for (var i = 0; i < this.children.length; ++i)
            this.children[i].collapse(e);
        },
        insertInner: function(e, i, u) {
          this.size += i.length, this.height += u;
          for (var s = 0; s < this.children.length; ++s) {
            var p = this.children[s], _7 = p.chunkSize();
            if (e <= _7) {
              if (p.insertInner(e, i, u), p.lines && p.lines.length > 50) {
                for (var P = p.lines.length % 25 + 25, k = P; k < p.lines.length; ) {
                  var H = new ao(p.lines.slice(k, k += 25));
                  p.height -= H.height, this.children.splice(++s, 0, H), H.parent = this;
                }
                p.lines = p.lines.slice(0, P), this.maybeSpill();
              }
              break;
            }
            e -= _7;
          }
        },
        maybeSpill: function() {
          if (!(this.children.length <= 10)) {
            var e = this;
            do {
              var i = e.children.splice(e.children.length - 5, 5), u = new lo(i);
              if (e.parent) {
                e.size -= u.size, e.height -= u.height;
                var p = ne(e.parent.children, e);
                e.parent.children.splice(p + 1, 0, u);
              } else {
                var s = new lo(e.children);
                s.parent = e, e.children = [s, u], e = s;
              }
              u.parent = e.parent;
            } while (e.children.length > 10);
            e.parent.maybeSpill();
          }
        },
        iterN: function(e, i, u) {
          for (var s = 0; s < this.children.length; ++s) {
            var p = this.children[s], _7 = p.chunkSize();
            if (e < _7) {
              var P = Math.min(i, _7 - e);
              if (p.iterN(e, P, u))
                return true;
              if ((i -= P) == 0)
                break;
              e = 0;
            } else
              e -= _7;
          }
        }
      };
      var so = function(e, i, u) {
        if (u)
          for (var s in u)
            u.hasOwnProperty(s) && (this[s] = u[s]);
        this.doc = e, this.node = i;
      };
      so.prototype.clear = function() {
        var e = this.doc.cm, i = this.line.widgets, u = this.line, s = ht(u);
        if (!(s == null || !i)) {
          for (var p = 0; p < i.length; ++p)
            i[p] == this && i.splice(p--, 1);
          i.length || (u.widgets = null);
          var _7 = Qr(this);
          In(u, Math.max(0, u.height - _7)), e && (gn(e, function() {
            qf(e, u, -_7), xi(e, s, "widget");
          }), jt(e, "lineWidgetCleared", e, this, s));
        }
      }, so.prototype.changed = function() {
        var e = this, i = this.height, u = this.doc.cm, s = this.line;
        this.height = null;
        var p = Qr(this) - i;
        !p || (Ei(this.doc, s) || In(s, s.height + p), u && gn(u, function() {
          u.curOp.forceUpdate = true, qf(u, s, p), jt(u, "lineWidgetChanged", u, e, ht(s));
        }));
      }, wt(so);
      function qf(e, i, u) {
        si(i) < (e.curOp && e.curOp.scrollTop || e.doc.scrollTop) && Tl(e, u);
      }
      function dv(e, i, u, s) {
        var p = new so(e, u, s), _7 = e.cm;
        return _7 && p.noHScroll && (_7.display.alignWidgets = true), oo(e, i, "widget", function(P) {
          var k = P.widgets || (P.widgets = []);
          if (p.insertAt == null ? k.push(p) : k.splice(Math.min(k.length, Math.max(0, p.insertAt)), 0, p), p.line = P, _7 && !Ei(e, P)) {
            var H = si(P) < e.scrollTop;
            In(P, P.height + Qr(p)), H && Tl(_7, p.height), _7.curOp.forceUpdate = true;
          }
          return true;
        }), _7 && jt(_7, "lineWidgetAdded", _7, p, typeof i == "number" ? i : ht(i)), p;
      }
      var ed = 0, Di = function(e, i) {
        this.lines = [], this.type = i, this.doc = e, this.id = ++ed;
      };
      Di.prototype.clear = function() {
        if (!this.explicitlyCleared) {
          var e = this.doc.cm, i = e && !e.curOp;
          if (i && Wi(e), xt(this, "clear")) {
            var u = this.find();
            u && jt(this, "clear", u.from, u.to);
          }
          for (var s = null, p = null, _7 = 0; _7 < this.lines.length; ++_7) {
            var P = this.lines[_7], k = Wr(P.markedSpans, this);
            e && !this.collapsed ? xi(e, ht(P), "text") : e && (k.to != null && (p = ht(P)), k.from != null && (s = ht(P))), P.markedSpans = nh(P.markedSpans, k), k.from == null && this.collapsed && !Ei(this.doc, P) && e && In(P, ur(e.display));
          }
          if (e && this.collapsed && !e.options.lineWrapping)
            for (var H = 0; H < this.lines.length; ++H) {
              var j = Fn(this.lines[H]), Y = Yo(j);
              Y > e.display.maxLineLength && (e.display.maxLine = j, e.display.maxLineLength = Y, e.display.maxLineChanged = true);
            }
          s != null && e && this.collapsed && ln(e, s, p + 1), this.lines.length = 0, this.explicitlyCleared = true, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = false, e && zf(e.doc)), e && jt(e, "markerCleared", e, this, s, p), i && Ki(e), this.parent && this.parent.clear();
        }
      }, Di.prototype.find = function(e, i) {
        e == null && this.type == "bookmark" && (e = 1);
        for (var u, s, p = 0; p < this.lines.length; ++p) {
          var _7 = this.lines[p], P = Wr(_7.markedSpans, this);
          if (P.from != null && (u = oe(i ? _7 : ht(_7), P.from), e == -1))
            return u;
          if (P.to != null && (s = oe(i ? _7 : ht(_7), P.to), e == 1))
            return s;
        }
        return u && { from: u, to: s };
      }, Di.prototype.changed = function() {
        var e = this, i = this.find(-1, true), u = this, s = this.doc.cm;
        !i || !s || gn(s, function() {
          var p = i.line, _7 = ht(i.line), P = pl(s, _7);
          if (P && (af(P), s.curOp.selectionChanged = s.curOp.forceUpdate = true), s.curOp.updateMaxLine = true, !Ei(u.doc, p) && u.height != null) {
            var k = u.height;
            u.height = null;
            var H = Qr(u) - k;
            H && In(p, p.height + H);
          }
          jt(s, "markerChanged", s, e);
        });
      }, Di.prototype.attachLine = function(e) {
        if (!this.lines.length && this.doc.cm) {
          var i = this.doc.cm.curOp;
          (!i.maybeHiddenMarkers || ne(i.maybeHiddenMarkers, this) == -1) && (i.maybeUnhiddenMarkers || (i.maybeUnhiddenMarkers = [])).push(this);
        }
        this.lines.push(e);
      }, Di.prototype.detachLine = function(e) {
        if (this.lines.splice(ne(this.lines, e), 1), !this.lines.length && this.doc.cm) {
          var i = this.doc.cm.curOp;
          (i.maybeHiddenMarkers || (i.maybeHiddenMarkers = [])).push(this);
        }
      }, wt(Di);
      function yr(e, i, u, s, p) {
        if (s && s.shared)
          return cv(e, i, u, s, p);
        if (e.cm && !e.cm.curOp)
          return zt(e.cm, yr)(e, i, u, s, p);
        var _7 = new Di(e, p), P = ve(i, u);
        if (s && pe(s, _7, false), P > 0 || P == 0 && _7.clearWhenEmpty !== false)
          return _7;
        if (_7.replacedWith && (_7.collapsed = true, _7.widgetNode = z("span", [_7.replacedWith], "CodeMirror-widget"), s.handleMouseEvents || _7.widgetNode.setAttribute("cm-ignore-events", "true"), s.insertLeft && (_7.widgetNode.insertLeft = true)), _7.collapsed) {
          if (zu(e, i.line, i, u, _7) || i.line != u.line && zu(e, u.line, i, u, _7))
            throw new Error("Inserting collapsed marker partially overlapping an existing one");
          th();
        }
        _7.addToHistory && Ff(e, { from: i, to: u, origin: "markText" }, e.sel, NaN);
        var k = i.line, H = e.cm, j;
        if (e.iter(k, u.line + 1, function(q) {
          H && _7.collapsed && !H.options.lineWrapping && Fn(q) == H.display.maxLine && (j = true), _7.collapsed && k != i.line && In(q, 0), ih(q, new Wo(
            _7,
            k == i.line ? i.ch : null,
            k == u.line ? u.ch : null
          ), e.cm && e.cm.curOp), ++k;
        }), _7.collapsed && e.iter(i.line, u.line + 1, function(q) {
          Ei(e, q) && In(q, 0);
        }), _7.clearOnEnter && he(_7, "beforeCursorEnter", function() {
          return _7.clear();
        }), _7.readOnly && (eh(), (e.history.done.length || e.history.undone.length) && e.clearHistory()), _7.collapsed && (_7.id = ++ed, _7.atomic = true), H) {
          if (j && (H.curOp.updateMaxLine = true), _7.collapsed)
            ln(H, i.line, u.line + 1);
          else if (_7.className || _7.startStyle || _7.endStyle || _7.css || _7.attributes || _7.title)
            for (var Y = i.line; Y <= u.line; Y++)
              xi(H, Y, "text");
          _7.atomic && zf(H.doc), jt(H, "markerAdded", H, _7);
        }
        return _7;
      }
      var uo = function(e, i) {
        this.markers = e, this.primary = i;
        for (var u = 0; u < e.length; ++u)
          e[u].parent = this;
      };
      uo.prototype.clear = function() {
        if (!this.explicitlyCleared) {
          this.explicitlyCleared = true;
          for (var e = 0; e < this.markers.length; ++e)
            this.markers[e].clear();
          jt(this, "clear");
        }
      }, uo.prototype.find = function(e, i) {
        return this.primary.find(e, i);
      }, wt(uo);
      function cv(e, i, u, s, p) {
        s = pe(s), s.shared = false;
        var _7 = [yr(e, i, u, s, p)], P = _7[0], k = s.widgetNode;
        return Oi(e, function(H) {
          k && (s.widgetNode = k.cloneNode(true)), _7.push(yr(H, We(H, i), We(H, u), s, p));
          for (var j = 0; j < H.linked.length; ++j)
            if (H.linked[j].isParent)
              return;
          P = $e(_7);
        }), new uo(_7, P);
      }
      function td(e) {
        return e.findMarks(oe(e.first, 0), e.clipPos(oe(e.lastLine())), function(i) {
          return i.parent;
        });
      }
      function pv(e, i) {
        for (var u = 0; u < i.length; u++) {
          var s = i[u], p = s.find(), _7 = e.clipPos(p.from), P = e.clipPos(p.to);
          if (ve(_7, P)) {
            var k = yr(e, _7, P, s.primary, s.primary.type);
            s.markers.push(k), k.parent = s;
          }
        }
      }
      function hv(e) {
        for (var i = function(s) {
          var p = e[s], _7 = [p.primary.doc];
          Oi(p.primary.doc, function(H) {
            return _7.push(H);
          });
          for (var P = 0; P < p.markers.length; P++) {
            var k = p.markers[P];
            ne(_7, k.doc) == -1 && (k.parent = null, p.markers.splice(P--, 1));
          }
        }, u = 0; u < e.length; u++)
          i(u);
      }
      var vv = 0, sn = function(e, i, u, s, p) {
        if (!(this instanceof sn))
          return new sn(e, i, u, s, p);
        u == null && (u = 0), lo.call(this, [new ao([new ar("", null)])]), this.first = u, this.scrollTop = this.scrollLeft = 0, this.cantEdit = false, this.cleanGeneration = 1, this.modeFrontier = this.highlightFrontier = u;
        var _7 = oe(u, 0);
        this.sel = _i(_7), this.history = new la(null), this.id = ++vv, this.modeOption = i, this.lineSep = s, this.direction = p == "rtl" ? "rtl" : "ltr", this.extend = false, typeof e == "string" && (e = this.splitLines(e)), Nl(this, { from: _7, to: _7, text: e }), Zt(this, _i(_7), Re);
      };
      sn.prototype = yi(lo.prototype, {
        constructor: sn,
        iter: function(e, i, u) {
          u ? this.iterN(e - this.first, i - e, u) : this.iterN(this.first, this.first + this.size, e);
        },
        insert: function(e, i) {
          for (var u = 0, s = 0; s < i.length; ++s)
            u += i[s].height;
          this.insertInner(e - this.first, i, u);
        },
        remove: function(e, i) {
          this.removeInner(e - this.first, i);
        },
        getValue: function(e) {
          var i = or(this, this.first, this.first + this.size);
          return e === false ? i : i.join(e || this.lineSeparator());
        },
        setValue: Ut(function(e) {
          var i = oe(this.first, 0), u = this.first + this.size - 1;
          mr(this, {
            from: i,
            to: oe(u, ke(this, u).text.length),
            text: this.splitLines(e),
            origin: "setValue",
            full: true
          }, true), this.cm && Jr(this.cm, 0, 0), Zt(this, _i(i), Re);
        }),
        replaceRange: function(e, i, u, s) {
          i = We(this, i), u = u ? We(this, u) : i, gr(this, e, i, u, s);
        },
        getRange: function(e, i, u) {
          var s = ai(this, We(this, e), We(this, i));
          return u === false ? s : u === "" ? s.join("") : s.join(u || this.lineSeparator());
        },
        getLine: function(e) {
          var i = this.getLineHandle(e);
          return i && i.text;
        },
        getLineHandle: function(e) {
          if (W(this, e))
            return ke(this, e);
        },
        getLineNumber: function(e) {
          return ht(e);
        },
        getLineHandleVisualStart: function(e) {
          return typeof e == "number" && (e = ke(this, e)), Fn(e);
        },
        lineCount: function() {
          return this.size;
        },
        firstLine: function() {
          return this.first;
        },
        lastLine: function() {
          return this.first + this.size - 1;
        },
        clipPos: function(e) {
          return We(this, e);
        },
        getCursor: function(e) {
          var i = this.sel.primary(), u;
          return e == null || e == "head" ? u = i.head : e == "anchor" ? u = i.anchor : e == "end" || e == "to" || e === false ? u = i.to() : u = i.from(), u;
        },
        listSelections: function() {
          return this.sel.ranges;
        },
        somethingSelected: function() {
          return this.sel.somethingSelected();
        },
        setCursor: Ut(function(e, i, u) {
          Hf(this, We(this, typeof e == "number" ? oe(e, i || 0) : e), null, u);
        }),
        setSelection: Ut(function(e, i, u) {
          Hf(this, We(this, e), We(this, i || e), u);
        }),
        extendSelection: Ut(function(e, i, u) {
          ua(this, We(this, e), i && We(this, i), u);
        }),
        extendSelections: Ut(function(e, i) {
          $f(this, Ou(this, e), i);
        }),
        extendSelectionsBy: Ut(function(e, i) {
          var u = bt(this.sel.ranges, e);
          $f(this, Ou(this, u), i);
        }),
        setSelections: Ut(function(e, i, u) {
          if (!!e.length) {
            for (var s = [], p = 0; p < e.length; p++)
              s[p] = new vt(
                We(this, e[p].anchor),
                We(this, e[p].head || e[p].anchor)
              );
            i == null && (i = Math.min(e.length - 1, this.sel.primIndex)), Zt(this, Bn(this.cm, s, i), u);
          }
        }),
        addSelection: Ut(function(e, i, u) {
          var s = this.sel.ranges.slice(0);
          s.push(new vt(We(this, e), We(this, i || e))), Zt(this, Bn(this.cm, s, s.length - 1), u);
        }),
        getSelection: function(e) {
          for (var i = this.sel.ranges, u, s = 0; s < i.length; s++) {
            var p = ai(this, i[s].from(), i[s].to());
            u = u ? u.concat(p) : p;
          }
          return e === false ? u : u.join(e || this.lineSeparator());
        },
        getSelections: function(e) {
          for (var i = [], u = this.sel.ranges, s = 0; s < u.length; s++) {
            var p = ai(this, u[s].from(), u[s].to());
            e !== false && (p = p.join(e || this.lineSeparator())), i[s] = p;
          }
          return i;
        },
        replaceSelection: function(e, i, u) {
          for (var s = [], p = 0; p < this.sel.ranges.length; p++)
            s[p] = e;
          this.replaceSelections(s, i, u || "+input");
        },
        replaceSelections: Ut(function(e, i, u) {
          for (var s = [], p = this.sel, _7 = 0; _7 < p.ranges.length; _7++) {
            var P = p.ranges[_7];
            s[_7] = { from: P.from(), to: P.to(), text: this.splitLines(e[_7]), origin: u };
          }
          for (var k = i && i != "end" && nv(this, s, i), H = s.length - 1; H >= 0; H--)
            mr(this, s[H]);
          k ? Vf(this, k) : this.cm && cr(this.cm);
        }),
        undo: Ut(function() {
          ca(this, "undo");
        }),
        redo: Ut(function() {
          ca(this, "redo");
        }),
        undoSelection: Ut(function() {
          ca(this, "undo", true);
        }),
        redoSelection: Ut(function() {
          ca(this, "redo", true);
        }),
        setExtending: function(e) {
          this.extend = e;
        },
        getExtending: function() {
          return this.extend;
        },
        historySize: function() {
          for (var e = this.history, i = 0, u = 0, s = 0; s < e.done.length; s++)
            e.done[s].ranges || ++i;
          for (var p = 0; p < e.undone.length; p++)
            e.undone[p].ranges || ++u;
          return { undo: i, redo: u };
        },
        clearHistory: function() {
          var e = this;
          this.history = new la(this.history), Oi(this, function(i) {
            return i.history = e.history;
          }, true);
        },
        markClean: function() {
          this.cleanGeneration = this.changeGeneration(true);
        },
        changeGeneration: function(e) {
          return e && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation;
        },
        isClean: function(e) {
          return this.history.generation == (e || this.cleanGeneration);
        },
        getHistory: function() {
          return {
            done: hr(this.history.done),
            undone: hr(this.history.undone)
          };
        },
        setHistory: function(e) {
          var i = this.history = new la(this.history);
          i.done = hr(e.done.slice(0), null, true), i.undone = hr(e.undone.slice(0), null, true);
        },
        setGutterMarker: Ut(function(e, i, u) {
          return oo(this, e, "gutter", function(s) {
            var p = s.gutterMarkers || (s.gutterMarkers = {});
            return p[i] = u, !u && Un(p) && (s.gutterMarkers = null), true;
          });
        }),
        clearGutter: Ut(function(e) {
          var i = this;
          this.iter(function(u) {
            u.gutterMarkers && u.gutterMarkers[e] && oo(i, u, "gutter", function() {
              return u.gutterMarkers[e] = null, Un(u.gutterMarkers) && (u.gutterMarkers = null), true;
            });
          });
        }),
        lineInfo: function(e) {
          var i;
          if (typeof e == "number") {
            if (!W(this, e) || (i = e, e = ke(this, e), !e))
              return null;
          } else if (i = ht(e), i == null)
            return null;
          return {
            line: i,
            handle: e,
            text: e.text,
            gutterMarkers: e.gutterMarkers,
            textClass: e.textClass,
            bgClass: e.bgClass,
            wrapClass: e.wrapClass,
            widgets: e.widgets
          };
        },
        addLineClass: Ut(function(e, i, u) {
          return oo(this, e, i == "gutter" ? "gutter" : "class", function(s) {
            var p = i == "text" ? "textClass" : i == "background" ? "bgClass" : i == "gutter" ? "gutterClass" : "wrapClass";
            if (!s[p])
              s[p] = u;
            else {
              if (S(u).test(s[p]))
                return false;
              s[p] += " " + u;
            }
            return true;
          });
        }),
        removeLineClass: Ut(function(e, i, u) {
          return oo(this, e, i == "gutter" ? "gutter" : "class", function(s) {
            var p = i == "text" ? "textClass" : i == "background" ? "bgClass" : i == "gutter" ? "gutterClass" : "wrapClass", _7 = s[p];
            if (_7)
              if (u == null)
                s[p] = null;
              else {
                var P = _7.match(S(u));
                if (!P)
                  return false;
                var k = P.index + P[0].length;
                s[p] = _7.slice(0, P.index) + (!P.index || k == _7.length ? "" : " ") + _7.slice(k) || null;
              }
            else
              return false;
            return true;
          });
        }),
        addLineWidget: Ut(function(e, i, u) {
          return dv(this, e, i, u);
        }),
        removeLineWidget: function(e) {
          e.clear();
        },
        markText: function(e, i, u) {
          return yr(this, We(this, e), We(this, i), u, u && u.type || "range");
        },
        setBookmark: function(e, i) {
          var u = {
            replacedWith: i && (i.nodeType == null ? i.widget : i),
            insertLeft: i && i.insertLeft,
            clearWhenEmpty: false,
            shared: i && i.shared,
            handleMouseEvents: i && i.handleMouseEvents
          };
          return e = We(this, e), yr(this, e, e, u, "bookmark");
        },
        findMarksAt: function(e) {
          e = We(this, e);
          var i = [], u = ke(this, e.line).markedSpans;
          if (u)
            for (var s = 0; s < u.length; ++s) {
              var p = u[s];
              (p.from == null || p.from <= e.ch) && (p.to == null || p.to >= e.ch) && i.push(p.marker.parent || p.marker);
            }
          return i;
        },
        findMarks: function(e, i, u) {
          e = We(this, e), i = We(this, i);
          var s = [], p = e.line;
          return this.iter(e.line, i.line + 1, function(_7) {
            var P = _7.markedSpans;
            if (P)
              for (var k = 0; k < P.length; k++) {
                var H = P[k];
                !(H.to != null && p == e.line && e.ch >= H.to || H.from == null && p != e.line || H.from != null && p == i.line && H.from >= i.ch) && (!u || u(H.marker)) && s.push(H.marker.parent || H.marker);
              }
            ++p;
          }), s;
        },
        getAllMarks: function() {
          var e = [];
          return this.iter(function(i) {
            var u = i.markedSpans;
            if (u)
              for (var s = 0; s < u.length; ++s)
                u[s].from != null && e.push(u[s].marker);
          }), e;
        },
        posFromIndex: function(e) {
          var i, u = this.first, s = this.lineSeparator().length;
          return this.iter(function(p) {
            var _7 = p.text.length + s;
            if (_7 > e)
              return i = e, true;
            e -= _7, ++u;
          }), We(this, oe(u, i));
        },
        indexFromPos: function(e) {
          e = We(this, e);
          var i = e.ch;
          if (e.line < this.first || e.ch < 0)
            return 0;
          var u = this.lineSeparator().length;
          return this.iter(this.first, e.line, function(s) {
            i += s.text.length + u;
          }), i;
        },
        copy: function(e) {
          var i = new sn(
            or(this, this.first, this.first + this.size),
            this.modeOption,
            this.first,
            this.lineSep,
            this.direction
          );
          return i.scrollTop = this.scrollTop, i.scrollLeft = this.scrollLeft, i.sel = this.sel, i.extend = false, e && (i.history.undoDepth = this.history.undoDepth, i.setHistory(this.getHistory())), i;
        },
        linkedDoc: function(e) {
          e || (e = {});
          var i = this.first, u = this.first + this.size;
          e.from != null && e.from > i && (i = e.from), e.to != null && e.to < u && (u = e.to);
          var s = new sn(or(this, i, u), e.mode || this.modeOption, i, this.lineSep, this.direction);
          return e.sharedHist && (s.history = this.history), (this.linked || (this.linked = [])).push({ doc: s, sharedHist: e.sharedHist }), s.linked = [{ doc: this, isParent: true, sharedHist: e.sharedHist }], pv(s, td(this)), s;
        },
        unlinkDoc: function(e) {
          if (e instanceof Et && (e = e.doc), this.linked)
            for (var i = 0; i < this.linked.length; ++i) {
              var u = this.linked[i];
              if (u.doc == e) {
                this.linked.splice(i, 1), e.unlinkDoc(this), hv(td(this));
                break;
              }
            }
          if (e.history == this.history) {
            var s = [e.id];
            Oi(e, function(p) {
              return s.push(p.id);
            }, true), e.history = new la(null), e.history.done = hr(this.history.done, s), e.history.undone = hr(this.history.undone, s);
          }
        },
        iterLinkedDocs: function(e) {
          Oi(this, e);
        },
        getMode: function() {
          return this.mode;
        },
        getEditor: function() {
          return this.cm;
        },
        splitLines: function(e) {
          return this.lineSep ? e.split(this.lineSep) : jr(e);
        },
        lineSeparator: function() {
          return this.lineSep || `
`;
        },
        setDirection: Ut(function(e) {
          e != "rtl" && (e = "ltr"), e != this.direction && (this.direction = e, this.iter(function(i) {
            return i.order = null;
          }), this.cm && iv(this.cm));
        })
      }), sn.prototype.eachLine = sn.prototype.iter;
      var nd = 0;
      function mv(e) {
        var i = this;
        if (id2(i), !(Ye(i, e) || ui(i.display, e))) {
          pt(e), c && (nd = +/* @__PURE__ */ new Date());
          var u = Vi(i, e, true), s = e.dataTransfer.files;
          if (!(!u || i.isReadOnly()))
            if (s && s.length && window.FileReader && window.File)
              for (var p = s.length, _7 = Array(p), P = 0, k = function() {
                ++P == p && zt(i, function() {
                  u = We(i.doc, u);
                  var le = {
                    from: u,
                    to: u,
                    text: i.doc.splitLines(
                      _7.filter(function(ge) {
                        return ge != null;
                      }).join(i.doc.lineSeparator())
                    ),
                    origin: "paste"
                  };
                  mr(i.doc, le), Vf(i.doc, _i(We(i.doc, u), We(i.doc, Ri(le))));
                })();
              }, H = function(le, ge) {
                if (i.options.allowDropFileTypes && ne(i.options.allowDropFileTypes, le.type) == -1) {
                  k();
                  return;
                }
                var Ae = new FileReader();
                Ae.onerror = function() {
                  return k();
                }, Ae.onload = function() {
                  var Ce = Ae.result;
                  if (/[\x00-\x08\x0e-\x1f]{2}/.test(Ce)) {
                    k();
                    return;
                  }
                  _7[ge] = Ce, k();
                }, Ae.readAsText(le);
              }, j = 0; j < s.length; j++)
                H(s[j], j);
            else {
              if (i.state.draggingText && i.doc.sel.contains(u) > -1) {
                i.state.draggingText(e), setTimeout(function() {
                  return i.display.input.focus();
                }, 20);
                return;
              }
              try {
                var Y = e.dataTransfer.getData("Text");
                if (Y) {
                  var q;
                  if (i.state.draggingText && !i.state.draggingText.copy && (q = i.listSelections()), fa(i.doc, _i(u, u)), q)
                    for (var se = 0; se < q.length; ++se)
                      gr(i.doc, "", q[se].anchor, q[se].head, "drag");
                  i.replaceSelection(Y, "around", "paste"), i.display.input.focus();
                }
              } catch {
              }
            }
        }
      }
      function gv(e, i) {
        if (c && (!e.state.draggingText || +/* @__PURE__ */ new Date() - nd < 100)) {
          Nn(i);
          return;
        }
        if (!(Ye(e, i) || ui(e.display, i)) && (i.dataTransfer.setData("Text", e.getSelection()), i.dataTransfer.effectAllowed = "copyMove", i.dataTransfer.setDragImage && !E)) {
          var u = L("img", null, null, "position: fixed; left: 0; top: 0;");
          u.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", A && (u.width = u.height = 1, e.display.wrapper.appendChild(u), u._top = u.offsetTop), i.dataTransfer.setDragImage(u, 0, 0), A && u.parentNode.removeChild(u);
        }
      }
      function yv(e, i) {
        var u = Vi(e, i);
        if (!!u) {
          var s = document.createDocumentFragment();
          wl(e, u, s), e.display.dragCursor || (e.display.dragCursor = L("div", null, "CodeMirror-cursors CodeMirror-dragcursors"), e.display.lineSpace.insertBefore(e.display.dragCursor, e.display.cursorDiv)), U(e.display.dragCursor, s);
        }
      }
      function id2(e) {
        e.display.dragCursor && (e.display.lineSpace.removeChild(e.display.dragCursor), e.display.dragCursor = null);
      }
      function rd(e) {
        if (!!document.getElementsByClassName) {
          for (var i = document.getElementsByClassName("CodeMirror"), u = [], s = 0; s < i.length; s++) {
            var p = i[s].CodeMirror;
            p && u.push(p);
          }
          u.length && u[0].operation(function() {
            for (var _7 = 0; _7 < u.length; _7++)
              e(u[_7]);
          });
        }
      }
      var od = false;
      function bv() {
        od || (Av(), od = true);
      }
      function Av() {
        var e;
        he(window, "resize", function() {
          e == null && (e = setTimeout(function() {
            e = null, rd(wv);
          }, 100));
        }), he(window, "blur", function() {
          return rd(dr);
        });
      }
      function wv(e) {
        var i = e.display;
        i.cachedCharWidth = i.cachedTextHeight = i.cachedPaddingH = null, i.scrollbarsClipped = false, e.setSize();
      }
      for (var Ii = {
        3: "Pause",
        8: "Backspace",
        9: "Tab",
        13: "Enter",
        16: "Shift",
        17: "Ctrl",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Esc",
        32: "Space",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "Left",
        38: "Up",
        39: "Right",
        40: "Down",
        44: "PrintScrn",
        45: "Insert",
        46: "Delete",
        59: ";",
        61: "=",
        91: "Mod",
        92: "Mod",
        93: "Mod",
        106: "*",
        107: "=",
        109: "-",
        110: ".",
        111: "/",
        145: "ScrollLock",
        173: "-",
        186: ";",
        187: "=",
        188: ",",
        189: "-",
        190: ".",
        191: "/",
        192: "`",
        219: "[",
        220: "\\",
        221: "]",
        222: "'",
        224: "Mod",
        63232: "Up",
        63233: "Down",
        63234: "Left",
        63235: "Right",
        63272: "Delete",
        63273: "Home",
        63275: "End",
        63276: "PageUp",
        63277: "PageDown",
        63302: "Insert"
      }, fo = 0; fo < 10; fo++)
        Ii[fo + 48] = Ii[fo + 96] = String(fo);
      for (var pa = 65; pa <= 90; pa++)
        Ii[pa] = String.fromCharCode(pa);
      for (var co = 1; co <= 12; co++)
        Ii[co + 111] = Ii[co + 63235] = "F" + co;
      var di = {};
      di.basic = {
        Left: "goCharLeft",
        Right: "goCharRight",
        Up: "goLineUp",
        Down: "goLineDown",
        End: "goLineEnd",
        Home: "goLineStartSmart",
        PageUp: "goPageUp",
        PageDown: "goPageDown",
        Delete: "delCharAfter",
        Backspace: "delCharBefore",
        "Shift-Backspace": "delCharBefore",
        Tab: "defaultTab",
        "Shift-Tab": "indentAuto",
        Enter: "newlineAndIndent",
        Insert: "toggleOverwrite",
        Esc: "singleSelection"
      }, di.pcDefault = {
        "Ctrl-A": "selectAll",
        "Ctrl-D": "deleteLine",
        "Ctrl-Z": "undo",
        "Shift-Ctrl-Z": "redo",
        "Ctrl-Y": "redo",
        "Ctrl-Home": "goDocStart",
        "Ctrl-End": "goDocEnd",
        "Ctrl-Up": "goLineUp",
        "Ctrl-Down": "goLineDown",
        "Ctrl-Left": "goGroupLeft",
        "Ctrl-Right": "goGroupRight",
        "Alt-Left": "goLineStart",
        "Alt-Right": "goLineEnd",
        "Ctrl-Backspace": "delGroupBefore",
        "Ctrl-Delete": "delGroupAfter",
        "Ctrl-S": "save",
        "Ctrl-F": "find",
        "Ctrl-G": "findNext",
        "Shift-Ctrl-G": "findPrev",
        "Shift-Ctrl-F": "replace",
        "Shift-Ctrl-R": "replaceAll",
        "Ctrl-[": "indentLess",
        "Ctrl-]": "indentMore",
        "Ctrl-U": "undoSelection",
        "Shift-Ctrl-U": "redoSelection",
        "Alt-U": "redoSelection",
        fallthrough: "basic"
      }, di.emacsy = {
        "Ctrl-F": "goCharRight",
        "Ctrl-B": "goCharLeft",
        "Ctrl-P": "goLineUp",
        "Ctrl-N": "goLineDown",
        "Ctrl-A": "goLineStart",
        "Ctrl-E": "goLineEnd",
        "Ctrl-V": "goPageDown",
        "Shift-Ctrl-V": "goPageUp",
        "Ctrl-D": "delCharAfter",
        "Ctrl-H": "delCharBefore",
        "Alt-Backspace": "delWordBefore",
        "Ctrl-K": "killLine",
        "Ctrl-T": "transposeChars",
        "Ctrl-O": "openLine"
      }, di.macDefault = {
        "Cmd-A": "selectAll",
        "Cmd-D": "deleteLine",
        "Cmd-Z": "undo",
        "Shift-Cmd-Z": "redo",
        "Cmd-Y": "redo",
        "Cmd-Home": "goDocStart",
        "Cmd-Up": "goDocStart",
        "Cmd-End": "goDocEnd",
        "Cmd-Down": "goDocEnd",
        "Alt-Left": "goGroupLeft",
        "Alt-Right": "goGroupRight",
        "Cmd-Left": "goLineLeft",
        "Cmd-Right": "goLineRight",
        "Alt-Backspace": "delGroupBefore",
        "Ctrl-Alt-Backspace": "delGroupAfter",
        "Alt-Delete": "delGroupAfter",
        "Cmd-S": "save",
        "Cmd-F": "find",
        "Cmd-G": "findNext",
        "Shift-Cmd-G": "findPrev",
        "Cmd-Alt-F": "replace",
        "Shift-Cmd-Alt-F": "replaceAll",
        "Cmd-[": "indentLess",
        "Cmd-]": "indentMore",
        "Cmd-Backspace": "delWrappedLineLeft",
        "Cmd-Delete": "delWrappedLineRight",
        "Cmd-U": "undoSelection",
        "Shift-Cmd-U": "redoSelection",
        "Ctrl-Up": "goDocStart",
        "Ctrl-Down": "goDocEnd",
        fallthrough: ["basic", "emacsy"]
      }, di.default = D ? di.macDefault : di.pcDefault;
      function Cv(e) {
        var i = e.split(/-(?!$)/);
        e = i[i.length - 1];
        for (var u, s, p, _7, P = 0; P < i.length - 1; P++) {
          var k = i[P];
          if (/^(cmd|meta|m)$/i.test(k))
            _7 = true;
          else if (/^a(lt)?$/i.test(k))
            u = true;
          else if (/^(c|ctrl|control)$/i.test(k))
            s = true;
          else if (/^s(hift)?$/i.test(k))
            p = true;
          else
            throw new Error("Unrecognized modifier name: " + k);
        }
        return u && (e = "Alt-" + e), s && (e = "Ctrl-" + e), _7 && (e = "Cmd-" + e), p && (e = "Shift-" + e), e;
      }
      function Sv(e) {
        var i = {};
        for (var u in e)
          if (e.hasOwnProperty(u)) {
            var s = e[u];
            if (/^(name|fallthrough|(de|at)tach)$/.test(u))
              continue;
            if (s == "...") {
              delete e[u];
              continue;
            }
            for (var p = bt(u.split(" "), Cv), _7 = 0; _7 < p.length; _7++) {
              var P = void 0, k = void 0;
              _7 == p.length - 1 ? (k = p.join(" "), P = s) : (k = p.slice(0, _7 + 1).join(" "), P = "...");
              var H = i[k];
              if (!H)
                i[k] = P;
              else if (H != P)
                throw new Error("Inconsistent bindings for " + k);
            }
            delete e[u];
          }
        for (var j in i)
          e[j] = i[j];
        return e;
      }
      function br(e, i, u, s) {
        i = ha(i);
        var p = i.call ? i.call(e, s) : i[e];
        if (p === false)
          return "nothing";
        if (p === "...")
          return "multi";
        if (p != null && u(p))
          return "handled";
        if (i.fallthrough) {
          if (Object.prototype.toString.call(i.fallthrough) != "[object Array]")
            return br(e, i.fallthrough, u, s);
          for (var _7 = 0; _7 < i.fallthrough.length; _7++) {
            var P = br(e, i.fallthrough[_7], u, s);
            if (P)
              return P;
          }
        }
      }
      function ad(e) {
        var i = typeof e == "string" ? e : Ii[e.keyCode];
        return i == "Ctrl" || i == "Alt" || i == "Shift" || i == "Mod";
      }
      function ld(e, i, u) {
        var s = e;
        return i.altKey && s != "Alt" && (e = "Alt-" + e), (B ? i.metaKey : i.ctrlKey) && s != "Ctrl" && (e = "Ctrl-" + e), (B ? i.ctrlKey : i.metaKey) && s != "Mod" && (e = "Cmd-" + e), !u && i.shiftKey && s != "Shift" && (e = "Shift-" + e), e;
      }
      function sd(e, i) {
        if (A && e.keyCode == 34 && e.char)
          return false;
        var u = Ii[e.keyCode];
        return u == null || e.altGraphKey ? false : (e.keyCode == 3 && e.code && (u = e.code), ld(u, e, i));
      }
      function ha(e) {
        return typeof e == "string" ? di[e] : e;
      }
      function Ar(e, i) {
        for (var u = e.doc.sel.ranges, s = [], p = 0; p < u.length; p++) {
          for (var _7 = i(u[p]); s.length && ve(_7.from, $e(s).to) <= 0; ) {
            var P = s.pop();
            if (ve(P.from, _7.from) < 0) {
              _7.from = P.from;
              break;
            }
          }
          s.push(_7);
        }
        gn(e, function() {
          for (var k = s.length - 1; k >= 0; k--)
            gr(e.doc, "", s[k].from, s[k].to, "+delete");
          cr(e);
        });
      }
      function Bl(e, i, u) {
        var s = kt(e.text, i + u, u);
        return s < 0 || s > e.text.length ? null : s;
      }
      function $l(e, i, u) {
        var s = Bl(e, i.ch, u);
        return s == null ? null : new oe(i.line, s, u < 0 ? "after" : "before");
      }
      function Hl(e, i, u, s, p) {
        if (e) {
          i.doc.direction == "rtl" && (p = -p);
          var _7 = ze(u, i.doc.direction);
          if (_7) {
            var P = p < 0 ? $e(_7) : _7[0], k = p < 0 == (P.level == 1), H = k ? "after" : "before", j;
            if (P.level > 0 || i.doc.direction == "rtl") {
              var Y = sr(i, u);
              j = p < 0 ? u.text.length - 1 : 0;
              var q = Xn(i, Y, j).top;
              j = ct(function(se) {
                return Xn(i, Y, se).top == q;
              }, p < 0 == (P.level == 1) ? P.from : P.to - 1, j), H == "before" && (j = Bl(u, j, 1));
            } else
              j = p < 0 ? P.to : P.from;
            return new oe(s, j, H);
          }
        }
        return new oe(s, p < 0 ? u.text.length : 0, p < 0 ? "before" : "after");
      }
      function Ev(e, i, u, s) {
        var p = ze(i, e.doc.direction);
        if (!p)
          return $l(i, u, s);
        u.ch >= i.text.length ? (u.ch = i.text.length, u.sticky = "before") : u.ch <= 0 && (u.ch = 0, u.sticky = "after");
        var _7 = Ie(p, u.ch, u.sticky), P = p[_7];
        if (e.doc.direction == "ltr" && P.level % 2 == 0 && (s > 0 ? P.to > u.ch : P.from < u.ch))
          return $l(i, u, s);
        var k = function(xe, De) {
          return Bl(i, xe instanceof oe ? xe.ch : xe, De);
        }, H, j = function(xe) {
          return e.options.lineWrapping ? (H = H || sr(e, i), pf(e, i, H, xe)) : { begin: 0, end: i.text.length };
        }, Y = j(u.sticky == "before" ? k(u, -1) : u.ch);
        if (e.doc.direction == "rtl" || P.level == 1) {
          var q = P.level == 1 == s < 0, se = k(u, q ? 1 : -1);
          if (se != null && (q ? se <= P.to && se <= Y.end : se >= P.from && se >= Y.begin)) {
            var le = q ? "before" : "after";
            return new oe(u.line, se, le);
          }
        }
        var ge = function(xe, De, Te) {
          for (var Ne = function(At, Wt) {
            return Wt ? new oe(u.line, k(At, 1), "before") : new oe(u.line, At, "after");
          }; xe >= 0 && xe < p.length; xe += De) {
            var Ve = p[xe], He = De > 0 == (Ve.level != 1), qe = He ? Te.begin : k(Te.end, -1);
            if (Ve.from <= qe && qe < Ve.to || (qe = He ? Ve.from : k(Ve.to, -1), Te.begin <= qe && qe < Te.end))
              return Ne(qe, He);
          }
        }, Ae = ge(_7 + s, s, Y);
        if (Ae)
          return Ae;
        var Ce = s > 0 ? Y.end : k(Y.begin, -1);
        return Ce != null && !(s > 0 && Ce == i.text.length) && (Ae = ge(s > 0 ? 0 : p.length - 1, s, j(Ce)), Ae) ? Ae : null;
      }
      var po = {
        selectAll: Kf,
        singleSelection: function(e) {
          return e.setSelection(e.getCursor("anchor"), e.getCursor("head"), Re);
        },
        killLine: function(e) {
          return Ar(e, function(i) {
            if (i.empty()) {
              var u = ke(e.doc, i.head.line).text.length;
              return i.head.ch == u && i.head.line < e.lastLine() ? { from: i.head, to: oe(i.head.line + 1, 0) } : { from: i.head, to: oe(i.head.line, u) };
            } else
              return { from: i.from(), to: i.to() };
          });
        },
        deleteLine: function(e) {
          return Ar(e, function(i) {
            return {
              from: oe(i.from().line, 0),
              to: We(e.doc, oe(i.to().line + 1, 0))
            };
          });
        },
        delLineLeft: function(e) {
          return Ar(e, function(i) {
            return {
              from: oe(i.from().line, 0),
              to: i.from()
            };
          });
        },
        delWrappedLineLeft: function(e) {
          return Ar(e, function(i) {
            var u = e.charCoords(i.head, "div").top + 5, s = e.coordsChar({ left: 0, top: u }, "div");
            return { from: s, to: i.from() };
          });
        },
        delWrappedLineRight: function(e) {
          return Ar(e, function(i) {
            var u = e.charCoords(i.head, "div").top + 5, s = e.coordsChar({ left: e.display.lineDiv.offsetWidth + 100, top: u }, "div");
            return { from: i.from(), to: s };
          });
        },
        undo: function(e) {
          return e.undo();
        },
        redo: function(e) {
          return e.redo();
        },
        undoSelection: function(e) {
          return e.undoSelection();
        },
        redoSelection: function(e) {
          return e.redoSelection();
        },
        goDocStart: function(e) {
          return e.extendSelection(oe(e.firstLine(), 0));
        },
        goDocEnd: function(e) {
          return e.extendSelection(oe(e.lastLine()));
        },
        goLineStart: function(e) {
          return e.extendSelectionsBy(
            function(i) {
              return ud(e, i.head.line);
            },
            { origin: "+move", bias: 1 }
          );
        },
        goLineStartSmart: function(e) {
          return e.extendSelectionsBy(
            function(i) {
              return fd(e, i.head);
            },
            { origin: "+move", bias: 1 }
          );
        },
        goLineEnd: function(e) {
          return e.extendSelectionsBy(
            function(i) {
              return xv(e, i.head.line);
            },
            { origin: "+move", bias: -1 }
          );
        },
        goLineRight: function(e) {
          return e.extendSelectionsBy(function(i) {
            var u = e.cursorCoords(i.head, "div").top + 5;
            return e.coordsChar({ left: e.display.lineDiv.offsetWidth + 100, top: u }, "div");
          }, lt);
        },
        goLineLeft: function(e) {
          return e.extendSelectionsBy(function(i) {
            var u = e.cursorCoords(i.head, "div").top + 5;
            return e.coordsChar({ left: 0, top: u }, "div");
          }, lt);
        },
        goLineLeftSmart: function(e) {
          return e.extendSelectionsBy(function(i) {
            var u = e.cursorCoords(i.head, "div").top + 5, s = e.coordsChar({ left: 0, top: u }, "div");
            return s.ch < e.getLine(s.line).search(/\S/) ? fd(e, i.head) : s;
          }, lt);
        },
        goLineUp: function(e) {
          return e.moveV(-1, "line");
        },
        goLineDown: function(e) {
          return e.moveV(1, "line");
        },
        goPageUp: function(e) {
          return e.moveV(-1, "page");
        },
        goPageDown: function(e) {
          return e.moveV(1, "page");
        },
        goCharLeft: function(e) {
          return e.moveH(-1, "char");
        },
        goCharRight: function(e) {
          return e.moveH(1, "char");
        },
        goColumnLeft: function(e) {
          return e.moveH(-1, "column");
        },
        goColumnRight: function(e) {
          return e.moveH(1, "column");
        },
        goWordLeft: function(e) {
          return e.moveH(-1, "word");
        },
        goGroupRight: function(e) {
          return e.moveH(1, "group");
        },
        goGroupLeft: function(e) {
          return e.moveH(-1, "group");
        },
        goWordRight: function(e) {
          return e.moveH(1, "word");
        },
        delCharBefore: function(e) {
          return e.deleteH(-1, "codepoint");
        },
        delCharAfter: function(e) {
          return e.deleteH(1, "char");
        },
        delWordBefore: function(e) {
          return e.deleteH(-1, "word");
        },
        delWordAfter: function(e) {
          return e.deleteH(1, "word");
        },
        delGroupBefore: function(e) {
          return e.deleteH(-1, "group");
        },
        delGroupAfter: function(e) {
          return e.deleteH(1, "group");
        },
        indentAuto: function(e) {
          return e.indentSelection("smart");
        },
        indentMore: function(e) {
          return e.indentSelection("add");
        },
        indentLess: function(e) {
          return e.indentSelection("subtract");
        },
        insertTab: function(e) {
          return e.replaceSelection("	");
        },
        insertSoftTab: function(e) {
          for (var i = [], u = e.listSelections(), s = e.options.tabSize, p = 0; p < u.length; p++) {
            var _7 = u[p].from(), P = ce(e.getLine(_7.line), _7.ch, s);
            i.push(St(s - P % s));
          }
          e.replaceSelections(i);
        },
        defaultTab: function(e) {
          e.somethingSelected() ? e.indentSelection("add") : e.execCommand("insertTab");
        },
        transposeChars: function(e) {
          return gn(e, function() {
            for (var i = e.listSelections(), u = [], s = 0; s < i.length; s++)
              if (!!i[s].empty()) {
                var p = i[s].head, _7 = ke(e.doc, p.line).text;
                if (_7) {
                  if (p.ch == _7.length && (p = new oe(p.line, p.ch - 1)), p.ch > 0)
                    p = new oe(p.line, p.ch + 1), e.replaceRange(
                      _7.charAt(p.ch - 1) + _7.charAt(p.ch - 2),
                      oe(p.line, p.ch - 2),
                      p,
                      "+transpose"
                    );
                  else if (p.line > e.doc.first) {
                    var P = ke(e.doc, p.line - 1).text;
                    P && (p = new oe(p.line, 1), e.replaceRange(
                      _7.charAt(0) + e.doc.lineSeparator() + P.charAt(P.length - 1),
                      oe(p.line - 1, P.length - 1),
                      p,
                      "+transpose"
                    ));
                  }
                }
                u.push(new vt(p, p));
              }
            e.setSelections(u);
          });
        },
        newlineAndIndent: function(e) {
          return gn(e, function() {
            for (var i = e.listSelections(), u = i.length - 1; u >= 0; u--)
              e.replaceRange(e.doc.lineSeparator(), i[u].anchor, i[u].head, "+input");
            i = e.listSelections();
            for (var s = 0; s < i.length; s++)
              e.indentLine(i[s].from().line, null, true);
            cr(e);
          });
        },
        openLine: function(e) {
          return e.replaceSelection(`
`, "start");
        },
        toggleOverwrite: function(e) {
          return e.toggleOverwrite();
        }
      };
      function ud(e, i) {
        var u = ke(e.doc, i), s = Fn(u);
        return s != u && (i = ht(s)), Hl(true, e, s, i, 1);
      }
      function xv(e, i) {
        var u = ke(e.doc, i), s = sh(u);
        return s != u && (i = ht(s)), Hl(true, e, u, i, -1);
      }
      function fd(e, i) {
        var u = ud(e, i.line), s = ke(e.doc, u.line), p = ze(s, e.doc.direction);
        if (!p || p[0].level == 0) {
          var _7 = Math.max(u.ch, s.text.search(/\S/)), P = i.line == u.line && i.ch <= _7 && i.ch;
          return oe(u.line, P ? 0 : _7, u.sticky);
        }
        return u;
      }
      function va(e, i, u) {
        if (typeof i == "string" && (i = po[i], !i))
          return false;
        e.display.input.ensurePolled();
        var s = e.display.shift, p = false;
        try {
          e.isReadOnly() && (e.state.suppressEdits = true), u && (e.display.shift = false), p = i(e) != we;
        } finally {
          e.display.shift = s, e.state.suppressEdits = false;
        }
        return p;
      }
      function Tv(e, i, u) {
        for (var s = 0; s < e.state.keyMaps.length; s++) {
          var p = br(i, e.state.keyMaps[s], u, e);
          if (p)
            return p;
        }
        return e.options.extraKeys && br(i, e.options.extraKeys, u, e) || br(i, e.options.keyMap, u, e);
      }
      var _v = new fe();
      function ho(e, i, u, s) {
        var p = e.state.keySeq;
        if (p) {
          if (ad(i))
            return "handled";
          if (/\'$/.test(i) ? e.state.keySeq = null : _v.set(50, function() {
            e.state.keySeq == p && (e.state.keySeq = null, e.display.input.reset());
          }), dd(e, p + " " + i, u, s))
            return true;
        }
        return dd(e, i, u, s);
      }
      function dd(e, i, u, s) {
        var p = Tv(e, i, s);
        return p == "multi" && (e.state.keySeq = i), p == "handled" && jt(e, "keyHandled", e, i, u), (p == "handled" || p == "multi") && (pt(u), Cl(e)), !!p;
      }
      function cd(e, i) {
        var u = sd(i, true);
        return u ? i.shiftKey && !e.state.keySeq ? ho(e, "Shift-" + u, i, function(s) {
          return va(e, s, true);
        }) || ho(e, u, i, function(s) {
          if (typeof s == "string" ? /^go[A-Z]/.test(s) : s.motion)
            return va(e, s);
        }) : ho(e, u, i, function(s) {
          return va(e, s);
        }) : false;
      }
      function Rv(e, i, u) {
        return ho(e, "'" + u + "'", i, function(s) {
          return va(e, s, true);
        });
      }
      var Vl = null;
      function pd(e) {
        var i = this;
        if (!(e.target && e.target != i.display.input.getField()) && (i.curOp.focus = ae(G(i)), !Ye(i, e))) {
          c && h2 < 11 && e.keyCode == 27 && (e.returnValue = false);
          var u = e.keyCode;
          i.display.shift = u == 16 || e.shiftKey;
          var s = cd(i, e);
          A && (Vl = s ? u : null, !s && u == 88 && !Wn && (D ? e.metaKey : e.ctrlKey) && i.replaceSelection("", null, "cut")), n && !D && !s && u == 46 && e.shiftKey && !e.ctrlKey && document.execCommand && document.execCommand("cut"), u == 18 && !/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className) && Ov(i);
        }
      }
      function Ov(e) {
        var i = e.display.lineDiv;
        M(i, "CodeMirror-crosshair");
        function u(s) {
          (s.keyCode == 18 || !s.altKey) && (F(i, "CodeMirror-crosshair"), Le(document, "keyup", u), Le(document, "mouseover", u));
        }
        he(document, "keyup", u), he(document, "mouseover", u);
      }
      function hd(e) {
        e.keyCode == 16 && (this.doc.sel.shift = false), Ye(this, e);
      }
      function vd(e) {
        var i = this;
        if (!(e.target && e.target != i.display.input.getField()) && !(ui(i.display, e) || Ye(i, e) || e.ctrlKey && !e.altKey || D && e.metaKey)) {
          var u = e.keyCode, s = e.charCode;
          if (A && u == Vl) {
            Vl = null, pt(e);
            return;
          }
          if (!(A && (!e.which || e.which < 10) && cd(i, e))) {
            var p = String.fromCharCode(s == null ? u : s);
            p != "\b" && (Rv(i, e, p) || i.display.input.onKeyPress(e));
          }
        }
      }
      var Dv = 400, jl = function(e, i, u) {
        this.time = e, this.pos = i, this.button = u;
      };
      jl.prototype.compare = function(e, i, u) {
        return this.time + Dv > e && ve(i, this.pos) == 0 && u == this.button;
      };
      var vo, mo;
      function Iv(e, i) {
        var u = +/* @__PURE__ */ new Date();
        return mo && mo.compare(u, e, i) ? (vo = mo = null, "triple") : vo && vo.compare(u, e, i) ? (mo = new jl(u, e, i), vo = null, "double") : (vo = new jl(u, e, i), mo = null, "single");
      }
      function md(e) {
        var i = this, u = i.display;
        if (!(Ye(i, e) || u.activeTouch && u.input.supportsTouch())) {
          if (u.input.ensurePolled(), u.shift = e.shiftKey, ui(u, e)) {
            m || (u.scroller.draggable = false, setTimeout(function() {
              return u.scroller.draggable = true;
            }, 100));
            return;
          }
          if (!zl(i, e)) {
            var s = Vi(i, e), p = Vr(e), _7 = s ? Iv(s, p) : "single";
            Z(i).focus(), p == 1 && i.state.selectingText && i.state.selectingText(e), !(s && Mv(i, p, s, _7, e)) && (p == 1 ? s ? Nv(i, s, _7, e) : an(e) == u.scroller && pt(e) : p == 2 ? (s && ua(i.doc, s), setTimeout(function() {
              return u.input.focus();
            }, 20)) : p == 3 && (O ? i.display.input.onContextMenu(e) : Sl(i)));
          }
        }
      }
      function Mv(e, i, u, s, p) {
        var _7 = "Click";
        return s == "double" ? _7 = "Double" + _7 : s == "triple" && (_7 = "Triple" + _7), _7 = (i == 1 ? "Left" : i == 2 ? "Middle" : "Right") + _7, ho(e, ld(_7, p), p, function(P) {
          if (typeof P == "string" && (P = po[P]), !P)
            return false;
          var k = false;
          try {
            e.isReadOnly() && (e.state.suppressEdits = true), k = P(e, u) != we;
          } finally {
            e.state.suppressEdits = false;
          }
          return k;
        });
      }
      function Pv(e, i, u) {
        var s = e.getOption("configureMouse"), p = s ? s(e, i, u) : {};
        if (p.unit == null) {
          var _7 = I ? u.shiftKey && u.metaKey : u.altKey;
          p.unit = _7 ? "rectangle" : i == "single" ? "char" : i == "double" ? "word" : "line";
        }
        return (p.extend == null || e.doc.extend) && (p.extend = e.doc.extend || u.shiftKey), p.addNew == null && (p.addNew = D ? u.metaKey : u.ctrlKey), p.moveOnDrag == null && (p.moveOnDrag = !(D ? u.altKey : u.ctrlKey)), p;
      }
      function Nv(e, i, u, s) {
        c ? setTimeout(ue(gf, e), 0) : e.curOp.focus = ae(G(e));
        var p = Pv(e, u, s), _7 = e.doc.sel, P;
        e.options.dragDrop && tl && !e.isReadOnly() && u == "single" && (P = _7.contains(i)) > -1 && (ve((P = _7.ranges[P]).from(), i) < 0 || i.xRel > 0) && (ve(P.to(), i) > 0 || i.xRel < 0) ? Lv(e, s, i, p) : Fv(e, s, i, p);
      }
      function Lv(e, i, u, s) {
        var p = e.display, _7 = false, P = zt(e, function(j) {
          m && (p.scroller.draggable = false), e.state.draggingText = false, e.state.delayingBlurEvent && (e.hasFocus() ? e.state.delayingBlurEvent = false : Sl(e)), Le(p.wrapper.ownerDocument, "mouseup", P), Le(p.wrapper.ownerDocument, "mousemove", k), Le(p.scroller, "dragstart", H), Le(p.scroller, "drop", P), _7 || (pt(j), s.addNew || ua(e.doc, u, null, null, s.extend), m && !E || c && h2 == 9 ? setTimeout(function() {
            p.wrapper.ownerDocument.body.focus({ preventScroll: true }), p.input.focus();
          }, 20) : p.input.focus());
        }), k = function(j) {
          _7 = _7 || Math.abs(i.clientX - j.clientX) + Math.abs(i.clientY - j.clientY) >= 10;
        }, H = function() {
          return _7 = true;
        };
        m && (p.scroller.draggable = true), e.state.draggingText = P, P.copy = !s.moveOnDrag, he(p.wrapper.ownerDocument, "mouseup", P), he(p.wrapper.ownerDocument, "mousemove", k), he(p.scroller, "dragstart", H), he(p.scroller, "drop", P), e.state.delayingBlurEvent = true, setTimeout(function() {
          return p.input.focus();
        }, 20), p.scroller.dragDrop && p.scroller.dragDrop();
      }
      function gd(e, i, u) {
        if (u == "char")
          return new vt(i, i);
        if (u == "word")
          return e.findWordAt(i);
        if (u == "line")
          return new vt(oe(i.line, 0), We(e.doc, oe(i.line + 1, 0)));
        var s = u(e, i);
        return new vt(s.from, s.to);
      }
      function Fv(e, i, u, s) {
        c && Sl(e);
        var p = e.display, _7 = e.doc;
        pt(i);
        var P, k, H = _7.sel, j = H.ranges;
        if (s.addNew && !s.extend ? (k = _7.sel.contains(u), k > -1 ? P = j[k] : P = new vt(u, u)) : (P = _7.sel.primary(), k = _7.sel.primIndex), s.unit == "rectangle")
          s.addNew || (P = new vt(u, u)), u = Vi(e, i, true, true), k = -1;
        else {
          var Y = gd(e, u, s.unit);
          s.extend ? P = Fl(P, Y.anchor, Y.head, s.extend) : P = Y;
        }
        s.addNew ? k == -1 ? (k = j.length, Zt(
          _7,
          Bn(e, j.concat([P]), k),
          { scroll: false, origin: "*mouse" }
        )) : j.length > 1 && j[k].empty() && s.unit == "char" && !s.extend ? (Zt(
          _7,
          Bn(e, j.slice(0, k).concat(j.slice(k + 1)), 0),
          { scroll: false, origin: "*mouse" }
        ), H = _7.sel) : kl(_7, k, P, Ke) : (k = 0, Zt(_7, new En([P], 0), Ke), H = _7.sel);
        var q = u;
        function se(Te) {
          if (ve(q, Te) != 0)
            if (q = Te, s.unit == "rectangle") {
              for (var Ne = [], Ve = e.options.tabSize, He = ce(ke(_7, u.line).text, u.ch, Ve), qe = ce(ke(_7, Te.line).text, Te.ch, Ve), At = Math.min(He, qe), Wt = Math.max(He, qe), Tt = Math.min(u.line, Te.line), yn = Math.min(e.lastLine(), Math.max(u.line, Te.line)); Tt <= yn; Tt++) {
                var un = ke(_7, Tt).text, Nt = ot(un, At, Ve);
                At == Wt ? Ne.push(new vt(oe(Tt, Nt), oe(Tt, Nt))) : un.length > Nt && Ne.push(new vt(oe(Tt, Nt), oe(Tt, ot(un, Wt, Ve))));
              }
              Ne.length || Ne.push(new vt(u, u)), Zt(
                _7,
                Bn(e, H.ranges.slice(0, k).concat(Ne), k),
                { origin: "*mouse", scroll: false }
              ), e.scrollIntoView(Te);
            } else {
              var fn = P, Xt = gd(e, Te, s.unit), $t = fn.anchor, Lt;
              ve(Xt.anchor, $t) > 0 ? (Lt = Xt.head, $t = Bt(fn.from(), Xt.anchor)) : (Lt = Xt.anchor, $t = ft(fn.to(), Xt.head));
              var Ot = H.ranges.slice(0);
              Ot[k] = kv(e, new vt(We(_7, $t), Lt)), Zt(_7, Bn(e, Ot, k), Ke);
            }
        }
        var le = p.wrapper.getBoundingClientRect(), ge = 0;
        function Ae(Te) {
          var Ne = ++ge, Ve = Vi(e, Te, true, s.unit == "rectangle");
          if (!!Ve)
            if (ve(Ve, q) != 0) {
              e.curOp.focus = ae(G(e)), se(Ve);
              var He = ia(p, _7);
              (Ve.line >= He.to || Ve.line < He.from) && setTimeout(zt(e, function() {
                ge == Ne && Ae(Te);
              }), 150);
            } else {
              var qe = Te.clientY < le.top ? -20 : Te.clientY > le.bottom ? 20 : 0;
              qe && setTimeout(zt(e, function() {
                ge == Ne && (p.scroller.scrollTop += qe, Ae(Te));
              }), 50);
            }
        }
        function Ce(Te) {
          e.state.selectingText = false, ge = 1 / 0, Te && (pt(Te), p.input.focus()), Le(p.wrapper.ownerDocument, "mousemove", xe), Le(p.wrapper.ownerDocument, "mouseup", De), _7.history.lastSelOrigin = null;
        }
        var xe = zt(e, function(Te) {
          Te.buttons === 0 || !Vr(Te) ? Ce(Te) : Ae(Te);
        }), De = zt(e, Ce);
        e.state.selectingText = De, he(p.wrapper.ownerDocument, "mousemove", xe), he(p.wrapper.ownerDocument, "mouseup", De);
      }
      function kv(e, i) {
        var u = i.anchor, s = i.head, p = ke(e.doc, u.line);
        if (ve(u, s) == 0 && u.sticky == s.sticky)
          return i;
        var _7 = ze(p);
        if (!_7)
          return i;
        var P = Ie(_7, u.ch, u.sticky), k = _7[P];
        if (k.from != u.ch && k.to != u.ch)
          return i;
        var H = P + (k.from == u.ch == (k.level != 1) ? 0 : 1);
        if (H == 0 || H == _7.length)
          return i;
        var j;
        if (s.line != u.line)
          j = (s.line - u.line) * (e.doc.direction == "ltr" ? 1 : -1) > 0;
        else {
          var Y = Ie(_7, s.ch, s.sticky), q = Y - P || (s.ch - u.ch) * (k.level == 1 ? -1 : 1);
          Y == H - 1 || Y == H ? j = q < 0 : j = q > 0;
        }
        var se = _7[H + (j ? -1 : 0)], le = j == (se.level == 1), ge = le ? se.from : se.to, Ae = le ? "after" : "before";
        return u.ch == ge && u.sticky == Ae ? i : new vt(new oe(u.line, ge, Ae), s);
      }
      function yd(e, i, u, s) {
        var p, _7;
        if (i.touches)
          p = i.touches[0].clientX, _7 = i.touches[0].clientY;
        else
          try {
            p = i.clientX, _7 = i.clientY;
          } catch {
            return false;
          }
        if (p >= Math.floor(e.display.gutters.getBoundingClientRect().right))
          return false;
        s && pt(i);
        var P = e.display, k = P.lineDiv.getBoundingClientRect();
        if (_7 > k.bottom || !xt(e, u))
          return bi(i);
        _7 -= k.top - P.viewOffset;
        for (var H = 0; H < e.display.gutterSpecs.length; ++H) {
          var j = P.gutters.childNodes[H];
          if (j && j.getBoundingClientRect().right >= p) {
            var Y = Gn(e.doc, _7), q = e.display.gutterSpecs[H];
            return Fe(e, u, e, Y, q.className, i), bi(i);
          }
        }
      }
      function zl(e, i) {
        return yd(e, i, "gutterClick", true);
      }
      function bd(e, i) {
        ui(e.display, i) || Bv(e, i) || Ye(e, i, "contextmenu") || O || e.display.input.onContextMenu(i);
      }
      function Bv(e, i) {
        return xt(e, "gutterContextMenu") ? yd(e, i, "gutterContextMenu", false) : false;
      }
      function Ad(e) {
        e.display.wrapper.className = e.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + e.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), Yr(e);
      }
      var wr = { toString: function() {
        return "CodeMirror.Init";
      } }, wd = {}, ma = {};
      function $v(e) {
        var i = e.optionHandlers;
        function u(s, p, _7, P) {
          e.defaults[s] = p, _7 && (i[s] = P ? function(k, H, j) {
            j != wr && _7(k, H, j);
          } : _7);
        }
        e.defineOption = u, e.Init = wr, u("value", "", function(s, p) {
          return s.setValue(p);
        }, true), u("mode", null, function(s, p) {
          s.doc.modeOption = p, Pl(s);
        }, true), u("indentUnit", 2, Pl, true), u("indentWithTabs", false), u("smartIndent", true), u("tabSize", 4, function(s) {
          io(s), Yr(s), ln(s);
        }, true), u("lineSeparator", null, function(s, p) {
          if (s.doc.lineSep = p, !!p) {
            var _7 = [], P = s.doc.first;
            s.doc.iter(function(H) {
              for (var j = 0; ; ) {
                var Y = H.text.indexOf(p, j);
                if (Y == -1)
                  break;
                j = Y + p.length, _7.push(oe(P, Y));
              }
              P++;
            });
            for (var k = _7.length - 1; k >= 0; k--)
              gr(s.doc, p, _7[k], oe(_7[k].line, _7[k].ch + p.length));
          }
        }), u("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g, function(s, p, _7) {
          s.state.specialChars = new RegExp(p.source + (p.test("	") ? "" : "|	"), "g"), _7 != wr && s.refresh();
        }), u("specialCharPlaceholder", hh, function(s) {
          return s.refresh();
        }, true), u("electricChars", true), u("inputStyle", x ? "contenteditable" : "textarea", function() {
          throw new Error("inputStyle can not (yet) be changed in a running editor");
        }, true), u("spellcheck", false, function(s, p) {
          return s.getInputField().spellcheck = p;
        }, true), u("autocorrect", false, function(s, p) {
          return s.getInputField().autocorrect = p;
        }, true), u("autocapitalize", false, function(s, p) {
          return s.getInputField().autocapitalize = p;
        }, true), u("rtlMoveVisually", !N), u("wholeLineUpdateBefore", true), u("theme", "default", function(s) {
          Ad(s), no(s);
        }, true), u("keyMap", "default", function(s, p, _7) {
          var P = ha(p), k = _7 != wr && ha(_7);
          k && k.detach && k.detach(s, P), P.attach && P.attach(s, k || null);
        }), u("extraKeys", null), u("configureMouse", null), u("lineWrapping", false, Vv, true), u("gutters", [], function(s, p) {
          s.display.gutterSpecs = Il(p, s.options.lineNumbers), no(s);
        }, true), u("fixedGutter", true, function(s, p) {
          s.display.gutters.style.left = p ? bl(s.display) + "px" : "0", s.refresh();
        }, true), u("coverGutterNextToScrollbar", false, function(s) {
          return pr(s);
        }, true), u("scrollbarStyle", "native", function(s) {
          Sf(s), pr(s), s.display.scrollbars.setScrollTop(s.doc.scrollTop), s.display.scrollbars.setScrollLeft(s.doc.scrollLeft);
        }, true), u("lineNumbers", false, function(s, p) {
          s.display.gutterSpecs = Il(s.options.gutters, p), no(s);
        }, true), u("firstLineNumber", 1, no, true), u("lineNumberFormatter", function(s) {
          return s;
        }, no, true), u("showCursorWhenSelecting", false, Xr, true), u("resetSelectionOnContextMenu", true), u("lineWiseCopyCut", true), u("pasteLinesPerSelection", true), u("selectionsMayTouch", false), u("readOnly", false, function(s, p) {
          p == "nocursor" && (dr(s), s.display.input.blur()), s.display.input.readOnlyChanged(p);
        }), u("screenReaderLabel", null, function(s, p) {
          p = p === "" ? null : p, s.display.input.screenReaderLabelChanged(p);
        }), u("disableInput", false, function(s, p) {
          p || s.display.input.reset();
        }, true), u("dragDrop", true, Hv), u("allowDropFileTypes", null), u("cursorBlinkRate", 530), u("cursorScrollMargin", 0), u("cursorHeight", 1, Xr, true), u("singleCursorHeightPerLine", true, Xr, true), u("workTime", 100), u("workDelay", 100), u("flattenSpans", true, io, true), u("addModeClass", false, io, true), u("pollInterval", 100), u("undoDepth", 200, function(s, p) {
          return s.doc.history.undoDepth = p;
        }), u("historyEventDelay", 1250), u("viewportMargin", 10, function(s) {
          return s.refresh();
        }, true), u("maxHighlightLength", 1e4, io, true), u("moveInputWithCursor", true, function(s, p) {
          p || s.display.input.resetPosition();
        }), u("tabindex", null, function(s, p) {
          return s.display.input.getField().tabIndex = p || "";
        }), u("autofocus", null), u("direction", "ltr", function(s, p) {
          return s.doc.setDirection(p);
        }, true), u("phrases", null);
      }
      function Hv(e, i, u) {
        var s = u && u != wr;
        if (!i != !s) {
          var p = e.display.dragFunctions, _7 = i ? he : Le;
          _7(e.display.scroller, "dragstart", p.start), _7(e.display.scroller, "dragenter", p.enter), _7(e.display.scroller, "dragover", p.over), _7(e.display.scroller, "dragleave", p.leave), _7(e.display.scroller, "drop", p.drop);
        }
      }
      function Vv(e) {
        e.options.lineWrapping ? (M(e.display.wrapper, "CodeMirror-wrap"), e.display.sizer.style.minWidth = "", e.display.sizerWidth = null) : (F(e.display.wrapper, "CodeMirror-wrap"), ul(e)), Al(e), ln(e), Yr(e), setTimeout(function() {
          return pr(e);
        }, 100);
      }
      function Et(e, i) {
        var u = this;
        if (!(this instanceof Et))
          return new Et(e, i);
        this.options = i = i ? pe(i) : {}, pe(wd, i, false);
        var s = i.value;
        typeof s == "string" ? s = new sn(s, i.mode, null, i.lineSeparator, i.direction) : i.mode && (s.modeOption = i.mode), this.doc = s;
        var p = new Et.inputStyles[i.inputStyle](this), _7 = this.display = new ev(e, s, p, i);
        _7.wrapper.CodeMirror = this, Ad(this), i.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap"), Sf(this), this.state = {
          keyMaps: [],
          overlays: [],
          modeGen: 0,
          overwrite: false,
          delayingBlurEvent: false,
          focused: false,
          suppressEdits: false,
          pasteIncoming: -1,
          cutIncoming: -1,
          selectingText: false,
          draggingText: false,
          highlight: new fe(),
          keySeq: null,
          specialChars: null
        }, i.autofocus && !x && _7.input.focus(), c && h2 < 11 && setTimeout(function() {
          return u.display.input.reset(true);
        }, 20), jv(this), bv(), Wi(this), this.curOp.forceUpdate = true, Pf(this, s), i.autofocus && !x || this.hasFocus() ? setTimeout(function() {
          u.hasFocus() && !u.state.focused && El(u);
        }, 20) : dr(this);
        for (var P in ma)
          ma.hasOwnProperty(P) && ma[P](this, i[P], wr);
        Tf(this), i.finishInit && i.finishInit(this);
        for (var k = 0; k < Ul.length; ++k)
          Ul[k](this);
        Ki(this), m && i.lineWrapping && getComputedStyle(_7.lineDiv).textRendering == "optimizelegibility" && (_7.lineDiv.style.textRendering = "auto");
      }
      Et.defaults = wd, Et.optionHandlers = ma;
      function jv(e) {
        var i = e.display;
        he(i.scroller, "mousedown", zt(e, md)), c && h2 < 11 ? he(i.scroller, "dblclick", zt(e, function(H) {
          if (!Ye(e, H)) {
            var j = Vi(e, H);
            if (!(!j || zl(e, H) || ui(e.display, H))) {
              pt(H);
              var Y = e.findWordAt(j);
              ua(e.doc, Y.anchor, Y.head);
            }
          }
        })) : he(i.scroller, "dblclick", function(H) {
          return Ye(e, H) || pt(H);
        }), he(i.scroller, "contextmenu", function(H) {
          return bd(e, H);
        }), he(i.input.getField(), "contextmenu", function(H) {
          i.scroller.contains(H.target) || bd(e, H);
        });
        var u, s = { end: 0 };
        function p() {
          i.activeTouch && (u = setTimeout(function() {
            return i.activeTouch = null;
          }, 1e3), s = i.activeTouch, s.end = +/* @__PURE__ */ new Date());
        }
        function _7(H) {
          if (H.touches.length != 1)
            return false;
          var j = H.touches[0];
          return j.radiusX <= 1 && j.radiusY <= 1;
        }
        function P(H, j) {
          if (j.left == null)
            return true;
          var Y = j.left - H.left, q = j.top - H.top;
          return Y * Y + q * q > 20 * 20;
        }
        he(i.scroller, "touchstart", function(H) {
          if (!Ye(e, H) && !_7(H) && !zl(e, H)) {
            i.input.ensurePolled(), clearTimeout(u);
            var j = +/* @__PURE__ */ new Date();
            i.activeTouch = {
              start: j,
              moved: false,
              prev: j - s.end <= 300 ? s : null
            }, H.touches.length == 1 && (i.activeTouch.left = H.touches[0].pageX, i.activeTouch.top = H.touches[0].pageY);
          }
        }), he(i.scroller, "touchmove", function() {
          i.activeTouch && (i.activeTouch.moved = true);
        }), he(i.scroller, "touchend", function(H) {
          var j = i.activeTouch;
          if (j && !ui(i, H) && j.left != null && !j.moved && /* @__PURE__ */ new Date() - j.start < 300) {
            var Y = e.coordsChar(i.activeTouch, "page"), q;
            !j.prev || P(j, j.prev) ? q = new vt(Y, Y) : !j.prev.prev || P(j, j.prev.prev) ? q = e.findWordAt(Y) : q = new vt(oe(Y.line, 0), We(e.doc, oe(Y.line + 1, 0))), e.setSelection(q.anchor, q.head), e.focus(), pt(H);
          }
          p();
        }), he(i.scroller, "touchcancel", p), he(i.scroller, "scroll", function() {
          i.scroller.clientHeight && (Zr(e, i.scroller.scrollTop), zi(e, i.scroller.scrollLeft, true), Fe(e, "scroll", e));
        }), he(i.scroller, "mousewheel", function(H) {
          return Of(e, H);
        }), he(i.scroller, "DOMMouseScroll", function(H) {
          return Of(e, H);
        }), he(i.wrapper, "scroll", function() {
          return i.wrapper.scrollTop = i.wrapper.scrollLeft = 0;
        }), i.dragFunctions = {
          enter: function(H) {
            Ye(e, H) || Nn(H);
          },
          over: function(H) {
            Ye(e, H) || (yv(e, H), Nn(H));
          },
          start: function(H) {
            return gv(e, H);
          },
          drop: zt(e, mv),
          leave: function(H) {
            Ye(e, H) || id2(e);
          }
        };
        var k = i.input.getField();
        he(k, "keyup", function(H) {
          return hd.call(e, H);
        }), he(k, "keydown", zt(e, pd)), he(k, "keypress", zt(e, vd)), he(k, "focus", function(H) {
          return El(e, H);
        }), he(k, "blur", function(H) {
          return dr(e, H);
        });
      }
      var Ul = [];
      Et.defineInitHook = function(e) {
        return Ul.push(e);
      };
      function go(e, i, u, s) {
        var p = e.doc, _7;
        u == null && (u = "add"), u == "smart" && (p.mode.indent ? _7 = Ur(e, i).state : u = "prev");
        var P = e.options.tabSize, k = ke(p, i), H = ce(k.text, null, P);
        k.stateAfter && (k.stateAfter = null);
        var j = k.text.match(/^\s*/)[0], Y;
        if (!s && !/\S/.test(k.text))
          Y = 0, u = "not";
        else if (u == "smart" && (Y = p.mode.indent(_7, k.text.slice(j.length), k.text), Y == we || Y > 150)) {
          if (!s)
            return;
          u = "prev";
        }
        u == "prev" ? i > p.first ? Y = ce(ke(p, i - 1).text, null, P) : Y = 0 : u == "add" ? Y = H + e.options.indentUnit : u == "subtract" ? Y = H - e.options.indentUnit : typeof u == "number" && (Y = H + u), Y = Math.max(0, Y);
        var q = "", se = 0;
        if (e.options.indentWithTabs)
          for (var le = Math.floor(Y / P); le; --le)
            se += P, q += "	";
        if (se < Y && (q += St(Y - se)), q != j)
          return gr(p, q, oe(i, 0), oe(i, j.length), "+input"), k.stateAfter = null, true;
        for (var ge = 0; ge < p.sel.ranges.length; ge++) {
          var Ae = p.sel.ranges[ge];
          if (Ae.head.line == i && Ae.head.ch < j.length) {
            var Ce = oe(i, j.length);
            kl(p, ge, new vt(Ce, Ce));
            break;
          }
        }
      }
      var $n = null;
      function ga(e) {
        $n = e;
      }
      function Wl(e, i, u, s, p) {
        var _7 = e.doc;
        e.display.shift = false, s || (s = _7.sel);
        var P = +/* @__PURE__ */ new Date() - 200, k = p == "paste" || e.state.pasteIncoming > P, H = jr(i), j = null;
        if (k && s.ranges.length > 1)
          if ($n && $n.text.join(`
`) == i) {
            if (s.ranges.length % $n.text.length == 0) {
              j = [];
              for (var Y = 0; Y < $n.text.length; Y++)
                j.push(_7.splitLines($n.text[Y]));
            }
          } else
            H.length == s.ranges.length && e.options.pasteLinesPerSelection && (j = bt(H, function(xe) {
              return [xe];
            }));
        for (var q = e.curOp.updateInput, se = s.ranges.length - 1; se >= 0; se--) {
          var le = s.ranges[se], ge = le.from(), Ae = le.to();
          le.empty() && (u && u > 0 ? ge = oe(ge.line, ge.ch - u) : e.state.overwrite && !k ? Ae = oe(Ae.line, Math.min(ke(_7, Ae.line).text.length, Ae.ch + $e(H).length)) : k && $n && $n.lineWise && $n.text.join(`
`) == H.join(`
`) && (ge = Ae = oe(ge.line, 0)));
          var Ce = {
            from: ge,
            to: Ae,
            text: j ? j[se % j.length] : H,
            origin: p || (k ? "paste" : e.state.cutIncoming > P ? "cut" : "+input")
          };
          mr(e.doc, Ce), jt(e, "inputRead", e, Ce);
        }
        i && !k && Sd(e, i), cr(e), e.curOp.updateInput < 2 && (e.curOp.updateInput = q), e.curOp.typing = true, e.state.pasteIncoming = e.state.cutIncoming = -1;
      }
      function Cd(e, i) {
        var u = e.clipboardData && e.clipboardData.getData("Text");
        if (u)
          return e.preventDefault(), !i.isReadOnly() && !i.options.disableInput && i.hasFocus() && gn(i, function() {
            return Wl(i, u, 0, null, "paste");
          }), true;
      }
      function Sd(e, i) {
        if (!(!e.options.electricChars || !e.options.smartIndent))
          for (var u = e.doc.sel, s = u.ranges.length - 1; s >= 0; s--) {
            var p = u.ranges[s];
            if (!(p.head.ch > 100 || s && u.ranges[s - 1].head.line == p.head.line)) {
              var _7 = e.getModeAt(p.head), P = false;
              if (_7.electricChars) {
                for (var k = 0; k < _7.electricChars.length; k++)
                  if (i.indexOf(_7.electricChars.charAt(k)) > -1) {
                    P = go(e, p.head.line, "smart");
                    break;
                  }
              } else
                _7.electricInput && _7.electricInput.test(ke(e.doc, p.head.line).text.slice(0, p.head.ch)) && (P = go(e, p.head.line, "smart"));
              P && jt(e, "electricInput", e, p.head.line);
            }
          }
      }
      function Ed(e) {
        for (var i = [], u = [], s = 0; s < e.doc.sel.ranges.length; s++) {
          var p = e.doc.sel.ranges[s].head.line, _7 = { anchor: oe(p, 0), head: oe(p + 1, 0) };
          u.push(_7), i.push(e.getRange(_7.anchor, _7.head));
        }
        return { text: i, ranges: u };
      }
      function xd(e, i, u, s) {
        e.setAttribute("autocorrect", u ? "" : "off"), e.setAttribute("autocapitalize", s ? "" : "off"), e.setAttribute("spellcheck", !!i);
      }
      function Td() {
        var e = L("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"), i = L("div", [e], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
        return m ? e.style.width = "1000px" : e.setAttribute("wrap", "off"), y && (e.style.border = "1px solid black"), xd(e), i;
      }
      function zv(e) {
        var i = e.optionHandlers, u = e.helpers = {};
        e.prototype = {
          constructor: e,
          focus: function() {
            Z(this).focus(), this.display.input.focus();
          },
          setOption: function(s, p) {
            var _7 = this.options, P = _7[s];
            _7[s] == p && s != "mode" || (_7[s] = p, i.hasOwnProperty(s) && zt(this, i[s])(this, p, P), Fe(this, "optionChange", this, s));
          },
          getOption: function(s) {
            return this.options[s];
          },
          getDoc: function() {
            return this.doc;
          },
          addKeyMap: function(s, p) {
            this.state.keyMaps[p ? "push" : "unshift"](ha(s));
          },
          removeKeyMap: function(s) {
            for (var p = this.state.keyMaps, _7 = 0; _7 < p.length; ++_7)
              if (p[_7] == s || p[_7].name == s)
                return p.splice(_7, 1), true;
          },
          addOverlay: tn(function(s, p) {
            var _7 = s.token ? s : e.getMode(this.options, s);
            if (_7.startState)
              throw new Error("Overlays may not be stateful.");
            hn(
              this.state.overlays,
              {
                mode: _7,
                modeSpec: s,
                opaque: p && p.opaque,
                priority: p && p.priority || 0
              },
              function(P) {
                return P.priority;
              }
            ), this.state.modeGen++, ln(this);
          }),
          removeOverlay: tn(function(s) {
            for (var p = this.state.overlays, _7 = 0; _7 < p.length; ++_7) {
              var P = p[_7].modeSpec;
              if (P == s || typeof s == "string" && P.name == s) {
                p.splice(_7, 1), this.state.modeGen++, ln(this);
                return;
              }
            }
          }),
          indentLine: tn(function(s, p, _7) {
            typeof p != "string" && typeof p != "number" && (p == null ? p = this.options.smartIndent ? "smart" : "prev" : p = p ? "add" : "subtract"), W(this.doc, s) && go(this, s, p, _7);
          }),
          indentSelection: tn(function(s) {
            for (var p = this.doc.sel.ranges, _7 = -1, P = 0; P < p.length; P++) {
              var k = p[P];
              if (k.empty())
                k.head.line > _7 && (go(this, k.head.line, s, true), _7 = k.head.line, P == this.doc.sel.primIndex && cr(this));
              else {
                var H = k.from(), j = k.to(), Y = Math.max(_7, H.line);
                _7 = Math.min(this.lastLine(), j.line - (j.ch ? 0 : 1)) + 1;
                for (var q = Y; q < _7; ++q)
                  go(this, q, s);
                var se = this.doc.sel.ranges;
                H.ch == 0 && p.length == se.length && se[P].from().ch > 0 && kl(this.doc, P, new vt(H, se[P].to()), Re);
              }
            }
          }),
          getTokenAt: function(s, p) {
            return Nu(this, s, p);
          },
          getLineTokens: function(s, p) {
            return Nu(this, oe(s), p, true);
          },
          getTokenTypeAt: function(s) {
            s = We(this.doc, s);
            var p = Iu(this, ke(this.doc, s.line)), _7 = 0, P = (p.length - 1) / 2, k = s.ch, H;
            if (k == 0)
              H = p[2];
            else
              for (; ; ) {
                var j = _7 + P >> 1;
                if ((j ? p[j * 2 - 1] : 0) >= k)
                  P = j;
                else if (p[j * 2 + 1] < k)
                  _7 = j + 1;
                else {
                  H = p[j * 2 + 2];
                  break;
                }
              }
            var Y = H ? H.indexOf("overlay ") : -1;
            return Y < 0 ? H : Y == 0 ? null : H.slice(0, Y - 1);
          },
          getModeAt: function(s) {
            var p = this.doc.mode;
            return p.innerMode ? e.innerMode(p, this.getTokenAt(s).state).mode : p;
          },
          getHelper: function(s, p) {
            return this.getHelpers(s, p)[0];
          },
          getHelpers: function(s, p) {
            var _7 = [];
            if (!u.hasOwnProperty(p))
              return _7;
            var P = u[p], k = this.getModeAt(s);
            if (typeof k[p] == "string")
              P[k[p]] && _7.push(P[k[p]]);
            else if (k[p])
              for (var H = 0; H < k[p].length; H++) {
                var j = P[k[p][H]];
                j && _7.push(j);
              }
            else
              k.helperType && P[k.helperType] ? _7.push(P[k.helperType]) : P[k.name] && _7.push(P[k.name]);
            for (var Y = 0; Y < P._global.length; Y++) {
              var q = P._global[Y];
              q.pred(k, this) && ne(_7, q.val) == -1 && _7.push(q.val);
            }
            return _7;
          },
          getStateAfter: function(s, p) {
            var _7 = this.doc;
            return s = Sn(_7, s == null ? _7.first + _7.size - 1 : s), Ur(this, s + 1, p).state;
          },
          cursorCoords: function(s, p) {
            var _7, P = this.doc.sel.primary();
            return s == null ? _7 = P.head : typeof s == "object" ? _7 = We(this.doc, s) : _7 = s ? P.from() : P.to(), kn(this, _7, p || "page");
          },
          charCoords: function(s, p) {
            return qo(this, We(this.doc, s), p || "page");
          },
          coordsChar: function(s, p) {
            return s = ff(this, s, p || "page"), ml(this, s.left, s.top);
          },
          lineAtHeight: function(s, p) {
            return s = ff(this, { top: s, left: 0 }, p || "page").top, Gn(this.doc, s + this.display.viewOffset);
          },
          heightAtLine: function(s, p, _7) {
            var P = false, k;
            if (typeof s == "number") {
              var H = this.doc.first + this.doc.size - 1;
              s < this.doc.first ? s = this.doc.first : s > H && (s = H, P = true), k = ke(this.doc, s);
            } else
              k = s;
            return Zo(this, k, { top: 0, left: 0 }, p || "page", _7 || P).top + (P ? this.doc.height - si(k) : 0);
          },
          defaultTextHeight: function() {
            return ur(this.display);
          },
          defaultCharWidth: function() {
            return fr(this.display);
          },
          getViewport: function() {
            return { from: this.display.viewFrom, to: this.display.viewTo };
          },
          addWidget: function(s, p, _7, P, k) {
            var H = this.display;
            s = kn(this, We(this.doc, s));
            var j = s.bottom, Y = s.left;
            if (p.style.position = "absolute", p.setAttribute("cm-ignore-events", "true"), this.display.input.setUneditable(p), H.sizer.appendChild(p), P == "over")
              j = s.top;
            else if (P == "above" || P == "near") {
              var q = Math.max(H.wrapper.clientHeight, this.doc.height), se = Math.max(H.sizer.clientWidth, H.lineSpace.clientWidth);
              (P == "above" || s.bottom + p.offsetHeight > q) && s.top > p.offsetHeight ? j = s.top - p.offsetHeight : s.bottom + p.offsetHeight <= q && (j = s.bottom), Y + p.offsetWidth > se && (Y = se - p.offsetWidth);
            }
            p.style.top = j + "px", p.style.left = p.style.right = "", k == "right" ? (Y = H.sizer.clientWidth - p.offsetWidth, p.style.right = "0px") : (k == "left" ? Y = 0 : k == "middle" && (Y = (H.sizer.clientWidth - p.offsetWidth) / 2), p.style.left = Y + "px"), _7 && Hh(this, { left: Y, top: j, right: Y + p.offsetWidth, bottom: j + p.offsetHeight });
          },
          triggerOnKeyDown: tn(pd),
          triggerOnKeyPress: tn(vd),
          triggerOnKeyUp: hd,
          triggerOnMouseDown: tn(md),
          execCommand: function(s) {
            if (po.hasOwnProperty(s))
              return po[s].call(null, this);
          },
          triggerElectric: tn(function(s) {
            Sd(this, s);
          }),
          findPosH: function(s, p, _7, P) {
            var k = 1;
            p < 0 && (k = -1, p = -p);
            for (var H = We(this.doc, s), j = 0; j < p && (H = Kl(this.doc, H, k, _7, P), !H.hitSide); ++j)
              ;
            return H;
          },
          moveH: tn(function(s, p) {
            var _7 = this;
            this.extendSelectionsBy(function(P) {
              return _7.display.shift || _7.doc.extend || P.empty() ? Kl(_7.doc, P.head, s, p, _7.options.rtlMoveVisually) : s < 0 ? P.from() : P.to();
            }, lt);
          }),
          deleteH: tn(function(s, p) {
            var _7 = this.doc.sel, P = this.doc;
            _7.somethingSelected() ? P.replaceSelection("", null, "+delete") : Ar(this, function(k) {
              var H = Kl(P, k.head, s, p, false);
              return s < 0 ? { from: H, to: k.head } : { from: k.head, to: H };
            });
          }),
          findPosV: function(s, p, _7, P) {
            var k = 1, H = P;
            p < 0 && (k = -1, p = -p);
            for (var j = We(this.doc, s), Y = 0; Y < p; ++Y) {
              var q = kn(this, j, "div");
              if (H == null ? H = q.left : q.left = H, j = _d(this, q, k, _7), j.hitSide)
                break;
            }
            return j;
          },
          moveV: tn(function(s, p) {
            var _7 = this, P = this.doc, k = [], H = !this.display.shift && !P.extend && P.sel.somethingSelected();
            if (P.extendSelectionsBy(function(Y) {
              if (H)
                return s < 0 ? Y.from() : Y.to();
              var q = kn(_7, Y.head, "div");
              Y.goalColumn != null && (q.left = Y.goalColumn), k.push(q.left);
              var se = _d(_7, q, s, p);
              return p == "page" && Y == P.sel.primary() && Tl(_7, qo(_7, se, "div").top - q.top), se;
            }, lt), k.length)
              for (var j = 0; j < P.sel.ranges.length; j++)
                P.sel.ranges[j].goalColumn = k[j];
          }),
          findWordAt: function(s) {
            var p = this.doc, _7 = ke(p, s.line).text, P = s.ch, k = s.ch;
            if (_7) {
              var H = this.getHelper(s, "wordChars");
              (s.sticky == "before" || k == _7.length) && P ? --P : ++k;
              for (var j = _7.charAt(P), Y = wn(j, H) ? function(q) {
                return wn(q, H);
              } : /\s/.test(j) ? function(q) {
                return /\s/.test(q);
              } : function(q) {
                return !/\s/.test(q) && !wn(q);
              }; P > 0 && Y(_7.charAt(P - 1)); )
                --P;
              for (; k < _7.length && Y(_7.charAt(k)); )
                ++k;
            }
            return new vt(oe(s.line, P), oe(s.line, k));
          },
          toggleOverwrite: function(s) {
            s != null && s == this.state.overwrite || ((this.state.overwrite = !this.state.overwrite) ? M(this.display.cursorDiv, "CodeMirror-overwrite") : F(this.display.cursorDiv, "CodeMirror-overwrite"), Fe(this, "overwriteToggle", this, this.state.overwrite));
          },
          hasFocus: function() {
            return this.display.input.getField() == ae(G(this));
          },
          isReadOnly: function() {
            return !!(this.options.readOnly || this.doc.cantEdit);
          },
          scrollTo: tn(function(s, p) {
            Jr(this, s, p);
          }),
          getScrollInfo: function() {
            var s = this.display.scroller;
            return {
              left: s.scrollLeft,
              top: s.scrollTop,
              height: s.scrollHeight - Yn(this) - this.display.barHeight,
              width: s.scrollWidth - Yn(this) - this.display.barWidth,
              clientHeight: cl(this),
              clientWidth: $i(this)
            };
          },
          scrollIntoView: tn(function(s, p) {
            s == null ? (s = { from: this.doc.sel.primary().head, to: null }, p == null && (p = this.options.cursorScrollMargin)) : typeof s == "number" ? s = { from: oe(s, 0), to: null } : s.from == null && (s = { from: s, to: null }), s.to || (s.to = s.from), s.margin = p || 0, s.from.line != null ? Vh(this, s) : bf(this, s.from, s.to, s.margin);
          }),
          setSize: tn(function(s, p) {
            var _7 = this, P = function(H) {
              return typeof H == "number" || /^\d+$/.test(String(H)) ? H + "px" : H;
            };
            s != null && (this.display.wrapper.style.width = P(s)), p != null && (this.display.wrapper.style.height = P(p)), this.options.lineWrapping && lf(this);
            var k = this.display.viewFrom;
            this.doc.iter(k, this.display.viewTo, function(H) {
              if (H.widgets) {
                for (var j = 0; j < H.widgets.length; j++)
                  if (H.widgets[j].noHScroll) {
                    xi(_7, k, "widget");
                    break;
                  }
              }
              ++k;
            }), this.curOp.forceUpdate = true, Fe(this, "refresh", this);
          }),
          operation: function(s) {
            return gn(this, s);
          },
          startOperation: function() {
            return Wi(this);
          },
          endOperation: function() {
            return Ki(this);
          },
          refresh: tn(function() {
            var s = this.display.cachedTextHeight;
            ln(this), this.curOp.forceUpdate = true, Yr(this), Jr(this, this.doc.scrollLeft, this.doc.scrollTop), Ol(this.display), (s == null || Math.abs(s - ur(this.display)) > 0.5 || this.options.lineWrapping) && Al(this), Fe(this, "refresh", this);
          }),
          swapDoc: tn(function(s) {
            var p = this.doc;
            return p.cm = null, this.state.selectingText && this.state.selectingText(), Pf(this, s), Yr(this), this.display.input.reset(), Jr(this, s.scrollLeft, s.scrollTop), this.curOp.forceScroll = true, jt(this, "swapDoc", this, p), p;
          }),
          phrase: function(s) {
            var p = this.options.phrases;
            return p && Object.prototype.hasOwnProperty.call(p, s) ? p[s] : s;
          },
          getInputField: function() {
            return this.display.input.getField();
          },
          getWrapperElement: function() {
            return this.display.wrapper;
          },
          getScrollerElement: function() {
            return this.display.scroller;
          },
          getGutterElement: function() {
            return this.display.gutters;
          }
        }, wt(e), e.registerHelper = function(s, p, _7) {
          u.hasOwnProperty(s) || (u[s] = e[s] = { _global: [] }), u[s][p] = _7;
        }, e.registerGlobalHelper = function(s, p, _7, P) {
          e.registerHelper(s, p, P), u[s]._global.push({ pred: _7, val: P });
        };
      }
      function Kl(e, i, u, s, p) {
        var _7 = i, P = u, k = ke(e, i.line), H = p && e.direction == "rtl" ? -u : u;
        function j() {
          var De = i.line + H;
          return De < e.first || De >= e.first + e.size ? false : (i = new oe(De, i.ch, i.sticky), k = ke(e, De));
        }
        function Y(De) {
          var Te;
          if (s == "codepoint") {
            var Ne = k.text.charCodeAt(i.ch + (u > 0 ? 0 : -1));
            if (isNaN(Ne))
              Te = null;
            else {
              var Ve = u > 0 ? Ne >= 55296 && Ne < 56320 : Ne >= 56320 && Ne < 57343;
              Te = new oe(i.line, Math.max(0, Math.min(k.text.length, i.ch + u * (Ve ? 2 : 1))), -u);
            }
          } else
            p ? Te = Ev(e.cm, k, i, u) : Te = $l(k, i, u);
          if (Te == null)
            if (!De && j())
              i = Hl(p, e.cm, k, i.line, H);
            else
              return false;
          else
            i = Te;
          return true;
        }
        if (s == "char" || s == "codepoint")
          Y();
        else if (s == "column")
          Y(true);
        else if (s == "word" || s == "group")
          for (var q = null, se = s == "group", le = e.cm && e.cm.getHelper(i, "wordChars"), ge = true; !(u < 0 && !Y(!ge)); ge = false) {
            var Ae = k.text.charAt(i.ch) || `
`, Ce = wn(Ae, le) ? "w" : se && Ae == `
` ? "n" : !se || /\s/.test(Ae) ? null : "p";
            if (se && !ge && !Ce && (Ce = "s"), q && q != Ce) {
              u < 0 && (u = 1, Y(), i.sticky = "after");
              break;
            }
            if (Ce && (q = Ce), u > 0 && !Y(!ge))
              break;
          }
        var xe = da(e, i, _7, P, true);
        return Ue(_7, xe) && (xe.hitSide = true), xe;
      }
      function _d(e, i, u, s) {
        var p = e.doc, _7 = i.left, P;
        if (s == "page") {
          var k = Math.min(e.display.wrapper.clientHeight, Z(e).innerHeight || p(e).documentElement.clientHeight), H = Math.max(k - 0.5 * ur(e.display), 3);
          P = (u > 0 ? i.bottom : i.top) + u * H;
        } else
          s == "line" && (P = u > 0 ? i.bottom + 3 : i.top - 3);
        for (var j; j = ml(e, _7, P), !!j.outside; ) {
          if (u < 0 ? P <= 0 : P >= p.height) {
            j.hitSide = true;
            break;
          }
          P += u * 5;
        }
        return j;
      }
      var gt = function(e) {
        this.cm = e, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new fe(), this.composing = null, this.gracePeriod = false, this.readDOMTimeout = null;
      };
      gt.prototype.init = function(e) {
        var i = this, u = this, s = u.cm, p = u.div = e.lineDiv;
        p.contentEditable = true, xd(p, s.options.spellcheck, s.options.autocorrect, s.options.autocapitalize);
        function _7(k) {
          for (var H = k.target; H; H = H.parentNode) {
            if (H == p)
              return true;
            if (/\bCodeMirror-(?:line)?widget\b/.test(H.className))
              break;
          }
          return false;
        }
        he(p, "paste", function(k) {
          !_7(k) || Ye(s, k) || Cd(k, s) || h2 <= 11 && setTimeout(zt(s, function() {
            return i.updateFromDOM();
          }), 20);
        }), he(p, "compositionstart", function(k) {
          i.composing = { data: k.data, done: false };
        }), he(p, "compositionupdate", function(k) {
          i.composing || (i.composing = { data: k.data, done: false });
        }), he(p, "compositionend", function(k) {
          i.composing && (k.data != i.composing.data && i.readFromDOMSoon(), i.composing.done = true);
        }), he(p, "touchstart", function() {
          return u.forceCompositionEnd();
        }), he(p, "input", function() {
          i.composing || i.readFromDOMSoon();
        });
        function P(k) {
          if (!(!_7(k) || Ye(s, k))) {
            if (s.somethingSelected())
              ga({ lineWise: false, text: s.getSelections() }), k.type == "cut" && s.replaceSelection("", null, "cut");
            else if (s.options.lineWiseCopyCut) {
              var H = Ed(s);
              ga({ lineWise: true, text: H.text }), k.type == "cut" && s.operation(function() {
                s.setSelections(H.ranges, 0, Re), s.replaceSelection("", null, "cut");
              });
            } else
              return;
            if (k.clipboardData) {
              k.clipboardData.clearData();
              var j = $n.text.join(`
`);
              if (k.clipboardData.setData("Text", j), k.clipboardData.getData("Text") == j) {
                k.preventDefault();
                return;
              }
            }
            var Y = Td(), q = Y.firstChild;
            s.display.lineSpace.insertBefore(Y, s.display.lineSpace.firstChild), q.value = $n.text.join(`
`);
            var se = ae(p.ownerDocument);
            K(q), setTimeout(function() {
              s.display.lineSpace.removeChild(Y), se.focus(), se == p && u.showPrimarySelection();
            }, 50);
          }
        }
        he(p, "copy", P), he(p, "cut", P);
      }, gt.prototype.screenReaderLabelChanged = function(e) {
        e ? this.div.setAttribute("aria-label", e) : this.div.removeAttribute("aria-label");
      }, gt.prototype.prepareSelection = function() {
        var e = mf(this.cm, false);
        return e.focus = ae(this.div.ownerDocument) == this.div, e;
      }, gt.prototype.showSelection = function(e, i) {
        !e || !this.cm.display.view.length || ((e.focus || i) && this.showPrimarySelection(), this.showMultipleSelections(e));
      }, gt.prototype.getSelection = function() {
        return this.cm.display.wrapper.ownerDocument.getSelection();
      }, gt.prototype.showPrimarySelection = function() {
        var e = this.getSelection(), i = this.cm, u = i.doc.sel.primary(), s = u.from(), p = u.to();
        if (i.display.viewTo == i.display.viewFrom || s.line >= i.display.viewTo || p.line < i.display.viewFrom) {
          e.removeAllRanges();
          return;
        }
        var _7 = ya(i, e.anchorNode, e.anchorOffset), P = ya(i, e.focusNode, e.focusOffset);
        if (!(_7 && !_7.bad && P && !P.bad && ve(Bt(_7, P), s) == 0 && ve(ft(_7, P), p) == 0)) {
          var k = i.display.view, H = s.line >= i.display.viewFrom && Rd(i, s) || { node: k[0].measure.map[2], offset: 0 }, j = p.line < i.display.viewTo && Rd(i, p);
          if (!j) {
            var Y = k[k.length - 1].measure, q = Y.maps ? Y.maps[Y.maps.length - 1] : Y.map;
            j = { node: q[q.length - 1], offset: q[q.length - 2] - q[q.length - 3] };
          }
          if (!H || !j) {
            e.removeAllRanges();
            return;
          }
          var se = e.rangeCount && e.getRangeAt(0), le;
          try {
            le = Q(H.node, H.offset, j.offset, j.node);
          } catch {
          }
          le && (!n && i.state.focused ? (e.collapse(H.node, H.offset), le.collapsed || (e.removeAllRanges(), e.addRange(le))) : (e.removeAllRanges(), e.addRange(le)), se && e.anchorNode == null ? e.addRange(se) : n && this.startGracePeriod()), this.rememberSelection();
        }
      }, gt.prototype.startGracePeriod = function() {
        var e = this;
        clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function() {
          e.gracePeriod = false, e.selectionChanged() && e.cm.operation(function() {
            return e.cm.curOp.selectionChanged = true;
          });
        }, 20);
      }, gt.prototype.showMultipleSelections = function(e) {
        U(this.cm.display.cursorDiv, e.cursors), U(this.cm.display.selectionDiv, e.selection);
      }, gt.prototype.rememberSelection = function() {
        var e = this.getSelection();
        this.lastAnchorNode = e.anchorNode, this.lastAnchorOffset = e.anchorOffset, this.lastFocusNode = e.focusNode, this.lastFocusOffset = e.focusOffset;
      }, gt.prototype.selectionInEditor = function() {
        var e = this.getSelection();
        if (!e.rangeCount)
          return false;
        var i = e.getRangeAt(0).commonAncestorContainer;
        return J(this.div, i);
      }, gt.prototype.focus = function() {
        this.cm.options.readOnly != "nocursor" && ((!this.selectionInEditor() || ae(this.div.ownerDocument) != this.div) && this.showSelection(this.prepareSelection(), true), this.div.focus());
      }, gt.prototype.blur = function() {
        this.div.blur();
      }, gt.prototype.getField = function() {
        return this.div;
      }, gt.prototype.supportsTouch = function() {
        return true;
      }, gt.prototype.receivedFocus = function() {
        var e = this, i = this;
        this.selectionInEditor() ? setTimeout(function() {
          return e.pollSelection();
        }, 20) : gn(this.cm, function() {
          return i.cm.curOp.selectionChanged = true;
        });
        function u() {
          i.cm.state.focused && (i.pollSelection(), i.polling.set(i.cm.options.pollInterval, u));
        }
        this.polling.set(this.cm.options.pollInterval, u);
      }, gt.prototype.selectionChanged = function() {
        var e = this.getSelection();
        return e.anchorNode != this.lastAnchorNode || e.anchorOffset != this.lastAnchorOffset || e.focusNode != this.lastFocusNode || e.focusOffset != this.lastFocusOffset;
      }, gt.prototype.pollSelection = function() {
        if (!(this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged())) {
          var e = this.getSelection(), i = this.cm;
          if (T && w && this.cm.display.gutterSpecs.length && Uv(e.anchorNode)) {
            this.cm.triggerOnKeyDown({ type: "keydown", keyCode: 8, preventDefault: Math.abs }), this.blur(), this.focus();
            return;
          }
          if (!this.composing) {
            this.rememberSelection();
            var u = ya(i, e.anchorNode, e.anchorOffset), s = ya(i, e.focusNode, e.focusOffset);
            u && s && gn(i, function() {
              Zt(i.doc, _i(u, s), Re), (u.bad || s.bad) && (i.curOp.selectionChanged = true);
            });
          }
        }
      }, gt.prototype.pollContent = function() {
        this.readDOMTimeout != null && (clearTimeout(this.readDOMTimeout), this.readDOMTimeout = null);
        var e = this.cm, i = e.display, u = e.doc.sel.primary(), s = u.from(), p = u.to();
        if (s.ch == 0 && s.line > e.firstLine() && (s = oe(s.line - 1, ke(e.doc, s.line - 1).length)), p.ch == ke(e.doc, p.line).text.length && p.line < e.lastLine() && (p = oe(p.line + 1, 0)), s.line < i.viewFrom || p.line > i.viewTo - 1)
          return false;
        var _7, P, k;
        s.line == i.viewFrom || (_7 = ji(e, s.line)) == 0 ? (P = ht(i.view[0].line), k = i.view[0].node) : (P = ht(i.view[_7].line), k = i.view[_7 - 1].node.nextSibling);
        var H = ji(e, p.line), j, Y;
        if (H == i.view.length - 1 ? (j = i.viewTo - 1, Y = i.lineDiv.lastChild) : (j = ht(i.view[H + 1].line) - 1, Y = i.view[H + 1].node.previousSibling), !k)
          return false;
        for (var q = e.doc.splitLines(Wv(e, k, Y, P, j)), se = ai(e.doc, oe(P, 0), oe(j, ke(e.doc, j).text.length)); q.length > 1 && se.length > 1; )
          if ($e(q) == $e(se))
            q.pop(), se.pop(), j--;
          else if (q[0] == se[0])
            q.shift(), se.shift(), P++;
          else
            break;
        for (var le = 0, ge = 0, Ae = q[0], Ce = se[0], xe = Math.min(Ae.length, Ce.length); le < xe && Ae.charCodeAt(le) == Ce.charCodeAt(le); )
          ++le;
        for (var De = $e(q), Te = $e(se), Ne = Math.min(
          De.length - (q.length == 1 ? le : 0),
          Te.length - (se.length == 1 ? le : 0)
        ); ge < Ne && De.charCodeAt(De.length - ge - 1) == Te.charCodeAt(Te.length - ge - 1); )
          ++ge;
        if (q.length == 1 && se.length == 1 && P == s.line)
          for (; le && le > s.ch && De.charCodeAt(De.length - ge - 1) == Te.charCodeAt(Te.length - ge - 1); )
            le--, ge++;
        q[q.length - 1] = De.slice(0, De.length - ge).replace(/^\u200b+/, ""), q[0] = q[0].slice(le).replace(/\u200b+$/, "");
        var Ve = oe(P, le), He = oe(j, se.length ? $e(se).length - ge : 0);
        if (q.length > 1 || q[0] || ve(Ve, He))
          return gr(e.doc, q, Ve, He, "+input"), true;
      }, gt.prototype.ensurePolled = function() {
        this.forceCompositionEnd();
      }, gt.prototype.reset = function() {
        this.forceCompositionEnd();
      }, gt.prototype.forceCompositionEnd = function() {
        !this.composing || (clearTimeout(this.readDOMTimeout), this.composing = null, this.updateFromDOM(), this.div.blur(), this.div.focus());
      }, gt.prototype.readFromDOMSoon = function() {
        var e = this;
        this.readDOMTimeout == null && (this.readDOMTimeout = setTimeout(function() {
          if (e.readDOMTimeout = null, e.composing)
            if (e.composing.done)
              e.composing = null;
            else
              return;
          e.updateFromDOM();
        }, 80));
      }, gt.prototype.updateFromDOM = function() {
        var e = this;
        (this.cm.isReadOnly() || !this.pollContent()) && gn(this.cm, function() {
          return ln(e.cm);
        });
      }, gt.prototype.setUneditable = function(e) {
        e.contentEditable = "false";
      }, gt.prototype.onKeyPress = function(e) {
        e.charCode == 0 || this.composing || (e.preventDefault(), this.cm.isReadOnly() || zt(this.cm, Wl)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0));
      }, gt.prototype.readOnlyChanged = function(e) {
        this.div.contentEditable = String(e != "nocursor");
      }, gt.prototype.onContextMenu = function() {
      }, gt.prototype.resetPosition = function() {
      }, gt.prototype.needsContentAttribute = true;
      function Rd(e, i) {
        var u = pl(e, i.line);
        if (!u || u.hidden)
          return null;
        var s = ke(e.doc, i.line), p = tf(u, s, i.line), _7 = ze(s, e.doc.direction), P = "left";
        if (_7) {
          var k = Ie(_7, i.ch);
          P = k % 2 ? "right" : "left";
        }
        var H = of(p.map, i.ch, P);
        return H.offset = H.collapse == "right" ? H.end : H.start, H;
      }
      function Uv(e) {
        for (var i = e; i; i = i.parentNode)
          if (/CodeMirror-gutter-wrapper/.test(i.className))
            return true;
        return false;
      }
      function Cr(e, i) {
        return i && (e.bad = true), e;
      }
      function Wv(e, i, u, s, p) {
        var _7 = "", P = false, k = e.doc.lineSeparator(), H = false;
        function j(le) {
          return function(ge) {
            return ge.id == le;
          };
        }
        function Y() {
          P && (_7 += k, H && (_7 += k), P = H = false);
        }
        function q(le) {
          le && (Y(), _7 += le);
        }
        function se(le) {
          if (le.nodeType == 1) {
            var ge = le.getAttribute("cm-text");
            if (ge) {
              q(ge);
              return;
            }
            var Ae = le.getAttribute("cm-marker"), Ce;
            if (Ae) {
              var xe = e.findMarks(oe(s, 0), oe(p + 1, 0), j(+Ae));
              xe.length && (Ce = xe[0].find(0)) && q(ai(e.doc, Ce.from, Ce.to).join(k));
              return;
            }
            if (le.getAttribute("contenteditable") == "false")
              return;
            var De = /^(pre|div|p|li|table|br)$/i.test(le.nodeName);
            if (!/^br$/i.test(le.nodeName) && le.textContent.length == 0)
              return;
            De && Y();
            for (var Te = 0; Te < le.childNodes.length; Te++)
              se(le.childNodes[Te]);
            /^(pre|p)$/i.test(le.nodeName) && (H = true), De && (P = true);
          } else
            le.nodeType == 3 && q(le.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " "));
        }
        for (; se(i), i != u; )
          i = i.nextSibling, H = false;
        return _7;
      }
      function ya(e, i, u) {
        var s;
        if (i == e.display.lineDiv) {
          if (s = e.display.lineDiv.childNodes[u], !s)
            return Cr(e.clipPos(oe(e.display.viewTo - 1)), true);
          i = null, u = 0;
        } else
          for (s = i; ; s = s.parentNode) {
            if (!s || s == e.display.lineDiv)
              return null;
            if (s.parentNode && s.parentNode == e.display.lineDiv)
              break;
          }
        for (var p = 0; p < e.display.view.length; p++) {
          var _7 = e.display.view[p];
          if (_7.node == s)
            return Kv(_7, i, u);
        }
      }
      function Kv(e, i, u) {
        var s = e.text.firstChild, p = false;
        if (!i || !J(s, i))
          return Cr(oe(ht(e.line), 0), true);
        if (i == s && (p = true, i = s.childNodes[u], u = 0, !i)) {
          var _7 = e.rest ? $e(e.rest) : e.line;
          return Cr(oe(ht(_7), _7.text.length), p);
        }
        var P = i.nodeType == 3 ? i : null, k = i;
        for (!P && i.childNodes.length == 1 && i.firstChild.nodeType == 3 && (P = i.firstChild, u && (u = P.nodeValue.length)); k.parentNode != s; )
          k = k.parentNode;
        var H = e.measure, j = H.maps;
        function Y(Ce, xe, De) {
          for (var Te = -1; Te < (j ? j.length : 0); Te++)
            for (var Ne = Te < 0 ? H.map : j[Te], Ve = 0; Ve < Ne.length; Ve += 3) {
              var He = Ne[Ve + 2];
              if (He == Ce || He == xe) {
                var qe = ht(Te < 0 ? e.line : e.rest[Te]), At = Ne[Ve] + De;
                return (De < 0 || He != Ce) && (At = Ne[Ve + (De ? 1 : 0)]), oe(qe, At);
              }
            }
        }
        var q = Y(P, k, u);
        if (q)
          return Cr(q, p);
        for (var se = k.nextSibling, le = P ? P.nodeValue.length - u : 0; se; se = se.nextSibling) {
          if (q = Y(se, se.firstChild, 0), q)
            return Cr(oe(q.line, q.ch - le), p);
          le += se.textContent.length;
        }
        for (var ge = k.previousSibling, Ae = u; ge; ge = ge.previousSibling) {
          if (q = Y(ge, ge.firstChild, -1), q)
            return Cr(oe(q.line, q.ch + Ae), p);
          Ae += ge.textContent.length;
        }
      }
      var Dt = function(e) {
        this.cm = e, this.prevInput = "", this.pollingFast = false, this.polling = new fe(), this.hasSelection = false, this.composing = null;
      };
      Dt.prototype.init = function(e) {
        var i = this, u = this, s = this.cm;
        this.createField(e);
        var p = this.textarea;
        e.wrapper.insertBefore(this.wrapper, e.wrapper.firstChild), y && (p.style.width = "0px"), he(p, "input", function() {
          c && h2 >= 9 && i.hasSelection && (i.hasSelection = null), u.poll();
        }), he(p, "paste", function(P) {
          Ye(s, P) || Cd(P, s) || (s.state.pasteIncoming = +/* @__PURE__ */ new Date(), u.fastPoll());
        });
        function _7(P) {
          if (!Ye(s, P)) {
            if (s.somethingSelected())
              ga({ lineWise: false, text: s.getSelections() });
            else if (s.options.lineWiseCopyCut) {
              var k = Ed(s);
              ga({ lineWise: true, text: k.text }), P.type == "cut" ? s.setSelections(k.ranges, null, Re) : (u.prevInput = "", p.value = k.text.join(`
`), K(p));
            } else
              return;
            P.type == "cut" && (s.state.cutIncoming = +/* @__PURE__ */ new Date());
          }
        }
        he(p, "cut", _7), he(p, "copy", _7), he(e.scroller, "paste", function(P) {
          if (!(ui(e, P) || Ye(s, P))) {
            if (!p.dispatchEvent) {
              s.state.pasteIncoming = +/* @__PURE__ */ new Date(), u.focus();
              return;
            }
            var k = new Event("paste");
            k.clipboardData = P.clipboardData, p.dispatchEvent(k);
          }
        }), he(e.lineSpace, "selectstart", function(P) {
          ui(e, P) || pt(P);
        }), he(p, "compositionstart", function() {
          var P = s.getCursor("from");
          u.composing && u.composing.range.clear(), u.composing = {
            start: P,
            range: s.markText(P, s.getCursor("to"), { className: "CodeMirror-composing" })
          };
        }), he(p, "compositionend", function() {
          u.composing && (u.poll(), u.composing.range.clear(), u.composing = null);
        });
      }, Dt.prototype.createField = function(e) {
        this.wrapper = Td(), this.textarea = this.wrapper.firstChild;
      }, Dt.prototype.screenReaderLabelChanged = function(e) {
        e ? this.textarea.setAttribute("aria-label", e) : this.textarea.removeAttribute("aria-label");
      }, Dt.prototype.prepareSelection = function() {
        var e = this.cm, i = e.display, u = e.doc, s = mf(e);
        if (e.options.moveInputWithCursor) {
          var p = kn(e, u.sel.primary().head, "div"), _7 = i.wrapper.getBoundingClientRect(), P = i.lineDiv.getBoundingClientRect();
          s.teTop = Math.max(0, Math.min(
            i.wrapper.clientHeight - 10,
            p.top + P.top - _7.top
          )), s.teLeft = Math.max(0, Math.min(
            i.wrapper.clientWidth - 10,
            p.left + P.left - _7.left
          ));
        }
        return s;
      }, Dt.prototype.showSelection = function(e) {
        var i = this.cm, u = i.display;
        U(u.cursorDiv, e.cursors), U(u.selectionDiv, e.selection), e.teTop != null && (this.wrapper.style.top = e.teTop + "px", this.wrapper.style.left = e.teLeft + "px");
      }, Dt.prototype.reset = function(e) {
        if (!(this.contextMenuPending || this.composing)) {
          var i = this.cm;
          if (i.somethingSelected()) {
            this.prevInput = "";
            var u = i.getSelection();
            this.textarea.value = u, i.state.focused && K(this.textarea), c && h2 >= 9 && (this.hasSelection = u);
          } else
            e || (this.prevInput = this.textarea.value = "", c && h2 >= 9 && (this.hasSelection = null));
        }
      }, Dt.prototype.getField = function() {
        return this.textarea;
      }, Dt.prototype.supportsTouch = function() {
        return false;
      }, Dt.prototype.focus = function() {
        if (this.cm.options.readOnly != "nocursor" && (!x || ae(this.textarea.ownerDocument) != this.textarea))
          try {
            this.textarea.focus();
          } catch {
          }
      }, Dt.prototype.blur = function() {
        this.textarea.blur();
      }, Dt.prototype.resetPosition = function() {
        this.wrapper.style.top = this.wrapper.style.left = 0;
      }, Dt.prototype.receivedFocus = function() {
        this.slowPoll();
      }, Dt.prototype.slowPoll = function() {
        var e = this;
        this.pollingFast || this.polling.set(this.cm.options.pollInterval, function() {
          e.poll(), e.cm.state.focused && e.slowPoll();
        });
      }, Dt.prototype.fastPoll = function() {
        var e = false, i = this;
        i.pollingFast = true;
        function u() {
          var s = i.poll();
          !s && !e ? (e = true, i.polling.set(60, u)) : (i.pollingFast = false, i.slowPoll());
        }
        i.polling.set(20, u);
      }, Dt.prototype.poll = function() {
        var e = this, i = this.cm, u = this.textarea, s = this.prevInput;
        if (this.contextMenuPending || !i.state.focused || Ai(u) && !s && !this.composing || i.isReadOnly() || i.options.disableInput || i.state.keySeq)
          return false;
        var p = u.value;
        if (p == s && !i.somethingSelected())
          return false;
        if (c && h2 >= 9 && this.hasSelection === p || D && /[\uf700-\uf7ff]/.test(p))
          return i.display.input.reset(), false;
        if (i.doc.sel == i.display.selForContextMenu) {
          var _7 = p.charCodeAt(0);
          if (_7 == 8203 && !s && (s = "​"), _7 == 8666)
            return this.reset(), this.cm.execCommand("undo");
        }
        for (var P = 0, k = Math.min(s.length, p.length); P < k && s.charCodeAt(P) == p.charCodeAt(P); )
          ++P;
        return gn(i, function() {
          Wl(
            i,
            p.slice(P),
            s.length - P,
            null,
            e.composing ? "*compose" : null
          ), p.length > 1e3 || p.indexOf(`
`) > -1 ? u.value = e.prevInput = "" : e.prevInput = p, e.composing && (e.composing.range.clear(), e.composing.range = i.markText(
            e.composing.start,
            i.getCursor("to"),
            { className: "CodeMirror-composing" }
          ));
        }), true;
      }, Dt.prototype.ensurePolled = function() {
        this.pollingFast && this.poll() && (this.pollingFast = false);
      }, Dt.prototype.onKeyPress = function() {
        c && h2 >= 9 && (this.hasSelection = null), this.fastPoll();
      }, Dt.prototype.onContextMenu = function(e) {
        var i = this, u = i.cm, s = u.display, p = i.textarea;
        i.contextMenuPending && i.contextMenuPending();
        var _7 = Vi(u, e), P = s.scroller.scrollTop;
        if (!_7 || A)
          return;
        var k = u.options.resetSelectionOnContextMenu;
        k && u.doc.sel.contains(_7) == -1 && zt(u, Zt)(u.doc, _i(_7), Re);
        var H = p.style.cssText, j = i.wrapper.style.cssText, Y = i.wrapper.offsetParent.getBoundingClientRect();
        i.wrapper.style.cssText = "position: static", p.style.cssText = `position: absolute; width: 30px; height: 30px;
      top: ` + (e.clientY - Y.top - 5) + "px; left: " + (e.clientX - Y.left - 5) + `px;
      z-index: 1000; background: ` + (c ? "rgba(255, 255, 255, .05)" : "transparent") + `;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;
        var q;
        m && (q = p.ownerDocument.defaultView.scrollY), s.input.focus(), m && p.ownerDocument.defaultView.scrollTo(null, q), s.input.reset(), u.somethingSelected() || (p.value = i.prevInput = " "), i.contextMenuPending = le, s.selForContextMenu = u.doc.sel, clearTimeout(s.detectingSelectAll);
        function se() {
          if (p.selectionStart != null) {
            var Ae = u.somethingSelected(), Ce = "​" + (Ae ? p.value : "");
            p.value = "⇚", p.value = Ce, i.prevInput = Ae ? "" : "​", p.selectionStart = 1, p.selectionEnd = Ce.length, s.selForContextMenu = u.doc.sel;
          }
        }
        function le() {
          if (i.contextMenuPending == le && (i.contextMenuPending = false, i.wrapper.style.cssText = j, p.style.cssText = H, c && h2 < 9 && s.scrollbars.setScrollTop(s.scroller.scrollTop = P), p.selectionStart != null)) {
            (!c || c && h2 < 9) && se();
            var Ae = 0, Ce = function() {
              s.selForContextMenu == u.doc.sel && p.selectionStart == 0 && p.selectionEnd > 0 && i.prevInput == "​" ? zt(u, Kf)(u) : Ae++ < 10 ? s.detectingSelectAll = setTimeout(Ce, 500) : (s.selForContextMenu = null, s.input.reset());
            };
            s.detectingSelectAll = setTimeout(Ce, 200);
          }
        }
        if (c && h2 >= 9 && se(), O) {
          Nn(e);
          var ge = function() {
            Le(window, "mouseup", ge), setTimeout(le, 20);
          };
          he(window, "mouseup", ge);
        } else
          setTimeout(le, 50);
      }, Dt.prototype.readOnlyChanged = function(e) {
        e || this.reset(), this.textarea.disabled = e == "nocursor", this.textarea.readOnly = !!e;
      }, Dt.prototype.setUneditable = function() {
      }, Dt.prototype.needsContentAttribute = false;
      function Gv(e, i) {
        if (i = i ? pe(i) : {}, i.value = e.value, !i.tabindex && e.tabIndex && (i.tabindex = e.tabIndex), !i.placeholder && e.placeholder && (i.placeholder = e.placeholder), i.autofocus == null) {
          var u = ae(e.ownerDocument);
          i.autofocus = u == e || e.getAttribute("autofocus") != null && u == document.body;
        }
        function s() {
          e.value = k.getValue();
        }
        var p;
        if (e.form && (he(e.form, "submit", s), !i.leaveSubmitMethodAlone)) {
          var _7 = e.form;
          p = _7.submit;
          try {
            var P = _7.submit = function() {
              s(), _7.submit = p, _7.submit(), _7.submit = P;
            };
          } catch {
          }
        }
        i.finishInit = function(H) {
          H.save = s, H.getTextArea = function() {
            return e;
          }, H.toTextArea = function() {
            H.toTextArea = isNaN, s(), e.parentNode.removeChild(H.getWrapperElement()), e.style.display = "", e.form && (Le(e.form, "submit", s), !i.leaveSubmitMethodAlone && typeof e.form.submit == "function" && (e.form.submit = p));
          };
        }, e.style.display = "none";
        var k = Et(
          function(H) {
            return e.parentNode.insertBefore(H, e.nextSibling);
          },
          i
        );
        return k;
      }
      function Qv(e) {
        e.off = Le, e.on = he, e.wheelEventPixels = tv, e.Doc = sn, e.splitLines = jr, e.countColumn = ce, e.findColumn = ot, e.isWordChar = An, e.Pass = we, e.signal = Fe, e.Line = ar, e.changeEnd = Ri, e.scrollbarModel = Cf, e.Pos = oe, e.cmpPos = ve, e.modes = Ln, e.mimeModes = wi, e.resolveMode = mn, e.getMode = ri, e.modeExtensions = Ci, e.extendMode = zo, e.copyState = oi, e.startState = zr, e.innerMode = Si, e.commands = po, e.keyMap = di, e.keyName = sd, e.isModifierKey = ad, e.lookupKey = br, e.normalizeKeyMap = Sv, e.StringStream = Rt, e.SharedTextMarker = uo, e.TextMarker = Di, e.LineWidget = so, e.e_preventDefault = pt, e.e_stopPropagation = On, e.e_stop = Nn, e.addClass = M, e.contains = J, e.rmClass = F, e.keyNames = Ii;
      }
      $v(Et), zv(Et);
      var Yv = "iter insert remove copy getEditor constructor".split(" ");
      for (var ba in sn.prototype)
        sn.prototype.hasOwnProperty(ba) && ne(Yv, ba) < 0 && (Et.prototype[ba] = /* @__PURE__ */ function(e) {
          return function() {
            return e.apply(this.doc, arguments);
          };
        }(sn.prototype[ba]));
      return wt(sn), Et.inputStyles = { textarea: Dt, contenteditable: gt }, Et.defineMode = function(e) {
        !Et.defaults.mode && e != "null" && (Et.defaults.mode = e), jo.apply(this, arguments);
      }, Et.defineMIME = rr, Et.defineMode("null", function() {
        return { token: function(e) {
          return e.skipToEnd();
        } };
      }), Et.defineMIME("text/plain", "null"), Et.defineExtension = function(e, i) {
        Et.prototype[e] = i;
      }, Et.defineDocExtension = function(e, i) {
        sn.prototype[e] = i;
      }, Et.fromTextArea = Gv, Qv(Et), Et.version = "6.65.7", Et;
    });
  }(Vs)), Vs.exports;
}
var Fr = Za();
(function(t3, r) {
  (function(a) {
    a(Za());
  })(function(a) {
    a.defineMode("javascript", function(o, n) {
      var l = o.indentUnit, f = n.statementIndent, d = n.jsonld, c = n.json || d, h2 = n.trackScope !== false, m = n.typescript, g = n.wordCharacters || /[\w$\xa1-\uffff]/, w = function() {
        function W(Bt) {
          return { type: Bt, style: "keyword" };
        }
        var ee = W("keyword a"), oe = W("keyword b"), ve = W("keyword c"), Ue = W("keyword d"), at = W("operator"), ft = { type: "atom", style: "atom" };
        return {
          if: W("if"),
          while: ee,
          with: ee,
          else: oe,
          do: oe,
          try: oe,
          finally: oe,
          return: Ue,
          break: Ue,
          continue: Ue,
          new: W("new"),
          delete: ve,
          void: ve,
          throw: ve,
          debugger: W("debugger"),
          var: W("var"),
          const: W("var"),
          let: W("var"),
          function: W("function"),
          catch: W("catch"),
          for: W("for"),
          switch: W("switch"),
          case: W("case"),
          default: W("default"),
          in: at,
          typeof: at,
          instanceof: at,
          true: ft,
          false: ft,
          null: ft,
          undefined: ft,
          NaN: ft,
          Infinity: ft,
          this: W("this"),
          class: W("class"),
          super: W("atom"),
          yield: ve,
          export: W("export"),
          import: W("import"),
          extends: ve,
          await: ve
        };
      }(), R = /[+\-*&%=<>!?|~^@]/, A = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;
      function E(W) {
        for (var ee = false, oe, ve = false; (oe = W.next()) != null; ) {
          if (!ee) {
            if (oe == "/" && !ve)
              return;
            oe == "[" ? ve = true : ve && oe == "]" && (ve = false);
          }
          ee = !ee && oe == "\\";
        }
      }
      var b, v;
      function y(W, ee, oe) {
        return b = W, v = oe, ee;
      }
      function T(W, ee) {
        var oe = W.next();
        if (oe == '"' || oe == "'")
          return ee.tokenize = x(oe), ee.tokenize(W, ee);
        if (oe == "." && W.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))
          return y("number", "number");
        if (oe == "." && W.match(".."))
          return y("spread", "meta");
        if (/[\[\]{}\(\),;\:\.]/.test(oe))
          return y(oe);
        if (oe == "=" && W.eat(">"))
          return y("=>", "operator");
        if (oe == "0" && W.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))
          return y("number", "number");
        if (/\d/.test(oe))
          return W.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/), y("number", "number");
        if (oe == "/")
          return W.eat("*") ? (ee.tokenize = D, D(W, ee)) : W.eat("/") ? (W.skipToEnd(), y("comment", "comment")) : Gn(W, ee, 1) ? (E(W), W.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/), y("regexp", "string-2")) : (W.eat("="), y("operator", "operator", W.current()));
        if (oe == "`")
          return ee.tokenize = I, I(W, ee);
        if (oe == "#" && W.peek() == "!")
          return W.skipToEnd(), y("meta", "meta");
        if (oe == "#" && W.eatWhile(g))
          return y("variable", "property");
        if (oe == "<" && W.match("!--") || oe == "-" && W.match("->") && !/\S/.test(W.string.slice(0, W.start)))
          return W.skipToEnd(), y("comment", "comment");
        if (R.test(oe))
          return (oe != ">" || !ee.lexical || ee.lexical.type != ">") && (W.eat("=") ? (oe == "!" || oe == "=") && W.eat("=") : /[<>*+\-|&?]/.test(oe) && (W.eat(oe), oe == ">" && W.eat(oe))), oe == "?" && W.eat(".") ? y(".") : y("operator", "operator", W.current());
        if (g.test(oe)) {
          W.eatWhile(g);
          var ve = W.current();
          if (ee.lastType != ".") {
            if (w.propertyIsEnumerable(ve)) {
              var Ue = w[ve];
              return y(Ue.type, Ue.style, ve);
            }
            if (ve == "async" && W.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/, false))
              return y("async", "keyword", ve);
          }
          return y("variable", "variable", ve);
        }
      }
      function x(W) {
        return function(ee, oe) {
          var ve = false, Ue;
          if (d && ee.peek() == "@" && ee.match(A))
            return oe.tokenize = T, y("jsonld-keyword", "meta");
          for (; (Ue = ee.next()) != null && !(Ue == W && !ve); )
            ve = !ve && Ue == "\\";
          return ve || (oe.tokenize = T), y("string", "string");
        };
      }
      function D(W, ee) {
        for (var oe = false, ve; ve = W.next(); ) {
          if (ve == "/" && oe) {
            ee.tokenize = T;
            break;
          }
          oe = ve == "*";
        }
        return y("comment", "comment");
      }
      function I(W, ee) {
        for (var oe = false, ve; (ve = W.next()) != null; ) {
          if (!oe && (ve == "`" || ve == "$" && W.eat("{"))) {
            ee.tokenize = T;
            break;
          }
          oe = !oe && ve == "\\";
        }
        return y("quasi", "string-2", W.current());
      }
      var N = "([{}])";
      function C(W, ee) {
        ee.fatArrowAt && (ee.fatArrowAt = null);
        var oe = W.string.indexOf("=>", W.start);
        if (!(oe < 0)) {
          if (m) {
            var ve = /:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(W.string.slice(W.start, oe));
            ve && (oe = ve.index);
          }
          for (var Ue = 0, at = false, ft = oe - 1; ft >= 0; --ft) {
            var Bt = W.string.charAt(ft), Sn = N.indexOf(Bt);
            if (Sn >= 0 && Sn < 3) {
              if (!Ue) {
                ++ft;
                break;
              }
              if (--Ue == 0) {
                Bt == "(" && (at = true);
                break;
              }
            } else if (Sn >= 3 && Sn < 6)
              ++Ue;
            else if (g.test(Bt))
              at = true;
            else if (/["'\/`]/.test(Bt))
              for (; ; --ft) {
                if (ft == 0)
                  return;
                var We = W.string.charAt(ft - 1);
                if (We == Bt && W.string.charAt(ft - 2) != "\\") {
                  ft--;
                  break;
                }
              }
            else if (at && !Ue) {
              ++ft;
              break;
            }
          }
          at && !Ue && (ee.fatArrowAt = ft);
        }
      }
      var B = {
        atom: true,
        number: true,
        variable: true,
        string: true,
        regexp: true,
        this: true,
        import: true,
        "jsonld-keyword": true
      };
      function O(W, ee, oe, ve, Ue, at) {
        this.indented = W, this.column = ee, this.type = oe, this.prev = Ue, this.info = at, ve != null && (this.align = ve);
      }
      function S(W, ee) {
        if (!h2)
          return false;
        for (var oe = W.localVars; oe; oe = oe.next)
          if (oe.name == ee)
            return true;
        for (var ve = W.context; ve; ve = ve.prev)
          for (var oe = ve.vars; oe; oe = oe.next)
            if (oe.name == ee)
              return true;
      }
      function F(W, ee, oe, ve, Ue) {
        var at = W.cc;
        for ($.state = W, $.stream = Ue, $.marked = null, $.cc = at, $.style = ee, W.lexical.hasOwnProperty("align") || (W.lexical.align = true); ; ) {
          var ft = at.length ? at.pop() : c ? we : ne;
          if (ft(oe, ve)) {
            for (; at.length && at[at.length - 1].lex; )
              at.pop()();
            return $.marked ? $.marked : oe == "variable" && S(W, ve) ? "variable-2" : ee;
          }
        }
      }
      var $ = { state: null, column: null, marked: null, cc: null };
      function U() {
        for (var W = arguments.length - 1; W >= 0; W--)
          $.cc.push(arguments[W]);
      }
      function L() {
        return U.apply(null, arguments), true;
      }
      function z(W, ee) {
        for (var oe = ee; oe; oe = oe.next)
          if (oe.name == W)
            return true;
        return false;
      }
      function Q(W) {
        var ee = $.state;
        if ($.marked = "def", !!h2) {
          if (ee.context) {
            if (ee.lexical.info == "var" && ee.context && ee.context.block) {
              var oe = J(W, ee.context);
              if (oe != null) {
                ee.context = oe;
                return;
              }
            } else if (!z(W, ee.localVars)) {
              ee.localVars = new V(W, ee.localVars);
              return;
            }
          }
          n.globalVars && !z(W, ee.globalVars) && (ee.globalVars = new V(W, ee.globalVars));
        }
      }
      function J(W, ee) {
        if (ee)
          if (ee.block) {
            var oe = J(W, ee.prev);
            return oe ? oe == ee.prev ? ee : new M(oe, ee.vars, true) : null;
          } else
            return z(W, ee.vars) ? ee : new M(ee.prev, new V(W, ee.vars), false);
        else
          return null;
      }
      function ae(W) {
        return W == "public" || W == "private" || W == "protected" || W == "abstract" || W == "readonly";
      }
      function M(W, ee, oe) {
        this.prev = W, this.vars = ee, this.block = oe;
      }
      function V(W, ee) {
        this.name = W, this.next = ee;
      }
      var K = new V("this", new V("arguments", null));
      function G() {
        $.state.context = new M($.state.context, $.state.localVars, false), $.state.localVars = K;
      }
      function Z() {
        $.state.context = new M($.state.context, $.state.localVars, true), $.state.localVars = null;
      }
      G.lex = Z.lex = true;
      function ue() {
        $.state.localVars = $.state.context.vars, $.state.context = $.state.context.prev;
      }
      ue.lex = true;
      function pe(W, ee) {
        var oe = function() {
          var ve = $.state, Ue = ve.indented;
          if (ve.lexical.type == "stat")
            Ue = ve.lexical.indented;
          else
            for (var at = ve.lexical; at && at.type == ")" && at.align; at = at.prev)
              Ue = at.indented;
          ve.lexical = new O(Ue, $.stream.column(), W, null, ve.lexical, ee);
        };
        return oe.lex = true, oe;
      }
      function ce() {
        var W = $.state;
        W.lexical.prev && (W.lexical.type == ")" && (W.indented = W.lexical.indented), W.lexical = W.lexical.prev);
      }
      ce.lex = true;
      function fe(W) {
        function ee(oe) {
          return oe == W ? L() : W == ";" || oe == "}" || oe == ")" || oe == "]" ? U() : L(ee);
        }
        return ee;
      }
      function ne(W, ee) {
        return W == "var" ? L(pe("vardef", ee), Nn, fe(";"), ce) : W == "keyword a" ? L(pe("form"), Ke, ne, ce) : W == "keyword b" ? L(pe("form"), ne, ce) : W == "keyword d" ? $.stream.match(/^\s*$/, false) ? L() : L(pe("stat"), ot, fe(";"), ce) : W == "debugger" ? L(fe(";")) : W == "{" ? L(pe("}"), Z, rt, ce, ue) : W == ";" ? L() : W == "if" ? ($.state.lexical.info == "else" && $.state.cc[$.state.cc.length - 1] == ce && $.state.cc.pop()(), L(pe("form"), Ke, ne, ce, ir)) : W == "function" ? L(Wn) : W == "for" ? L(pe("form"), Z, Ho, ne, ue, ce) : W == "class" || m && ee == "interface" ? ($.marked = "keyword", L(pe("form", W == "class" ? W : ee), jo, ce)) : W == "variable" ? m && ee == "declare" ? ($.marked = "keyword", L(ne)) : m && (ee == "module" || ee == "enum" || ee == "type") && $.stream.match(/^\s*\w/, false) ? ($.marked = "keyword", ee == "enum" ? L(or) : ee == "type" ? L(Vo, fe("operator"), he, fe(";")) : L(pe("form"), an, fe("{"), pe("}"), rt, ce, ce)) : m && ee == "namespace" ? ($.marked = "keyword", L(pe("form"), we, ne, ce)) : m && ee == "abstract" ? ($.marked = "keyword", L(ne)) : L(pe("stat"), wn) : W == "switch" ? L(
          pe("form"),
          Ke,
          fe("{"),
          pe("}", "switch"),
          Z,
          rt,
          ce,
          ce,
          ue
        ) : W == "case" ? L(we, fe(":")) : W == "default" ? L(fe(":")) : W == "catch" ? L(pe("form"), G, be, ne, ce, ue) : W == "export" ? L(pe("stat"), Ci, ce) : W == "import" ? L(pe("stat"), oi, ce) : W == "async" ? L(ne) : ee == "@" ? L(we, ne) : U(pe("stat"), we, fe(";"), ce);
      }
      function be(W) {
        if (W == "(")
          return L(Ln, fe(")"));
      }
      function we(W, ee) {
        return lt(W, ee, false);
      }
      function Re(W, ee) {
        return lt(W, ee, true);
      }
      function Ke(W) {
        return W != "(" ? U() : L(pe(")"), ot, fe(")"), ce);
      }
      function lt(W, ee, oe) {
        if ($.state.fatArrowAt == $.stream.start) {
          var ve = oe ? Vt : hn;
          if (W == "(")
            return L(G, pe(")"), ct(Ln, ")"), ce, fe("=>"), ve, ue);
          if (W == "variable")
            return U(G, an, fe("=>"), ve, ue);
        }
        var Ue = oe ? St : Ct;
        return B.hasOwnProperty(W) ? L(Ue) : W == "function" ? L(Wn, Ue) : W == "class" || m && ee == "interface" ? ($.marked = "keyword", L(pe("form"), wi, ce)) : W == "keyword c" || W == "async" ? L(oe ? Re : we) : W == "(" ? L(pe(")"), ot, fe(")"), ce, Ue) : W == "operator" || W == "spread" ? L(oe ? Re : we) : W == "[" ? L(pe("]"), ai, ce, Ue) : W == "{" ? vn(Cn, "}", null, Ue) : W == "quasi" ? U($e, Ue) : W == "new" ? L(yi(oe)) : L();
      }
      function ot(W) {
        return W.match(/[;\}\)\],]/) ? U() : U(we);
      }
      function Ct(W, ee) {
        return W == "," ? L(ot) : St(W, ee, false);
      }
      function St(W, ee, oe) {
        var ve = oe == false ? Ct : St, Ue = oe == false ? we : Re;
        if (W == "=>")
          return L(G, oe ? Vt : hn, ue);
        if (W == "operator")
          return /\+\+|--/.test(ee) || m && ee == "!" ? L(ve) : m && ee == "<" && $.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/, false) ? L(pe(">"), ct(he, ">"), ce, ve) : ee == "?" ? L(we, fe(":"), Ue) : L(Ue);
        if (W == "quasi")
          return U($e, ve);
        if (W != ";") {
          if (W == "(")
            return vn(Re, ")", "call", ve);
          if (W == ".")
            return L(Un, ve);
          if (W == "[")
            return L(pe("]"), ot, fe("]"), ce, ve);
          if (m && ee == "as")
            return $.marked = "keyword", L(he, ve);
          if (W == "regexp")
            return $.state.lastType = $.marked = "operator", $.stream.backUp($.stream.pos - $.stream.start - 1), L(Ue);
        }
      }
      function $e(W, ee) {
        return W != "quasi" ? U() : ee.slice(ee.length - 2) != "${" ? L($e) : L(ot, bt);
      }
      function bt(W) {
        if (W == "}")
          return $.marked = "string-2", $.state.tokenize = I, L($e);
      }
      function hn(W) {
        return C($.stream, $.state), U(W == "{" ? ne : we);
      }
      function Vt(W) {
        return C($.stream, $.state), U(W == "{" ? ne : Re);
      }
      function yi(W) {
        return function(ee) {
          return ee == "." ? L(W ? An : zn) : ee == "variable" && m ? L(pt, W ? St : Ct) : U(W ? Re : we);
        };
      }
      function zn(W, ee) {
        if (ee == "target")
          return $.marked = "keyword", L(Ct);
      }
      function An(W, ee) {
        if (ee == "target")
          return $.marked = "keyword", L(St);
      }
      function wn(W) {
        return W == ":" ? L(ce, ne) : U(Ct, fe(";"), ce);
      }
      function Un(W) {
        if (W == "variable")
          return $.marked = "property", L();
      }
      function Cn(W, ee) {
        if (W == "async")
          return $.marked = "property", L(Cn);
        if (W == "variable" || $.style == "keyword") {
          if ($.marked = "property", ee == "get" || ee == "set")
            return L(Rn);
          var oe;
          return m && $.state.fatArrowAt == $.stream.start && (oe = $.stream.match(/^\s*:\s*/, false)) && ($.state.fatArrowAt = $.stream.pos + oe[0].length), L(kt);
        } else {
          if (W == "number" || W == "string")
            return $.marked = d ? "property" : $.style + " property", L(kt);
          if (W == "jsonld-keyword")
            return L(kt);
          if (m && ae(ee))
            return $.marked = "keyword", L(Cn);
          if (W == "[")
            return L(we, Ie, fe("]"), kt);
          if (W == "spread")
            return L(Re, kt);
          if (ee == "*")
            return $.marked = "keyword", L(Cn);
          if (W == ":")
            return U(kt);
        }
      }
      function Rn(W) {
        return W != "variable" ? U(kt) : ($.marked = "property", L(Wn));
      }
      function kt(W) {
        if (W == ":")
          return L(Re);
        if (W == "(")
          return U(Wn);
      }
      function ct(W, ee, oe) {
        function ve(Ue, at) {
          if (oe ? oe.indexOf(Ue) > -1 : Ue == ",") {
            var ft = $.state.lexical;
            return ft.info == "call" && (ft.pos = (ft.pos || 0) + 1), L(function(Bt, Sn) {
              return Bt == ee || Sn == ee ? U() : U(W);
            }, ve);
          }
          return Ue == ee || at == ee ? L() : oe && oe.indexOf(";") > -1 ? U(W) : L(fe(ee));
        }
        return function(Ue, at) {
          return Ue == ee || at == ee ? L() : U(W, ve);
        };
      }
      function vn(W, ee, oe) {
        for (var ve = 3; ve < arguments.length; ve++)
          $.cc.push(arguments[ve]);
        return L(pe(ee, oe), ct(W, ee), ce);
      }
      function rt(W) {
        return W == "}" ? L() : U(ne, rt);
      }
      function Ie(W, ee) {
        if (m) {
          if (W == ":")
            return L(he);
          if (ee == "?")
            return L(Ie);
        }
      }
      function Oe(W, ee) {
        if (m && (W == ":" || ee == "in"))
          return L(he);
      }
      function ze(W) {
        if (m && W == ":")
          return $.stream.match(/^\s*\w+\s+is\b/, false) ? L(we, Pe, he) : L(he);
      }
      function Pe(W, ee) {
        if (ee == "is")
          return $.marked = "keyword", L();
      }
      function he(W, ee) {
        if (ee == "keyof" || ee == "typeof" || ee == "infer" || ee == "readonly")
          return $.marked = "keyword", L(ee == "typeof" ? Re : he);
        if (W == "variable" || ee == "void")
          return $.marked = "type", L(wt);
        if (ee == "|" || ee == "&")
          return L(he);
        if (W == "string" || W == "number" || W == "atom")
          return L(wt);
        if (W == "[")
          return L(pe("]"), ct(he, "]", ","), ce, wt);
        if (W == "{")
          return L(pe("}"), Le, ce, wt);
        if (W == "(")
          return L(ct(xt, ")"), Be, wt);
        if (W == "<")
          return L(ct(he, ">"), he);
        if (W == "quasi")
          return U(Ye, wt);
      }
      function Be(W) {
        if (W == "=>")
          return L(he);
      }
      function Le(W) {
        return W.match(/[\}\)\]]/) ? L() : W == "," || W == ";" ? L(Le) : U(Fe, Le);
      }
      function Fe(W, ee) {
        if (W == "variable" || $.style == "keyword")
          return $.marked = "property", L(Fe);
        if (ee == "?" || W == "number" || W == "string")
          return L(Fe);
        if (W == ":")
          return L(he);
        if (W == "[")
          return L(fe("variable"), Oe, fe("]"), Fe);
        if (W == "(")
          return U(Kn, Fe);
        if (!W.match(/[;\}\)\],]/))
          return L();
      }
      function Ye(W, ee) {
        return W != "quasi" ? U() : ee.slice(ee.length - 2) != "${" ? L(Ye) : L(he, on2);
      }
      function on2(W) {
        if (W == "}")
          return $.marked = "string-2", $.state.tokenize = I, L(Ye);
      }
      function xt(W, ee) {
        return W == "variable" && $.stream.match(/^\s*[?:]/, false) || ee == "?" ? L(xt) : W == ":" ? L(he) : W == "spread" ? L(xt) : U(he);
      }
      function wt(W, ee) {
        if (ee == "<")
          return L(pe(">"), ct(he, ">"), ce, wt);
        if (ee == "|" || W == "." || ee == "&")
          return L(he);
        if (W == "[")
          return L(he, fe("]"), wt);
        if (ee == "extends" || ee == "implements")
          return $.marked = "keyword", L(he);
        if (ee == "?")
          return L(he, fe(":"), he);
      }
      function pt(W, ee) {
        if (ee == "<")
          return L(pe(">"), ct(he, ">"), ce, wt);
      }
      function On() {
        return U(he, bi);
      }
      function bi(W, ee) {
        if (ee == "=")
          return L(he);
      }
      function Nn(W, ee) {
        return ee == "enum" ? ($.marked = "keyword", L(or)) : U(an, Ie, Dn, nl);
      }
      function an(W, ee) {
        if (m && ae(ee))
          return $.marked = "keyword", L(an);
        if (W == "variable")
          return Q(ee), L();
        if (W == "spread")
          return L(an);
        if (W == "[")
          return vn(tl, "]");
        if (W == "{")
          return vn(Vr, "}");
      }
      function Vr(W, ee) {
        return W == "variable" && !$.stream.match(/^\s*:/, false) ? (Q(ee), L(Dn)) : (W == "variable" && ($.marked = "property"), W == "spread" ? L(an) : W == "}" ? U() : W == "[" ? L(we, fe("]"), fe(":"), Vr) : L(fe(":"), an, Dn));
      }
      function tl() {
        return U(an, Dn);
      }
      function Dn(W, ee) {
        if (ee == "=")
          return L(Re);
      }
      function nl(W) {
        if (W == ",")
          return L(Nn);
      }
      function ir(W, ee) {
        if (W == "keyword b" && ee == "else")
          return L(pe("form", "else"), ne, ce);
      }
      function Ho(W, ee) {
        if (ee == "await")
          return L(Ho);
        if (W == "(")
          return L(pe(")"), jr, ce);
      }
      function jr(W) {
        return W == "var" ? L(Nn, Ai) : W == "variable" ? L(Ai) : U(Ai);
      }
      function Ai(W, ee) {
        return W == ")" ? L() : W == ";" ? L(Ai) : ee == "in" || ee == "of" ? ($.marked = "keyword", L(we, Ai)) : U(we, Ai);
      }
      function Wn(W, ee) {
        if (ee == "*")
          return $.marked = "keyword", L(Wn);
        if (W == "variable")
          return Q(ee), L(Wn);
        if (W == "(")
          return L(G, pe(")"), ct(Ln, ")"), ce, ze, ne, ue);
        if (m && ee == "<")
          return L(pe(">"), ct(On, ">"), ce, Wn);
      }
      function Kn(W, ee) {
        if (ee == "*")
          return $.marked = "keyword", L(Kn);
        if (W == "variable")
          return Q(ee), L(Kn);
        if (W == "(")
          return L(G, pe(")"), ct(Ln, ")"), ce, ze, ue);
        if (m && ee == "<")
          return L(pe(">"), ct(On, ">"), ce, Kn);
      }
      function Vo(W, ee) {
        if (W == "keyword" || W == "variable")
          return $.marked = "type", L(Vo);
        if (ee == "<")
          return L(pe(">"), ct(On, ">"), ce);
      }
      function Ln(W, ee) {
        return ee == "@" && L(we, Ln), W == "spread" ? L(Ln) : m && ae(ee) ? ($.marked = "keyword", L(Ln)) : m && W == "this" ? L(Ie, Dn) : U(an, Ie, Dn);
      }
      function wi(W, ee) {
        return W == "variable" ? jo(W, ee) : rr(W, ee);
      }
      function jo(W, ee) {
        if (W == "variable")
          return Q(ee), L(rr);
      }
      function rr(W, ee) {
        if (ee == "<")
          return L(pe(">"), ct(On, ">"), ce, rr);
        if (ee == "extends" || ee == "implements" || m && W == ",")
          return ee == "implements" && ($.marked = "keyword"), L(m ? he : we, rr);
        if (W == "{")
          return L(pe("}"), mn, ce);
      }
      function mn(W, ee) {
        if (W == "async" || W == "variable" && (ee == "static" || ee == "get" || ee == "set" || m && ae(ee)) && $.stream.match(/^\s+[\w$\xa1-\uffff]/, false))
          return $.marked = "keyword", L(mn);
        if (W == "variable" || $.style == "keyword")
          return $.marked = "property", L(ri, mn);
        if (W == "number" || W == "string")
          return L(ri, mn);
        if (W == "[")
          return L(we, Ie, fe("]"), ri, mn);
        if (ee == "*")
          return $.marked = "keyword", L(mn);
        if (m && W == "(")
          return U(Kn, mn);
        if (W == ";" || W == ",")
          return L(mn);
        if (W == "}")
          return L();
        if (ee == "@")
          return L(we, mn);
      }
      function ri(W, ee) {
        if (ee == "!" || ee == "?")
          return L(ri);
        if (W == ":")
          return L(he, Dn);
        if (ee == "=")
          return L(Re);
        var oe = $.state.lexical.prev, ve = oe && oe.info == "interface";
        return U(ve ? Kn : Wn);
      }
      function Ci(W, ee) {
        return ee == "*" ? ($.marked = "keyword", L(ke, fe(";"))) : ee == "default" ? ($.marked = "keyword", L(we, fe(";"))) : W == "{" ? L(ct(zo, "}"), ke, fe(";")) : U(ne);
      }
      function zo(W, ee) {
        if (ee == "as")
          return $.marked = "keyword", L(fe("variable"));
        if (W == "variable")
          return U(Re, zo);
      }
      function oi(W) {
        return W == "string" ? L() : W == "(" ? U(we) : W == "." ? U(Ct) : U(Si, zr, ke);
      }
      function Si(W, ee) {
        return W == "{" ? vn(Si, "}") : (W == "variable" && Q(ee), ee == "*" && ($.marked = "keyword"), L(Rt));
      }
      function zr(W) {
        if (W == ",")
          return L(Si, zr);
      }
      function Rt(W, ee) {
        if (ee == "as")
          return $.marked = "keyword", L(Si);
      }
      function ke(W, ee) {
        if (ee == "from")
          return $.marked = "keyword", L(we);
      }
      function ai(W) {
        return W == "]" ? L() : U(ct(Re, "]"));
      }
      function or() {
        return U(pe("form"), an, fe("{"), pe("}"), ct(In, "}"), ce, ce);
      }
      function In() {
        return U(an, Dn);
      }
      function ht(W, ee) {
        return W.lastType == "operator" || W.lastType == "," || R.test(ee.charAt(0)) || /[,.]/.test(ee.charAt(0));
      }
      function Gn(W, ee, oe) {
        return ee.tokenize == T && /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ee.lastType) || ee.lastType == "quasi" && /\{\s*$/.test(W.string.slice(0, W.pos - (oe || 0)));
      }
      return {
        startState: function(W) {
          var ee = {
            tokenize: T,
            lastType: "sof",
            cc: [],
            lexical: new O((W || 0) - l, 0, "block", false),
            localVars: n.localVars,
            context: n.localVars && new M(null, null, false),
            indented: W || 0
          };
          return n.globalVars && typeof n.globalVars == "object" && (ee.globalVars = n.globalVars), ee;
        },
        token: function(W, ee) {
          if (W.sol() && (ee.lexical.hasOwnProperty("align") || (ee.lexical.align = false), ee.indented = W.indentation(), C(W, ee)), ee.tokenize != D && W.eatSpace())
            return null;
          var oe = ee.tokenize(W, ee);
          return b == "comment" ? oe : (ee.lastType = b == "operator" && (v == "++" || v == "--") ? "incdec" : b, F(ee, oe, b, v, W));
        },
        indent: function(W, ee) {
          if (W.tokenize == D || W.tokenize == I)
            return a.Pass;
          if (W.tokenize != T)
            return 0;
          var oe = ee && ee.charAt(0), ve = W.lexical, Ue;
          if (!/^\s*else\b/.test(ee))
            for (var at = W.cc.length - 1; at >= 0; --at) {
              var ft = W.cc[at];
              if (ft == ce)
                ve = ve.prev;
              else if (ft != ir && ft != ue)
                break;
            }
          for (; (ve.type == "stat" || ve.type == "form") && (oe == "}" || (Ue = W.cc[W.cc.length - 1]) && (Ue == Ct || Ue == St) && !/^[,\.=+\-*:?[\(]/.test(ee)); )
            ve = ve.prev;
          f && ve.type == ")" && ve.prev.type == "stat" && (ve = ve.prev);
          var Bt = ve.type, Sn = oe == Bt;
          return Bt == "vardef" ? ve.indented + (W.lastType == "operator" || W.lastType == "," ? ve.info.length + 1 : 0) : Bt == "form" && oe == "{" ? ve.indented : Bt == "form" ? ve.indented + l : Bt == "stat" ? ve.indented + (ht(W, ee) ? f || l : 0) : ve.info == "switch" && !Sn && n.doubleIndentSwitch != false ? ve.indented + (/^(?:case|default)\b/.test(ee) ? l : 2 * l) : ve.align ? ve.column + (Sn ? 0 : 1) : ve.indented + (Sn ? 0 : l);
        },
        electricInput: /^\s*(?:case .*?:|default:|\{|\})$/,
        blockCommentStart: c ? null : "/*",
        blockCommentEnd: c ? null : "*/",
        blockCommentContinue: c ? null : " * ",
        lineComment: c ? null : "//",
        fold: "brace",
        closeBrackets: "()[]{}''\"\"``",
        helperType: c ? "json" : "javascript",
        jsonldMode: d,
        jsonMode: c,
        expressionAllowed: Gn,
        skipExpression: function(W) {
          F(W, "atom", "atom", "true", new a.StringStream("", 2, null));
        }
      };
    }), a.registerHelper("wordChars", "javascript", /[\w$]/), a.defineMIME("text/javascript", "javascript"), a.defineMIME("text/ecmascript", "javascript"), a.defineMIME("application/javascript", "javascript"), a.defineMIME("application/x-javascript", "javascript"), a.defineMIME("application/ecmascript", "javascript"), a.defineMIME("application/json", { name: "javascript", json: true }), a.defineMIME("application/x-json", { name: "javascript", json: true }), a.defineMIME("application/manifest+json", { name: "javascript", json: true }), a.defineMIME("application/ld+json", { name: "javascript", jsonld: true }), a.defineMIME("text/typescript", { name: "javascript", typescript: true }), a.defineMIME("application/typescript", { name: "javascript", typescript: true });
  });
})();
(function(t3, r) {
  (function(a) {
    a(Za());
  })(function(a) {
    var o = "CodeMirror-hint", n = "CodeMirror-hint-active";
    a.showHint = function(v, y, T) {
      if (!y)
        return v.showHint(T);
      T && T.async && (y.async = true);
      var x = { hint: y };
      if (T)
        for (var D in T)
          x[D] = T[D];
      return v.showHint(x);
    }, a.defineExtension("showHint", function(v) {
      v = c(this, this.getCursor("start"), v);
      var y = this.listSelections();
      if (!(y.length > 1)) {
        if (this.somethingSelected()) {
          if (!v.hint.supportsSelection)
            return;
          for (var T = 0; T < y.length; T++)
            if (y[T].head.line != y[T].anchor.line)
              return;
        }
        this.state.completionActive && this.state.completionActive.close();
        var x = this.state.completionActive = new l(this, v);
        !x.options.hint || (a.signal(this, "startCompletion", this), x.update(true));
      }
    }), a.defineExtension("closeHint", function() {
      this.state.completionActive && this.state.completionActive.close();
    });
    function l(v, y) {
      if (this.cm = v, this.options = y, this.widget = null, this.debounce = 0, this.tick = 0, this.startPos = this.cm.getCursor("start"), this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length, this.options.updateOnCursorActivity) {
        var T = this;
        v.on("cursorActivity", this.activityFunc = function() {
          T.cursorActivity();
        });
      }
    }
    var f = window.requestAnimationFrame || function(v) {
      return setTimeout(v, 1e3 / 60);
    }, d = window.cancelAnimationFrame || clearTimeout;
    l.prototype = {
      close: function() {
        !this.active() || (this.cm.state.completionActive = null, this.tick = null, this.options.updateOnCursorActivity && this.cm.off("cursorActivity", this.activityFunc), this.widget && this.data && a.signal(this.data, "close"), this.widget && this.widget.close(), a.signal(this.cm, "endCompletion", this.cm));
      },
      active: function() {
        return this.cm.state.completionActive == this;
      },
      pick: function(v, y) {
        var T = v.list[y], x = this;
        this.cm.operation(function() {
          T.hint ? T.hint(x.cm, v, T) : x.cm.replaceRange(
            h2(T),
            T.from || v.from,
            T.to || v.to,
            "complete"
          ), a.signal(v, "pick", T), x.cm.scrollIntoView();
        }), this.options.closeOnPick && this.close();
      },
      cursorActivity: function() {
        this.debounce && (d(this.debounce), this.debounce = 0);
        var v = this.startPos;
        this.data && (v = this.data.from);
        var y = this.cm.getCursor(), T = this.cm.getLine(y.line);
        if (y.line != this.startPos.line || T.length - y.ch != this.startLen - this.startPos.ch || y.ch < v.ch || this.cm.somethingSelected() || !y.ch || this.options.closeCharacters.test(T.charAt(y.ch - 1)))
          this.close();
        else {
          var x = this;
          this.debounce = f(function() {
            x.update();
          }), this.widget && this.widget.disable();
        }
      },
      update: function(v) {
        if (this.tick != null) {
          var y = this, T = ++this.tick;
          A(this.options.hint, this.cm, this.options, function(x) {
            y.tick == T && y.finishUpdate(x, v);
          });
        }
      },
      finishUpdate: function(v, y) {
        this.data && a.signal(this.data, "update");
        var T = this.widget && this.widget.picked || y && this.options.completeSingle;
        this.widget && this.widget.close(), this.data = v, v && v.list.length && (T && v.list.length == 1 ? this.pick(v, 0) : (this.widget = new w(this, v), a.signal(v, "shown")));
      }
    };
    function c(v, y, T) {
      var x = v.options.hintOptions, D = {};
      for (var I in b)
        D[I] = b[I];
      if (x)
        for (var I in x)
          x[I] !== void 0 && (D[I] = x[I]);
      if (T)
        for (var I in T)
          T[I] !== void 0 && (D[I] = T[I]);
      return D.hint.resolve && (D.hint = D.hint.resolve(v, y)), D;
    }
    function h2(v) {
      return typeof v == "string" ? v : v.text;
    }
    function m(v, y) {
      var T = {
        Up: function() {
          y.moveFocus(-1);
        },
        Down: function() {
          y.moveFocus(1);
        },
        PageUp: function() {
          y.moveFocus(-y.menuSize() + 1, true);
        },
        PageDown: function() {
          y.moveFocus(y.menuSize() - 1, true);
        },
        Home: function() {
          y.setFocus(0);
        },
        End: function() {
          y.setFocus(y.length - 1);
        },
        Enter: y.pick,
        Tab: y.pick,
        Esc: y.close
      }, x = /Mac/.test(navigator.platform);
      x && (T["Ctrl-P"] = function() {
        y.moveFocus(-1);
      }, T["Ctrl-N"] = function() {
        y.moveFocus(1);
      });
      var D = v.options.customKeys, I = D ? {} : T;
      function N(O, S) {
        var F;
        typeof S != "string" ? F = function($) {
          return S($, y);
        } : T.hasOwnProperty(S) ? F = T[S] : F = S, I[O] = F;
      }
      if (D)
        for (var C in D)
          D.hasOwnProperty(C) && N(C, D[C]);
      var B = v.options.extraKeys;
      if (B)
        for (var C in B)
          B.hasOwnProperty(C) && N(C, B[C]);
      return I;
    }
    function g(v, y) {
      for (; y && y != v; ) {
        if (y.nodeName.toUpperCase() === "LI" && y.parentNode == v)
          return y;
        y = y.parentNode;
      }
    }
    function w(v, y) {
      this.id = "cm-complete-" + Math.floor(Math.random(1e6)), this.completion = v, this.data = y, this.picked = false;
      var T = this, x = v.cm, D = x.getInputField().ownerDocument, I = D.defaultView || D.parentWindow, N = this.hints = D.createElement("ul");
      N.setAttribute("role", "listbox"), N.setAttribute("aria-expanded", "true"), N.id = this.id;
      var C = v.cm.options.theme;
      N.className = "CodeMirror-hints " + C, this.selectedHint = y.selectedHint || 0;
      for (var B = y.list, O = 0; O < B.length; ++O) {
        var S = N.appendChild(D.createElement("li")), F = B[O], $ = o + (O != this.selectedHint ? "" : " " + n);
        F.className != null && ($ = F.className + " " + $), S.className = $, O == this.selectedHint && S.setAttribute("aria-selected", "true"), S.id = this.id + "-" + O, S.setAttribute("role", "option"), F.render ? F.render(S, y, F) : S.appendChild(D.createTextNode(F.displayText || h2(F))), S.hintId = O;
      }
      var U = v.options.container || D.body, L = x.cursorCoords(v.options.alignWithWord ? y.from : null), z = L.left, Q = L.bottom, J = true, ae = 0, M = 0;
      if (U !== D.body) {
        var V = ["absolute", "relative", "fixed"].indexOf(I.getComputedStyle(U).position) !== -1, K = V ? U : U.offsetParent, G = K.getBoundingClientRect(), Z = D.body.getBoundingClientRect();
        ae = G.left - Z.left - K.scrollLeft, M = G.top - Z.top - K.scrollTop;
      }
      N.style.left = z - ae + "px", N.style.top = Q - M + "px";
      var ue = I.innerWidth || Math.max(D.body.offsetWidth, D.documentElement.offsetWidth), pe = I.innerHeight || Math.max(D.body.offsetHeight, D.documentElement.offsetHeight);
      U.appendChild(N), x.getInputField().setAttribute("aria-autocomplete", "list"), x.getInputField().setAttribute("aria-owns", this.id), x.getInputField().setAttribute("aria-activedescendant", this.id + "-" + this.selectedHint);
      var ce = v.options.moveOnOverlap ? N.getBoundingClientRect() : new DOMRect(), fe = v.options.paddingForScrollbar ? N.scrollHeight > N.clientHeight + 1 : false, ne;
      setTimeout(function() {
        ne = x.getScrollInfo();
      });
      var be = ce.bottom - pe;
      if (be > 0) {
        var we = ce.bottom - ce.top, Re = L.top - (L.bottom - ce.top);
        if (Re - we > 0)
          N.style.top = (Q = L.top - we - M) + "px", J = false;
        else if (we > pe) {
          N.style.height = pe - 5 + "px", N.style.top = (Q = L.bottom - ce.top - M) + "px";
          var Ke = x.getCursor();
          y.from.ch != Ke.ch && (L = x.cursorCoords(Ke), N.style.left = (z = L.left - ae) + "px", ce = N.getBoundingClientRect());
        }
      }
      var lt = ce.right - ue;
      if (fe && (lt += x.display.nativeBarWidth), lt > 0 && (ce.right - ce.left > ue && (N.style.width = ue - 5 + "px", lt -= ce.right - ce.left - ue), N.style.left = (z = Math.max(L.left - lt - ae, 0)) + "px"), fe)
        for (var ot = N.firstChild; ot; ot = ot.nextSibling)
          ot.style.paddingRight = x.display.nativeBarWidth + "px";
      if (x.addKeyMap(this.keyMap = m(v, {
        moveFocus: function($e, bt) {
          T.changeActive(T.selectedHint + $e, bt);
        },
        setFocus: function($e) {
          T.changeActive($e);
        },
        menuSize: function() {
          return T.screenAmount();
        },
        length: B.length,
        close: function() {
          v.close();
        },
        pick: function() {
          T.pick();
        },
        data: y
      })), v.options.closeOnUnfocus) {
        var Ct;
        x.on("blur", this.onBlur = function() {
          Ct = setTimeout(function() {
            v.close();
          }, 100);
        }), x.on("focus", this.onFocus = function() {
          clearTimeout(Ct);
        });
      }
      x.on("scroll", this.onScroll = function() {
        var $e = x.getScrollInfo(), bt = x.getWrapperElement().getBoundingClientRect();
        ne || (ne = x.getScrollInfo());
        var hn = Q + ne.top - $e.top, Vt = hn - (I.pageYOffset || (D.documentElement || D.body).scrollTop);
        if (J || (Vt += N.offsetHeight), Vt <= bt.top || Vt >= bt.bottom)
          return v.close();
        N.style.top = hn + "px", N.style.left = z + ne.left - $e.left + "px";
      }), a.on(N, "dblclick", function($e) {
        var bt = g(N, $e.target || $e.srcElement);
        bt && bt.hintId != null && (T.changeActive(bt.hintId), T.pick());
      }), a.on(N, "click", function($e) {
        var bt = g(N, $e.target || $e.srcElement);
        bt && bt.hintId != null && (T.changeActive(bt.hintId), v.options.completeOnSingleClick && T.pick());
      }), a.on(N, "mousedown", function() {
        setTimeout(function() {
          x.focus();
        }, 20);
      });
      var St = this.getSelectedHintRange();
      return (St.from !== 0 || St.to !== 0) && this.scrollToActive(), a.signal(y, "select", B[this.selectedHint], N.childNodes[this.selectedHint]), true;
    }
    w.prototype = {
      close: function() {
        if (this.completion.widget == this) {
          this.completion.widget = null, this.hints.parentNode && this.hints.parentNode.removeChild(this.hints), this.completion.cm.removeKeyMap(this.keyMap);
          var v = this.completion.cm.getInputField();
          v.removeAttribute("aria-activedescendant"), v.removeAttribute("aria-owns");
          var y = this.completion.cm;
          this.completion.options.closeOnUnfocus && (y.off("blur", this.onBlur), y.off("focus", this.onFocus)), y.off("scroll", this.onScroll);
        }
      },
      disable: function() {
        this.completion.cm.removeKeyMap(this.keyMap);
        var v = this;
        this.keyMap = { Enter: function() {
          v.picked = true;
        } }, this.completion.cm.addKeyMap(this.keyMap);
      },
      pick: function() {
        this.completion.pick(this.data, this.selectedHint);
      },
      changeActive: function(v, y) {
        if (v >= this.data.list.length ? v = y ? this.data.list.length - 1 : 0 : v < 0 && (v = y ? 0 : this.data.list.length - 1), this.selectedHint != v) {
          var T = this.hints.childNodes[this.selectedHint];
          T && (T.className = T.className.replace(" " + n, ""), T.removeAttribute("aria-selected")), T = this.hints.childNodes[this.selectedHint = v], T.className += " " + n, T.setAttribute("aria-selected", "true"), this.completion.cm.getInputField().setAttribute("aria-activedescendant", T.id), this.scrollToActive(), a.signal(this.data, "select", this.data.list[this.selectedHint], T);
        }
      },
      scrollToActive: function() {
        var v = this.getSelectedHintRange(), y = this.hints.childNodes[v.from], T = this.hints.childNodes[v.to], x = this.hints.firstChild;
        y.offsetTop < this.hints.scrollTop ? this.hints.scrollTop = y.offsetTop - x.offsetTop : T.offsetTop + T.offsetHeight > this.hints.scrollTop + this.hints.clientHeight && (this.hints.scrollTop = T.offsetTop + T.offsetHeight - this.hints.clientHeight + x.offsetTop);
      },
      screenAmount: function() {
        return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;
      },
      getSelectedHintRange: function() {
        var v = this.completion.options.scrollMargin || 0;
        return {
          from: Math.max(0, this.selectedHint - v),
          to: Math.min(this.data.list.length - 1, this.selectedHint + v)
        };
      }
    };
    function R(v, y) {
      if (!v.somethingSelected())
        return y;
      for (var T = [], x = 0; x < y.length; x++)
        y[x].supportsSelection && T.push(y[x]);
      return T;
    }
    function A(v, y, T, x) {
      if (v.async)
        v(y, x, T);
      else {
        var D = v(y, T);
        D && D.then ? D.then(x) : x(D);
      }
    }
    function E(v, y) {
      var T = v.getHelpers(y, "hint"), x;
      if (T.length) {
        var D = function(I, N, C) {
          var B = R(I, T);
          function O(S) {
            if (S == B.length)
              return N(null);
            A(B[S], I, C, function(F) {
              F && F.list.length > 0 ? N(F) : O(S + 1);
            });
          }
          O(0);
        };
        return D.async = true, D.supportsSelection = true, D;
      } else
        return (x = v.getHelper(v.getCursor(), "hintWords")) ? function(I) {
          return a.hint.fromList(I, { words: x });
        } : a.hint.anyword ? function(I, N) {
          return a.hint.anyword(I, N);
        } : function() {
        };
    }
    a.registerHelper("hint", "auto", {
      resolve: E
    }), a.registerHelper("hint", "fromList", function(v, y) {
      var T = v.getCursor(), x = v.getTokenAt(T), D, I = a.Pos(T.line, x.start), N = T;
      x.start < T.ch && /\w/.test(x.string.charAt(T.ch - x.start - 1)) ? D = x.string.substr(0, T.ch - x.start) : (D = "", I = T);
      for (var C = [], B = 0; B < y.words.length; B++) {
        var O = y.words[B];
        O.slice(0, D.length) == D && C.push(O);
      }
      if (C.length)
        return { list: C, from: I, to: N };
    }), a.commands.autocomplete = a.showHint;
    var b = {
      hint: a.hint.auto,
      completeSingle: true,
      alignWithWord: true,
      closeCharacters: /[\s()\[\]{};:>,]/,
      closeOnPick: true,
      closeOnUnfocus: true,
      updateOnCursorActivity: true,
      completeOnSingleClick: true,
      container: null,
      customKeys: null,
      extraKeys: null,
      paddingForScrollbar: true,
      moveOnOverlap: true
    };
    a.defineOption("hintOptions", null);
  });
})();
(function(t3, r) {
  (function(a) {
    a(Za());
  })(function(a) {
    var o = a.Pos;
    function n(v, y) {
      for (var T = 0, x = v.length; T < x; ++T)
        y(v[T]);
    }
    function l(v, y) {
      if (!Array.prototype.indexOf) {
        for (var T = v.length; T--; )
          if (v[T] === y)
            return true;
        return false;
      }
      return v.indexOf(y) != -1;
    }
    function f(v, y, T, x) {
      var D = v.getCursor(), I = T(v, D);
      if (!/\b(?:string|comment)\b/.test(I.type)) {
        var N = a.innerMode(v.getMode(), I.state);
        if (N.mode.helperType !== "json") {
          I.state = N.state, /^[\w$_]*$/.test(I.string) ? I.end > D.ch && (I.end = D.ch, I.string = I.string.slice(0, D.ch - I.start)) : I = {
            start: D.ch,
            end: D.ch,
            string: "",
            state: I.state,
            type: I.string == "." ? "property" : null
          };
          for (var C = I; C.type == "property"; ) {
            if (C = T(v, o(D.line, C.start)), C.string != ".")
              return;
            if (C = T(v, o(D.line, C.start)), !B)
              var B = [];
            B.push(C);
          }
          return {
            list: b(I, B, y, x),
            from: o(D.line, I.start),
            to: o(D.line, I.end)
          };
        }
      }
    }
    function d(v, y) {
      return f(
        v,
        R,
        function(T, x) {
          return T.getTokenAt(x);
        },
        y
      );
    }
    a.registerHelper("hint", "javascript", d);
    function c(v, y) {
      var T = v.getTokenAt(y);
      return y.ch == T.start + 1 && T.string.charAt(0) == "." ? (T.end = T.start, T.string = ".", T.type = "property") : /^\.[\w$_]*$/.test(T.string) && (T.type = "property", T.start++, T.string = T.string.replace(/\./, "")), T;
    }
    function h2(v, y) {
      return f(v, A, c, y);
    }
    a.registerHelper("hint", "coffeescript", h2);
    var m = "charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "), g = "length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "), w = "prototype apply call bind".split(" "), R = "break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "), A = "and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ");
    function E(v, y) {
      if (!Object.getOwnPropertyNames || !Object.getPrototypeOf)
        for (var T in v)
          y(T);
      else
        for (var x = v; x; x = Object.getPrototypeOf(x))
          Object.getOwnPropertyNames(x).forEach(y);
    }
    function b(v, y, T, x) {
      var D = [], I = v.string, N = x && x.globalScope || window;
      function C(L) {
        L.lastIndexOf(I, 0) == 0 && !l(D, L) && D.push(L);
      }
      function B(L) {
        typeof L == "string" ? n(m, C) : L instanceof Array ? n(g, C) : L instanceof Function && n(w, C), E(L, C);
      }
      if (y && y.length) {
        var O = y.pop(), S;
        for (O.type && O.type.indexOf("variable") === 0 ? (x && x.additionalContext && (S = x.additionalContext[O.string]), (!x || x.useGlobalScope !== false) && (S = S || N[O.string])) : O.type == "string" ? S = "" : O.type == "atom" ? S = 1 : O.type == "function" && (N.jQuery != null && (O.string == "$" || O.string == "jQuery") && typeof N.jQuery == "function" ? S = N.jQuery() : N._ != null && O.string == "_" && typeof N._ == "function" && (S = N._())); S != null && y.length; )
          S = S[y.pop().string];
        S != null && B(S);
      } else {
        for (var F = v.state.localVars; F; F = F.next)
          C(F.name);
        for (var $ = v.state.context; $; $ = $.prev)
          for (var F = $.vars; F; F = F.next)
            C(F.name);
        for (var F = v.state.globalVars; F; F = F.next)
          C(F.name);
        if (x && x.additionalContext != null)
          for (var U in x.additionalContext)
            C(U);
        (!x || x.useGlobalScope !== false) && B(N), n(T, C);
      }
      return D;
    }
  });
})();
var nt = (t3, r) => {
  const a = t3.__vccOpts || t3;
  for (const [o, n] of r)
    a[o] = n;
  return a;
};
var Yy = "[[FORM-CREATE-PREFIX-";
var Xy = "-FORM-CREATE-SUFFIX]]";
var Jy = defineComponent({
  name: "FnEditor",
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: [String, Function],
    name: String,
    args: Array,
    body: Boolean,
    button: Boolean,
    fnx: Boolean
  },
  inject: ["designer"],
  data() {
    return {
      editor: null,
      fn: "",
      visible: false,
      value: ""
    };
  },
  watch: {
    modelValue(t3) {
      t3 != this.value && (!t3 || !t3.__json || t3.__json && t3.__json != this.value) && this.editor && this.editor.setValue(this.tidyValue());
    }
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    argStr() {
      return (this.args || []).map((t3) => typeof t3 == "string" ? t3 : t3.name).join(", ");
    },
    argList() {
      return this.args.map((t3) => typeof t3 == "string" ? {
        name: t3,
        type: "string"
      } : t3);
    }
  },
  mounted() {
    this.$nextTick(() => {
      this.load();
    });
  },
  methods: {
    save() {
      const t3 = this.editor.getValue() || "";
      if (t3.trim() === "")
        this.fn = "";
      else {
        let r;
        try {
          r = new Function("return function (" + this.argStr + `){
` + t3 + `
}`)();
        } catch (a) {
          return console.error(a), jn(this.t("struct.errorMsg")), false;
        }
        this.body ? this.fn = (this.fnx ? "$FNX:" : "") + t3 : this.fn = Yy + r + Xy;
      }
      return this.submit(), true;
    },
    submit() {
      this.$emit("update:modelValue", this.fn), this.$emit("change", this.fn), this.value = this.fn, this.visible = false;
    },
    trimString(t3) {
      const r = t3.indexOf("{"), a = t3.lastIndexOf("}");
      return r === -1 || a === -1 || r >= a ? t3 : t3.slice(r + 1, a).replace(/^\n+|\n+$/g, "");
    },
    tidyValue() {
      let t3 = this.modelValue || "";
      return t3.__json && (t3 = t3.__json), this.fnx && typeof t3 == "string" && t3.indexOf("$FNX:") === 0 && (t3 = t3.slice(5)), typeof t3 == "function" ? t3 = this.trimString(hi(t3)).trim() : this.body || (t3 = this.trimString(t3).trim()), this.value = t3, t3;
    },
    load() {
      this.$nextTick(() => {
        let t3 = this.tidyValue();
        this.editor = markRaw(Fr(this.$refs.editor, {
          lineNumbers: true,
          mode: { name: "javascript", globalVars: true },
          extraKeys: { "Ctrl-Space": "autocomplete" },
          line: true,
          tabSize: 2,
          lineWrapping: true,
          value: t3
        })), this.editor.on("inputRead", (r, a) => {
          a.keyCode === 32 && a.ctrlKey && Fr.showHint(r, Fr.hint.javascript);
        }), this.editor.on("change", () => {
          this.visible = true;
        }), this.editor;
      });
    }
  }
});
var Zy = { class: "_fd-fn" };
var qy = { class: "_fd-fn-tip" };
var e0 = { class: "cm-keyword" };
var t0 = { key: 0 };
var n0 = { class: "_fd-fn-arg" };
var i0 = {
  ref: "editor",
  class: "_fd-fn-editor"
};
function r0(t3, r, a, o, n, l) {
  const f = resolveComponent("el-table-column"), d = resolveComponent("el-table"), c = resolveComponent("el-popover"), h2 = resolveComponent("el-button");
  return openBlock(), createElementBlock("div", Zy, [
    createBaseVNode("div", qy, [
      r[2] || (r[2] = createBaseVNode("div", { class: "_fd-fn-ind" }, null, -1)),
      createBaseVNode("div", e0, [
        createBaseVNode("span", null, [
          createTextVNode("function " + toDisplayString(t3.name) + "(", 1),
          (openBlock(true), createElementBlock(Fragment, null, renderList(t3.argList, (m, g) => (openBlock(), createElementBlock(Fragment, null, [
            createTextVNode(toDisplayString(g > 0 ? ", " : ""), 1),
            m.type === "string" ? (openBlock(), createElementBlock("span", t0, toDisplayString(m.name), 1)) : (openBlock(), createBlock(c, {
              key: 1,
              placement: "top-start",
              width: 400,
              "hide-after": 0,
              trigger: "click",
              title: m.name,
              content: m.info || ""
            }, {
              reference: withCtx(() => [
                createBaseVNode("span", n0, [
                  createTextVNode(toDisplayString(m.name), 1),
                  r[0] || (r[0] = createBaseVNode("i", { class: "fc-icon icon-question" }, null, -1))
                ])
              ]),
              default: withCtx(() => [
                m.columns ? (openBlock(), createBlock(d, {
                  key: 0,
                  data: m.columns,
                  border: ""
                }, {
                  default: withCtx(() => [
                    createVNode(f, {
                      width: "120",
                      property: "label",
                      label: t3.t("event.label")
                    }, null, 8, ["label"]),
                    createVNode(f, {
                      property: "info",
                      label: t3.t("event.info")
                    }, null, 8, ["label"]),
                    createVNode(f, {
                      width: "80",
                      property: "type",
                      label: t3.t("event.type")
                    }, null, 8, ["label"])
                  ]),
                  _: 2
                }, 1032, ["data"])) : createCommentVNode("", true)
              ]),
              _: 2
            }, 1032, ["title", "content"]))
          ], 64))), 256)),
          r[1] || (r[1] = createTextVNode(") {"))
        ])
      ])
    ]),
    createBaseVNode("div", i0, null, 512),
    r[3] || (r[3] = createBaseVNode("div", { class: "_fd-fn-tip" }, [
      createBaseVNode("div", { class: "_fd-fn-ind" }),
      createBaseVNode("div", { class: "cm-keyword" }, "}")
    ], -1)),
    t3.visible && t3.button ? (openBlock(), createBlock(h2, {
      key: 0,
      type: "primary",
      size: "small",
      onClick: t3.save
    }, {
      default: withCtx(() => [
        createTextVNode(toDisplayString(t3.t("props.save")), 1)
      ]),
      _: 1
    }, 8, ["onClick"])) : createCommentVNode("", true)
  ]);
}
var Bo = nt(Jy, [["render", r0]]);
var Pr = "$FNX:";
var xa = (t3) => ut.String(t3) && t3.indexOf(Pr) === 0;
var o0 = defineComponent({
  name: "EventConfig",
  emits: ["update:modelValue"],
  props: {
    modelValue: [Object, void 0, null],
    componentName: String,
    eventName: {
      type: Array,
      default: () => []
    }
  },
  inject: ["designer"],
  components: {
    FnEditor: Bo
  },
  data() {
    return {
      visible: false,
      activeData: null,
      val: null,
      defActive: "no",
      hookList: ["hook_load", "hook_mounted", "hook_deleted", "hook_watch", "hook_value", "hook_hidden"],
      event: {},
      cus: false,
      cusValue: "",
      eventStr: ""
    };
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    activeRule() {
      return this.designer.setupState.activeRule;
    },
    orgEvent() {
      return !this.eventName || !this.eventName.length ? ["click"] : this.eventName;
    },
    eventList() {
      return this.orgEvent.map((t3) => typeof t3 == "object" ? t3.name : t3);
    },
    eventInfo() {
      const t3 = {};
      return this.orgEvent.forEach((r) => {
        typeof r == "object" ? t3[r.name] = this.t("com." + this.componentName + ".event." + r.name) || r.info || this.t("eventInfo." + r.name) || "" : t3[r] = this.t("com." + this.componentName + ".event." + r) || this.t("eventInfo." + r) || "";
      }), this.hookList.forEach((r) => {
        t3[r] = this.t("eventInfo." + r) || "";
      }), t3;
    },
    eventNum() {
      let t3 = 0;
      Object.keys(this.modelValue || {}).forEach((a) => {
        t3 += Array.isArray(this.modelValue[a]) ? this.modelValue[a].length : 1;
      });
      const r = this.activeRule ? { ...this.activeRule.hook || {} } : {};
      return Object.keys(r).forEach((a) => {
        t3 += Array.isArray(this.activeRule.hook[a]) ? this.activeRule.hook[a].length : 1;
      }), t3;
    },
    fnArgs() {
      return [qi(this.t)];
    }
  },
  watch: {
    visible(t3) {
      this.event = t3 ? this.loadFN() : {}, t3 || (this.destroy(), this.closeCus());
    }
  },
  methods: {
    addCus() {
      const t3 = this.cusValue && this.cusValue.trim();
      t3 && (this.closeCus(), this.add(t3));
    },
    closeCus() {
      this.cus = false, this.cusValue = "";
    },
    cusEvent() {
      this.cus = true;
    },
    loadFN() {
      const t3 = Ya({}, this.modelValue || {}), r = this.activeRule ? { ...this.activeRule.hook || {} } : {};
      Object.keys(r).forEach((o) => {
        t3["hook_" + o] = r[o];
      });
      const a = {};
      return Object.keys(t3).forEach((o) => {
        if (Array.isArray(t3[o])) {
          const n = [];
          t3[o].forEach((l) => {
            xa(l) ? n.push(l.replace(Pr, "")) : ut.Function(l) && xa(l.__json) ? n.push(l.__json.replace(Pr, "")) : l && l.indexOf("$GLOBAL:") === 0 && n.push(l);
          }), a[o] = n;
        } else if (xa(t3[o]))
          a[o] = [t3[o].replace(Pr, "")];
        else if (ut.Function(t3[o])) {
          const n = t3[o].__json || "";
          n ? xa(n) ? a[o] = [n.replace(Pr, "")] : a[o] = [n] : a[o] = ["" + t3[o]];
        } else
          t3[o] && t3[o].indexOf("$GLOBAL:") === 0 && (a[o] = [t3[o]]);
      }), a;
    },
    parseFN(t3) {
      const r = {}, a = {};
      return Object.keys(t3).forEach((o) => {
        const n = [];
        t3[o].forEach((l, f) => {
          n[f] = l.indexOf("$GLOBAL:") !== 0 ? Pr + l : l;
        }), n.length > 0 && (o.indexOf("hook_") > -1 ? a[o.replace("hook_", "")] = n.length === 1 ? n[0] : n : r[o] = n.length === 1 ? n[0] : n);
      }), { hooks: a, on: r };
    },
    add(t3) {
      let r = {};
      if (Array.isArray(this.event[t3]))
        this.event[t3].push(""), r = {
          name: t3,
          item: this.event[t3],
          index: this.event[t3].length - 1
        };
      else if (this.event[t3]) {
        const a = [this.event[t3], ""];
        this.event[t3] = a, r = {
          name: t3,
          item: a,
          index: 1
        };
      } else {
        const a = [""];
        this.event[t3] = a, r = {
          name: t3,
          item: a,
          index: 0
        };
      }
      this.activeData || this.edit(r);
    },
    edit(t3) {
      t3.key = Ze(), t3.item ? this.val = t3.item[t3.index] : this.val = this.event[t3.name], this.activeData = t3, this.eventStr = this.val, this.defActive = t3.name + (t3.index || 0);
    },
    save() {
      if (!this.$refs.fn.save())
        return;
      const t3 = this.eventStr;
      this.activeData.item ? this.activeData.item[this.activeData.index] = t3 : this.event[this.activeData.name] = t3, this.destroy();
    },
    rm(t3) {
      t3.index !== void 0 ? t3.item.splice(t3.index, 1) : this.$delete(this.event, t3.name), this.defActive === t3.name + (t3.index || 0) && this.destroy();
    },
    destroy() {
      this.activeData = null, this.val = null, this.defActive = "no";
    },
    close() {
      this.destroy();
    },
    submit() {
      if (this.activeData)
        return jn(this.t("event.saveMsg"));
      const { on: t3, hooks: r } = this.parseFN(this.event);
      this.$emit("update:modelValue", t3), this.activeRule.hook = r, this.visible = false, this.destroy(), this.closeCus();
    }
  },
  beforeCreate() {
    window.$inject = {
      $f: {},
      rule: [],
      self: {},
      option: {},
      inject: {},
      args: []
    };
  }
});
var a0 = { class: "_fd-event" };
var l0 = { class: "el-dropdown-link" };
var s0 = { class: "_fd-event-item" };
var u0 = {
  key: 0,
  class: "_fd-label"
};
var f0 = { class: "_fd-event-item" };
var d0 = { class: "_fd-label" };
var c0 = ["onClick"];
var p0 = { class: "_fd-event-method" };
var h0 = {
  key: 0,
  class: "_fd-label"
};
var v0 = ["onClick"];
var m0 = ["onClick"];
var g0 = { class: "_fd-event-method" };
var y0 = {
  key: 0,
  class: "_fd-label"
};
var b0 = ["onClick"];
var A0 = {
  target: "_blank",
  href: "https://form-create.com/v3/instance/"
};
function w0(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-badge"), c = resolveComponent("el-dropdown-item"), h2 = resolveComponent("el-dropdown-menu"), m = resolveComponent("el-dropdown"), g = resolveComponent("el-header"), w = resolveComponent("el-menu-item"), R = resolveComponent("el-input"), A = resolveComponent("el-menu"), E = resolveComponent("el-main"), b = resolveComponent("el-container"), v = resolveComponent("el-aside"), y = resolveComponent("FnEditor"), T = resolveComponent("el-dialog");
  return openBlock(), createElementBlock("div", a0, [
    createVNode(d, {
      value: t3.eventNum,
      type: "warning",
      hidden: t3.eventNum < 1
    }, {
      default: withCtx(() => [
        createVNode(f, {
          size: "small",
          onClick: r[0] || (r[0] = (x) => t3.visible = true)
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(t3.t("event.title")), 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["value", "hidden"]),
    createVNode(T, {
      class: "_fd-event-dialog",
      title: t3.t("event.title"),
      modelValue: t3.visible,
      "onUpdate:modelValue": r[8] || (r[8] = (x) => t3.visible = x),
      "destroy-on-close": "",
      "close-on-click-modal": false,
      "append-to-body": "",
      width: "1080px"
    }, {
      footer: withCtx(() => [
        createBaseVNode("div", null, [
          createVNode(f, {
            size: "default",
            onClick: r[7] || (r[7] = (x) => t3.visible = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.cancel")), 1)
            ]),
            _: 1
          }),
          createVNode(f, {
            type: "primary",
            size: "default",
            onClick: t3.submit,
            color: "#2f73ff"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.ok")), 1)
            ]),
            _: 1
          }, 8, ["onClick"])
        ])
      ]),
      default: withCtx(() => [
        createVNode(b, {
          class: "_fd-event-con",
          style: { height: "600px" }
        }, {
          default: withCtx(() => [
            createVNode(v, { style: { width: "300px" } }, {
              default: withCtx(() => [
                createVNode(b, { class: "_fd-event-l" }, {
                  default: withCtx(() => [
                    createVNode(g, {
                      class: "_fd-event-head",
                      height: "40px"
                    }, {
                      default: withCtx(() => [
                        createVNode(m, {
                          "popper-class": "_fd-event-dropdown",
                          trigger: "click",
                          size: "default",
                          placement: "bottom-start"
                        }, {
                          dropdown: withCtx(() => [
                            createVNode(h2, null, {
                              default: withCtx(() => [
                                (openBlock(true), createElementBlock(Fragment, null, renderList(t3.eventList, (x) => (openBlock(), createBlock(c, {
                                  key: x,
                                  onClick: (D) => t3.add(x),
                                  disabled: Object.keys(t3.event).indexOf(x) > -1
                                }, {
                                  default: withCtx(() => [
                                    createBaseVNode("div", s0, [
                                      createBaseVNode("span", null, toDisplayString(x), 1),
                                      t3.eventInfo[x] ? (openBlock(), createElementBlock("span", u0, toDisplayString(t3.eventInfo[x]), 1)) : createCommentVNode("", true)
                                    ])
                                  ]),
                                  _: 2
                                }, 1032, ["onClick", "disabled"]))), 128)),
                                (openBlock(true), createElementBlock(Fragment, null, renderList(t3.hookList, (x, D) => (openBlock(), createBlock(c, {
                                  divided: t3.eventList.length > 0 && !D,
                                  onClick: (I) => t3.add(x),
                                  disabled: Object.keys(t3.event).indexOf(x) > -1
                                }, {
                                  default: withCtx(() => [
                                    createBaseVNode("div", f0, [
                                      createBaseVNode("div", null, toDisplayString(x), 1),
                                      createBaseVNode("span", d0, toDisplayString(t3.eventInfo[x]), 1)
                                    ])
                                  ]),
                                  _: 2
                                }, 1032, ["divided", "onClick", "disabled"]))), 256)),
                                createVNode(c, {
                                  divided: t3.eventList.length > 0,
                                  onClick: t3.cusEvent
                                }, {
                                  default: withCtx(() => [
                                    createBaseVNode("div", null, toDisplayString(t3.t("props.custom")), 1)
                                  ]),
                                  _: 1
                                }, 8, ["divided", "onClick"])
                              ]),
                              _: 1
                            })
                          ]),
                          default: withCtx(() => [
                            createBaseVNode("span", l0, [
                              createVNode(f, {
                                link: "",
                                type: "primary",
                                size: "default"
                              }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t3.t("event.create")), 1),
                                  r[9] || (r[9] = createBaseVNode("i", { class: "el-icon-arrow-down el-icon--right" }, null, -1))
                                ]),
                                _: 1,
                                __: [9]
                              })
                            ])
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }),
                    createVNode(E, null, {
                      default: withCtx(() => [
                        createVNode(A, {
                          "default-active": t3.defActive,
                          modelValue: t3.activeData,
                          "onUpdate:modelValue": r[5] || (r[5] = (x) => t3.activeData = x)
                        }, {
                          default: withCtx(() => [
                            (openBlock(true), createElementBlock(Fragment, null, renderList(t3.event, (x, D) => (openBlock(), createElementBlock(Fragment, null, [
                              Array.isArray(x) ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(x, (I, N) => (openBlock(), createBlock(w, {
                                key: D + N,
                                index: D + N
                              }, {
                                default: withCtx(() => [
                                  createBaseVNode("div", {
                                    class: "_fd-event-title",
                                    onClick: withModifiers((C) => t3.edit({ name: D, item: x, index: N }), ["stop"])
                                  }, [
                                    createBaseVNode("div", p0, [
                                      createBaseVNode("span", null, [
                                        r[10] || (r[10] = createTextVNode("function")),
                                        createBaseVNode("span", null, toDisplayString(D), 1)
                                      ]),
                                      t3.eventInfo[D] ? (openBlock(), createElementBlock("span", h0, toDisplayString(t3.eventInfo[D]), 1)) : createCommentVNode("", true)
                                    ]),
                                    createBaseVNode("i", {
                                      class: "fc-icon icon-delete",
                                      onClick: withModifiers((C) => t3.rm({ name: D, item: x, index: N }), ["stop"])
                                    }, null, 8, v0)
                                  ], 8, c0)
                                ]),
                                _: 2
                              }, 1032, ["index"]))), 128)) : (openBlock(), createBlock(w, {
                                key: 1,
                                index: D + 0
                              }, {
                                default: withCtx(() => [
                                  createBaseVNode("div", {
                                    class: "_fd-event-title",
                                    onClick: withModifiers((I) => t3.edit({ name: D }), ["stop"])
                                  }, [
                                    createBaseVNode("div", g0, [
                                      createBaseVNode("span", null, [
                                        r[11] || (r[11] = createTextVNode("function")),
                                        createBaseVNode("span", null, toDisplayString(D), 1)
                                      ]),
                                      t3.eventInfo[D] ? (openBlock(), createElementBlock("span", y0, toDisplayString(t3.eventInfo[D]), 1)) : createCommentVNode("", true)
                                    ]),
                                    createBaseVNode("i", {
                                      class: "fc-icon icon-delete",
                                      onClick: withModifiers((I) => t3.rm({ name: D }), ["stop"])
                                    }, null, 8, b0)
                                  ], 8, m0)
                                ]),
                                _: 2
                              }, 1032, ["index"]))
                            ], 64))), 256)),
                            t3.cus ? (openBlock(), createBlock(w, {
                              key: 0,
                              style: { "padding-left": "10px" },
                              index: "custom"
                            }, {
                              default: withCtx(() => [
                                createBaseVNode("div", {
                                  class: "_fd-event-title",
                                  onClick: r[4] || (r[4] = withModifiers(() => {
                                  }, ["stop"]))
                                }, [
                                  createVNode(R, {
                                    type: "text",
                                    modelValue: t3.cusValue,
                                    "onUpdate:modelValue": r[1] || (r[1] = (x) => t3.cusValue = x),
                                    size: "default",
                                    onKeydown: withKeys(t3.addCus, ["enter"]),
                                    placeholder: t3.t("event.placeholder")
                                  }, null, 8, ["modelValue", "onKeydown", "placeholder"]),
                                  createBaseVNode("div", null, [
                                    createBaseVNode("i", {
                                      class: "fc-icon icon-add",
                                      onClick: r[2] || (r[2] = withModifiers((...x) => t3.addCus && t3.addCus(...x), ["stop"]))
                                    }),
                                    createBaseVNode("i", {
                                      class: "fc-icon icon-delete",
                                      onClick: r[3] || (r[3] = withModifiers((...x) => t3.closeCus && t3.closeCus(...x), ["stop"]))
                                    })
                                  ])
                                ])
                              ]),
                              _: 1
                            })) : createCommentVNode("", true)
                          ]),
                          _: 1
                        }, 8, ["default-active", "modelValue"])
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            createVNode(E, null, {
              default: withCtx(() => [
                createVNode(b, { class: "_fd-event-r" }, {
                  default: withCtx(() => [
                    t3.activeData ? (openBlock(), createBlock(g, {
                      key: 0,
                      class: "_fd-event-head",
                      height: "40px"
                    }, {
                      default: withCtx(() => [
                        createBaseVNode("div", null, [
                          createBaseVNode("a", A0, toDisplayString(t3.t("form.document")), 1)
                        ]),
                        createBaseVNode("div", null, [
                          createVNode(f, {
                            size: "small",
                            onClick: t3.close
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("props.cancel")), 1)
                            ]),
                            _: 1
                          }, 8, ["onClick"]),
                          createVNode(f, {
                            size: "small",
                            type: "primary",
                            onClick: t3.save,
                            color: "#2f73ff"
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("props.save")), 1)
                            ]),
                            _: 1
                          }, 8, ["onClick"])
                        ])
                      ]),
                      _: 1
                    })) : createCommentVNode("", true),
                    t3.activeData ? (openBlock(), createBlock(E, { key: 1 }, {
                      default: withCtx(() => [
                        createVNode(y, {
                          ref: "fn",
                          modelValue: t3.eventStr,
                          "onUpdate:modelValue": r[6] || (r[6] = (x) => t3.eventStr = x),
                          body: "",
                          name: t3.activeData.name,
                          args: t3.fnArgs,
                          style: { height: "519px" }
                        }, null, 8, ["modelValue", "name", "args"])
                      ]),
                      _: 1
                    })) : createCommentVNode("", true)
                  ]),
                  _: 1
                })
              ]),
              _: 1
            })
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["title", "modelValue"])
  ]);
}
var Ep = nt(o0, [["render", w0]]);
function C0(t3, r) {
  var a = null;
  return function(...o) {
    a !== null && clearTimeout(a), a = setTimeout(() => t3.call(this, ...o), r);
  };
}
function xp(t3) {
  return t3 instanceof Map ? t3.clear = t3.delete = t3.set = () => {
    throw Error("map is read-only");
  } : t3 instanceof Set && (t3.add = t3.clear = t3.delete = () => {
    throw Error("set is read-only");
  }), Object.freeze(t3), Object.getOwnPropertyNames(t3).forEach((r) => {
    const a = t3[r], o = typeof a;
    o !== "object" && o !== "function" || Object.isFrozen(a) || xp(a);
  }), t3;
}
var fc = class {
  constructor(r) {
    r.data === void 0 && (r.data = {}), this.data = r.data, this.isMatchIgnored = false;
  }
  ignoreMatch() {
    this.isMatchIgnored = true;
  }
};
function Tp(t3) {
  return t3.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;");
}
function Li(t3, ...r) {
  const a = /* @__PURE__ */ Object.create(null);
  for (const o in t3)
    a[o] = t3[o];
  return r.forEach((o) => {
    for (const n in o)
      a[n] = o[n];
  }), a;
}
var dc = (t3) => !!t3.scope;
var S0 = class {
  constructor(r, a) {
    this.buffer = "", this.classPrefix = a.classPrefix, r.walk(this);
  }
  addText(r) {
    this.buffer += Tp(r);
  }
  openNode(r) {
    if (!dc(r))
      return;
    const a = ((o, { prefix: n }) => {
      if (o.startsWith("language:"))
        return o.replace("language:", "language-");
      if (o.includes(".")) {
        const l = o.split(".");
        return [`${n}${l.shift()}`, ...l.map((f, d) => `${f}${"_".repeat(d + 1)}`)].join(" ");
      }
      return `${n}${o}`;
    })(r.scope, { prefix: this.classPrefix });
    this.span(a);
  }
  closeNode(r) {
    dc(r) && (this.buffer += "</span>");
  }
  value() {
    return this.buffer;
  }
  span(r) {
    this.buffer += `<span class="${r}">`;
  }
};
var cc = (t3 = {}) => {
  const r = { children: [] };
  return Object.assign(r, t3), r;
};
var bu = class _bu {
  constructor() {
    this.rootNode = cc(), this.stack = [this.rootNode];
  }
  get top() {
    return this.stack[this.stack.length - 1];
  }
  get root() {
    return this.rootNode;
  }
  add(r) {
    this.top.children.push(r);
  }
  openNode(r) {
    const a = cc({ scope: r });
    this.add(a), this.stack.push(a);
  }
  closeNode() {
    if (this.stack.length > 1)
      return this.stack.pop();
  }
  closeAllNodes() {
    for (; this.closeNode(); )
      ;
  }
  toJSON() {
    return JSON.stringify(this.rootNode, null, 4);
  }
  walk(r) {
    return this.constructor._walk(r, this.rootNode);
  }
  static _walk(r, a) {
    return typeof a == "string" ? r.addText(a) : a.children && (r.openNode(a), a.children.forEach((o) => this._walk(r, o)), r.closeNode(a)), r;
  }
  static _collapse(r) {
    typeof r != "string" && r.children && (r.children.every((a) => typeof a == "string") ? r.children = [r.children.join("")] : r.children.forEach((a) => {
      _bu._collapse(a);
    }));
  }
};
var E0 = class extends bu {
  constructor(r) {
    super(), this.options = r;
  }
  addText(r) {
    r !== "" && this.add(r);
  }
  startScope(r) {
    this.openNode(r);
  }
  endScope() {
    this.closeNode();
  }
  __addSublanguage(r, a) {
    const o = r.root;
    a && (o.scope = "language:" + a), this.add(o);
  }
  toHTML() {
    return new S0(this, this.options).value();
  }
  finalize() {
    return this.closeAllNodes(), true;
  }
};
function Po(t3) {
  return t3 ? typeof t3 == "string" ? t3 : t3.source : null;
}
function _p(t3) {
  return nr("(?=", t3, ")");
}
function x0(t3) {
  return nr("(?:", t3, ")*");
}
function T0(t3) {
  return nr("(?:", t3, ")?");
}
function nr(...t3) {
  return t3.map((r) => Po(r)).join("");
}
function Au(...t3) {
  return "(" + (((a) => {
    const o = a[a.length - 1];
    return typeof o == "object" && o.constructor === Object ? (a.splice(a.length - 1, 1), o) : {};
  })(t3).capture ? "" : "?:") + t3.map((a) => Po(a)).join("|") + ")";
}
function Rp(t3) {
  return RegExp(t3.toString() + "|").exec("").length - 1;
}
var _0 = /\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;
function hu(t3, { joinWith: r }) {
  let a = 0;
  return t3.map((o) => {
    a += 1;
    const n = a;
    let l = Po(o), f = "";
    for (; l.length > 0; ) {
      const d = _0.exec(l);
      if (!d) {
        f += l;
        break;
      }
      f += l.substring(0, d.index), l = l.substring(d.index + d[0].length), d[0][0] === "\\" && d[1] ? f += "\\" + (Number(d[1]) + n) : (f += d[0], d[0] === "(" && a++);
    }
    return f;
  }).map((o) => `(${o})`).join(r);
}
var pc = "[a-zA-Z]\\w*";
var js = "[a-zA-Z_]\\w*";
var hc = "\\b\\d+(\\.\\d+)?";
var vc = "(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";
var mc = "\\b(0b[01]+)";
var Io = {
  begin: "\\\\[\\s\\S]",
  relevance: 0
};
var R0 = {
  scope: "string",
  begin: "'",
  end: "'",
  illegal: "\\n",
  contains: [Io]
};
var O0 = {
  scope: "string",
  begin: '"',
  end: '"',
  illegal: "\\n",
  contains: [Io]
};
var qa = (t3, r, a = {}) => {
  const o = Li({
    scope: "comment",
    begin: t3,
    end: r,
    contains: []
  }, a);
  o.contains.push({
    scope: "doctag",
    begin: "[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",
    end: /(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,
    excludeBegin: true,
    relevance: 0
  });
  const n = Au("I", "a", "is", "so", "us", "to", "at", "if", "in", "it", "on", /[A-Za-z]+['](d|ve|re|ll|t|s|n)/, /[A-Za-z]+[-][a-z]+/, /[A-Za-z][a-z]{2,}/);
  return o.contains.push({ begin: nr(/[ ]+/, "(", n, /[.]?[:]?([.][ ]|[ ])/, "){3}") }), o;
};
var D0 = qa("//", "$");
var I0 = qa("/\\*", "\\*/");
var M0 = qa("#", "$");
var Ta = Object.freeze({
  __proto__: null,
  APOS_STRING_MODE: R0,
  BACKSLASH_ESCAPE: Io,
  BINARY_NUMBER_MODE: {
    scope: "number",
    begin: mc,
    relevance: 0
  },
  BINARY_NUMBER_RE: mc,
  COMMENT: qa,
  C_BLOCK_COMMENT_MODE: I0,
  C_LINE_COMMENT_MODE: D0,
  C_NUMBER_MODE: {
    scope: "number",
    begin: vc,
    relevance: 0
  },
  C_NUMBER_RE: vc,
  END_SAME_AS_BEGIN: (t3) => Object.assign(t3, {
    "on:begin": (r, a) => {
      a.data._beginMatch = r[1];
    },
    "on:end": (r, a) => {
      a.data._beginMatch !== r[1] && a.ignoreMatch();
    }
  }),
  HASH_COMMENT_MODE: M0,
  IDENT_RE: pc,
  MATCH_NOTHING_RE: /\b\B/,
  METHOD_GUARD: { begin: "\\.\\s*" + js, relevance: 0 },
  NUMBER_MODE: { scope: "number", begin: hc, relevance: 0 },
  NUMBER_RE: hc,
  PHRASAL_WORDS_MODE: {
    begin: /\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/
  },
  QUOTE_STRING_MODE: O0,
  REGEXP_MODE: {
    scope: "regexp",
    begin: /\/(?=[^/\n]*\/)/,
    end: /\/[gimuy]*/,
    contains: [Io, { begin: /\[/, end: /\]/, relevance: 0, contains: [Io] }]
  },
  RE_STARTERS_RE: "!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",
  SHEBANG: (t3 = {}) => {
    const r = /^#![ ]*\//;
    return t3.binary && (t3.begin = nr(r, /.*\b/, t3.binary, /\b.*/)), Li({
      scope: "meta",
      begin: r,
      end: /$/,
      relevance: 0,
      "on:begin": (a, o) => {
        a.index !== 0 && o.ignoreMatch();
      }
    }, t3);
  },
  TITLE_MODE: { scope: "title", begin: pc, relevance: 0 },
  UNDERSCORE_IDENT_RE: js,
  UNDERSCORE_TITLE_MODE: { scope: "title", begin: js, relevance: 0 }
});
function P0(t3, r) {
  t3.input[t3.index - 1] === "." && r.ignoreMatch();
}
function N0(t3, r) {
  t3.className !== void 0 && (t3.scope = t3.className, delete t3.className);
}
function L0(t3, r) {
  r && t3.beginKeywords && (t3.begin = "\\b(" + t3.beginKeywords.split(" ").join("|") + ")(?!\\.)(?=\\b|\\s)", t3.__beforeBegin = P0, t3.keywords = t3.keywords || t3.beginKeywords, delete t3.beginKeywords, t3.relevance === void 0 && (t3.relevance = 0));
}
function F0(t3, r) {
  Array.isArray(t3.illegal) && (t3.illegal = Au(...t3.illegal));
}
function k0(t3, r) {
  if (t3.match) {
    if (t3.begin || t3.end)
      throw Error("begin & end are not supported with match");
    t3.begin = t3.match, delete t3.match;
  }
}
function B0(t3, r) {
  t3.relevance === void 0 && (t3.relevance = 1);
}
var $0 = (t3, r) => {
  if (!t3.beforeMatch)
    return;
  if (t3.starts)
    throw Error("beforeMatch cannot be used with starts");
  const a = Object.assign({}, t3);
  Object.keys(t3).forEach((o) => {
    delete t3[o];
  }), t3.keywords = a.keywords, t3.begin = nr(a.beforeMatch, _p(a.begin)), t3.starts = {
    relevance: 0,
    contains: [Object.assign(a, { endsParent: true })]
  }, t3.relevance = 0, delete a.beforeMatch;
};
var H0 = ["of", "and", "for", "in", "not", "or", "if", "then", "parent", "list", "value"];
var V0 = "keyword";
function Op(t3, r, a = V0) {
  const o = /* @__PURE__ */ Object.create(null);
  return typeof t3 == "string" ? n(a, t3.split(" ")) : Array.isArray(t3) ? n(a, t3) : Object.keys(t3).forEach((l) => {
    Object.assign(o, Op(t3[l], r, l));
  }), o;
  function n(l, f) {
    r && (f = f.map((d) => d.toLowerCase())), f.forEach((d) => {
      const c = d.split("|");
      o[c[0]] = [l, j0(c[0], c[1])];
    });
  }
}
function j0(t3, r) {
  return r ? Number(r) : ((a) => H0.includes(a.toLowerCase()))(t3) ? 0 : 1;
}
var gc = {};
var Zi = (t3) => {
  console.error(t3);
};
var yc = (t3, ...r) => {
  console.log("WARN: " + t3, ...r);
};
var Rr = (t3, r) => {
  gc[`${t3}/${r}`] || (console.log(`Deprecated as of ${t3}. ${r}`), gc[`${t3}/${r}`] = true);
};
var _a = Error();
function bc(t3, r, { key: a }) {
  let o = 0;
  const n = t3[a], l = {}, f = {};
  for (let d = 1; d <= r.length; d++)
    f[d + o] = n[d], l[d + o] = true, o += Rp(r[d - 1]);
  t3[a] = f, t3[a]._emit = l, t3[a]._multi = true;
}
function z0(t3) {
  ((r) => {
    r.scope && typeof r.scope == "object" && r.scope !== null && (r.beginScope = r.scope, delete r.scope);
  })(t3), typeof t3.beginScope == "string" && (t3.beginScope = {
    _wrap: t3.beginScope
  }), typeof t3.endScope == "string" && (t3.endScope = {
    _wrap: t3.endScope
  }), ((r) => {
    if (Array.isArray(r.begin)) {
      if (r.skip || r.excludeBegin || r.returnBegin)
        throw Zi("skip, excludeBegin, returnBegin not compatible with beginScope: {}"), _a;
      if (typeof r.beginScope != "object" || r.beginScope === null)
        throw Zi("beginScope must be object"), _a;
      bc(r, r.begin, { key: "beginScope" }), r.begin = hu(r.begin, { joinWith: "" });
    }
  })(t3), ((r) => {
    if (Array.isArray(r.end)) {
      if (r.skip || r.excludeEnd || r.returnEnd)
        throw Zi("skip, excludeEnd, returnEnd not compatible with endScope: {}"), _a;
      if (typeof r.endScope != "object" || r.endScope === null)
        throw Zi("endScope must be object"), _a;
      bc(r, r.end, { key: "endScope" }), r.end = hu(r.end, { joinWith: "" });
    }
  })(t3);
}
function U0(t3) {
  function r(n, l) {
    return RegExp(Po(n), "m" + (t3.case_insensitive ? "i" : "") + (t3.unicodeRegex ? "u" : "") + (l ? "g" : ""));
  }
  class a {
    constructor() {
      this.matchIndexes = {}, this.regexes = [], this.matchAt = 1, this.position = 0;
    }
    addRule(l, f) {
      f.position = this.position++, this.matchIndexes[this.matchAt] = f, this.regexes.push([f, l]), this.matchAt += Rp(l) + 1;
    }
    compile() {
      this.regexes.length === 0 && (this.exec = () => null);
      const l = this.regexes.map((f) => f[1]);
      this.matcherRe = r(hu(l, {
        joinWith: "|"
      }), true), this.lastIndex = 0;
    }
    exec(l) {
      this.matcherRe.lastIndex = this.lastIndex;
      const f = this.matcherRe.exec(l);
      if (!f)
        return null;
      const d = f.findIndex((h2, m) => m > 0 && h2 !== void 0), c = this.matchIndexes[d];
      return f.splice(0, d), Object.assign(f, c);
    }
  }
  class o {
    constructor() {
      this.rules = [], this.multiRegexes = [], this.count = 0, this.lastIndex = 0, this.regexIndex = 0;
    }
    getMatcher(l) {
      if (this.multiRegexes[l])
        return this.multiRegexes[l];
      const f = new a();
      return this.rules.slice(l).forEach(([d, c]) => f.addRule(d, c)), f.compile(), this.multiRegexes[l] = f, f;
    }
    resumingScanAtSamePosition() {
      return this.regexIndex !== 0;
    }
    considerAll() {
      this.regexIndex = 0;
    }
    addRule(l, f) {
      this.rules.push([l, f]), f.type === "begin" && this.count++;
    }
    exec(l) {
      const f = this.getMatcher(this.regexIndex);
      f.lastIndex = this.lastIndex;
      let d = f.exec(l);
      if (this.resumingScanAtSamePosition() && !(d && d.index === this.lastIndex)) {
        const c = this.getMatcher(0);
        c.lastIndex = this.lastIndex + 1, d = c.exec(l);
      }
      return d && (this.regexIndex += d.position + 1, this.regexIndex === this.count && this.considerAll()), d;
    }
  }
  if (t3.compilerExtensions || (t3.compilerExtensions = []), t3.contains && t3.contains.includes("self"))
    throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");
  return t3.classNameAliases = Li(t3.classNameAliases || {}), function n(l, f) {
    const d = l;
    if (l.isCompiled)
      return d;
    [N0, k0, z0, $0].forEach((h2) => h2(l, f)), t3.compilerExtensions.forEach((h2) => h2(l, f)), l.__beforeBegin = null, [L0, F0, B0].forEach((h2) => h2(l, f)), l.isCompiled = true;
    let c = null;
    return typeof l.keywords == "object" && l.keywords.$pattern && (l.keywords = Object.assign({}, l.keywords), c = l.keywords.$pattern, delete l.keywords.$pattern), c = c || /\w+/, l.keywords && (l.keywords = Op(l.keywords, t3.case_insensitive)), d.keywordPatternRe = r(c, true), f && (l.begin || (l.begin = /\B|\b/), d.beginRe = r(d.begin), l.end || l.endsWithParent || (l.end = /\B|\b/), l.end && (d.endRe = r(d.end)), d.terminatorEnd = Po(d.end) || "", l.endsWithParent && f.terminatorEnd && (d.terminatorEnd += (l.end ? "|" : "") + f.terminatorEnd)), l.illegal && (d.illegalRe = r(l.illegal)), l.contains || (l.contains = []), l.contains = [].concat(...l.contains.map((h2) => ((m) => (m.variants && !m.cachedVariants && (m.cachedVariants = m.variants.map((g) => Li(m, {
      variants: null
    }, g))), m.cachedVariants ? m.cachedVariants : Dp(m) ? Li(m, {
      starts: m.starts ? Li(m.starts) : null
    }) : Object.isFrozen(m) ? Li(m) : m))(h2 === "self" ? l : h2))), l.contains.forEach((h2) => {
      n(h2, d);
    }), l.starts && n(l.starts, f), d.matcher = ((h2) => {
      const m = new o();
      return h2.contains.forEach((g) => m.addRule(g.begin, {
        rule: g,
        type: "begin"
      })), h2.terminatorEnd && m.addRule(h2.terminatorEnd, {
        type: "end"
      }), h2.illegal && m.addRule(h2.illegal, { type: "illegal" }), m;
    })(d), d;
  }(t3);
}
function Dp(t3) {
  return !!t3 && (t3.endsWithParent || Dp(t3.starts));
}
var W0 = class extends Error {
  constructor(r, a) {
    super(r), this.name = "HTMLInjectionError", this.html = a;
  }
};
var zs = Tp;
var Ac = Li;
var wc = Symbol("nomatch");
var Ip = (t3) => {
  const r = /* @__PURE__ */ Object.create(null), a = /* @__PURE__ */ Object.create(null), o = [];
  let n = true;
  const l = "Could not find the language '{}', did you forget to load/include a language module?", f = {
    disableAutodetect: true,
    name: "Plain text",
    contains: []
  };
  let d = {
    ignoreUnescapedHTML: false,
    throwUnescapedHTML: false,
    noHighlightRe: /^(no-?highlight)$/i,
    languageDetectRe: /\blang(?:uage)?-([\w-]+)\b/i,
    classPrefix: "hljs-",
    cssSelector: "pre code",
    languages: null,
    __emitter: E0
  };
  function c(T) {
    return d.noHighlightRe.test(T);
  }
  function h2(T, x, D) {
    let I = "", N = "";
    typeof x == "object" ? (I = T, D = x.ignoreIllegals, N = x.language) : (Rr("10.7.0", "highlight(lang, code, ...args) has been deprecated."), Rr("10.7.0", `Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`), N = T, I = x), D === void 0 && (D = true);
    const C = { code: I, language: N };
    y("before:highlight", C);
    const B = C.result ? C.result : m(C.language, C.code, D);
    return B.code = C.code, y("after:highlight", B), B;
  }
  function m(T, x, D, I) {
    const N = /* @__PURE__ */ Object.create(null);
    function C() {
      if (!V.keywords)
        return G.addText(Z);
      let ne = 0;
      V.keywordPatternRe.lastIndex = 0;
      let be = V.keywordPatternRe.exec(Z), we = "";
      for (; be; ) {
        we += Z.substring(ne, be.index);
        const Ke = J.case_insensitive ? be[0].toLowerCase() : be[0], lt = (Re = Ke, V.keywords[Re]);
        if (lt) {
          const [ot, Ct] = lt;
          if (G.addText(we), we = "", N[Ke] = (N[Ke] || 0) + 1, N[Ke] <= 7 && (ue += Ct), ot.startsWith("_"))
            we += be[0];
          else {
            const St = J.classNameAliases[ot] || ot;
            O(be[0], St);
          }
        } else
          we += be[0];
        ne = V.keywordPatternRe.lastIndex, be = V.keywordPatternRe.exec(Z);
      }
      var Re;
      we += Z.substring(ne), G.addText(we);
    }
    function B() {
      V.subLanguage != null ? (() => {
        if (Z === "")
          return;
        let ne = null;
        if (typeof V.subLanguage == "string") {
          if (!r[V.subLanguage])
            return G.addText(Z);
          ne = m(V.subLanguage, Z, true, K[V.subLanguage]), K[V.subLanguage] = ne._top;
        } else
          ne = g(Z, V.subLanguage.length ? V.subLanguage : null);
        V.relevance > 0 && (ue += ne.relevance), G.__addSublanguage(ne._emitter, ne.language);
      })() : C(), Z = "";
    }
    function O(ne, be) {
      ne !== "" && (G.startScope(be), G.addText(ne), G.endScope());
    }
    function S(ne, be) {
      let we = 1;
      const Re = be.length - 1;
      for (; we <= Re; ) {
        if (!ne._emit[we]) {
          we++;
          continue;
        }
        const Ke = J.classNameAliases[ne[we]] || ne[we], lt = be[we];
        Ke ? O(lt, Ke) : (Z = lt, C(), Z = ""), we++;
      }
    }
    function F(ne, be) {
      return ne.scope && typeof ne.scope == "string" && G.openNode(J.classNameAliases[ne.scope] || ne.scope), ne.beginScope && (ne.beginScope._wrap ? (O(Z, J.classNameAliases[ne.beginScope._wrap] || ne.beginScope._wrap), Z = "") : ne.beginScope._multi && (S(ne.beginScope, be), Z = "")), V = Object.create(ne, { parent: {
        value: V
      } }), V;
    }
    function $(ne, be, we) {
      let Re = ((Ke, lt) => {
        const ot = Ke && Ke.exec(lt);
        return ot && ot.index === 0;
      })(ne.endRe, we);
      if (Re) {
        if (ne["on:end"]) {
          const Ke = new fc(ne);
          ne["on:end"](be, Ke), Ke.isMatchIgnored && (Re = false);
        }
        if (Re) {
          for (; ne.endsParent && ne.parent; )
            ne = ne.parent;
          return ne;
        }
      }
      if (ne.endsWithParent)
        return $(ne.parent, be, we);
    }
    function U(ne) {
      return V.matcher.regexIndex === 0 ? (Z += ne[0], 1) : (fe = true, 0);
    }
    function L(ne) {
      const be = ne[0], we = x.substring(ne.index), Re = $(V, ne, we);
      if (!Re)
        return wc;
      const Ke = V;
      V.endScope && V.endScope._wrap ? (B(), O(be, V.endScope._wrap)) : V.endScope && V.endScope._multi ? (B(), S(V.endScope, ne)) : Ke.skip ? Z += be : (Ke.returnEnd || Ke.excludeEnd || (Z += be), B(), Ke.excludeEnd && (Z = be));
      do
        V.scope && G.closeNode(), V.skip || V.subLanguage || (ue += V.relevance), V = V.parent;
      while (V !== Re.parent);
      return Re.starts && F(Re.starts, ne), Ke.returnEnd ? 0 : be.length;
    }
    let z = {};
    function Q(ne, be) {
      const we = be && be[0];
      if (Z += ne, we == null)
        return B(), 0;
      if (z.type === "begin" && be.type === "end" && z.index === be.index && we === "") {
        if (Z += x.slice(be.index, be.index + 1), !n) {
          const Re = Error(`0 width match regex (${T})`);
          throw Re.languageName = T, Re.badRule = z.rule, Re;
        }
        return 1;
      }
      if (z = be, be.type === "begin")
        return ((Re) => {
          const Ke = Re[0], lt = Re.rule, ot = new fc(lt), Ct = [lt.__beforeBegin, lt["on:begin"]];
          for (const St of Ct)
            if (St && (St(Re, ot), ot.isMatchIgnored))
              return U(Ke);
          return lt.skip ? Z += Ke : (lt.excludeBegin && (Z += Ke), B(), lt.returnBegin || lt.excludeBegin || (Z = Ke)), F(lt, Re), lt.returnBegin ? 0 : Ke.length;
        })(be);
      if (be.type === "illegal" && !D) {
        const Re = Error('Illegal lexeme "' + we + '" for mode "' + (V.scope || "<unnamed>") + '"');
        throw Re.mode = V, Re;
      }
      if (be.type === "end") {
        const Re = L(be);
        if (Re !== wc)
          return Re;
      }
      if (be.type === "illegal" && we === "")
        return 1;
      if (ce > 1e5 && ce > 3 * be.index)
        throw Error("potential infinite loop, way more iterations than matches");
      return Z += we, we.length;
    }
    const J = E(T);
    if (!J)
      throw Zi(l.replace("{}", T)), Error('Unknown language: "' + T + '"');
    const ae = U0(J);
    let M = "", V = I || ae;
    const K = {}, G = new d.__emitter(d);
    (() => {
      const ne = [];
      for (let be = V; be !== J; be = be.parent)
        be.scope && ne.unshift(be.scope);
      ne.forEach((be) => G.openNode(be));
    })();
    let Z = "", ue = 0, pe = 0, ce = 0, fe = false;
    try {
      if (J.__emitTokens)
        J.__emitTokens(x, G);
      else {
        for (V.matcher.considerAll(); ; ) {
          ce++, fe ? fe = false : V.matcher.considerAll(), V.matcher.lastIndex = pe;
          const ne = V.matcher.exec(x);
          if (!ne)
            break;
          const be = Q(x.substring(pe, ne.index), ne);
          pe = ne.index + be;
        }
        Q(x.substring(pe));
      }
      return G.finalize(), M = G.toHTML(), {
        language: T,
        value: M,
        relevance: ue,
        illegal: false,
        _emitter: G,
        _top: V
      };
    } catch (ne) {
      if (ne.message && ne.message.includes("Illegal"))
        return {
          language: T,
          value: zs(x),
          illegal: true,
          relevance: 0,
          _illegalBy: {
            message: ne.message,
            index: pe,
            context: x.slice(pe - 100, pe + 100),
            mode: ne.mode,
            resultSoFar: M
          },
          _emitter: G
        };
      if (n)
        return {
          language: T,
          value: zs(x),
          illegal: false,
          relevance: 0,
          errorRaised: ne,
          _emitter: G,
          _top: V
        };
      throw ne;
    }
  }
  function g(T, x) {
    x = x || d.languages || Object.keys(r);
    const D = ((S) => {
      const F = { value: zs(S), illegal: false, relevance: 0, _top: f, _emitter: new d.__emitter(d) };
      return F._emitter.addText(S), F;
    })(T), I = x.filter(E).filter(v).map((S) => m(S, T, false));
    I.unshift(D);
    const N = I.sort((S, F) => {
      if (S.relevance !== F.relevance)
        return F.relevance - S.relevance;
      if (S.language && F.language) {
        if (E(S.language).supersetOf === F.language)
          return 1;
        if (E(F.language).supersetOf === S.language)
          return -1;
      }
      return 0;
    }), [C, B] = N, O = C;
    return O.secondBest = B, O;
  }
  function w(T) {
    let x = null;
    const D = ((C) => {
      let B = C.className + " ";
      B += C.parentNode ? C.parentNode.className : "";
      const O = d.languageDetectRe.exec(B);
      if (O) {
        const S = E(O[1]);
        return S || (yc(l.replace("{}", O[1])), yc("Falling back to no-highlight mode for this block.", C)), S ? O[1] : "no-highlight";
      }
      return B.split(/\s+/).find((S) => c(S) || E(S));
    })(T);
    if (c(D))
      return;
    if (y("before:highlightElement", {
      el: T,
      language: D
    }), T.dataset.highlighted)
      return console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.", T);
    if (T.children.length > 0 && (d.ignoreUnescapedHTML || (console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."), console.warn("https://github.com/highlightjs/highlight.js/wiki/security"), console.warn("The element with unescaped HTML:"), console.warn(T)), d.throwUnescapedHTML))
      throw new W0("One of your code blocks includes unescaped HTML.", T.innerHTML);
    x = T;
    const I = x.textContent, N = D ? h2(I, { language: D, ignoreIllegals: true }) : g(I);
    T.innerHTML = N.value, T.dataset.highlighted = "yes", ((C, B, O) => {
      const S = B && a[B] || O;
      C.classList.add("hljs"), C.classList.add("language-" + S);
    })(T, D, N.language), T.result = {
      language: N.language,
      re: N.relevance,
      relevance: N.relevance
    }, N.secondBest && (T.secondBest = {
      language: N.secondBest.language,
      relevance: N.secondBest.relevance
    }), y("after:highlightElement", { el: T, result: N, text: I });
  }
  let R = false;
  function A() {
    document.readyState !== "loading" ? document.querySelectorAll(d.cssSelector).forEach(w) : R = true;
  }
  function E(T) {
    return T = (T || "").toLowerCase(), r[T] || r[a[T]];
  }
  function b(T, { languageName: x }) {
    typeof T == "string" && (T = [T]), T.forEach((D) => {
      a[D.toLowerCase()] = x;
    });
  }
  function v(T) {
    const x = E(T);
    return x && !x.disableAutodetect;
  }
  function y(T, x) {
    const D = T;
    o.forEach((I) => {
      I[D] && I[D](x);
    });
  }
  typeof window < "u" && window.addEventListener && window.addEventListener("DOMContentLoaded", () => {
    R && A();
  }, false), Object.assign(t3, {
    highlight: h2,
    highlightAuto: g,
    highlightAll: A,
    highlightElement: w,
    highlightBlock: (T) => (Rr("10.7.0", "highlightBlock will be removed entirely in v12.0"), Rr("10.7.0", "Please use highlightElement now."), w(T)),
    configure: (T) => {
      d = Ac(d, T);
    },
    initHighlighting: () => {
      A(), Rr("10.6.0", "initHighlighting() deprecated.  Use highlightAll() now.");
    },
    initHighlightingOnLoad: () => {
      A(), Rr("10.6.0", "initHighlightingOnLoad() deprecated.  Use highlightAll() now.");
    },
    registerLanguage: (T, x) => {
      let D = null;
      try {
        D = x(t3);
      } catch (I) {
        if (Zi("Language definition for '{}' could not be registered.".replace("{}", T)), !n)
          throw I;
        Zi(I), D = f;
      }
      D.name || (D.name = T), r[T] = D, D.rawDefinition = x.bind(null, t3), D.aliases && b(D.aliases, {
        languageName: T
      });
    },
    unregisterLanguage: (T) => {
      delete r[T];
      for (const x of Object.keys(a))
        a[x] === T && delete a[x];
    },
    listLanguages: () => Object.keys(r),
    getLanguage: E,
    registerAliases: b,
    autoDetection: v,
    inherit: Ac,
    addPlugin: (T) => {
      ((x) => {
        x["before:highlightBlock"] && !x["before:highlightElement"] && (x["before:highlightElement"] = (D) => {
          x["before:highlightBlock"](Object.assign({ block: D.el }, D));
        }), x["after:highlightBlock"] && !x["after:highlightElement"] && (x["after:highlightElement"] = (D) => {
          x["after:highlightBlock"](Object.assign({ block: D.el }, D));
        });
      })(T), o.push(T);
    },
    removePlugin: (T) => {
      const x = o.indexOf(T);
      x !== -1 && o.splice(x, 1);
    }
  }), t3.debugMode = () => {
    n = false;
  }, t3.safeMode = () => {
    n = true;
  }, t3.versionString = "11.9.0", t3.regex = {
    concat: nr,
    lookahead: _p,
    either: Au,
    optional: T0,
    anyNumberOfTimes: x0
  };
  for (const T in Ta)
    typeof Ta[T] == "object" && xp(Ta[T]);
  return Object.assign(t3, Ta), t3;
};
var No = Ip({});
No.newInstance = () => Ip({});
var K0 = /* @__PURE__ */ (() => (t3) => {
  const r = t3.regex, a = r.concat(/[\p{L}_]/u, r.optional(/[\p{L}0-9_.-]*:/u), /[\p{L}0-9_.-]*/u), o = {
    className: "symbol",
    begin: /&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/
  }, n = {
    begin: /\s/,
    contains: [{ className: "keyword", begin: /#?[a-z_][a-z1-9_-]+/, illegal: /\n/ }]
  }, l = t3.inherit(n, { begin: /\(/, end: /\)/ }), f = t3.inherit(t3.APOS_STRING_MODE, {
    className: "string"
  }), d = t3.inherit(t3.QUOTE_STRING_MODE, { className: "string" }), c = {
    endsWithParent: true,
    illegal: /</,
    relevance: 0,
    contains: [{
      className: "attr",
      begin: /[\p{L}0-9._:-]+/u,
      relevance: 0
    }, { begin: /=\s*/, relevance: 0, contains: [{
      className: "string",
      endsParent: true,
      variants: [{ begin: /"/, end: /"/, contains: [o] }, {
        begin: /'/,
        end: /'/,
        contains: [o]
      }, { begin: /[^\s"'=<>`]+/ }]
    }] }]
  };
  return {
    name: "HTML, XML",
    aliases: ["html", "xhtml", "rss", "atom", "xjb", "xsd", "xsl", "plist", "wsf", "svg"],
    case_insensitive: true,
    unicodeRegex: true,
    contains: [{
      className: "meta",
      begin: /<![a-z]/,
      end: />/,
      relevance: 10,
      contains: [n, d, f, l, { begin: /\[/, end: /\]/, contains: [{
        className: "meta",
        begin: /<![a-z]/,
        end: />/,
        contains: [n, l, d, f]
      }] }]
    }, t3.COMMENT(/<!--/, /-->/, { relevance: 10 }), {
      begin: /<!\[CDATA\[/,
      end: /\]\]>/,
      relevance: 10
    }, o, { className: "meta", end: /\?>/, variants: [{
      begin: /<\?xml/,
      relevance: 10,
      contains: [d]
    }, { begin: /<\?[a-z][a-z0-9]+/ }] }, {
      className: "tag",
      begin: /<style(?=\s|>)/,
      end: />/,
      keywords: { name: "style" },
      contains: [c],
      starts: {
        end: /<\/style>/,
        returnEnd: true,
        subLanguage: ["css", "xml"]
      }
    }, {
      className: "tag",
      begin: /<script(?=\s|>)/,
      end: />/,
      keywords: { name: "script" },
      contains: [c],
      starts: {
        end: /<\/script>/,
        returnEnd: true,
        subLanguage: ["javascript", "handlebars", "xml"]
      }
    }, {
      className: "tag",
      begin: /<>|<\/>/
    }, {
      className: "tag",
      begin: r.concat(/</, r.lookahead(r.concat(a, r.either(/\/>/, />/, /\s/)))),
      end: /\/?>/,
      contains: [{ className: "name", begin: a, relevance: 0, starts: c }]
    }, {
      className: "tag",
      begin: r.concat(/<\//, r.lookahead(r.concat(a, />/))),
      contains: [{
        className: "name",
        begin: a,
        relevance: 0
      }, { begin: />/, relevance: 0, endsParent: true }]
    }]
  };
})();
var G0 = (() => {
  const t3 = "[A-Za-z$_][0-9A-Za-z$_]*", r = ["as", "in", "of", "if", "for", "while", "finally", "var", "new", "function", "do", "return", "void", "else", "break", "catch", "instanceof", "with", "throw", "case", "default", "try", "switch", "continue", "typeof", "delete", "let", "yield", "const", "class", "debugger", "async", "await", "static", "import", "from", "export", "extends"], a = ["true", "false", "null", "undefined", "NaN", "Infinity"], o = ["Object", "Function", "Boolean", "Symbol", "Math", "Date", "Number", "BigInt", "String", "RegExp", "Array", "Float32Array", "Float64Array", "Int8Array", "Uint8Array", "Uint8ClampedArray", "Int16Array", "Int32Array", "Uint16Array", "Uint32Array", "BigInt64Array", "BigUint64Array", "Set", "Map", "WeakSet", "WeakMap", "ArrayBuffer", "SharedArrayBuffer", "Atomics", "DataView", "JSON", "Promise", "Generator", "GeneratorFunction", "AsyncFunction", "Reflect", "Proxy", "Intl", "WebAssembly"], n = ["Error", "EvalError", "InternalError", "RangeError", "ReferenceError", "SyntaxError", "TypeError", "URIError"], l = ["setInterval", "setTimeout", "clearInterval", "clearTimeout", "require", "exports", "eval", "isFinite", "isNaN", "parseFloat", "parseInt", "decodeURI", "decodeURIComponent", "encodeURI", "encodeURIComponent", "escape", "unescape"], f = ["arguments", "this", "super", "console", "window", "document", "localStorage", "sessionStorage", "module", "global"], d = [].concat(l, o, n);
  return (c) => {
    const h2 = c.regex, m = t3, g = {
      begin: /<[A-Za-z0-9\\._:-]+/,
      end: /\/[A-Za-z0-9\\._:-]+>|\/>/,
      isTrulyOpeningTag: (M, V) => {
        const K = M[0].length + M.index, G = M.input[K];
        if (G === "<" || G === ",")
          return void V.ignoreMatch();
        let Z;
        G === ">" && (((pe, { after: ce }) => {
          const fe = "</" + pe[0].slice(1);
          return pe.input.indexOf(fe, ce) !== -1;
        })(M, { after: K }) || V.ignoreMatch());
        const ue = M.input.substring(K);
        ((Z = ue.match(/^\s*=/)) || (Z = ue.match(/^\s+extends\s+/)) && Z.index === 0) && V.ignoreMatch();
      }
    }, w = {
      $pattern: t3,
      keyword: r,
      literal: a,
      built_in: d,
      "variable.language": f
    }, R = "[0-9](_?[0-9])*", A = `\\.(${R})`, E = "0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*", b = {
      className: "number",
      variants: [{
        begin: `(\\b(${E})((${A})|\\.)?|(${A}))[eE][+-]?(${R})\\b`
      }, {
        begin: `\\b(${E})\\b((${A})\\b|\\.)?|(${A})\\b`
      }, {
        begin: "\\b(0|[1-9](_?[0-9])*)n\\b"
      }, {
        begin: "\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"
      }, {
        begin: "\\b0[bB][0-1](_?[0-1])*n?\\b"
      }, { begin: "\\b0[oO][0-7](_?[0-7])*n?\\b" }, {
        begin: "\\b0[0-7]+n?\\b"
      }],
      relevance: 0
    }, v = {
      className: "subst",
      begin: "\\$\\{",
      end: "\\}",
      keywords: w,
      contains: []
    }, y = { begin: "html`", end: "", starts: {
      end: "`",
      returnEnd: false,
      contains: [c.BACKSLASH_ESCAPE, v],
      subLanguage: "xml"
    } }, T = {
      begin: "css`",
      end: "",
      starts: {
        end: "`",
        returnEnd: false,
        contains: [c.BACKSLASH_ESCAPE, v],
        subLanguage: "css"
      }
    }, x = {
      begin: "gql`",
      end: "",
      starts: {
        end: "`",
        returnEnd: false,
        contains: [c.BACKSLASH_ESCAPE, v],
        subLanguage: "graphql"
      }
    }, D = {
      className: "string",
      begin: "`",
      end: "`",
      contains: [c.BACKSLASH_ESCAPE, v]
    }, I = {
      className: "comment",
      variants: [c.COMMENT(/\/\*\*(?!\/)/, "\\*/", {
        relevance: 0,
        contains: [{
          begin: "(?=@[A-Za-z]+)",
          relevance: 0,
          contains: [{
            className: "doctag",
            begin: "@[A-Za-z]+"
          }, {
            className: "type",
            begin: "\\{",
            end: "\\}",
            excludeEnd: true,
            excludeBegin: true,
            relevance: 0
          }, {
            className: "variable",
            begin: m + "(?=\\s*(-)|$)",
            endsParent: true,
            relevance: 0
          }, { begin: /(?=[^\n])\s/, relevance: 0 }]
        }]
      }), c.C_BLOCK_COMMENT_MODE, c.C_LINE_COMMENT_MODE]
    }, N = [c.APOS_STRING_MODE, c.QUOTE_STRING_MODE, y, T, x, D, { match: /\$\d+/ }, b];
    v.contains = N.concat({
      begin: /\{/,
      end: /\}/,
      keywords: w,
      contains: ["self"].concat(N)
    });
    const C = [].concat(I, v.contains), B = C.concat([{
      begin: /\(/,
      end: /\)/,
      keywords: w,
      contains: ["self"].concat(C)
    }]), O = {
      className: "params",
      begin: /\(/,
      end: /\)/,
      excludeBegin: true,
      excludeEnd: true,
      keywords: w,
      contains: B
    }, S = { variants: [{
      match: [/class/, /\s+/, m, /\s+/, /extends/, /\s+/, h2.concat(m, "(", h2.concat(/\./, m), ")*")],
      scope: { 1: "keyword", 3: "title.class", 5: "keyword", 7: "title.class.inherited" }
    }, {
      match: [/class/, /\s+/, m],
      scope: { 1: "keyword", 3: "title.class" }
    }] }, F = {
      relevance: 0,
      match: h2.either(/\bJSON/, /\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/, /\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/, /\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),
      className: "title.class",
      keywords: { _: [...o, ...n] }
    }, $ = {
      variants: [{
        match: [/function/, /\s+/, m, /(?=\s*\()/]
      }, { match: [/function/, /\s*(?=\()/] }],
      className: { 1: "keyword", 3: "title.function" },
      label: "func.def",
      contains: [O],
      illegal: /%/
    }, U = {
      match: h2.concat(/\b/, (L = [...l, "super", "import"], h2.concat("(?!", L.join("|"), ")")), m, h2.lookahead(/\(/)),
      className: "title.function",
      relevance: 0
    };
    var L;
    const z = {
      begin: h2.concat(/\./, h2.lookahead(h2.concat(m, /(?![0-9A-Za-z$_(])/))),
      end: m,
      excludeBegin: true,
      keywords: "prototype",
      className: "property",
      relevance: 0
    }, Q = {
      match: [/get|set/, /\s+/, m, /(?=\()/],
      className: { 1: "keyword", 3: "title.function" },
      contains: [{ begin: /\(\)/ }, O]
    }, J = "(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|" + c.UNDERSCORE_IDENT_RE + ")\\s*=>", ae = {
      match: [/const|var|let/, /\s+/, m, /\s*/, /=\s*/, /(async\s*)?/, h2.lookahead(J)],
      keywords: "async",
      className: { 1: "keyword", 3: "title.function" },
      contains: [O]
    };
    return {
      name: "JavaScript",
      aliases: ["js", "jsx", "mjs", "cjs"],
      keywords: w,
      exports: {
        PARAMS_CONTAINS: B,
        CLASS_REFERENCE: F
      },
      illegal: /#(?![$_A-z])/,
      contains: [c.SHEBANG({ label: "shebang", binary: "node", relevance: 5 }), {
        label: "use_strict",
        className: "meta",
        relevance: 10,
        begin: /^\s*['"]use (strict|asm)['"]/
      }, c.APOS_STRING_MODE, c.QUOTE_STRING_MODE, y, T, x, D, I, { match: /\$\d+/ }, b, F, {
        className: "attr",
        begin: m + h2.lookahead(":"),
        relevance: 0
      }, ae, {
        begin: "(" + c.RE_STARTERS_RE + "|\\b(case|return|throw)\\b)\\s*",
        keywords: "return throw case",
        relevance: 0,
        contains: [I, c.REGEXP_MODE, {
          className: "function",
          begin: J,
          returnBegin: true,
          end: "\\s*=>",
          contains: [{
            className: "params",
            variants: [{ begin: c.UNDERSCORE_IDENT_RE, relevance: 0 }, {
              className: null,
              begin: /\(\s*\)/,
              skip: true
            }, {
              begin: /\(/,
              end: /\)/,
              excludeBegin: true,
              excludeEnd: true,
              keywords: w,
              contains: B
            }]
          }]
        }, { begin: /,/, relevance: 0 }, {
          match: /\s+/,
          relevance: 0
        }, { variants: [{ begin: "<>", end: "</>" }, {
          match: /<[A-Za-z0-9\\._:-]+\s*\/>/
        }, {
          begin: g.begin,
          "on:begin": g.isTrulyOpeningTag,
          end: g.end
        }], subLanguage: "xml", contains: [{
          begin: g.begin,
          end: g.end,
          skip: true,
          contains: ["self"]
        }] }]
      }, $, {
        beginKeywords: "while if switch catch for"
      }, {
        begin: "\\b(?!function)" + c.UNDERSCORE_IDENT_RE + "\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",
        returnBegin: true,
        label: "func.def",
        contains: [O, c.inherit(c.TITLE_MODE, {
          begin: m,
          className: "title.function"
        })]
      }, { match: /\.\.\./, relevance: 0 }, z, {
        match: "\\$" + m,
        relevance: 0
      }, {
        match: [/\bconstructor(?=\s*\()/],
        className: { 1: "title.function" },
        contains: [O]
      }, U, {
        relevance: 0,
        match: /\b[A-Z][A-Z_0-9]+\b/,
        className: "variable.constant"
      }, S, Q, { match: /\$[(.]/ }]
    };
  };
})();
var Q0 = defineComponent({
  name: "TypeSelect",
  inject: ["designer"],
  props: {
    disabled: Boolean
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    activeRule() {
      return this.designer.setupState.activeRule;
    },
    customForm() {
      return this.designer.setupState.customForm;
    },
    menus() {
      let t3 = [];
      const r = this.designer.setupState;
      if (this.activeRule) {
        const a = this.activeRule._menu.name, o = r.getConfig("switchType", []);
        if (o === false)
          return t3;
        let n = [];
        o.forEach((l) => {
          l.indexOf(a) > -1 && n.push(...l);
        }), n = n.filter((l, f) => l !== a && n.indexOf(l) === f), n.length ? r.menuList.forEach((l) => {
          l.list.forEach((f) => {
            n.indexOf(f.name) > -1 && t3.push(f);
          });
        }) : r.menuList.forEach((l) => {
          l.name === this.activeRule._menu.menu && l.list.forEach((f) => {
            f.name !== a && t3.push(f);
          });
        });
      }
      return t3.filter((a) => this.designer.setupState.hiddenItem.indexOf(a.name) === -1);
    }
  },
  methods: {
    handleCommand(t3) {
      var f;
      let r = this.activeRule, a = this.activeRule;
      a._menu.inside || (a = a.__fc__.parent.rule);
      const o = a.__fc__.parent.rule.children, n = this.designer.setupState.makeRule(t3);
      let l = n;
      n.type === "DragTool" && (l = n.children[0]), l.field && r.field ? ["title", "info", "field", "validate", "control", "$required"].forEach((d) => {
        l[d] = r[d];
      }) : (f = r == null ? void 0 : r.computed) != null && f.hidden && (l.computed = { hidden: r.computed.hidden }), r.name && (l.name = r.name), ["name", "id", "on"].forEach((d) => {
        r[d] && (l[d] = r[d]);
      }), o.splice(o.indexOf(a), 1, n), this.$nextTick(() => {
        this.designer.setupState.triggerActive(l);
      });
    }
  }
});
var Y0 = {
  key: 0,
  class: "fc-icon icon-down"
};
function X0(t3, r, a, o, n, l) {
  const f = resolveComponent("el-tag"), d = resolveComponent("el-dropdown-item"), c = resolveComponent("el-dropdown-menu"), h2 = resolveComponent("el-dropdown");
  return openBlock(), createBlock(h2, {
    class: "_fd-type-select",
    trigger: "click",
    size: "default",
    "popper-class": "_fd-type-select-pop",
    disabled: t3.disabled || !t3.menus.length,
    onCommand: t3.handleCommand
  }, {
    dropdown: withCtx(() => [
      createVNode(c, null, {
        default: withCtx(() => [
          (openBlock(true), createElementBlock(Fragment, null, renderList(t3.menus, (m) => (openBlock(), createBlock(d, {
            command: m,
            key: m.name
          }, {
            default: withCtx(() => [
              createBaseVNode("div", null, [
                createBaseVNode("i", {
                  class: normalizeClass(["fc-icon", m.icon || "icon-input"])
                }, null, 2),
                createTextVNode(toDisplayString(t3.t("com." + m.name + ".name") || m.label), 1)
              ])
            ]),
            _: 2
          }, 1032, ["command"]))), 128))
        ]),
        _: 1
      })
    ]),
    default: withCtx(() => [
      createVNode(f, {
        type: "success",
        effect: "plain",
        "disable-transitions": ""
      }, {
        default: withCtx(() => [
          t3.activeRule ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
            createTextVNode(toDisplayString(t3.t("com." + t3.activeRule._menu.name + ".name") || t3.activeRule._menu.label) + " ", 1),
            !t3.disabled && t3.menus.length ? (openBlock(), createElementBlock("i", Y0)) : createCommentVNode("", true)
          ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
            createTextVNode(toDisplayString(t3.t("com." + t3.customForm.config.name + ".name") || t3.customForm.config.label || t3.customForm.config.name), 1)
          ], 64))
        ]),
        _: 1
      })
    ]),
    _: 1
  }, 8, ["disabled", "onCommand"]);
}
var J0 = nt(Q0, [["render", X0]]);
var Mp = { exports: {} };
var bo = {};
var Ra = { exports: {} };
var Us = {};
var Ws = {};
var Cc;
function wu() {
  if (Cc)
    return Ws;
  Cc = 1;
  function t3(o) {
    this.__parent = o, this.__character_count = 0, this.__indent_count = -1, this.__alignment_count = 0, this.__wrap_point_index = 0, this.__wrap_point_character_count = 0, this.__wrap_point_indent_count = -1, this.__wrap_point_alignment_count = 0, this.__items = [];
  }
  t3.prototype.clone_empty = function() {
    var o = new t3(this.__parent);
    return o.set_indent(this.__indent_count, this.__alignment_count), o;
  }, t3.prototype.item = function(o) {
    return o < 0 ? this.__items[this.__items.length + o] : this.__items[o];
  }, t3.prototype.has_match = function(o) {
    for (var n = this.__items.length - 1; n >= 0; n--)
      if (this.__items[n].match(o))
        return true;
    return false;
  }, t3.prototype.set_indent = function(o, n) {
    this.is_empty() && (this.__indent_count = o || 0, this.__alignment_count = n || 0, this.__character_count = this.__parent.get_indent_size(this.__indent_count, this.__alignment_count));
  }, t3.prototype._set_wrap_point = function() {
    this.__parent.wrap_line_length && (this.__wrap_point_index = this.__items.length, this.__wrap_point_character_count = this.__character_count, this.__wrap_point_indent_count = this.__parent.next_line.__indent_count, this.__wrap_point_alignment_count = this.__parent.next_line.__alignment_count);
  }, t3.prototype._should_wrap = function() {
    return this.__wrap_point_index && this.__character_count > this.__parent.wrap_line_length && this.__wrap_point_character_count > this.__parent.next_line.__character_count;
  }, t3.prototype._allow_wrap = function() {
    if (this._should_wrap()) {
      this.__parent.add_new_line();
      var o = this.__parent.current_line;
      return o.set_indent(this.__wrap_point_indent_count, this.__wrap_point_alignment_count), o.__items = this.__items.slice(this.__wrap_point_index), this.__items = this.__items.slice(0, this.__wrap_point_index), o.__character_count += this.__character_count - this.__wrap_point_character_count, this.__character_count = this.__wrap_point_character_count, o.__items[0] === " " && (o.__items.splice(0, 1), o.__character_count -= 1), true;
    }
    return false;
  }, t3.prototype.is_empty = function() {
    return this.__items.length === 0;
  }, t3.prototype.last = function() {
    return this.is_empty() ? null : this.__items[this.__items.length - 1];
  }, t3.prototype.push = function(o) {
    this.__items.push(o);
    var n = o.lastIndexOf(`
`);
    n !== -1 ? this.__character_count = o.length - n : this.__character_count += o.length;
  }, t3.prototype.pop = function() {
    var o = null;
    return this.is_empty() || (o = this.__items.pop(), this.__character_count -= o.length), o;
  }, t3.prototype._remove_indent = function() {
    this.__indent_count > 0 && (this.__indent_count -= 1, this.__character_count -= this.__parent.indent_size);
  }, t3.prototype._remove_wrap_indent = function() {
    this.__wrap_point_indent_count > 0 && (this.__wrap_point_indent_count -= 1);
  }, t3.prototype.trim = function() {
    for (; this.last() === " "; )
      this.__items.pop(), this.__character_count -= 1;
  }, t3.prototype.toString = function() {
    var o = "";
    return this.is_empty() ? this.__parent.indent_empty_lines && (o = this.__parent.get_indent_string(this.__indent_count)) : (o = this.__parent.get_indent_string(this.__indent_count, this.__alignment_count), o += this.__items.join("")), o;
  };
  function r(o, n) {
    this.__cache = [""], this.__indent_size = o.indent_size, this.__indent_string = o.indent_char, o.indent_with_tabs || (this.__indent_string = new Array(o.indent_size + 1).join(o.indent_char)), n = n || "", o.indent_level > 0 && (n = new Array(o.indent_level + 1).join(this.__indent_string)), this.__base_string = n, this.__base_string_length = n.length;
  }
  r.prototype.get_indent_size = function(o, n) {
    var l = this.__base_string_length;
    return n = n || 0, o < 0 && (l = 0), l += o * this.__indent_size, l += n, l;
  }, r.prototype.get_indent_string = function(o, n) {
    var l = this.__base_string;
    return n = n || 0, o < 0 && (o = 0, l = ""), n += o * this.__indent_size, this.__ensure_cache(n), l += this.__cache[n], l;
  }, r.prototype.__ensure_cache = function(o) {
    for (; o >= this.__cache.length; )
      this.__add_column();
  }, r.prototype.__add_column = function() {
    var o = this.__cache.length, n = 0, l = "";
    this.__indent_size && o >= this.__indent_size && (n = Math.floor(o / this.__indent_size), o -= n * this.__indent_size, l = new Array(n + 1).join(this.__indent_string)), o && (l += new Array(o + 1).join(" ")), this.__cache.push(l);
  };
  function a(o, n) {
    this.__indent_cache = new r(o, n), this.raw = false, this._end_with_newline = o.end_with_newline, this.indent_size = o.indent_size, this.wrap_line_length = o.wrap_line_length, this.indent_empty_lines = o.indent_empty_lines, this.__lines = [], this.previous_line = null, this.current_line = null, this.next_line = new t3(this), this.space_before_token = false, this.non_breaking_space = false, this.previous_token_wrapped = false, this.__add_outputline();
  }
  return a.prototype.__add_outputline = function() {
    this.previous_line = this.current_line, this.current_line = this.next_line.clone_empty(), this.__lines.push(this.current_line);
  }, a.prototype.get_line_number = function() {
    return this.__lines.length;
  }, a.prototype.get_indent_string = function(o, n) {
    return this.__indent_cache.get_indent_string(o, n);
  }, a.prototype.get_indent_size = function(o, n) {
    return this.__indent_cache.get_indent_size(o, n);
  }, a.prototype.is_empty = function() {
    return !this.previous_line && this.current_line.is_empty();
  }, a.prototype.add_new_line = function(o) {
    return this.is_empty() || !o && this.just_added_newline() ? false : (this.raw || this.__add_outputline(), true);
  }, a.prototype.get_code = function(o) {
    this.trim(true);
    var n = this.current_line.pop();
    n && (n[n.length - 1] === `
` && (n = n.replace(/\n+$/g, "")), this.current_line.push(n)), this._end_with_newline && this.__add_outputline();
    var l = this.__lines.join(`
`);
    return o !== `
` && (l = l.replace(/[\n]/g, o)), l;
  }, a.prototype.set_wrap_point = function() {
    this.current_line._set_wrap_point();
  }, a.prototype.set_indent = function(o, n) {
    return o = o || 0, n = n || 0, this.next_line.set_indent(o, n), this.__lines.length > 1 ? (this.current_line.set_indent(o, n), true) : (this.current_line.set_indent(), false);
  }, a.prototype.add_raw_token = function(o) {
    for (var n = 0; n < o.newlines; n++)
      this.__add_outputline();
    this.current_line.set_indent(-1), this.current_line.push(o.whitespace_before), this.current_line.push(o.text), this.space_before_token = false, this.non_breaking_space = false, this.previous_token_wrapped = false;
  }, a.prototype.add_token = function(o) {
    this.__add_space_before_token(), this.current_line.push(o), this.space_before_token = false, this.non_breaking_space = false, this.previous_token_wrapped = this.current_line._allow_wrap();
  }, a.prototype.__add_space_before_token = function() {
    this.space_before_token && !this.just_added_newline() && (this.non_breaking_space || this.set_wrap_point(), this.current_line.push(" "));
  }, a.prototype.remove_indent = function(o) {
    for (var n = this.__lines.length; o < n; )
      this.__lines[o]._remove_indent(), o++;
    this.current_line._remove_wrap_indent();
  }, a.prototype.trim = function(o) {
    for (o = o === void 0 ? false : o, this.current_line.trim(); o && this.__lines.length > 1 && this.current_line.is_empty(); )
      this.__lines.pop(), this.current_line = this.__lines[this.__lines.length - 1], this.current_line.trim();
    this.previous_line = this.__lines.length > 1 ? this.__lines[this.__lines.length - 2] : null;
  }, a.prototype.just_added_newline = function() {
    return this.current_line.is_empty();
  }, a.prototype.just_added_blankline = function() {
    return this.is_empty() || this.current_line.is_empty() && this.previous_line.is_empty();
  }, a.prototype.ensure_empty_line_above = function(o, n) {
    for (var l = this.__lines.length - 2; l >= 0; ) {
      var f = this.__lines[l];
      if (f.is_empty())
        break;
      if (f.item(0).indexOf(o) !== 0 && f.item(-1) !== n) {
        this.__lines.splice(l + 1, 0, new t3(this)), this.previous_line = this.__lines[this.__lines.length - 2];
        break;
      }
      l--;
    }
  }, Ws.Output = a, Ws;
}
var Ks = {};
var Sc;
function Pp() {
  if (Sc)
    return Ks;
  Sc = 1;
  function t3(r, a, o, n) {
    this.type = r, this.text = a, this.comments_before = null, this.newlines = o || 0, this.whitespace_before = n || "", this.parent = null, this.next = null, this.previous = null, this.opened = null, this.closed = null, this.directives = null;
  }
  return Ks.Token = t3, Ks;
}
var Gs = {};
var Ec;
function Np() {
  return Ec || (Ec = 1, function(t3) {
    var r = "\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a", a = "\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a", o = "\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc", n = "\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f", l = "\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}", f = "(?:" + l + "|[" + r + o + "])", d = "(?:" + l + "|[" + a + o + n + "])*";
    t3.identifier = new RegExp(f + d, "g"), t3.identifierStart = new RegExp(f), t3.identifierMatch = new RegExp("(?:" + l + "|[" + a + o + n + "])+"), t3.newline = /[\n\r\u2028\u2029]/, t3.lineBreak = new RegExp(`\r
|` + t3.newline.source), t3.allLineBreaks = new RegExp(t3.lineBreak.source, "g");
  }(Gs)), Gs;
}
var Qs = {};
var Ao = {};
var xc;
function Cu() {
  if (xc)
    return Ao;
  xc = 1;
  function t3(o, n) {
    this.raw_options = r(o, n), this.disabled = this._get_boolean("disabled"), this.eol = this._get_characters("eol", "auto"), this.end_with_newline = this._get_boolean("end_with_newline"), this.indent_size = this._get_number("indent_size", 4), this.indent_char = this._get_characters("indent_char", " "), this.indent_level = this._get_number("indent_level"), this.preserve_newlines = this._get_boolean("preserve_newlines", true), this.max_preserve_newlines = this._get_number("max_preserve_newlines", 32786), this.preserve_newlines || (this.max_preserve_newlines = 0), this.indent_with_tabs = this._get_boolean("indent_with_tabs", this.indent_char === "	"), this.indent_with_tabs && (this.indent_char = "	", this.indent_size === 1 && (this.indent_size = 4)), this.wrap_line_length = this._get_number("wrap_line_length", this._get_number("max_char")), this.indent_empty_lines = this._get_boolean("indent_empty_lines"), this.templating = this._get_selection_list("templating", ["auto", "none", "angular", "django", "erb", "handlebars", "php", "smarty"], ["auto"]);
  }
  t3.prototype._get_array = function(o, n) {
    var l = this.raw_options[o], f = n || [];
    return typeof l == "object" ? l !== null && typeof l.concat == "function" && (f = l.concat()) : typeof l == "string" && (f = l.split(/[^a-zA-Z0-9_\/\-]+/)), f;
  }, t3.prototype._get_boolean = function(o, n) {
    var l = this.raw_options[o], f = l === void 0 ? !!n : !!l;
    return f;
  }, t3.prototype._get_characters = function(o, n) {
    var l = this.raw_options[o], f = n || "";
    return typeof l == "string" && (f = l.replace(/\\r/, "\r").replace(/\\n/, `
`).replace(/\\t/, "	")), f;
  }, t3.prototype._get_number = function(o, n) {
    var l = this.raw_options[o];
    n = parseInt(n, 10), isNaN(n) && (n = 0);
    var f = parseInt(l, 10);
    return isNaN(f) && (f = n), f;
  }, t3.prototype._get_selection = function(o, n, l) {
    var f = this._get_selection_list(o, n, l);
    if (f.length !== 1)
      throw new Error(
        "Invalid Option Value: The option '" + o + `' can only be one of the following values:
` + n + `
You passed in: '` + this.raw_options[o] + "'"
      );
    return f[0];
  }, t3.prototype._get_selection_list = function(o, n, l) {
    if (!n || n.length === 0)
      throw new Error("Selection list cannot be empty.");
    if (l = l || [n[0]], !this._is_valid_selection(l, n))
      throw new Error("Invalid Default Value!");
    var f = this._get_array(o, l);
    if (!this._is_valid_selection(f, n))
      throw new Error(
        "Invalid Option Value: The option '" + o + `' can contain only the following values:
` + n + `
You passed in: '` + this.raw_options[o] + "'"
      );
    return f;
  }, t3.prototype._is_valid_selection = function(o, n) {
    return o.length && n.length && !o.some(function(l) {
      return n.indexOf(l) === -1;
    });
  };
  function r(o, n) {
    var l = {};
    o = a(o);
    var f;
    for (f in o)
      f !== n && (l[f] = o[f]);
    if (n && o[n])
      for (f in o[n])
        l[f] = o[n][f];
    return l;
  }
  function a(o) {
    var n = {}, l;
    for (l in o) {
      var f = l.replace(/-/g, "_");
      n[f] = o[l];
    }
    return n;
  }
  return Ao.Options = t3, Ao.normalizeOpts = a, Ao.mergeOpts = r, Ao;
}
var Tc;
function Lp() {
  if (Tc)
    return Qs;
  Tc = 1;
  var t3 = Cu().Options, r = ["before-newline", "after-newline", "preserve-newline"];
  function a(o) {
    t3.call(this, o, "js");
    var n = this.raw_options.brace_style || null;
    n === "expand-strict" ? this.raw_options.brace_style = "expand" : n === "collapse-preserve-inline" ? this.raw_options.brace_style = "collapse,preserve-inline" : this.raw_options.braces_on_own_line !== void 0 && (this.raw_options.brace_style = this.raw_options.braces_on_own_line ? "expand" : "collapse");
    var l = this._get_selection_list("brace_style", ["collapse", "expand", "end-expand", "none", "preserve-inline"]);
    this.brace_preserve_inline = false, this.brace_style = "collapse";
    for (var f = 0; f < l.length; f++)
      l[f] === "preserve-inline" ? this.brace_preserve_inline = true : this.brace_style = l[f];
    this.unindent_chained_methods = this._get_boolean("unindent_chained_methods"), this.break_chained_methods = this._get_boolean("break_chained_methods"), this.space_in_paren = this._get_boolean("space_in_paren"), this.space_in_empty_paren = this._get_boolean("space_in_empty_paren"), this.jslint_happy = this._get_boolean("jslint_happy"), this.space_after_anon_function = this._get_boolean("space_after_anon_function"), this.space_after_named_function = this._get_boolean("space_after_named_function"), this.keep_array_indentation = this._get_boolean("keep_array_indentation"), this.space_before_conditional = this._get_boolean("space_before_conditional", true), this.unescape_strings = this._get_boolean("unescape_strings"), this.e4x = this._get_boolean("e4x"), this.comma_first = this._get_boolean("comma_first"), this.operator_position = this._get_selection("operator_position", r), this.test_output_raw = this._get_boolean("test_output_raw"), this.jslint_happy && (this.space_after_anon_function = true);
  }
  return a.prototype = new t3(), Qs.Options = a, Qs;
}
var Or = {};
var Ys = {};
var _c;
function Su() {
  if (_c)
    return Ys;
  _c = 1;
  var t3 = RegExp.prototype.hasOwnProperty("sticky");
  function r(a) {
    this.__input = a || "", this.__input_length = this.__input.length, this.__position = 0;
  }
  return r.prototype.restart = function() {
    this.__position = 0;
  }, r.prototype.back = function() {
    this.__position > 0 && (this.__position -= 1);
  }, r.prototype.hasNext = function() {
    return this.__position < this.__input_length;
  }, r.prototype.next = function() {
    var a = null;
    return this.hasNext() && (a = this.__input.charAt(this.__position), this.__position += 1), a;
  }, r.prototype.peek = function(a) {
    var o = null;
    return a = a || 0, a += this.__position, a >= 0 && a < this.__input_length && (o = this.__input.charAt(a)), o;
  }, r.prototype.__match = function(a, o) {
    a.lastIndex = o;
    var n = a.exec(this.__input);
    return n && !(t3 && a.sticky) && n.index !== o && (n = null), n;
  }, r.prototype.test = function(a, o) {
    return o = o || 0, o += this.__position, o >= 0 && o < this.__input_length ? !!this.__match(a, o) : false;
  }, r.prototype.testChar = function(a, o) {
    var n = this.peek(o);
    return a.lastIndex = 0, n !== null && a.test(n);
  }, r.prototype.match = function(a) {
    var o = this.__match(a, this.__position);
    return o ? this.__position += o[0].length : o = null, o;
  }, r.prototype.read = function(a, o, n) {
    var l = "", f;
    return a && (f = this.match(a), f && (l += f[0])), o && (f || !a) && (l += this.readUntil(o, n)), l;
  }, r.prototype.readUntil = function(a, o) {
    var n = "", l = this.__position;
    a.lastIndex = this.__position;
    var f = a.exec(this.__input);
    return f ? (l = f.index, o && (l += f[0].length)) : l = this.__input_length, n = this.__input.substring(this.__position, l), this.__position = l, n;
  }, r.prototype.readUntilAfter = function(a) {
    return this.readUntil(a, true);
  }, r.prototype.get_regexp = function(a, o) {
    var n = null, l = "g";
    return o && t3 && (l = "y"), typeof a == "string" && a !== "" ? n = new RegExp(a, l) : a && (n = new RegExp(a.source, l)), n;
  }, r.prototype.get_literal_regexp = function(a) {
    return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"));
  }, r.prototype.peekUntilAfter = function(a) {
    var o = this.__position, n = this.readUntilAfter(a);
    return this.__position = o, n;
  }, r.prototype.lookBack = function(a) {
    var o = this.__position - 1;
    return o >= a.length && this.__input.substring(o - a.length, o).toLowerCase() === a;
  }, Ys.InputScanner = r, Ys;
}
var Oa = {};
var Xs = {};
var Rc;
function Z0() {
  if (Rc)
    return Xs;
  Rc = 1;
  function t3(r) {
    this.__tokens = [], this.__tokens_length = this.__tokens.length, this.__position = 0, this.__parent_token = r;
  }
  return t3.prototype.restart = function() {
    this.__position = 0;
  }, t3.prototype.isEmpty = function() {
    return this.__tokens_length === 0;
  }, t3.prototype.hasNext = function() {
    return this.__position < this.__tokens_length;
  }, t3.prototype.next = function() {
    var r = null;
    return this.hasNext() && (r = this.__tokens[this.__position], this.__position += 1), r;
  }, t3.prototype.peek = function(r) {
    var a = null;
    return r = r || 0, r += this.__position, r >= 0 && r < this.__tokens_length && (a = this.__tokens[r]), a;
  }, t3.prototype.add = function(r) {
    this.__parent_token && (r.parent = this.__parent_token), this.__tokens.push(r), this.__tokens_length += 1;
  }, Xs.TokenStream = t3, Xs;
}
var Js = {};
var Zs = {};
var Oc;
function el() {
  if (Oc)
    return Zs;
  Oc = 1;
  function t3(r, a) {
    this._input = r, this._starting_pattern = null, this._match_pattern = null, this._until_pattern = null, this._until_after = false, a && (this._starting_pattern = this._input.get_regexp(a._starting_pattern, true), this._match_pattern = this._input.get_regexp(a._match_pattern, true), this._until_pattern = this._input.get_regexp(a._until_pattern), this._until_after = a._until_after);
  }
  return t3.prototype.read = function() {
    var r = this._input.read(this._starting_pattern);
    return (!this._starting_pattern || r) && (r += this._input.read(this._match_pattern, this._until_pattern, this._until_after)), r;
  }, t3.prototype.read_match = function() {
    return this._input.match(this._match_pattern);
  }, t3.prototype.until_after = function(r) {
    var a = this._create();
    return a._until_after = true, a._until_pattern = this._input.get_regexp(r), a._update(), a;
  }, t3.prototype.until = function(r) {
    var a = this._create();
    return a._until_after = false, a._until_pattern = this._input.get_regexp(r), a._update(), a;
  }, t3.prototype.starting_with = function(r) {
    var a = this._create();
    return a._starting_pattern = this._input.get_regexp(r, true), a._update(), a;
  }, t3.prototype.matching = function(r) {
    var a = this._create();
    return a._match_pattern = this._input.get_regexp(r, true), a._update(), a;
  }, t3.prototype._create = function() {
    return new t3(this._input, this);
  }, t3.prototype._update = function() {
  }, Zs.Pattern = t3, Zs;
}
var Dc;
function q0() {
  if (Dc)
    return Js;
  Dc = 1;
  var t3 = el().Pattern;
  function r(a, o) {
    t3.call(this, a, o), o ? this._line_regexp = this._input.get_regexp(o._line_regexp) : this.__set_whitespace_patterns("", ""), this.newline_count = 0, this.whitespace_before_token = "";
  }
  return r.prototype = new t3(), r.prototype.__set_whitespace_patterns = function(a, o) {
    a += "\\t ", o += "\\n\\r", this._match_pattern = this._input.get_regexp(
      "[" + a + o + "]+",
      true
    ), this._newline_regexp = this._input.get_regexp(
      "\\r\\n|[" + o + "]"
    );
  }, r.prototype.read = function() {
    this.newline_count = 0, this.whitespace_before_token = "";
    var a = this._input.read(this._match_pattern);
    if (a === " ")
      this.whitespace_before_token = " ";
    else if (a) {
      var o = this.__split(this._newline_regexp, a);
      this.newline_count = o.length - 1, this.whitespace_before_token = o[this.newline_count];
    }
    return a;
  }, r.prototype.matching = function(a, o) {
    var n = this._create();
    return n.__set_whitespace_patterns(a, o), n._update(), n;
  }, r.prototype._create = function() {
    return new r(this._input, this);
  }, r.prototype.__split = function(a, o) {
    a.lastIndex = 0;
    for (var n = 0, l = [], f = a.exec(o); f; )
      l.push(o.substring(n, f.index)), n = f.index + f[0].length, f = a.exec(o);
    return n < o.length ? l.push(o.substring(n, o.length)) : l.push(""), l;
  }, Js.WhitespacePattern = r, Js;
}
var Ic;
function Wa() {
  if (Ic)
    return Oa;
  Ic = 1;
  var t3 = Su().InputScanner, r = Pp().Token, a = Z0().TokenStream, o = q0().WhitespacePattern, n = {
    START: "TK_START",
    RAW: "TK_RAW",
    EOF: "TK_EOF"
  }, l = function(f, d) {
    this._input = new t3(f), this._options = d || {}, this.__tokens = null, this._patterns = {}, this._patterns.whitespace = new o(this._input);
  };
  return l.prototype.tokenize = function() {
    this._input.restart(), this.__tokens = new a(), this._reset();
    for (var f, d = new r(n.START, ""), c = null, h2 = [], m = new a(); d.type !== n.EOF; ) {
      for (f = this._get_next_token(d, c); this._is_comment(f); )
        m.add(f), f = this._get_next_token(d, c);
      m.isEmpty() || (f.comments_before = m, m = new a()), f.parent = c, this._is_opening(f) ? (h2.push(c), c = f) : c && this._is_closing(f, c) && (f.opened = c, c.closed = f, c = h2.pop(), f.parent = c), f.previous = d, d.next = f, this.__tokens.add(f), d = f;
    }
    return this.__tokens;
  }, l.prototype._is_first_token = function() {
    return this.__tokens.isEmpty();
  }, l.prototype._reset = function() {
  }, l.prototype._get_next_token = function(f, d) {
    this._readWhitespace();
    var c = this._input.read(/.+/g);
    return c ? this._create_token(n.RAW, c) : this._create_token(n.EOF, "");
  }, l.prototype._is_comment = function(f) {
    return false;
  }, l.prototype._is_opening = function(f) {
    return false;
  }, l.prototype._is_closing = function(f, d) {
    return false;
  }, l.prototype._create_token = function(f, d) {
    var c = new r(
      f,
      d,
      this._patterns.whitespace.newline_count,
      this._patterns.whitespace.whitespace_before_token
    );
    return c;
  }, l.prototype._readWhitespace = function() {
    return this._patterns.whitespace.read();
  }, Oa.Tokenizer = l, Oa.TOKEN = n, Oa;
}
var qs = {};
var Mc;
function Eu() {
  if (Mc)
    return qs;
  Mc = 1;
  function t3(r, a) {
    r = typeof r == "string" ? r : r.source, a = typeof a == "string" ? a : a.source, this.__directives_block_pattern = new RegExp(r + / beautify( \w+[:]\w+)+ /.source + a, "g"), this.__directive_pattern = / (\w+)[:](\w+)/g, this.__directives_end_ignore_pattern = new RegExp(r + /\sbeautify\signore:end\s/.source + a, "g");
  }
  return t3.prototype.get_directives = function(r) {
    if (!r.match(this.__directives_block_pattern))
      return null;
    var a = {};
    this.__directive_pattern.lastIndex = 0;
    for (var o = this.__directive_pattern.exec(r); o; )
      a[o[1]] = o[2], o = this.__directive_pattern.exec(r);
    return a;
  }, t3.prototype.readIgnored = function(r) {
    return r.readUntilAfter(this.__directives_end_ignore_pattern);
  }, qs.Directives = t3, qs;
}
var eu = {};
var Pc;
function Fp() {
  if (Pc)
    return eu;
  Pc = 1;
  var t3 = el().Pattern, r = {
    django: false,
    erb: false,
    handlebars: false,
    php: false,
    smarty: false,
    angular: false
  };
  function a(o, n) {
    t3.call(this, o, n), this.__template_pattern = null, this._disabled = Object.assign({}, r), this._excluded = Object.assign({}, r), n && (this.__template_pattern = this._input.get_regexp(n.__template_pattern), this._excluded = Object.assign(this._excluded, n._excluded), this._disabled = Object.assign(this._disabled, n._disabled));
    var l = new t3(o);
    this.__patterns = {
      handlebars_comment: l.starting_with(/{{!--/).until_after(/--}}/),
      handlebars_unescaped: l.starting_with(/{{{/).until_after(/}}}/),
      handlebars: l.starting_with(/{{/).until_after(/}}/),
      php: l.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),
      erb: l.starting_with(/<%[^%]/).until_after(/[^%]%>/),
      django: l.starting_with(/{%/).until_after(/%}/),
      django_value: l.starting_with(/{{/).until_after(/}}/),
      django_comment: l.starting_with(/{#/).until_after(/#}/),
      smarty: l.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),
      smarty_comment: l.starting_with(/{\*/).until_after(/\*}/),
      smarty_literal: l.starting_with(/{literal}/).until_after(/{\/literal}/)
    };
  }
  return a.prototype = new t3(), a.prototype._create = function() {
    return new a(this._input, this);
  }, a.prototype._update = function() {
    this.__set_templated_pattern();
  }, a.prototype.disable = function(o) {
    var n = this._create();
    return n._disabled[o] = true, n._update(), n;
  }, a.prototype.read_options = function(o) {
    var n = this._create();
    for (var l in r)
      n._disabled[l] = o.templating.indexOf(l) === -1;
    return n._update(), n;
  }, a.prototype.exclude = function(o) {
    var n = this._create();
    return n._excluded[o] = true, n._update(), n;
  }, a.prototype.read = function() {
    var o = "";
    this._match_pattern ? o = this._input.read(this._starting_pattern) : o = this._input.read(this._starting_pattern, this.__template_pattern);
    for (var n = this._read_template(); n; )
      this._match_pattern ? n += this._input.read(this._match_pattern) : n += this._input.readUntil(this.__template_pattern), o += n, n = this._read_template();
    return this._until_after && (o += this._input.readUntilAfter(this._until_pattern)), o;
  }, a.prototype.__set_templated_pattern = function() {
    var o = [];
    this._disabled.php || o.push(this.__patterns.php._starting_pattern.source), this._disabled.handlebars || o.push(this.__patterns.handlebars._starting_pattern.source), this._disabled.angular || o.push(this.__patterns.handlebars._starting_pattern.source), this._disabled.erb || o.push(this.__patterns.erb._starting_pattern.source), this._disabled.django || (o.push(this.__patterns.django._starting_pattern.source), o.push(this.__patterns.django_value._starting_pattern.source), o.push(this.__patterns.django_comment._starting_pattern.source)), this._disabled.smarty || o.push(this.__patterns.smarty._starting_pattern.source), this._until_pattern && o.push(this._until_pattern.source), this.__template_pattern = this._input.get_regexp("(?:" + o.join("|") + ")");
  }, a.prototype._read_template = function() {
    var o = "", n = this._input.peek();
    if (n === "<") {
      var l = this._input.peek(1);
      !this._disabled.php && !this._excluded.php && l === "?" && (o = o || this.__patterns.php.read()), !this._disabled.erb && !this._excluded.erb && l === "%" && (o = o || this.__patterns.erb.read());
    } else
      n === "{" && (!this._disabled.handlebars && !this._excluded.handlebars && (o = o || this.__patterns.handlebars_comment.read(), o = o || this.__patterns.handlebars_unescaped.read(), o = o || this.__patterns.handlebars.read()), this._disabled.django || (!this._excluded.django && !this._excluded.handlebars && (o = o || this.__patterns.django_value.read()), this._excluded.django || (o = o || this.__patterns.django_comment.read(), o = o || this.__patterns.django.read())), this._disabled.smarty || this._disabled.django && this._disabled.handlebars && (o = o || this.__patterns.smarty_comment.read(), o = o || this.__patterns.smarty_literal.read(), o = o || this.__patterns.smarty.read()));
    return o;
  }, eu.TemplatablePattern = a, eu;
}
var Nc;
function Da() {
  if (Nc)
    return Or;
  Nc = 1;
  var t3 = Su().InputScanner, r = Wa().Tokenizer, a = Wa().TOKEN, o = Eu().Directives, n = Np(), l = el().Pattern, f = Fp().TemplatablePattern;
  function d(I, N) {
    return N.indexOf(I) !== -1;
  }
  var c = {
    START_EXPR: "TK_START_EXPR",
    END_EXPR: "TK_END_EXPR",
    START_BLOCK: "TK_START_BLOCK",
    END_BLOCK: "TK_END_BLOCK",
    WORD: "TK_WORD",
    RESERVED: "TK_RESERVED",
    SEMICOLON: "TK_SEMICOLON",
    STRING: "TK_STRING",
    EQUALS: "TK_EQUALS",
    OPERATOR: "TK_OPERATOR",
    COMMA: "TK_COMMA",
    BLOCK_COMMENT: "TK_BLOCK_COMMENT",
    COMMENT: "TK_COMMENT",
    DOT: "TK_DOT",
    UNKNOWN: "TK_UNKNOWN",
    START: a.START,
    RAW: a.RAW,
    EOF: a.EOF
  }, h2 = new o(/\/\*/, /\*\//), m = /0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/, g = /[0-9]/, w = /[^\d\.]/, R = ">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "), A = ">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";
  A = A.replace(/[-[\]{}()*+?.,\\^$|#]/g, "\\$&"), A = "\\?\\.(?!\\d) " + A, A = A.replace(/ /g, "|");
  var E = new RegExp(A), b = "continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","), v = b.concat(["do", "in", "of", "else", "get", "set", "new", "catch", "finally", "typeof", "yield", "async", "await", "from", "as", "class", "extends"]), y = new RegExp("^(?:" + v.join("|") + ")$"), T, x = function(I, N) {
    r.call(this, I, N), this._patterns.whitespace = this._patterns.whitespace.matching(
      /\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,
      /\u2028\u2029/.source
    );
    var C = new l(this._input), B = new f(this._input).read_options(this._options);
    this.__patterns = {
      template: B,
      identifier: B.starting_with(n.identifier).matching(n.identifierMatch),
      number: C.matching(m),
      punct: C.matching(E),
      comment: C.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),
      block_comment: C.starting_with(/\/\*/).until_after(/\*\//),
      html_comment_start: C.matching(/<!--/),
      html_comment_end: C.matching(/-->/),
      include: C.starting_with(/#include/).until_after(n.lineBreak),
      shebang: C.starting_with(/#!/).until_after(n.lineBreak),
      xml: C.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),
      single_quote: B.until(/['\\\n\r\u2028\u2029]/),
      double_quote: B.until(/["\\\n\r\u2028\u2029]/),
      template_text: B.until(/[`\\$]/),
      template_expression: B.until(/[`}\\]/)
    };
  };
  x.prototype = new r(), x.prototype._is_comment = function(I) {
    return I.type === c.COMMENT || I.type === c.BLOCK_COMMENT || I.type === c.UNKNOWN;
  }, x.prototype._is_opening = function(I) {
    return I.type === c.START_BLOCK || I.type === c.START_EXPR;
  }, x.prototype._is_closing = function(I, N) {
    return (I.type === c.END_BLOCK || I.type === c.END_EXPR) && N && (I.text === "]" && N.text === "[" || I.text === ")" && N.text === "(" || I.text === "}" && N.text === "{");
  }, x.prototype._reset = function() {
    T = false;
  }, x.prototype._get_next_token = function(I, N) {
    var C = null;
    this._readWhitespace();
    var B = this._input.peek();
    return B === null ? this._create_token(c.EOF, "") : (C = C || this._read_non_javascript(B), C = C || this._read_string(B), C = C || this._read_pair(B, this._input.peek(1)), C = C || this._read_word(I), C = C || this._read_singles(B), C = C || this._read_comment(B), C = C || this._read_regexp(B, I), C = C || this._read_xml(B, I), C = C || this._read_punctuation(), C = C || this._create_token(c.UNKNOWN, this._input.next()), C);
  }, x.prototype._read_word = function(I) {
    var N;
    if (N = this.__patterns.identifier.read(), N !== "")
      return N = N.replace(n.allLineBreaks, `
`), !(I.type === c.DOT || I.type === c.RESERVED && (I.text === "set" || I.text === "get")) && y.test(N) ? (N === "in" || N === "of") && (I.type === c.WORD || I.type === c.STRING) ? this._create_token(c.OPERATOR, N) : this._create_token(c.RESERVED, N) : this._create_token(c.WORD, N);
    if (N = this.__patterns.number.read(), N !== "")
      return this._create_token(c.WORD, N);
  }, x.prototype._read_singles = function(I) {
    var N = null;
    return I === "(" || I === "[" ? N = this._create_token(c.START_EXPR, I) : I === ")" || I === "]" ? N = this._create_token(c.END_EXPR, I) : I === "{" ? N = this._create_token(c.START_BLOCK, I) : I === "}" ? N = this._create_token(c.END_BLOCK, I) : I === ";" ? N = this._create_token(c.SEMICOLON, I) : I === "." && w.test(this._input.peek(1)) ? N = this._create_token(c.DOT, I) : I === "," && (N = this._create_token(c.COMMA, I)), N && this._input.next(), N;
  }, x.prototype._read_pair = function(I, N) {
    var C = null;
    return I === "#" && N === "{" && (C = this._create_token(c.START_BLOCK, I + N)), C && (this._input.next(), this._input.next()), C;
  }, x.prototype._read_punctuation = function() {
    var I = this.__patterns.punct.read();
    if (I !== "")
      return I === "=" ? this._create_token(c.EQUALS, I) : I === "?." ? this._create_token(c.DOT, I) : this._create_token(c.OPERATOR, I);
  }, x.prototype._read_non_javascript = function(I) {
    var N = "";
    if (I === "#") {
      if (this._is_first_token() && (N = this.__patterns.shebang.read(), N))
        return this._create_token(c.UNKNOWN, N.trim() + `
`);
      if (N = this.__patterns.include.read(), N)
        return this._create_token(c.UNKNOWN, N.trim() + `
`);
      I = this._input.next();
      var C = "#";
      if (this._input.hasNext() && this._input.testChar(g)) {
        do
          I = this._input.next(), C += I;
        while (this._input.hasNext() && I !== "#" && I !== "=");
        return I === "#" || (this._input.peek() === "[" && this._input.peek(1) === "]" ? (C += "[]", this._input.next(), this._input.next()) : this._input.peek() === "{" && this._input.peek(1) === "}" && (C += "{}", this._input.next(), this._input.next())), this._create_token(c.WORD, C);
      }
      this._input.back();
    } else if (I === "<" && this._is_first_token()) {
      if (N = this.__patterns.html_comment_start.read(), N) {
        for (; this._input.hasNext() && !this._input.testChar(n.newline); )
          N += this._input.next();
        return T = true, this._create_token(c.COMMENT, N);
      }
    } else if (T && I === "-" && (N = this.__patterns.html_comment_end.read(), N))
      return T = false, this._create_token(c.COMMENT, N);
    return null;
  }, x.prototype._read_comment = function(I) {
    var N = null;
    if (I === "/") {
      var C = "";
      if (this._input.peek(1) === "*") {
        C = this.__patterns.block_comment.read();
        var B = h2.get_directives(C);
        B && B.ignore === "start" && (C += h2.readIgnored(this._input)), C = C.replace(n.allLineBreaks, `
`), N = this._create_token(c.BLOCK_COMMENT, C), N.directives = B;
      } else
        this._input.peek(1) === "/" && (C = this.__patterns.comment.read(), N = this._create_token(c.COMMENT, C));
    }
    return N;
  }, x.prototype._read_string = function(I) {
    if (I === "`" || I === "'" || I === '"') {
      var N = this._input.next();
      return this.has_char_escapes = false, I === "`" ? N += this._read_string_recursive("`", true, "${") : N += this._read_string_recursive(I), this.has_char_escapes && this._options.unescape_strings && (N = D(N)), this._input.peek() === I && (N += this._input.next()), N = N.replace(n.allLineBreaks, `
`), this._create_token(c.STRING, N);
    }
    return null;
  }, x.prototype._allow_regexp_or_xml = function(I) {
    return I.type === c.RESERVED && d(I.text, ["return", "case", "throw", "else", "do", "typeof", "yield"]) || I.type === c.END_EXPR && I.text === ")" && I.opened.previous.type === c.RESERVED && d(I.opened.previous.text, ["if", "while", "for"]) || d(I.type, [
      c.COMMENT,
      c.START_EXPR,
      c.START_BLOCK,
      c.START,
      c.END_BLOCK,
      c.OPERATOR,
      c.EQUALS,
      c.EOF,
      c.SEMICOLON,
      c.COMMA
    ]);
  }, x.prototype._read_regexp = function(I, N) {
    if (I === "/" && this._allow_regexp_or_xml(N)) {
      for (var C = this._input.next(), B = false, O = false; this._input.hasNext() && (B || O || this._input.peek() !== I) && !this._input.testChar(n.newline); )
        C += this._input.peek(), B ? B = false : (B = this._input.peek() === "\\", this._input.peek() === "[" ? O = true : this._input.peek() === "]" && (O = false)), this._input.next();
      return this._input.peek() === I && (C += this._input.next(), C += this._input.read(n.identifier)), this._create_token(c.STRING, C);
    }
    return null;
  }, x.prototype._read_xml = function(I, N) {
    if (this._options.e4x && I === "<" && this._allow_regexp_or_xml(N)) {
      var C = "", B = this.__patterns.xml.read_match();
      if (B) {
        for (var O = B[2].replace(/^{\s+/, "{").replace(/\s+}$/, "}"), S = O.indexOf("{") === 0, F = 0; B; ) {
          var $ = !!B[1], U = B[2], L = !!B[B.length - 1] || U.slice(0, 8) === "![CDATA[";
          if (!L && (U === O || S && U.replace(/^{\s+/, "{").replace(/\s+}$/, "}")) && ($ ? --F : ++F), C += B[0], F <= 0)
            break;
          B = this.__patterns.xml.read_match();
        }
        return B || (C += this._input.match(/[\s\S]*/g)[0]), C = C.replace(n.allLineBreaks, `
`), this._create_token(c.STRING, C);
      }
    }
    return null;
  };
  function D(I) {
    for (var N = "", C = 0, B = new t3(I), O = null; B.hasNext(); )
      if (O = B.match(/([\s]|[^\\]|\\\\)+/g), O && (N += O[0]), B.peek() === "\\") {
        if (B.next(), B.peek() === "x")
          O = B.match(/x([0-9A-Fa-f]{2})/g);
        else if (B.peek() === "u")
          O = B.match(/u([0-9A-Fa-f]{4})/g), O || (O = B.match(/u\{([0-9A-Fa-f]+)\}/g));
        else {
          N += "\\", B.hasNext() && (N += B.next());
          continue;
        }
        if (!O || (C = parseInt(O[1], 16), C > 126 && C <= 255 && O[0].indexOf("x") === 0))
          return I;
        C >= 0 && C < 32 || C > 1114111 ? N += "\\" + O[0] : C === 34 || C === 39 || C === 92 ? N += "\\" + String.fromCharCode(C) : N += String.fromCharCode(C);
      }
    return N;
  }
  return x.prototype._read_string_recursive = function(I, N, C) {
    var B, O;
    I === "'" ? O = this.__patterns.single_quote : I === '"' ? O = this.__patterns.double_quote : I === "`" ? O = this.__patterns.template_text : I === "}" && (O = this.__patterns.template_expression);
    for (var S = O.read(), F = ""; this._input.hasNext(); ) {
      if (F = this._input.next(), F === I || !N && n.newline.test(F)) {
        this._input.back();
        break;
      } else
        F === "\\" && this._input.hasNext() ? (B = this._input.peek(), B === "x" || B === "u" ? this.has_char_escapes = true : B === "\r" && this._input.peek(1) === `
` && this._input.next(), F += this._input.next()) : C && (C === "${" && F === "$" && this._input.peek() === "{" && (F += this._input.next()), C === F && (I === "`" ? F += this._read_string_recursive("}", N, "`") : F += this._read_string_recursive("`", N, "${"), this._input.hasNext() && (F += this._input.next())));
      F += O.read(), S += F;
    }
    return S;
  }, Or.Tokenizer = x, Or.TOKEN = c, Or.positionable_operators = R.slice(), Or.line_starters = b.slice(), Or;
}
var Lc;
function eb() {
  if (Lc)
    return Us;
  Lc = 1;
  var t3 = wu().Output, r = Pp().Token, a = Np(), o = Lp().Options, n = Da().Tokenizer, l = Da().line_starters, f = Da().positionable_operators, d = Da().TOKEN;
  function c(O, S) {
    return S.indexOf(O) !== -1;
  }
  function h2(O) {
    return O.replace(/^\s+/g, "");
  }
  function m(O) {
    for (var S = {}, F = 0; F < O.length; F++)
      S[O[F].replace(/-/g, "_")] = O[F];
    return S;
  }
  function g(O, S) {
    return O && O.type === d.RESERVED && O.text === S;
  }
  function w(O, S) {
    return O && O.type === d.RESERVED && c(O.text, S);
  }
  var R = ["case", "return", "do", "if", "throw", "else", "await", "break", "continue", "async"], A = ["before-newline", "after-newline", "preserve-newline"], E = m(A), b = [E.before_newline, E.preserve_newline], v = {
    BlockStatement: "BlockStatement",
    Statement: "Statement",
    ObjectLiteral: "ObjectLiteral",
    ArrayLiteral: "ArrayLiteral",
    ForInitializer: "ForInitializer",
    Conditional: "Conditional",
    Expression: "Expression"
  };
  function y(O, S) {
    S.multiline_frame || S.mode === v.ForInitializer || S.mode === v.Conditional || O.remove_indent(S.start_line_index);
  }
  function T(O) {
    O = O.replace(a.allLineBreaks, `
`);
    for (var S = [], F = O.indexOf(`
`); F !== -1; )
      S.push(O.substring(0, F)), O = O.substring(F + 1), F = O.indexOf(`
`);
    return O.length && S.push(O), S;
  }
  function x(O) {
    return O === v.ArrayLiteral;
  }
  function D(O) {
    return c(O, [v.Expression, v.ForInitializer, v.Conditional]);
  }
  function I(O, S) {
    for (var F = 0; F < O.length; F++) {
      var $ = O[F].trim();
      if ($.charAt(0) !== S)
        return false;
    }
    return true;
  }
  function N(O, S) {
    for (var F = 0, $ = O.length, U; F < $; F++)
      if (U = O[F], U && U.indexOf(S) !== 0)
        return false;
    return true;
  }
  function C(O, S) {
    S = S || {}, this._source_text = O || "", this._output = null, this._tokens = null, this._last_last_text = null, this._flags = null, this._previous_flags = null, this._flag_store = null, this._options = new o(S);
  }
  C.prototype.create_flags = function(O, S) {
    var F = 0;
    O && (F = O.indentation_level, !this._output.just_added_newline() && O.line_indent_level > F && (F = O.line_indent_level));
    var $ = {
      mode: S,
      parent: O,
      last_token: O ? O.last_token : new r(d.START_BLOCK, ""),
      last_word: O ? O.last_word : "",
      declaration_statement: false,
      declaration_assignment: false,
      multiline_frame: false,
      inline_frame: false,
      if_block: false,
      else_block: false,
      class_start_block: false,
      do_block: false,
      do_while: false,
      import_block: false,
      in_case_statement: false,
      in_case: false,
      case_body: false,
      case_block: false,
      indentation_level: F,
      alignment: 0,
      line_indent_level: O ? O.line_indent_level : F,
      start_line_index: this._output.get_line_number(),
      ternary_depth: 0
    };
    return $;
  }, C.prototype._reset = function(O) {
    var S = O.match(/^[\t ]*/)[0];
    this._last_last_text = "", this._output = new t3(this._options, S), this._output.raw = this._options.test_output_raw, this._flag_store = [], this.set_mode(v.BlockStatement);
    var F = new n(O, this._options);
    return this._tokens = F.tokenize(), O;
  }, C.prototype.beautify = function() {
    if (this._options.disabled)
      return this._source_text;
    var O, S = this._reset(this._source_text), F = this._options.eol;
    this._options.eol === "auto" && (F = `
`, S && a.lineBreak.test(S || "") && (F = S.match(a.lineBreak)[0]));
    for (var $ = this._tokens.next(); $; )
      this.handle_token($), this._last_last_text = this._flags.last_token.text, this._flags.last_token = $, $ = this._tokens.next();
    return O = this._output.get_code(F), O;
  }, C.prototype.handle_token = function(O, S) {
    O.type === d.START_EXPR ? this.handle_start_expr(O) : O.type === d.END_EXPR ? this.handle_end_expr(O) : O.type === d.START_BLOCK ? this.handle_start_block(O) : O.type === d.END_BLOCK ? this.handle_end_block(O) : O.type === d.WORD ? this.handle_word(O) : O.type === d.RESERVED ? this.handle_word(O) : O.type === d.SEMICOLON ? this.handle_semicolon(O) : O.type === d.STRING ? this.handle_string(O) : O.type === d.EQUALS ? this.handle_equals(O) : O.type === d.OPERATOR ? this.handle_operator(O) : O.type === d.COMMA ? this.handle_comma(O) : O.type === d.BLOCK_COMMENT ? this.handle_block_comment(O, S) : O.type === d.COMMENT ? this.handle_comment(O, S) : O.type === d.DOT ? this.handle_dot(O) : O.type === d.EOF ? this.handle_eof(O) : O.type === d.UNKNOWN ? this.handle_unknown(O, S) : this.handle_unknown(O, S);
  }, C.prototype.handle_whitespace_and_comments = function(O, S) {
    var F = O.newlines, $ = this._options.keep_array_indentation && x(this._flags.mode);
    if (O.comments_before)
      for (var U = O.comments_before.next(); U; )
        this.handle_whitespace_and_comments(U, S), this.handle_token(U, S), U = O.comments_before.next();
    if ($)
      for (var L = 0; L < F; L += 1)
        this.print_newline(L > 0, S);
    else if (this._options.max_preserve_newlines && F > this._options.max_preserve_newlines && (F = this._options.max_preserve_newlines), this._options.preserve_newlines && F > 1) {
      this.print_newline(false, S);
      for (var z = 1; z < F; z += 1)
        this.print_newline(true, S);
    }
  };
  var B = ["async", "break", "continue", "return", "throw", "yield"];
  return C.prototype.allow_wrap_or_preserved_newline = function(O, S) {
    if (S = S === void 0 ? false : S, !this._output.just_added_newline()) {
      var F = this._options.preserve_newlines && O.newlines || S, $ = c(this._flags.last_token.text, f) || c(O.text, f);
      if ($) {
        var U = c(this._flags.last_token.text, f) && c(this._options.operator_position, b) || c(O.text, f);
        F = F && U;
      }
      if (F)
        this.print_newline(false, true);
      else if (this._options.wrap_line_length) {
        if (w(this._flags.last_token, B))
          return;
        this._output.set_wrap_point();
      }
    }
  }, C.prototype.print_newline = function(O, S) {
    if (!S && this._flags.last_token.text !== ";" && this._flags.last_token.text !== "," && this._flags.last_token.text !== "=" && (this._flags.last_token.type !== d.OPERATOR || this._flags.last_token.text === "--" || this._flags.last_token.text === "++"))
      for (var F = this._tokens.peek(); this._flags.mode === v.Statement && !(this._flags.if_block && g(F, "else")) && !this._flags.do_block; )
        this.restore_mode();
    this._output.add_new_line(O) && (this._flags.multiline_frame = true);
  }, C.prototype.print_token_line_indentation = function(O) {
    this._output.just_added_newline() && (this._options.keep_array_indentation && O.newlines && (O.text === "[" || x(this._flags.mode)) ? (this._output.current_line.set_indent(-1), this._output.current_line.push(O.whitespace_before), this._output.space_before_token = false) : this._output.set_indent(this._flags.indentation_level, this._flags.alignment) && (this._flags.line_indent_level = this._flags.indentation_level));
  }, C.prototype.print_token = function(O) {
    if (this._output.raw) {
      this._output.add_raw_token(O);
      return;
    }
    if (this._options.comma_first && O.previous && O.previous.type === d.COMMA && this._output.just_added_newline() && this._output.previous_line.last() === ",") {
      var S = this._output.previous_line.pop();
      this._output.previous_line.is_empty() && (this._output.previous_line.push(S), this._output.trim(true), this._output.current_line.pop(), this._output.trim()), this.print_token_line_indentation(O), this._output.add_token(","), this._output.space_before_token = true;
    }
    this.print_token_line_indentation(O), this._output.non_breaking_space = true, this._output.add_token(O.text), this._output.previous_token_wrapped && (this._flags.multiline_frame = true);
  }, C.prototype.indent = function() {
    this._flags.indentation_level += 1, this._output.set_indent(this._flags.indentation_level, this._flags.alignment);
  }, C.prototype.deindent = function() {
    this._flags.indentation_level > 0 && (!this._flags.parent || this._flags.indentation_level > this._flags.parent.indentation_level) && (this._flags.indentation_level -= 1, this._output.set_indent(this._flags.indentation_level, this._flags.alignment));
  }, C.prototype.set_mode = function(O) {
    this._flags ? (this._flag_store.push(this._flags), this._previous_flags = this._flags) : this._previous_flags = this.create_flags(null, O), this._flags = this.create_flags(this._previous_flags, O), this._output.set_indent(this._flags.indentation_level, this._flags.alignment);
  }, C.prototype.restore_mode = function() {
    this._flag_store.length > 0 && (this._previous_flags = this._flags, this._flags = this._flag_store.pop(), this._previous_flags.mode === v.Statement && y(this._output, this._previous_flags), this._output.set_indent(this._flags.indentation_level, this._flags.alignment));
  }, C.prototype.start_of_object_property = function() {
    return this._flags.parent.mode === v.ObjectLiteral && this._flags.mode === v.Statement && (this._flags.last_token.text === ":" && this._flags.ternary_depth === 0 || w(this._flags.last_token, ["get", "set"]));
  }, C.prototype.start_of_statement = function(O) {
    var S = false;
    return S = S || w(this._flags.last_token, ["var", "let", "const"]) && O.type === d.WORD, S = S || g(this._flags.last_token, "do"), S = S || !(this._flags.parent.mode === v.ObjectLiteral && this._flags.mode === v.Statement) && w(this._flags.last_token, B) && !O.newlines, S = S || g(this._flags.last_token, "else") && !(g(O, "if") && !O.comments_before), S = S || this._flags.last_token.type === d.END_EXPR && (this._previous_flags.mode === v.ForInitializer || this._previous_flags.mode === v.Conditional), S = S || this._flags.last_token.type === d.WORD && this._flags.mode === v.BlockStatement && !this._flags.in_case && !(O.text === "--" || O.text === "++") && this._last_last_text !== "function" && O.type !== d.WORD && O.type !== d.RESERVED, S = S || this._flags.mode === v.ObjectLiteral && (this._flags.last_token.text === ":" && this._flags.ternary_depth === 0 || w(this._flags.last_token, ["get", "set"])), S ? (this.set_mode(v.Statement), this.indent(), this.handle_whitespace_and_comments(O, true), this.start_of_object_property() || this.allow_wrap_or_preserved_newline(
      O,
      w(O, ["do", "for", "if", "while"])
    ), true) : false;
  }, C.prototype.handle_start_expr = function(O) {
    this.start_of_statement(O) || this.handle_whitespace_and_comments(O);
    var S = v.Expression;
    if (O.text === "[") {
      if (this._flags.last_token.type === d.WORD || this._flags.last_token.text === ")") {
        w(this._flags.last_token, l) && (this._output.space_before_token = true), this.print_token(O), this.set_mode(S), this.indent(), this._options.space_in_paren && (this._output.space_before_token = true);
        return;
      }
      S = v.ArrayLiteral, x(this._flags.mode) && (this._flags.last_token.text === "[" || this._flags.last_token.text === "," && (this._last_last_text === "]" || this._last_last_text === "}")) && (this._options.keep_array_indentation || this.print_newline()), c(this._flags.last_token.type, [d.START_EXPR, d.END_EXPR, d.WORD, d.OPERATOR, d.DOT]) || (this._output.space_before_token = true);
    } else {
      if (this._flags.last_token.type === d.RESERVED)
        this._flags.last_token.text === "for" ? (this._output.space_before_token = this._options.space_before_conditional, S = v.ForInitializer) : c(this._flags.last_token.text, ["if", "while", "switch"]) ? (this._output.space_before_token = this._options.space_before_conditional, S = v.Conditional) : c(this._flags.last_word, ["await", "async"]) ? this._output.space_before_token = true : this._flags.last_token.text === "import" && O.whitespace_before === "" ? this._output.space_before_token = false : (c(this._flags.last_token.text, l) || this._flags.last_token.text === "catch") && (this._output.space_before_token = true);
      else if (this._flags.last_token.type === d.EQUALS || this._flags.last_token.type === d.OPERATOR)
        this.start_of_object_property() || this.allow_wrap_or_preserved_newline(O);
      else if (this._flags.last_token.type === d.WORD) {
        this._output.space_before_token = false;
        var F = this._tokens.peek(-3);
        if (this._options.space_after_named_function && F) {
          var $ = this._tokens.peek(-4);
          w(F, ["async", "function"]) || F.text === "*" && w($, ["async", "function"]) ? this._output.space_before_token = true : this._flags.mode === v.ObjectLiteral ? (F.text === "{" || F.text === "," || F.text === "*" && ($.text === "{" || $.text === ",")) && (this._output.space_before_token = true) : this._flags.parent && this._flags.parent.class_start_block && (this._output.space_before_token = true);
        }
      } else
        this.allow_wrap_or_preserved_newline(O);
      (this._flags.last_token.type === d.RESERVED && (this._flags.last_word === "function" || this._flags.last_word === "typeof") || this._flags.last_token.text === "*" && (c(this._last_last_text, ["function", "yield"]) || this._flags.mode === v.ObjectLiteral && c(this._last_last_text, ["{", ","]))) && (this._output.space_before_token = this._options.space_after_anon_function);
    }
    this._flags.last_token.text === ";" || this._flags.last_token.type === d.START_BLOCK ? this.print_newline() : (this._flags.last_token.type === d.END_EXPR || this._flags.last_token.type === d.START_EXPR || this._flags.last_token.type === d.END_BLOCK || this._flags.last_token.text === "." || this._flags.last_token.type === d.COMMA) && this.allow_wrap_or_preserved_newline(O, O.newlines), this.print_token(O), this.set_mode(S), this._options.space_in_paren && (this._output.space_before_token = true), this.indent();
  }, C.prototype.handle_end_expr = function(O) {
    for (; this._flags.mode === v.Statement; )
      this.restore_mode();
    this.handle_whitespace_and_comments(O), this._flags.multiline_frame && this.allow_wrap_or_preserved_newline(
      O,
      O.text === "]" && x(this._flags.mode) && !this._options.keep_array_indentation
    ), this._options.space_in_paren && (this._flags.last_token.type === d.START_EXPR && !this._options.space_in_empty_paren ? (this._output.trim(), this._output.space_before_token = false) : this._output.space_before_token = true), this.deindent(), this.print_token(O), this.restore_mode(), y(this._output, this._previous_flags), this._flags.do_while && this._previous_flags.mode === v.Conditional && (this._previous_flags.mode = v.Expression, this._flags.do_block = false, this._flags.do_while = false);
  }, C.prototype.handle_start_block = function(O) {
    this.handle_whitespace_and_comments(O);
    var S = this._tokens.peek(), F = this._tokens.peek(1);
    this._flags.last_word === "switch" && this._flags.last_token.type === d.END_EXPR ? (this.set_mode(v.BlockStatement), this._flags.in_case_statement = true) : this._flags.case_body ? this.set_mode(v.BlockStatement) : F && (c(F.text, [":", ","]) && c(S.type, [d.STRING, d.WORD, d.RESERVED]) || c(S.text, ["get", "set", "..."]) && c(F.type, [d.WORD, d.RESERVED])) ? c(this._last_last_text, ["class", "interface"]) && !c(F.text, [":", ","]) ? this.set_mode(v.BlockStatement) : this.set_mode(v.ObjectLiteral) : this._flags.last_token.type === d.OPERATOR && this._flags.last_token.text === "=>" ? this.set_mode(v.BlockStatement) : c(this._flags.last_token.type, [d.EQUALS, d.START_EXPR, d.COMMA, d.OPERATOR]) || w(this._flags.last_token, ["return", "throw", "import", "default"]) ? this.set_mode(v.ObjectLiteral) : this.set_mode(v.BlockStatement), this._flags.last_token && w(this._flags.last_token.previous, ["class", "extends"]) && (this._flags.class_start_block = true);
    var $ = !S.comments_before && S.text === "}", U = $ && this._flags.last_word === "function" && this._flags.last_token.type === d.END_EXPR;
    if (this._options.brace_preserve_inline) {
      var L = 0, z = null;
      this._flags.inline_frame = true;
      do
        if (L += 1, z = this._tokens.peek(L - 1), z.newlines) {
          this._flags.inline_frame = false;
          break;
        }
      while (z.type !== d.EOF && !(z.type === d.END_BLOCK && z.opened === O));
    }
    (this._options.brace_style === "expand" || this._options.brace_style === "none" && O.newlines) && !this._flags.inline_frame ? this._flags.last_token.type !== d.OPERATOR && (U || this._flags.last_token.type === d.EQUALS || w(this._flags.last_token, R) && this._flags.last_token.text !== "else") ? this._output.space_before_token = true : this.print_newline(false, true) : (x(this._previous_flags.mode) && (this._flags.last_token.type === d.START_EXPR || this._flags.last_token.type === d.COMMA) && ((this._flags.last_token.type === d.COMMA || this._options.space_in_paren) && (this._output.space_before_token = true), (this._flags.last_token.type === d.COMMA || this._flags.last_token.type === d.START_EXPR && this._flags.inline_frame) && (this.allow_wrap_or_preserved_newline(O), this._previous_flags.multiline_frame = this._previous_flags.multiline_frame || this._flags.multiline_frame, this._flags.multiline_frame = false)), this._flags.last_token.type !== d.OPERATOR && this._flags.last_token.type !== d.START_EXPR && (c(this._flags.last_token.type, [d.START_BLOCK, d.SEMICOLON]) && !this._flags.inline_frame ? this.print_newline() : this._output.space_before_token = true)), this.print_token(O), this.indent(), !$ && !(this._options.brace_preserve_inline && this._flags.inline_frame) && this.print_newline();
  }, C.prototype.handle_end_block = function(O) {
    for (this.handle_whitespace_and_comments(O); this._flags.mode === v.Statement; )
      this.restore_mode();
    var S = this._flags.last_token.type === d.START_BLOCK;
    this._flags.inline_frame && !S ? this._output.space_before_token = true : this._options.brace_style === "expand" ? S || this.print_newline() : S || (x(this._flags.mode) && this._options.keep_array_indentation ? (this._options.keep_array_indentation = false, this.print_newline(), this._options.keep_array_indentation = true) : this.print_newline()), this.restore_mode(), this.print_token(O);
  }, C.prototype.handle_word = function(O) {
    if (O.type === d.RESERVED) {
      if (c(O.text, ["set", "get"]) && this._flags.mode !== v.ObjectLiteral)
        O.type = d.WORD;
      else if (O.text === "import" && c(this._tokens.peek().text, ["(", "."]))
        O.type = d.WORD;
      else if (c(O.text, ["as", "from"]) && !this._flags.import_block)
        O.type = d.WORD;
      else if (this._flags.mode === v.ObjectLiteral) {
        var S = this._tokens.peek();
        S.text === ":" && (O.type = d.WORD);
      }
    }
    if (this.start_of_statement(O) ? w(this._flags.last_token, ["var", "let", "const"]) && O.type === d.WORD && (this._flags.declaration_statement = true) : O.newlines && !D(this._flags.mode) && (this._flags.last_token.type !== d.OPERATOR || this._flags.last_token.text === "--" || this._flags.last_token.text === "++") && this._flags.last_token.type !== d.EQUALS && (this._options.preserve_newlines || !w(this._flags.last_token, ["var", "let", "const", "set", "get"])) ? (this.handle_whitespace_and_comments(O), this.print_newline()) : this.handle_whitespace_and_comments(O), this._flags.do_block && !this._flags.do_while)
      if (g(O, "while")) {
        this._output.space_before_token = true, this.print_token(O), this._output.space_before_token = true, this._flags.do_while = true;
        return;
      } else
        this.print_newline(), this._flags.do_block = false;
    if (this._flags.if_block)
      if (!this._flags.else_block && g(O, "else"))
        this._flags.else_block = true;
      else {
        for (; this._flags.mode === v.Statement; )
          this.restore_mode();
        this._flags.if_block = false, this._flags.else_block = false;
      }
    if (this._flags.in_case_statement && w(O, ["case", "default"])) {
      this.print_newline(), !this._flags.case_block && (this._flags.case_body || this._options.jslint_happy) && this.deindent(), this._flags.case_body = false, this.print_token(O), this._flags.in_case = true;
      return;
    }
    if ((this._flags.last_token.type === d.COMMA || this._flags.last_token.type === d.START_EXPR || this._flags.last_token.type === d.EQUALS || this._flags.last_token.type === d.OPERATOR) && !this.start_of_object_property() && !(c(this._flags.last_token.text, ["+", "-"]) && this._last_last_text === ":" && this._flags.parent.mode === v.ObjectLiteral) && this.allow_wrap_or_preserved_newline(O), g(O, "function")) {
      (c(this._flags.last_token.text, ["}", ";"]) || this._output.just_added_newline() && !(c(this._flags.last_token.text, ["(", "[", "{", ":", "=", ","]) || this._flags.last_token.type === d.OPERATOR)) && !this._output.just_added_blankline() && !O.comments_before && (this.print_newline(), this.print_newline(true)), this._flags.last_token.type === d.RESERVED || this._flags.last_token.type === d.WORD ? w(this._flags.last_token, ["get", "set", "new", "export"]) || w(this._flags.last_token, B) ? this._output.space_before_token = true : g(this._flags.last_token, "default") && this._last_last_text === "export" ? this._output.space_before_token = true : this._flags.last_token.text === "declare" ? this._output.space_before_token = true : this.print_newline() : this._flags.last_token.type === d.OPERATOR || this._flags.last_token.text === "=" ? this._output.space_before_token = true : !this._flags.multiline_frame && (D(this._flags.mode) || x(this._flags.mode)) || this.print_newline(), this.print_token(O), this._flags.last_word = O.text;
      return;
    }
    var F = "NONE";
    if (this._flags.last_token.type === d.END_BLOCK ? this._previous_flags.inline_frame ? F = "SPACE" : w(O, ["else", "catch", "finally", "from"]) ? this._options.brace_style === "expand" || this._options.brace_style === "end-expand" || this._options.brace_style === "none" && O.newlines ? F = "NEWLINE" : (F = "SPACE", this._output.space_before_token = true) : F = "NEWLINE" : this._flags.last_token.type === d.SEMICOLON && this._flags.mode === v.BlockStatement ? F = "NEWLINE" : this._flags.last_token.type === d.SEMICOLON && D(this._flags.mode) ? F = "SPACE" : this._flags.last_token.type === d.STRING ? F = "NEWLINE" : this._flags.last_token.type === d.RESERVED || this._flags.last_token.type === d.WORD || this._flags.last_token.text === "*" && (c(this._last_last_text, ["function", "yield"]) || this._flags.mode === v.ObjectLiteral && c(this._last_last_text, ["{", ","])) ? F = "SPACE" : this._flags.last_token.type === d.START_BLOCK ? this._flags.inline_frame ? F = "SPACE" : F = "NEWLINE" : this._flags.last_token.type === d.END_EXPR && (this._output.space_before_token = true, F = "NEWLINE"), w(O, l) && this._flags.last_token.text !== ")" && (this._flags.inline_frame || this._flags.last_token.text === "else" || this._flags.last_token.text === "export" ? F = "SPACE" : F = "NEWLINE"), w(O, ["else", "catch", "finally"]))
      if ((!(this._flags.last_token.type === d.END_BLOCK && this._previous_flags.mode === v.BlockStatement) || this._options.brace_style === "expand" || this._options.brace_style === "end-expand" || this._options.brace_style === "none" && O.newlines) && !this._flags.inline_frame)
        this.print_newline();
      else {
        this._output.trim(true);
        var $ = this._output.current_line;
        $.last() !== "}" && this.print_newline(), this._output.space_before_token = true;
      }
    else
      F === "NEWLINE" ? w(this._flags.last_token, R) ? this._output.space_before_token = true : this._flags.last_token.text === "declare" && w(O, ["var", "let", "const"]) ? this._output.space_before_token = true : this._flags.last_token.type !== d.END_EXPR ? (this._flags.last_token.type !== d.START_EXPR || !w(O, ["var", "let", "const"])) && this._flags.last_token.text !== ":" && (g(O, "if") && g(O.previous, "else") ? this._output.space_before_token = true : this.print_newline()) : w(O, l) && this._flags.last_token.text !== ")" && this.print_newline() : this._flags.multiline_frame && x(this._flags.mode) && this._flags.last_token.text === "," && this._last_last_text === "}" ? this.print_newline() : F === "SPACE" && (this._output.space_before_token = true);
    O.previous && (O.previous.type === d.WORD || O.previous.type === d.RESERVED) && (this._output.space_before_token = true), this.print_token(O), this._flags.last_word = O.text, O.type === d.RESERVED && (O.text === "do" ? this._flags.do_block = true : O.text === "if" ? this._flags.if_block = true : O.text === "import" ? this._flags.import_block = true : this._flags.import_block && g(O, "from") && (this._flags.import_block = false));
  }, C.prototype.handle_semicolon = function(O) {
    this.start_of_statement(O) ? this._output.space_before_token = false : this.handle_whitespace_and_comments(O);
    for (var S = this._tokens.peek(); this._flags.mode === v.Statement && !(this._flags.if_block && g(S, "else")) && !this._flags.do_block; )
      this.restore_mode();
    this._flags.import_block && (this._flags.import_block = false), this.print_token(O);
  }, C.prototype.handle_string = function(O) {
    O.text.startsWith("`") && O.newlines === 0 && O.whitespace_before === "" && (O.previous.text === ")" || this._flags.last_token.type === d.WORD) || (this.start_of_statement(O) ? this._output.space_before_token = true : (this.handle_whitespace_and_comments(O), this._flags.last_token.type === d.RESERVED || this._flags.last_token.type === d.WORD || this._flags.inline_frame ? this._output.space_before_token = true : this._flags.last_token.type === d.COMMA || this._flags.last_token.type === d.START_EXPR || this._flags.last_token.type === d.EQUALS || this._flags.last_token.type === d.OPERATOR ? this.start_of_object_property() || this.allow_wrap_or_preserved_newline(O) : O.text.startsWith("`") && this._flags.last_token.type === d.END_EXPR && (O.previous.text === "]" || O.previous.text === ")") && O.newlines === 0 ? this._output.space_before_token = true : this.print_newline())), this.print_token(O);
  }, C.prototype.handle_equals = function(O) {
    this.start_of_statement(O) || this.handle_whitespace_and_comments(O), this._flags.declaration_statement && (this._flags.declaration_assignment = true), this._output.space_before_token = true, this.print_token(O), this._output.space_before_token = true;
  }, C.prototype.handle_comma = function(O) {
    this.handle_whitespace_and_comments(O, true), this.print_token(O), this._output.space_before_token = true, this._flags.declaration_statement ? (D(this._flags.parent.mode) && (this._flags.declaration_assignment = false), this._flags.declaration_assignment ? (this._flags.declaration_assignment = false, this.print_newline(false, true)) : this._options.comma_first && this.allow_wrap_or_preserved_newline(O)) : this._flags.mode === v.ObjectLiteral || this._flags.mode === v.Statement && this._flags.parent.mode === v.ObjectLiteral ? (this._flags.mode === v.Statement && this.restore_mode(), this._flags.inline_frame || this.print_newline()) : this._options.comma_first && this.allow_wrap_or_preserved_newline(O);
  }, C.prototype.handle_operator = function(O) {
    var S = O.text === "*" && (w(this._flags.last_token, ["function", "yield"]) || c(this._flags.last_token.type, [d.START_BLOCK, d.COMMA, d.END_BLOCK, d.SEMICOLON])), F = c(O.text, ["-", "+"]) && (c(this._flags.last_token.type, [d.START_BLOCK, d.START_EXPR, d.EQUALS, d.OPERATOR]) || c(this._flags.last_token.text, l) || this._flags.last_token.text === ",");
    if (!this.start_of_statement(O)) {
      var $ = !S;
      this.handle_whitespace_and_comments(O, $);
    }
    if (O.text === "*" && this._flags.last_token.type === d.DOT) {
      this.print_token(O);
      return;
    }
    if (O.text === "::") {
      this.print_token(O);
      return;
    }
    if (c(O.text, ["-", "+"]) && this.start_of_object_property()) {
      this.print_token(O);
      return;
    }
    if (this._flags.last_token.type === d.OPERATOR && c(this._options.operator_position, b) && this.allow_wrap_or_preserved_newline(O), O.text === ":" && this._flags.in_case) {
      this.print_token(O), this._flags.in_case = false, this._flags.case_body = true, this._tokens.peek().type !== d.START_BLOCK ? (this.indent(), this.print_newline(), this._flags.case_block = false) : (this._flags.case_block = true, this._output.space_before_token = true);
      return;
    }
    var U = true, L = true, z = false;
    if (O.text === ":" ? this._flags.ternary_depth === 0 ? U = false : (this._flags.ternary_depth -= 1, z = true) : O.text === "?" && (this._flags.ternary_depth += 1), !F && !S && this._options.preserve_newlines && c(O.text, f)) {
      var Q = O.text === ":", J = Q && z, ae = Q && !z;
      switch (this._options.operator_position) {
        case E.before_newline:
          this._output.space_before_token = !ae, this.print_token(O), (!Q || J) && this.allow_wrap_or_preserved_newline(O), this._output.space_before_token = true;
          return;
        case E.after_newline:
          this._output.space_before_token = true, !Q || J ? this._tokens.peek().newlines ? this.print_newline(false, true) : this.allow_wrap_or_preserved_newline(O) : this._output.space_before_token = false, this.print_token(O), this._output.space_before_token = true;
          return;
        case E.preserve_newline:
          ae || this.allow_wrap_or_preserved_newline(O), U = !(this._output.just_added_newline() || ae), this._output.space_before_token = U, this.print_token(O), this._output.space_before_token = true;
          return;
      }
    }
    if (S) {
      this.allow_wrap_or_preserved_newline(O), U = false;
      var M = this._tokens.peek();
      L = M && c(M.type, [d.WORD, d.RESERVED]);
    } else if (O.text === "...")
      this.allow_wrap_or_preserved_newline(O), U = this._flags.last_token.type === d.START_BLOCK, L = false;
    else if (c(O.text, ["--", "++", "!", "~"]) || F) {
      if ((this._flags.last_token.type === d.COMMA || this._flags.last_token.type === d.START_EXPR) && this.allow_wrap_or_preserved_newline(O), U = false, L = false, O.newlines && (O.text === "--" || O.text === "++" || O.text === "~")) {
        var V = w(this._flags.last_token, R) && O.newlines;
        V && (this._previous_flags.if_block || this._previous_flags.else_block) && this.restore_mode(), this.print_newline(V, true);
      }
      this._flags.last_token.text === ";" && D(this._flags.mode) && (U = true), this._flags.last_token.type === d.RESERVED ? U = true : this._flags.last_token.type === d.END_EXPR ? U = !(this._flags.last_token.text === "]" && (O.text === "--" || O.text === "++")) : this._flags.last_token.type === d.OPERATOR && (U = c(O.text, ["--", "-", "++", "+"]) && c(this._flags.last_token.text, ["--", "-", "++", "+"]), c(O.text, ["+", "-"]) && c(this._flags.last_token.text, ["--", "++"]) && (L = true)), (this._flags.mode === v.BlockStatement && !this._flags.inline_frame || this._flags.mode === v.Statement) && (this._flags.last_token.text === "{" || this._flags.last_token.text === ";") && this.print_newline();
    }
    this._output.space_before_token = this._output.space_before_token || U, this.print_token(O), this._output.space_before_token = L;
  }, C.prototype.handle_block_comment = function(O, S) {
    if (this._output.raw) {
      this._output.add_raw_token(O), O.directives && O.directives.preserve === "end" && (this._output.raw = this._options.test_output_raw);
      return;
    }
    if (O.directives) {
      this.print_newline(false, S), this.print_token(O), O.directives.preserve === "start" && (this._output.raw = true), this.print_newline(false, true);
      return;
    }
    if (!a.newline.test(O.text) && !O.newlines) {
      this._output.space_before_token = true, this.print_token(O), this._output.space_before_token = true;
      return;
    } else
      this.print_block_commment(O, S);
  }, C.prototype.print_block_commment = function(O, S) {
    var F = T(O.text), $, U = false, L = false, z = O.whitespace_before, Q = z.length;
    if (this.print_newline(false, S), this.print_token_line_indentation(O), this._output.add_token(F[0]), this.print_newline(false, S), F.length > 1) {
      for (F = F.slice(1), U = I(F, "*"), L = N(F, z), U && (this._flags.alignment = 1), $ = 0; $ < F.length; $++)
        U ? (this.print_token_line_indentation(O), this._output.add_token(h2(F[$]))) : L && F[$] ? (this.print_token_line_indentation(O), this._output.add_token(F[$].substring(Q))) : (this._output.current_line.set_indent(-1), this._output.add_token(F[$])), this.print_newline(false, S);
      this._flags.alignment = 0;
    }
  }, C.prototype.handle_comment = function(O, S) {
    O.newlines ? this.print_newline(false, S) : this._output.trim(true), this._output.space_before_token = true, this.print_token(O), this.print_newline(false, S);
  }, C.prototype.handle_dot = function(O) {
    this.start_of_statement(O) || this.handle_whitespace_and_comments(O, true), this._flags.last_token.text.match("^[0-9]+$") && (this._output.space_before_token = true), w(this._flags.last_token, R) ? this._output.space_before_token = false : this.allow_wrap_or_preserved_newline(
      O,
      this._flags.last_token.text === ")" && this._options.break_chained_methods
    ), this._options.unindent_chained_methods && this._output.just_added_newline() && this.deindent(), this.print_token(O);
  }, C.prototype.handle_unknown = function(O, S) {
    this.print_token(O), O.text[O.text.length - 1] === `
` && this.print_newline(false, S);
  }, C.prototype.handle_eof = function(O) {
    for (; this._flags.mode === v.Statement; )
      this.restore_mode();
    this.handle_whitespace_and_comments(O);
  }, Us.Beautifier = C, Us;
}
var Fc;
function tb() {
  if (Fc)
    return Ra.exports;
  Fc = 1;
  var t3 = eb().Beautifier, r = Lp().Options;
  function a(o, n) {
    var l = new t3(o, n);
    return l.beautify();
  }
  return Ra.exports = a, Ra.exports.defaultOptions = function() {
    return new r();
  }, Ra.exports;
}
var Ia = { exports: {} };
var tu = {};
var nu = {};
var kc;
function kp() {
  if (kc)
    return nu;
  kc = 1;
  var t3 = Cu().Options;
  function r(a) {
    t3.call(this, a, "css"), this.selector_separator_newline = this._get_boolean("selector_separator_newline", true), this.newline_between_rules = this._get_boolean("newline_between_rules", true);
    var o = this._get_boolean("space_around_selector_separator");
    this.space_around_combinator = this._get_boolean("space_around_combinator") || o;
    var n = this._get_selection_list("brace_style", ["collapse", "expand", "end-expand", "none", "preserve-inline"]);
    this.brace_style = "collapse";
    for (var l = 0; l < n.length; l++)
      n[l] !== "expand" ? this.brace_style = "collapse" : this.brace_style = n[l];
  }
  return r.prototype = new t3(), nu.Options = r, nu;
}
var Bc;
function nb() {
  if (Bc)
    return tu;
  Bc = 1;
  var t3 = kp().Options, r = wu().Output, a = Su().InputScanner, o = Eu().Directives, n = new o(/\/\*/, /\*\//), l = /\r\n|[\r\n]/, f = /\r\n|[\r\n]/g, d = /\s/, c = /(?:\s|\n)+/g, h2 = /\/\*(?:[\s\S]*?)((?:\*\/)|$)/g, m = /\/\/(?:[^\n\r\u2028\u2029]*)/g;
  function g(w, R) {
    this._source_text = w || "", this._options = new t3(R), this._ch = null, this._input = null, this.NESTED_AT_RULE = {
      page: true,
      "font-face": true,
      keyframes: true,
      media: true,
      supports: true,
      document: true
    }, this.CONDITIONAL_GROUP_RULE = {
      media: true,
      supports: true,
      document: true
    }, this.NON_SEMICOLON_NEWLINE_PROPERTY = [
      "grid-template-areas",
      "grid-template"
    ];
  }
  return g.prototype.eatString = function(w) {
    var R = "";
    for (this._ch = this._input.next(); this._ch; ) {
      if (R += this._ch, this._ch === "\\")
        R += this._input.next();
      else if (w.indexOf(this._ch) !== -1 || this._ch === `
`)
        break;
      this._ch = this._input.next();
    }
    return R;
  }, g.prototype.eatWhitespace = function(w) {
    for (var R = d.test(this._input.peek()), A = 0; d.test(this._input.peek()); )
      this._ch = this._input.next(), w && this._ch === `
` && (A === 0 || A < this._options.max_preserve_newlines) && (A++, this._output.add_new_line(true));
    return R;
  }, g.prototype.foundNestedPseudoClass = function() {
    for (var w = 0, R = 1, A = this._input.peek(R); A; ) {
      if (A === "{")
        return true;
      if (A === "(")
        w += 1;
      else if (A === ")") {
        if (w === 0)
          return false;
        w -= 1;
      } else if (A === ";" || A === "}")
        return false;
      R++, A = this._input.peek(R);
    }
    return false;
  }, g.prototype.print_string = function(w) {
    this._output.set_indent(this._indentLevel), this._output.non_breaking_space = true, this._output.add_token(w);
  }, g.prototype.preserveSingleSpace = function(w) {
    w && (this._output.space_before_token = true);
  }, g.prototype.indent = function() {
    this._indentLevel++;
  }, g.prototype.outdent = function() {
    this._indentLevel > 0 && this._indentLevel--;
  }, g.prototype.beautify = function() {
    if (this._options.disabled)
      return this._source_text;
    var w = this._source_text, R = this._options.eol;
    R === "auto" && (R = `
`, w && l.test(w || "") && (R = w.match(l)[0])), w = w.replace(f, `
`);
    var A = w.match(/^[\t ]*/)[0];
    this._output = new r(this._options, A), this._input = new a(w), this._indentLevel = 0, this._nestedLevel = 0, this._ch = null;
    for (var E = 0, b = false, v = false, y = false, T = false, x = false, D = this._ch, I = false, N, C, B; N = this._input.read(c), C = N !== "", B = D, this._ch = this._input.next(), this._ch === "\\" && this._input.hasNext() && (this._ch += this._input.next()), D = this._ch, this._ch; )
      if (this._ch === "/" && this._input.peek() === "*") {
        this._output.add_new_line(), this._input.back();
        var O = this._input.read(h2), S = n.get_directives(O);
        S && S.ignore === "start" && (O += n.readIgnored(this._input)), this.print_string(O), this.eatWhitespace(true), this._output.add_new_line();
      } else if (this._ch === "/" && this._input.peek() === "/")
        this._output.space_before_token = true, this._input.back(), this.print_string(this._input.read(m)), this.eatWhitespace(true);
      else if (this._ch === "$") {
        this.preserveSingleSpace(C), this.print_string(this._ch);
        var F = this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);
        F.match(/[ :]$/) && (F = this.eatString(": ").replace(/\s+$/, ""), this.print_string(F), this._output.space_before_token = true), E === 0 && F.indexOf(":") !== -1 && (v = true, this.indent());
      } else if (this._ch === "@")
        if (this.preserveSingleSpace(C), this._input.peek() === "{")
          this.print_string(this._ch + this.eatString("}"));
        else {
          this.print_string(this._ch);
          var $ = this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);
          $.match(/[ :]$/) && ($ = this.eatString(": ").replace(/\s+$/, ""), this.print_string($), this._output.space_before_token = true), E === 0 && $.indexOf(":") !== -1 ? (v = true, this.indent()) : $ in this.NESTED_AT_RULE ? (this._nestedLevel += 1, $ in this.CONDITIONAL_GROUP_RULE && (y = true)) : E === 0 && !v && (T = true);
        }
      else if (this._ch === "#" && this._input.peek() === "{")
        this.preserveSingleSpace(C), this.print_string(this._ch + this.eatString("}"));
      else if (this._ch === "{")
        v && (v = false, this.outdent()), T = false, y ? (y = false, b = this._indentLevel >= this._nestedLevel) : b = this._indentLevel >= this._nestedLevel - 1, this._options.newline_between_rules && b && this._output.previous_line && this._output.previous_line.item(-1) !== "{" && this._output.ensure_empty_line_above("/", ","), this._output.space_before_token = true, this._options.brace_style === "expand" ? (this._output.add_new_line(), this.print_string(this._ch), this.indent(), this._output.set_indent(this._indentLevel)) : (B === "(" ? this._output.space_before_token = false : B !== "," && this.indent(), this.print_string(this._ch)), this.eatWhitespace(true), this._output.add_new_line();
      else if (this._ch === "}")
        this.outdent(), this._output.add_new_line(), B === "{" && this._output.trim(true), v && (this.outdent(), v = false), this.print_string(this._ch), b = false, this._nestedLevel && this._nestedLevel--, this.eatWhitespace(true), this._output.add_new_line(), this._options.newline_between_rules && !this._output.just_added_blankline() && this._input.peek() !== "}" && this._output.add_new_line(true), this._input.peek() === ")" && (this._output.trim(true), this._options.brace_style === "expand" && this._output.add_new_line(true));
      else if (this._ch === ":") {
        for (var U = 0; U < this.NON_SEMICOLON_NEWLINE_PROPERTY.length; U++)
          if (this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[U])) {
            I = true;
            break;
          }
        (b || y) && !(this._input.lookBack("&") || this.foundNestedPseudoClass()) && !this._input.lookBack("(") && !T && E === 0 ? (this.print_string(":"), v || (v = true, this._output.space_before_token = true, this.eatWhitespace(true), this.indent())) : (this._input.lookBack(" ") && (this._output.space_before_token = true), this._input.peek() === ":" ? (this._ch = this._input.next(), this.print_string("::")) : this.print_string(":"));
      } else if (this._ch === '"' || this._ch === "'") {
        var L = B === '"' || B === "'";
        this.preserveSingleSpace(L || C), this.print_string(this._ch + this.eatString(this._ch)), this.eatWhitespace(true);
      } else if (this._ch === ";")
        I = false, E === 0 ? (v && (this.outdent(), v = false), T = false, this.print_string(this._ch), this.eatWhitespace(true), this._input.peek() !== "/" && this._output.add_new_line()) : (this.print_string(this._ch), this.eatWhitespace(true), this._output.space_before_token = true);
      else if (this._ch === "(")
        if (this._input.lookBack("url"))
          this.print_string(this._ch), this.eatWhitespace(), E++, this.indent(), this._ch = this._input.next(), this._ch === ")" || this._ch === '"' || this._ch === "'" ? this._input.back() : this._ch && (this.print_string(this._ch + this.eatString(")")), E && (E--, this.outdent()));
        else {
          var z = false;
          this._input.lookBack("with") && (z = true), this.preserveSingleSpace(C || z), this.print_string(this._ch), v && B === "$" && this._options.selector_separator_newline ? (this._output.add_new_line(), x = true) : (this.eatWhitespace(), E++, this.indent());
        }
      else if (this._ch === ")")
        E && (E--, this.outdent()), x && this._input.peek() === ";" && this._options.selector_separator_newline && (x = false, this.outdent(), this._output.add_new_line()), this.print_string(this._ch);
      else if (this._ch === ",")
        this.print_string(this._ch), this.eatWhitespace(true), this._options.selector_separator_newline && (!v || x) && E === 0 && !T ? this._output.add_new_line() : this._output.space_before_token = true;
      else if ((this._ch === ">" || this._ch === "+" || this._ch === "~") && !v && E === 0)
        this._options.space_around_combinator ? (this._output.space_before_token = true, this.print_string(this._ch), this._output.space_before_token = true) : (this.print_string(this._ch), this.eatWhitespace(), this._ch && d.test(this._ch) && (this._ch = ""));
      else if (this._ch === "]")
        this.print_string(this._ch);
      else if (this._ch === "[")
        this.preserveSingleSpace(C), this.print_string(this._ch);
      else if (this._ch === "=")
        this.eatWhitespace(), this.print_string("="), d.test(this._ch) && (this._ch = "");
      else if (this._ch === "!" && !this._input.lookBack("\\"))
        this._output.space_before_token = true, this.print_string(this._ch);
      else {
        var Q = B === '"' || B === "'";
        this.preserveSingleSpace(Q || C), this.print_string(this._ch), !this._output.just_added_newline() && this._input.peek() === `
` && I && this._output.add_new_line();
      }
    var J = this._output.get_code(R);
    return J;
  }, tu.Beautifier = g, tu;
}
var $c;
function ib() {
  if ($c)
    return Ia.exports;
  $c = 1;
  var t3 = nb().Beautifier, r = kp().Options;
  function a(o, n) {
    var l = new t3(o, n);
    return l.beautify();
  }
  return Ia.exports = a, Ia.exports.defaultOptions = function() {
    return new r();
  }, Ia.exports;
}
var Ma = { exports: {} };
var iu = {};
var ru = {};
var Hc;
function Bp() {
  if (Hc)
    return ru;
  Hc = 1;
  var t3 = Cu().Options;
  function r(a) {
    t3.call(this, a, "html"), this.templating.length === 1 && this.templating[0] === "auto" && (this.templating = ["django", "erb", "handlebars", "php"]), this.indent_inner_html = this._get_boolean("indent_inner_html"), this.indent_body_inner_html = this._get_boolean("indent_body_inner_html", true), this.indent_head_inner_html = this._get_boolean("indent_head_inner_html", true), this.indent_handlebars = this._get_boolean("indent_handlebars", true), this.wrap_attributes = this._get_selection(
      "wrap_attributes",
      ["auto", "force", "force-aligned", "force-expand-multiline", "aligned-multiple", "preserve", "preserve-aligned"]
    ), this.wrap_attributes_min_attrs = this._get_number("wrap_attributes_min_attrs", 2), this.wrap_attributes_indent_size = this._get_number("wrap_attributes_indent_size", this.indent_size), this.extra_liners = this._get_array("extra_liners", ["head", "body", "/html"]), this.inline = this._get_array("inline", [
      "a",
      "abbr",
      "area",
      "audio",
      "b",
      "bdi",
      "bdo",
      "br",
      "button",
      "canvas",
      "cite",
      "code",
      "data",
      "datalist",
      "del",
      "dfn",
      "em",
      "embed",
      "i",
      "iframe",
      "img",
      "input",
      "ins",
      "kbd",
      "keygen",
      "label",
      "map",
      "mark",
      "math",
      "meter",
      "noscript",
      "object",
      "output",
      "progress",
      "q",
      "ruby",
      "s",
      "samp",
      "select",
      "small",
      "span",
      "strong",
      "sub",
      "sup",
      "svg",
      "template",
      "textarea",
      "time",
      "u",
      "var",
      "video",
      "wbr",
      "text",
      "acronym",
      "big",
      "strike",
      "tt"
    ]), this.inline_custom_elements = this._get_boolean("inline_custom_elements", true), this.void_elements = this._get_array("void_elements", [
      "area",
      "base",
      "br",
      "col",
      "embed",
      "hr",
      "img",
      "input",
      "keygen",
      "link",
      "menuitem",
      "meta",
      "param",
      "source",
      "track",
      "wbr",
      "!doctype",
      "?xml",
      "basefont",
      "isindex"
    ]), this.unformatted = this._get_array("unformatted", []), this.content_unformatted = this._get_array("content_unformatted", [
      "pre",
      "textarea"
    ]), this.unformatted_content_delimiter = this._get_characters("unformatted_content_delimiter"), this.indent_scripts = this._get_selection("indent_scripts", ["normal", "keep", "separate"]);
  }
  return r.prototype = new t3(), ru.Options = r, ru;
}
var Pa = {};
var Vc;
function jc() {
  if (Vc)
    return Pa;
  Vc = 1;
  var t3 = Wa().Tokenizer, r = Wa().TOKEN, a = Eu().Directives, o = Fp().TemplatablePattern, n = el().Pattern, l = {
    TAG_OPEN: "TK_TAG_OPEN",
    TAG_CLOSE: "TK_TAG_CLOSE",
    CONTROL_FLOW_OPEN: "TK_CONTROL_FLOW_OPEN",
    CONTROL_FLOW_CLOSE: "TK_CONTROL_FLOW_CLOSE",
    ATTRIBUTE: "TK_ATTRIBUTE",
    EQUALS: "TK_EQUALS",
    VALUE: "TK_VALUE",
    COMMENT: "TK_COMMENT",
    TEXT: "TK_TEXT",
    UNKNOWN: "TK_UNKNOWN",
    START: r.START,
    RAW: r.RAW,
    EOF: r.EOF
  }, f = new a(/<\!--/, /-->/), d = function(c, h2) {
    t3.call(this, c, h2), this._current_tag_name = "";
    var m = new o(this._input).read_options(this._options), g = new n(this._input);
    if (this.__patterns = {
      word: m.until(/[\n\r\t <]/),
      word_control_flow_close_excluded: m.until(/[\n\r\t <}]/),
      single_quote: m.until_after(/'/),
      double_quote: m.until_after(/"/),
      attribute: m.until(/[\n\r\t =>]|\/>/),
      element_name: m.until(/[\n\r\t >\/]/),
      angular_control_flow_start: g.matching(/\@[a-zA-Z]+[^({]*[({]/),
      handlebars_comment: g.starting_with(/{{!--/).until_after(/--}}/),
      handlebars: g.starting_with(/{{/).until_after(/}}/),
      handlebars_open: g.until(/[\n\r\t }]/),
      handlebars_raw_close: g.until(/}}/),
      comment: g.starting_with(/<!--/).until_after(/-->/),
      cdata: g.starting_with(/<!\[CDATA\[/).until_after(/]]>/),
      conditional_comment: g.starting_with(/<!\[/).until_after(/]>/),
      processing: g.starting_with(/<\?/).until_after(/\?>/)
    }, this._options.indent_handlebars && (this.__patterns.word = this.__patterns.word.exclude("handlebars"), this.__patterns.word_control_flow_close_excluded = this.__patterns.word_control_flow_close_excluded.exclude("handlebars")), this._unformatted_content_delimiter = null, this._options.unformatted_content_delimiter) {
      var w = this._input.get_literal_regexp(this._options.unformatted_content_delimiter);
      this.__patterns.unformatted_content_delimiter = g.matching(w).until_after(w);
    }
  };
  return d.prototype = new t3(), d.prototype._is_comment = function(c) {
    return false;
  }, d.prototype._is_opening = function(c) {
    return c.type === l.TAG_OPEN || c.type === l.CONTROL_FLOW_OPEN;
  }, d.prototype._is_closing = function(c, h2) {
    return c.type === l.TAG_CLOSE && h2 && ((c.text === ">" || c.text === "/>") && h2.text[0] === "<" || c.text === "}}" && h2.text[0] === "{" && h2.text[1] === "{") || c.type === l.CONTROL_FLOW_CLOSE && c.text === "}" && h2.text.endsWith("{");
  }, d.prototype._reset = function() {
    this._current_tag_name = "";
  }, d.prototype._get_next_token = function(c, h2) {
    var m = null;
    this._readWhitespace();
    var g = this._input.peek();
    return g === null ? this._create_token(l.EOF, "") : (m = m || this._read_open_handlebars(g, h2), m = m || this._read_attribute(g, c, h2), m = m || this._read_close(g, h2), m = m || this._read_script_and_style(g, c), m = m || this._read_control_flows(g, h2), m = m || this._read_raw_content(g, c, h2), m = m || this._read_content_word(g, h2), m = m || this._read_comment_or_cdata(g), m = m || this._read_processing(g), m = m || this._read_open(g, h2), m = m || this._create_token(l.UNKNOWN, this._input.next()), m);
  }, d.prototype._read_comment_or_cdata = function(c) {
    var h2 = null, m = null, g = null;
    if (c === "<") {
      var w = this._input.peek(1);
      w === "!" && (m = this.__patterns.comment.read(), m ? (g = f.get_directives(m), g && g.ignore === "start" && (m += f.readIgnored(this._input))) : m = this.__patterns.cdata.read()), m && (h2 = this._create_token(l.COMMENT, m), h2.directives = g);
    }
    return h2;
  }, d.prototype._read_processing = function(c) {
    var h2 = null, m = null, g = null;
    if (c === "<") {
      var w = this._input.peek(1);
      (w === "!" || w === "?") && (m = this.__patterns.conditional_comment.read(), m = m || this.__patterns.processing.read()), m && (h2 = this._create_token(l.COMMENT, m), h2.directives = g);
    }
    return h2;
  }, d.prototype._read_open = function(c, h2) {
    var m = null, g = null;
    return (!h2 || h2.type === l.CONTROL_FLOW_OPEN) && c === "<" && (m = this._input.next(), this._input.peek() === "/" && (m += this._input.next()), m += this.__patterns.element_name.read(), g = this._create_token(l.TAG_OPEN, m)), g;
  }, d.prototype._read_open_handlebars = function(c, h2) {
    var m = null, g = null;
    return (!h2 || h2.type === l.CONTROL_FLOW_OPEN) && (this._options.templating.includes("angular") || this._options.indent_handlebars) && c === "{" && this._input.peek(1) === "{" && (this._options.indent_handlebars && this._input.peek(2) === "!" ? (m = this.__patterns.handlebars_comment.read(), m = m || this.__patterns.handlebars.read(), g = this._create_token(l.COMMENT, m)) : (m = this.__patterns.handlebars_open.read(), g = this._create_token(l.TAG_OPEN, m))), g;
  }, d.prototype._read_control_flows = function(c, h2) {
    var m = "", g = null;
    if (!this._options.templating.includes("angular"))
      return g;
    if (c === "@") {
      if (m = this.__patterns.angular_control_flow_start.read(), m === "")
        return g;
      for (var w = m.endsWith("(") ? 1 : 0, R = 0; !(m.endsWith("{") && w === R); ) {
        var A = this._input.next();
        if (A === null)
          break;
        A === "(" ? w++ : A === ")" && R++, m += A;
      }
      g = this._create_token(l.CONTROL_FLOW_OPEN, m);
    } else
      c === "}" && h2 && h2.type === l.CONTROL_FLOW_OPEN && (m = this._input.next(), g = this._create_token(l.CONTROL_FLOW_CLOSE, m));
    return g;
  }, d.prototype._read_close = function(c, h2) {
    var m = null, g = null;
    return h2 && h2.type === l.TAG_OPEN && (h2.text[0] === "<" && (c === ">" || c === "/" && this._input.peek(1) === ">") ? (m = this._input.next(), c === "/" && (m += this._input.next()), g = this._create_token(l.TAG_CLOSE, m)) : h2.text[0] === "{" && c === "}" && this._input.peek(1) === "}" && (this._input.next(), this._input.next(), g = this._create_token(l.TAG_CLOSE, "}}"))), g;
  }, d.prototype._read_attribute = function(c, h2, m) {
    var g = null, w = "";
    if (m && m.text[0] === "<")
      if (c === "=")
        g = this._create_token(l.EQUALS, this._input.next());
      else if (c === '"' || c === "'") {
        var R = this._input.next();
        c === '"' ? R += this.__patterns.double_quote.read() : R += this.__patterns.single_quote.read(), g = this._create_token(l.VALUE, R);
      } else
        w = this.__patterns.attribute.read(), w && (h2.type === l.EQUALS ? g = this._create_token(l.VALUE, w) : g = this._create_token(l.ATTRIBUTE, w));
    return g;
  }, d.prototype._is_content_unformatted = function(c) {
    return this._options.void_elements.indexOf(c) === -1 && (this._options.content_unformatted.indexOf(c) !== -1 || this._options.unformatted.indexOf(c) !== -1);
  }, d.prototype._read_raw_content = function(c, h2, m) {
    var g = "";
    if (m && m.text[0] === "{")
      g = this.__patterns.handlebars_raw_close.read();
    else if (h2.type === l.TAG_CLOSE && h2.opened.text[0] === "<" && h2.text[0] !== "/") {
      var w = h2.opened.text.substr(1).toLowerCase();
      this._is_content_unformatted(w) && (g = this._input.readUntil(new RegExp("</" + w + "[\\n\\r\\t ]*?>", "ig")));
    }
    return g ? this._create_token(l.TEXT, g) : null;
  }, d.prototype._read_script_and_style = function(c, h2) {
    if (h2.type === l.TAG_CLOSE && h2.opened.text[0] === "<" && h2.text[0] !== "/") {
      var m = h2.opened.text.substr(1).toLowerCase();
      if (m === "script" || m === "style") {
        var g = this._read_comment_or_cdata(c);
        if (g)
          return g.type = l.TEXT, g;
        var w = this._input.readUntil(new RegExp("</" + m + "[\\n\\r\\t ]*?>", "ig"));
        if (w)
          return this._create_token(l.TEXT, w);
      }
    }
    return null;
  }, d.prototype._read_content_word = function(c, h2) {
    var m = "";
    return this._options.unformatted_content_delimiter && c === this._options.unformatted_content_delimiter[0] && (m = this.__patterns.unformatted_content_delimiter.read()), m || (m = h2 && h2.type === l.CONTROL_FLOW_OPEN ? this.__patterns.word_control_flow_close_excluded.read() : this.__patterns.word.read()), m ? this._create_token(l.TEXT, m) : null;
  }, Pa.Tokenizer = d, Pa.TOKEN = l, Pa;
}
var zc;
function rb() {
  if (zc)
    return iu;
  zc = 1;
  var t3 = Bp().Options, r = wu().Output, a = jc().Tokenizer, o = jc().TOKEN, n = /\r\n|[\r\n]/, l = /\r\n|[\r\n]/g, f = function(b, v) {
    this.indent_level = 0, this.alignment_size = 0, this.max_preserve_newlines = b.max_preserve_newlines, this.preserve_newlines = b.preserve_newlines, this._output = new r(b, v);
  };
  f.prototype.current_line_has_match = function(b) {
    return this._output.current_line.has_match(b);
  }, f.prototype.set_space_before_token = function(b, v) {
    this._output.space_before_token = b, this._output.non_breaking_space = v;
  }, f.prototype.set_wrap_point = function() {
    this._output.set_indent(this.indent_level, this.alignment_size), this._output.set_wrap_point();
  }, f.prototype.add_raw_token = function(b) {
    this._output.add_raw_token(b);
  }, f.prototype.print_preserved_newlines = function(b) {
    var v = 0;
    b.type !== o.TEXT && b.previous.type !== o.TEXT && (v = b.newlines ? 1 : 0), this.preserve_newlines && (v = b.newlines < this.max_preserve_newlines + 1 ? b.newlines : this.max_preserve_newlines + 1);
    for (var y = 0; y < v; y++)
      this.print_newline(y > 0);
    return v !== 0;
  }, f.prototype.traverse_whitespace = function(b) {
    return b.whitespace_before || b.newlines ? (this.print_preserved_newlines(b) || (this._output.space_before_token = true), true) : false;
  }, f.prototype.previous_token_wrapped = function() {
    return this._output.previous_token_wrapped;
  }, f.prototype.print_newline = function(b) {
    this._output.add_new_line(b);
  }, f.prototype.print_token = function(b) {
    b.text && (this._output.set_indent(this.indent_level, this.alignment_size), this._output.add_token(b.text));
  }, f.prototype.indent = function() {
    this.indent_level++;
  }, f.prototype.deindent = function() {
    this.indent_level > 0 && (this.indent_level--, this._output.set_indent(this.indent_level, this.alignment_size));
  }, f.prototype.get_full_indent = function(b) {
    return b = this.indent_level + (b || 0), b < 1 ? "" : this._output.get_indent_string(b);
  };
  var d = function(b) {
    for (var v = null, y = b.next; y.type !== o.EOF && b.closed !== y; ) {
      if (y.type === o.ATTRIBUTE && y.text === "type") {
        y.next && y.next.type === o.EQUALS && y.next.next && y.next.next.type === o.VALUE && (v = y.next.next.text);
        break;
      }
      y = y.next;
    }
    return v;
  }, c = function(b, v) {
    var y = null, T = null;
    return v.closed ? (b === "script" ? y = "text/javascript" : b === "style" && (y = "text/css"), y = d(v) || y, y.search("text/css") > -1 ? T = "css" : y.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/) > -1 ? T = "javascript" : y.search(/(text|application|dojo)\/(x-)?(html)/) > -1 ? T = "html" : y.search(/test\/null/) > -1 && (T = "null"), T) : null;
  };
  function h2(b, v) {
    return v.indexOf(b) !== -1;
  }
  function m(b, v, y) {
    this.parent = b || null, this.tag = v ? v.tag_name : "", this.indent_level = y || 0, this.parser_token = v || null;
  }
  function g(b) {
    this._printer = b, this._current_frame = null;
  }
  g.prototype.get_parser_token = function() {
    return this._current_frame ? this._current_frame.parser_token : null;
  }, g.prototype.record_tag = function(b) {
    var v = new m(this._current_frame, b, this._printer.indent_level);
    this._current_frame = v;
  }, g.prototype._try_pop_frame = function(b) {
    var v = null;
    return b && (v = b.parser_token, this._printer.indent_level = b.indent_level, this._current_frame = b.parent), v;
  }, g.prototype._get_frame = function(b, v) {
    for (var y = this._current_frame; y && b.indexOf(y.tag) === -1; ) {
      if (v && v.indexOf(y.tag) !== -1) {
        y = null;
        break;
      }
      y = y.parent;
    }
    return y;
  }, g.prototype.try_pop = function(b, v) {
    var y = this._get_frame([b], v);
    return this._try_pop_frame(y);
  }, g.prototype.indent_to_tag = function(b) {
    var v = this._get_frame(b);
    v && (this._printer.indent_level = v.indent_level);
  };
  function w(b, v, y, T) {
    this._source_text = b || "", v = v || {}, this._js_beautify = y, this._css_beautify = T, this._tag_stack = null;
    var x = new t3(v, "html");
    this._options = x, this._is_wrap_attributes_force = this._options.wrap_attributes.substr(0, 5) === "force", this._is_wrap_attributes_force_expand_multiline = this._options.wrap_attributes === "force-expand-multiline", this._is_wrap_attributes_force_aligned = this._options.wrap_attributes === "force-aligned", this._is_wrap_attributes_aligned_multiple = this._options.wrap_attributes === "aligned-multiple", this._is_wrap_attributes_preserve = this._options.wrap_attributes.substr(0, 8) === "preserve", this._is_wrap_attributes_preserve_aligned = this._options.wrap_attributes === "preserve-aligned";
  }
  w.prototype.beautify = function() {
    if (this._options.disabled)
      return this._source_text;
    var b = this._source_text, v = this._options.eol;
    this._options.eol === "auto" && (v = `
`, b && n.test(b) && (v = b.match(n)[0])), b = b.replace(l, `
`);
    var y = b.match(/^[\t ]*/)[0], T = {
      text: "",
      type: ""
    }, x = new R(this._options), D = new f(this._options, y), I = new a(b, this._options).tokenize();
    this._tag_stack = new g(D);
    for (var N = null, C = I.next(); C.type !== o.EOF; )
      C.type === o.TAG_OPEN || C.type === o.COMMENT ? (N = this._handle_tag_open(D, C, x, T, I), x = N) : C.type === o.ATTRIBUTE || C.type === o.EQUALS || C.type === o.VALUE || C.type === o.TEXT && !x.tag_complete ? N = this._handle_inside_tag(D, C, x, T) : C.type === o.TAG_CLOSE ? N = this._handle_tag_close(D, C, x) : C.type === o.TEXT ? N = this._handle_text(D, C, x) : C.type === o.CONTROL_FLOW_OPEN ? N = this._handle_control_flow_open(D, C) : C.type === o.CONTROL_FLOW_CLOSE ? N = this._handle_control_flow_close(D, C) : D.add_raw_token(C), T = N, C = I.next();
    var B = D._output.get_code(v);
    return B;
  }, w.prototype._handle_control_flow_open = function(b, v) {
    var y = {
      text: v.text,
      type: v.type
    };
    return b.set_space_before_token(v.newlines || v.whitespace_before !== "", true), v.newlines ? b.print_preserved_newlines(v) : b.set_space_before_token(v.newlines || v.whitespace_before !== "", true), b.print_token(v), b.indent(), y;
  }, w.prototype._handle_control_flow_close = function(b, v) {
    var y = {
      text: v.text,
      type: v.type
    };
    return b.deindent(), v.newlines ? b.print_preserved_newlines(v) : b.set_space_before_token(v.newlines || v.whitespace_before !== "", true), b.print_token(v), y;
  }, w.prototype._handle_tag_close = function(b, v, y) {
    var T = {
      text: v.text,
      type: v.type
    };
    return b.alignment_size = 0, y.tag_complete = true, b.set_space_before_token(v.newlines || v.whitespace_before !== "", true), y.is_unformatted ? b.add_raw_token(v) : (y.tag_start_char === "<" && (b.set_space_before_token(v.text[0] === "/", true), this._is_wrap_attributes_force_expand_multiline && y.has_wrapped_attrs && b.print_newline(false)), b.print_token(v)), y.indent_content && !(y.is_unformatted || y.is_content_unformatted) && (b.indent(), y.indent_content = false), !y.is_inline_element && !(y.is_unformatted || y.is_content_unformatted) && b.set_wrap_point(), T;
  }, w.prototype._handle_inside_tag = function(b, v, y, T) {
    var x = y.has_wrapped_attrs, D = {
      text: v.text,
      type: v.type
    };
    return b.set_space_before_token(v.newlines || v.whitespace_before !== "", true), y.is_unformatted ? b.add_raw_token(v) : y.tag_start_char === "{" && v.type === o.TEXT ? b.print_preserved_newlines(v) ? (v.newlines = 0, b.add_raw_token(v)) : b.print_token(v) : (v.type === o.ATTRIBUTE ? b.set_space_before_token(true) : (v.type === o.EQUALS || v.type === o.VALUE && v.previous.type === o.EQUALS) && b.set_space_before_token(false), v.type === o.ATTRIBUTE && y.tag_start_char === "<" && ((this._is_wrap_attributes_preserve || this._is_wrap_attributes_preserve_aligned) && (b.traverse_whitespace(v), x = x || v.newlines !== 0), this._is_wrap_attributes_force && y.attr_count >= this._options.wrap_attributes_min_attrs && (T.type !== o.TAG_OPEN || this._is_wrap_attributes_force_expand_multiline) && (b.print_newline(false), x = true)), b.print_token(v), x = x || b.previous_token_wrapped(), y.has_wrapped_attrs = x), D;
  }, w.prototype._handle_text = function(b, v, y) {
    var T = {
      text: v.text,
      type: "TK_CONTENT"
    };
    return y.custom_beautifier_name ? this._print_custom_beatifier_text(b, v, y) : y.is_unformatted || y.is_content_unformatted ? b.add_raw_token(v) : (b.traverse_whitespace(v), b.print_token(v)), T;
  }, w.prototype._print_custom_beatifier_text = function(b, v, y) {
    var T = this;
    if (v.text !== "") {
      var x = v.text, D, I = 1, N = "", C = "";
      y.custom_beautifier_name === "javascript" && typeof this._js_beautify == "function" ? D = this._js_beautify : y.custom_beautifier_name === "css" && typeof this._css_beautify == "function" ? D = this._css_beautify : y.custom_beautifier_name === "html" && (D = function(U, L) {
        var z = new w(U, L, T._js_beautify, T._css_beautify);
        return z.beautify();
      }), this._options.indent_scripts === "keep" ? I = 0 : this._options.indent_scripts === "separate" && (I = -b.indent_level);
      var B = b.get_full_indent(I);
      if (x = x.replace(/\n[ \t]*$/, ""), y.custom_beautifier_name !== "html" && x[0] === "<" && x.match(/^(<!--|<!\[CDATA\[)/)) {
        var O = /^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(x);
        if (!O) {
          b.add_raw_token(v);
          return;
        }
        N = B + O[1] + `
`, x = O[4], O[5] && (C = B + O[5]), x = x.replace(/\n[ \t]*$/, ""), (O[2] || O[3].indexOf(`
`) !== -1) && (O = O[3].match(/[ \t]+$/), O && (v.whitespace_before = O[0]));
      }
      if (x)
        if (D) {
          var S = function() {
            this.eol = `
`;
          };
          S.prototype = this._options.raw_options;
          var F = new S();
          x = D(B + x, F);
        } else {
          var $ = v.whitespace_before;
          $ && (x = x.replace(new RegExp(`
(` + $ + ")?", "g"), `
`)), x = B + x.replace(/\n/g, `
` + B);
        }
      N && (x ? x = N + x + `
` + C : x = N + C), b.print_newline(false), x && (v.text = x, v.whitespace_before = "", v.newlines = 0, b.add_raw_token(v), b.print_newline(true));
    }
  }, w.prototype._handle_tag_open = function(b, v, y, T, x) {
    var D = this._get_tag_open_token(v);
    if ((y.is_unformatted || y.is_content_unformatted) && !y.is_empty_element && v.type === o.TAG_OPEN && !D.is_start_tag ? (b.add_raw_token(v), D.start_tag_token = this._tag_stack.try_pop(D.tag_name)) : (b.traverse_whitespace(v), this._set_tag_position(b, v, D, y, T), D.is_inline_element || b.set_wrap_point(), b.print_token(v)), D.is_start_tag && this._is_wrap_attributes_force) {
      var I = 0, N;
      do
        N = x.peek(I), N.type === o.ATTRIBUTE && (D.attr_count += 1), I += 1;
      while (N.type !== o.EOF && N.type !== o.TAG_CLOSE);
    }
    return (this._is_wrap_attributes_force_aligned || this._is_wrap_attributes_aligned_multiple || this._is_wrap_attributes_preserve_aligned) && (D.alignment_size = v.text.length + 1), !D.tag_complete && !D.is_unformatted && (b.alignment_size = D.alignment_size), D;
  };
  var R = function(b, v, y) {
    if (this.parent = v || null, this.text = "", this.type = "TK_TAG_OPEN", this.tag_name = "", this.is_inline_element = false, this.is_unformatted = false, this.is_content_unformatted = false, this.is_empty_element = false, this.is_start_tag = false, this.is_end_tag = false, this.indent_content = false, this.multiline_content = false, this.custom_beautifier_name = null, this.start_tag_token = null, this.attr_count = 0, this.has_wrapped_attrs = false, this.alignment_size = 0, this.tag_complete = false, this.tag_start_char = "", this.tag_check = "", !y)
      this.tag_complete = true;
    else {
      var T;
      this.tag_start_char = y.text[0], this.text = y.text, this.tag_start_char === "<" ? (T = y.text.match(/^<([^\s>]*)/), this.tag_check = T ? T[1] : "") : (T = y.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/), this.tag_check = T ? T[1] : "", (y.text.startsWith("{{#>") || y.text.startsWith("{{~#>")) && this.tag_check[0] === ">" && (this.tag_check === ">" && y.next !== null ? this.tag_check = y.next.text.split(" ")[0] : this.tag_check = y.text.split(">")[1])), this.tag_check = this.tag_check.toLowerCase(), y.type === o.COMMENT && (this.tag_complete = true), this.is_start_tag = this.tag_check.charAt(0) !== "/", this.tag_name = this.is_start_tag ? this.tag_check : this.tag_check.substr(1), this.is_end_tag = !this.is_start_tag || y.closed && y.closed.text === "/>";
      var x = 2;
      this.tag_start_char === "{" && this.text.length >= 3 && this.text.charAt(2) === "~" && (x = 3), this.is_end_tag = this.is_end_tag || this.tag_start_char === "{" && (!b.indent_handlebars || this.text.length < 3 || /[^#\^]/.test(this.text.charAt(x)));
    }
  };
  w.prototype._get_tag_open_token = function(b) {
    var v = new R(this._options, this._tag_stack.get_parser_token(), b);
    return v.alignment_size = this._options.wrap_attributes_indent_size, v.is_end_tag = v.is_end_tag || h2(v.tag_check, this._options.void_elements), v.is_empty_element = v.tag_complete || v.is_start_tag && v.is_end_tag, v.is_unformatted = !v.tag_complete && h2(v.tag_check, this._options.unformatted), v.is_content_unformatted = !v.is_empty_element && h2(v.tag_check, this._options.content_unformatted), v.is_inline_element = h2(v.tag_name, this._options.inline) || this._options.inline_custom_elements && v.tag_name.includes("-") || v.tag_start_char === "{", v;
  }, w.prototype._set_tag_position = function(b, v, y, T, x) {
    if (y.is_empty_element || (y.is_end_tag ? y.start_tag_token = this._tag_stack.try_pop(y.tag_name) : (this._do_optional_end_element(y) && (y.is_inline_element || b.print_newline(false)), this._tag_stack.record_tag(y), (y.tag_name === "script" || y.tag_name === "style") && !(y.is_unformatted || y.is_content_unformatted) && (y.custom_beautifier_name = c(y.tag_check, v)))), h2(y.tag_check, this._options.extra_liners) && (b.print_newline(false), b._output.just_added_blankline() || b.print_newline(true)), y.is_empty_element) {
      if (y.tag_start_char === "{" && y.tag_check === "else") {
        this._tag_stack.indent_to_tag(["if", "unless", "each"]), y.indent_content = true;
        var D = b.current_line_has_match(/{{#if/);
        D || b.print_newline(false);
      }
      y.tag_name === "!--" && x.type === o.TAG_CLOSE && T.is_end_tag && y.text.indexOf(`
`) === -1 || (y.is_inline_element || y.is_unformatted || b.print_newline(false), this._calcluate_parent_multiline(b, y));
    } else if (y.is_end_tag) {
      var I = false;
      I = y.start_tag_token && y.start_tag_token.multiline_content, I = I || !y.is_inline_element && !(T.is_inline_element || T.is_unformatted) && !(x.type === o.TAG_CLOSE && y.start_tag_token === T) && x.type !== "TK_CONTENT", (y.is_content_unformatted || y.is_unformatted) && (I = false), I && b.print_newline(false);
    } else
      y.indent_content = !y.custom_beautifier_name, y.tag_start_char === "<" && (y.tag_name === "html" ? y.indent_content = this._options.indent_inner_html : y.tag_name === "head" ? y.indent_content = this._options.indent_head_inner_html : y.tag_name === "body" && (y.indent_content = this._options.indent_body_inner_html)), !(y.is_inline_element || y.is_unformatted) && (x.type !== "TK_CONTENT" || y.is_content_unformatted) && b.print_newline(false), this._calcluate_parent_multiline(b, y);
  }, w.prototype._calcluate_parent_multiline = function(b, v) {
    v.parent && b._output.just_added_newline() && !((v.is_inline_element || v.is_unformatted) && v.parent.is_inline_element) && (v.parent.multiline_content = true);
  };
  var A = ["address", "article", "aside", "blockquote", "details", "div", "dl", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hr", "main", "menu", "nav", "ol", "p", "pre", "section", "table", "ul"], E = ["a", "audio", "del", "ins", "map", "noscript", "video"];
  return w.prototype._do_optional_end_element = function(b) {
    var v = null;
    if (!(b.is_empty_element || !b.is_start_tag || !b.parent)) {
      if (b.tag_name === "body")
        v = v || this._tag_stack.try_pop("head");
      else if (b.tag_name === "li")
        v = v || this._tag_stack.try_pop("li", ["ol", "ul", "menu"]);
      else if (b.tag_name === "dd" || b.tag_name === "dt")
        v = v || this._tag_stack.try_pop("dt", ["dl"]), v = v || this._tag_stack.try_pop("dd", ["dl"]);
      else if (b.parent.tag_name === "p" && A.indexOf(b.tag_name) !== -1) {
        var y = b.parent.parent;
        (!y || E.indexOf(y.tag_name) === -1) && (v = v || this._tag_stack.try_pop("p"));
      } else
        b.tag_name === "rp" || b.tag_name === "rt" ? (v = v || this._tag_stack.try_pop("rt", ["ruby", "rtc"]), v = v || this._tag_stack.try_pop("rp", ["ruby", "rtc"])) : b.tag_name === "optgroup" ? v = v || this._tag_stack.try_pop("optgroup", ["select"]) : b.tag_name === "option" ? v = v || this._tag_stack.try_pop("option", ["select", "datalist", "optgroup"]) : b.tag_name === "colgroup" ? v = v || this._tag_stack.try_pop("caption", ["table"]) : b.tag_name === "thead" ? (v = v || this._tag_stack.try_pop("caption", ["table"]), v = v || this._tag_stack.try_pop("colgroup", ["table"])) : b.tag_name === "tbody" || b.tag_name === "tfoot" ? (v = v || this._tag_stack.try_pop("caption", ["table"]), v = v || this._tag_stack.try_pop("colgroup", ["table"]), v = v || this._tag_stack.try_pop("thead", ["table"]), v = v || this._tag_stack.try_pop("tbody", ["table"])) : b.tag_name === "tr" ? (v = v || this._tag_stack.try_pop("caption", ["table"]), v = v || this._tag_stack.try_pop("colgroup", ["table"]), v = v || this._tag_stack.try_pop("tr", ["table", "thead", "tbody", "tfoot"])) : (b.tag_name === "th" || b.tag_name === "td") && (v = v || this._tag_stack.try_pop("td", ["table", "thead", "tbody", "tfoot", "tr"]), v = v || this._tag_stack.try_pop("th", ["table", "thead", "tbody", "tfoot", "tr"]));
      return b.parent = this._tag_stack.get_parser_token(), v;
    }
  }, iu.Beautifier = w, iu;
}
var Uc;
function ob() {
  if (Uc)
    return Ma.exports;
  Uc = 1;
  var t3 = rb().Beautifier, r = Bp().Options;
  function a(o, n, l, f) {
    var d = new t3(o, n, l, f);
    return d.beautify();
  }
  return Ma.exports = a, Ma.exports.defaultOptions = function() {
    return new r();
  }, Ma.exports;
}
var Wc;
function ab() {
  if (Wc)
    return bo;
  Wc = 1;
  var t3 = tb(), r = ib(), a = ob();
  function o(n, l, f, d) {
    return f = f || t3, d = d || r, a(n, l, f, d);
  }
  return o.defaultOptions = a.defaultOptions, bo.js = t3, bo.css = r, bo.html = o, bo;
}
(function(t3) {
  function r(a, o, n) {
    var l = function(f, d) {
      return a.js_beautify(f, d);
    };
    return l.js = a.js_beautify, l.css = o.css_beautify, l.html = n.html_beautify, l.js_beautify = a.js_beautify, l.css_beautify = o.css_beautify, l.html_beautify = n.html_beautify, l;
  }
  (function(a) {
    var o = ab();
    o.js_beautify = o.js, o.css_beautify = o.css, o.html_beautify = o.html, a.exports = r(o, o, o);
  })(t3);
})(Mp);
var $p = Mp.exports;
var lb = defineComponent({
  name: "Struct",
  emits: ["update:modelValue"],
  props: {
    modelValue: [Object, Array, Function],
    title: String,
    defaultValue: {
      require: false
    },
    validate: Function
  },
  inject: ["designer"],
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    configured() {
      return !ut.empty(this.modelValue) && Object.keys(this.modelValue).length > 0;
    }
  },
  data() {
    return {
      editor: null,
      visible: false,
      oldVal: null
    };
  },
  watch: {
    modelValue() {
      this.load();
    },
    visible(t3) {
      t3 && this.load();
    }
  },
  methods: {
    load() {
      const t3 = hi(tp(this.modelValue ? Ft(this.modelValue) : this.defaultValue));
      this.oldVal = t3, this.$nextTick(() => {
        this.editor = markRaw(Fr(this.$refs.editor, {
          lineNumbers: true,
          mode: "javascript",
          lint: true,
          line: true,
          tabSize: 2,
          lineWrapping: true,
          value: t3 ? $p.js(t3, {
            indent_size: "2",
            indent_char: " ",
            max_preserve_newlines: "5",
            indent_scripts: "separate"
          }) : ""
        }));
      });
    },
    onOk() {
      const t3 = (this.editor.getValue() || "").trim();
      let r;
      try {
        r = new Function("return " + t3)();
      } catch (a) {
        return console.error(a), jn(this.t("struct.errorMsg")), false;
      }
      return this.validate && this.validate(r) === false ? (jn(this.t("struct.errorMsg")), false) : (this.visible = false, hi(r) !== this.oldVal && this.$emit("update:modelValue", r), true);
    }
  }
});
var sb = { class: "_fd-struct" };
var ub = {
  key: 0,
  ref: "editor"
};
function fb(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-badge"), c = resolveComponent("el-dialog");
  return openBlock(), createElementBlock("div", sb, [
    createVNode(d, {
      type: "warning",
      "is-dot": "",
      hidden: !t3.configured
    }, {
      default: withCtx(() => [
        createBaseVNode("div", {
          onClick: r[0] || (r[0] = (h2) => t3.visible = true)
        }, [
          renderSlot(t3.$slots, "default", {}, () => [
            createVNode(f, {
              class: "_fd-plain-button",
              plain: "",
              size: "small"
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(t3.title || t3.t("struct.title")), 1)
              ]),
              _: 1
            })
          ])
        ])
      ]),
      _: 3
    }, 8, ["hidden"]),
    createVNode(c, {
      class: "_fd-struct-con",
      title: t3.title || t3.t("struct.title"),
      modelValue: t3.visible,
      "onUpdate:modelValue": r[2] || (r[2] = (h2) => t3.visible = h2),
      "destroy-on-close": "",
      "close-on-click-modal": false,
      "append-to-body": "",
      width: "800px"
    }, {
      footer: withCtx(() => [
        createBaseVNode("div", null, [
          createVNode(f, {
            onClick: r[1] || (r[1] = (h2) => t3.visible = false),
            size: "default"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.cancel")), 1)
            ]),
            _: 1
          }),
          createVNode(f, {
            type: "primary",
            onClick: t3.onOk,
            size: "default",
            color: "#2f73ff"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.ok")), 1)
            ]),
            _: 1
          }, 8, ["onClick"])
        ])
      ]),
      default: withCtx(() => [
        t3.visible ? (openBlock(), createElementBlock("div", ub, null, 512)) : createCommentVNode("", true)
      ]),
      _: 1
    }, 8, ["title", "modelValue"])
  ]);
}
var Hp = nt(lb, [["render", fb]]);
var db = defineComponent({
  name: "PropsInput",
  components: { Struct: Hp },
  inject: ["designer"],
  data() {
    return {};
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    activeRule() {
      return this.designer.setupState.activeRule;
    },
    props() {
      var a;
      const t3 = ((a = this.activeRule._fc_store) == null ? void 0 : a.props_keys) || [], r = {};
      return t3.forEach((o) => {
        this.activeRule.props && this.activeRule.props[o] != null && (r[o] = this.activeRule.props[o]);
      }), r;
    }
  },
  methods: {
    onInput(t3) {
      this.activeRule.props || (this.activeRule.props = {}), this.activeRule._fc_store || (this.activeRule._fc_store = {}), Object.keys(this.props).forEach((a) => {
        (t3 || {})[a] == null && delete this.activeRule.props[a];
      }), um(this.activeRule.props, t3 || {});
      const r = Object.keys(t3 || {});
      r.length ? this.activeRule._fc_store.props_keys = r : delete this.activeRule._fc_store.props_keys;
    }
  }
});
function cb(t3, r, a, o, n, l) {
  const f = resolveComponent("Struct");
  return openBlock(), createBlock(f, {
    class: "_fd-props-input",
    modelValue: t3.props,
    "onUpdate:modelValue": t3.onInput,
    title: t3.t("designer.customProps")
  }, {
    default: withCtx(() => r[0] || (r[0] = [
      createBaseVNode("i", { class: "fc-icon icon-edit" }, null, -1)
    ])),
    _: 1,
    __: [0]
  }, 8, ["modelValue", "onUpdate:modelValue", "title"]);
}
var pb = nt(db, [["render", cb]]);
var hb = defineComponent({
  name: "LanguageConfig",
  inject: ["designer"],
  computed: {
    localeOptions() {
      return this.designer.setupState.getConfig("localeOptions", [
        { value: "zh-cn", label: "简体中文" },
        { value: "en", label: "English" }
      ]);
    },
    t() {
      return this.designer.setupState.t;
    }
  },
  data() {
    return {
      column: [],
      uni: 0,
      selected: []
    };
  },
  methods: {
    copy(t3) {
      er(t3);
    },
    addColumn() {
      this.column.unshift({
        key: this.randomString(),
        input: true
      });
    },
    saveColumn(t3, r) {
      t3.input = r || false;
      const a = this.designer.setupState.formOptions.language;
      this.localeOptions.forEach((o) => {
        a[o.value] || (a[o.value] = {}), a[o.value][t3.key] = t3[o.value];
      });
    },
    rmColumn(t3) {
      const r = this.column[t3];
      this.column.splice(t3, 1);
      const a = this.designer.setupState.formOptions.language;
      this.localeOptions.forEach((o) => {
        a[o.value] && delete a[o.value][r.key];
      });
    },
    batchRmColumn() {
      this.selected.forEach((t3) => {
        this.rmColumn(this.column.indexOf(t3));
      }), this.selected = [];
    },
    selectionChange(t3) {
      this.selected = t3;
    },
    randomString() {
      const t3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
      let r = "";
      const a = t3.length;
      for (let o = 0; o < 7; o++)
        r += t3.charAt(Math.floor(Math.random() * a));
      return t3.charAt(this.uni++ % 26) + r;
    }
  },
  mounted() {
    const t3 = this.designer.setupState.formOptions.language || {}, r = {};
    Object.keys(t3).forEach((a) => {
      Object.keys(t3[a]).forEach((o) => {
        r[o] || (r[o] = {
          key: o
        }), r[o][a] = t3[a][o];
      });
    }), this.column = Object.values(r);
  }
});
var vb = { class: "_fd-language-config" };
var mb = { class: "_fc-l-label" };
var gb = { class: "_fc-l-info" };
var yb = { class: "_fd-lc-header" };
var bb = { class: "_fd-lc-body" };
var Ab = { class: "_fd-lc-handle" };
var wb = ["onClick"];
var Cb = ["onClick"];
var Sb = ["onClick"];
var Eb = ["onClick"];
function xb(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-table-column"), c = resolveComponent("el-input"), h2 = resolveComponent("el-table");
  return openBlock(), createElementBlock("div", vb, [
    createBaseVNode("div", mb, toDisplayString(t3.t("language.name")), 1),
    createBaseVNode("div", gb, toDisplayString(t3.t("warning.language")), 1),
    createBaseVNode("div", yb, [
      createVNode(f, {
        size: "small",
        onClick: t3.addColumn
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(t3.t("language.add")), 1)
        ]),
        _: 1
      }, 8, ["onClick"]),
      createVNode(f, {
        size: "small",
        type: "danger",
        plain: "",
        disabled: !t3.selected.length,
        onClick: t3.batchRmColumn
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(t3.t("language.batchRemove")), 1)
        ]),
        _: 1
      }, 8, ["disabled", "onClick"])
    ]),
    createBaseVNode("div", bb, [
      createVNode(h2, {
        data: t3.column,
        size: "small",
        ref: "table",
        onSelectionChange: t3.selectionChange,
        "row-key": "key"
      }, {
        default: withCtx(() => [
          createVNode(d, {
            type: "selection",
            width: "30px"
          }),
          createVNode(d, {
            prop: "key",
            label: "Key",
            width: "90px"
          }),
          (openBlock(true), createElementBlock(Fragment, null, renderList(t3.localeOptions, (m) => (openBlock(), createBlock(d, {
            key: m.value,
            prop: m.value,
            label: m.label,
            "min-width": "100px"
          }, {
            default: withCtx((g) => [
              g.row.input ? (openBlock(), createBlock(c, {
                key: 0,
                size: "small",
                modelValue: g.row[m.value],
                "onUpdate:modelValue": (w) => g.row[m.value] = w,
                onBlur: (w) => t3.saveColumn(g.row, true)
              }, null, 8, ["modelValue", "onUpdate:modelValue", "onBlur"])) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                createTextVNode(toDisplayString(g.row[m.value] || "-"), 1)
              ], 64))
            ]),
            _: 2
          }, 1032, ["prop", "label"]))), 128)),
          createVNode(d, {
            width: "75px",
            label: t3.t("tableOptions.handle"),
            fixed: "right"
          }, {
            default: withCtx((m) => [
              createBaseVNode("div", Ab, [
                m.row.input ? (openBlock(), createElementBlock("i", {
                  key: 1,
                  class: "fc-icon icon-check",
                  onClick: (g) => t3.saveColumn(m.row)
                }, null, 8, Cb)) : (openBlock(), createElementBlock("i", {
                  key: 0,
                  class: "fc-icon icon-edit",
                  onClick: (g) => m.row.input = true
                }, null, 8, wb)),
                createBaseVNode("i", {
                  class: "fc-icon icon-group",
                  onClick: (g) => t3.copy(m.row.key)
                }, null, 8, Sb),
                createBaseVNode("i", {
                  class: "fc-icon icon-delete-circle",
                  onClick: (g) => t3.rmColumn(m.$index)
                }, null, 8, Eb)
              ])
            ]),
            _: 1
          }, 8, ["label"])
        ]),
        _: 1
      }, 8, ["data", "onSelectionChange"])
    ])
  ]);
}
var Tb = nt(hb, [["render", xb]]);
var _b = defineComponent({
  name: "StructEditor",
  props: {
    modelValue: [Object, Array, Function],
    format: Boolean,
    defaultValue: {
      require: false
    }
  },
  emits: ["blur", "focus", "update:modelValue"],
  inject: ["designer"],
  data() {
    return {
      editor: null,
      visible: false,
      err: false,
      oldVal: null
    };
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    }
  },
  watch: {
    modelValue(t3) {
      if (this.editor) {
        const r = t3 ? this.toJson(t3) : "";
        this.oldVal = r;
        const o = this.editor.getScrollInfo().top;
        this.editor.setValue(r), this.editor.scrollTo(0, o);
      }
    }
  },
  mounted() {
    this.$nextTick(() => {
      this.load();
    });
  },
  methods: {
    toJson(t3) {
      return this.format ? Je.toJson(t3, 2) : hi(t3);
    },
    load() {
      const t3 = this.modelValue ? this.toJson(this.modelValue) : "";
      this.oldVal = t3, this.$nextTick(() => {
        this.editor = markRaw(Fr(this.$refs.editor, {
          lineNumbers: true,
          mode: "javascript",
          lint: true,
          line: true,
          tabSize: 2,
          lineWrapping: true,
          value: t3 ? $p.js(t3, {
            indent_size: "2",
            indent_char: " ",
            max_preserve_newlines: "5",
            indent_scripts: "separate"
          }) : ""
        })), this.editor.on("blur", () => {
          this.$emit("blur");
        }), this.editor.on("focus", () => {
          this.$emit("focus");
        });
      });
    },
    save() {
      const t3 = (this.editor.getValue() || "").trim();
      let r;
      try {
        r = new Function("return " + t3)();
      } catch (a) {
        return console.error(a), jn(this.t("struct.errorMsg")), false;
      }
      return this.validate && this.validate(r) === false ? (this.err = true, false) : (this.visible = false, this.toJson(r) !== this.oldVal && this.$emit("update:modelValue", r), true);
    }
  }
});
var Rb = { class: "_fd-struct-editor" };
var Ob = { ref: "editor" };
function Db(t3, r, a, o, n, l) {
  return openBlock(), createElementBlock("div", Rb, [
    createBaseVNode("div", Ob, null, 512)
  ]);
}
var Vp = nt(_b, [["render", Db]]);
var Ib = defineComponent({
  name: "JsonPreview",
  components: { StructEditor: Vp },
  inject: ["designer"],
  data() {
    return {
      active: "rule",
      value: this.designer.setupState.getRule(),
      oldValue: ""
    };
  },
  watch: {
    active() {
      this.updateValue();
    }
  },
  computed: {
    change() {
      return this.active === "rule" ? this.designer.setupState.children : this.designer.setupState.formOptions;
    },
    t() {
      return this.designer.setupState.t;
    }
  },
  methods: {
    updateValue() {
      this.active === "rule" ? this.value = this.designer.setupState.getRule() : this.value = this.designer.setupState.getOptions();
    },
    handleFocus() {
      this.oldValue = Je.toJson(this.value);
    },
    handleBlur() {
      let t3;
      this.$refs.editor.save() && (t3 = Je.toJson(this.value)) !== this.oldValue && (this.active === "rule" ? this.designer.setupState.setRule(t3) : this.designer.setupState.setOptions(this.value || {}));
    }
  },
  mounted() {
    this.$watch(() => this.change, () => {
      this.updateValue();
    }, { deep: true });
  }
});
function Mb(t3, r, a, o, n, l) {
  const f = resolveComponent("el-header"), d = resolveComponent("StructEditor"), c = resolveComponent("el-main"), h2 = resolveComponent("el-container");
  return openBlock(), createBlock(h2, { class: "_fc-json-preview" }, {
    default: withCtx(() => [
      createVNode(f, {
        height: "40px",
        class: "_fc-l-tabs"
      }, {
        default: withCtx(() => [
          createBaseVNode("div", {
            class: normalizeClass(["_fc-l-tab", { active: t3.active === "rule" }]),
            onClick: r[0] || (r[0] = (m) => t3.active = "rule")
          }, toDisplayString(t3.t("designer.json")), 3),
          createBaseVNode("div", {
            class: normalizeClass(["_fc-l-tab", { active: t3.active === "options" }]),
            onClick: r[1] || (r[1] = (m) => t3.active = "options")
          }, toDisplayString(t3.t("designer.form")), 3)
        ]),
        _: 1
      }),
      createVNode(c, { style: { padding: "8px" } }, {
        default: withCtx(() => [
          createVNode(d, {
            ref: "editor",
            modelValue: t3.value,
            "onUpdate:modelValue": r[2] || (r[2] = (m) => t3.value = m),
            onBlur: t3.handleBlur,
            onFocus: t3.handleFocus,
            format: "",
            style: { height: "100%" }
          }, null, 8, ["modelValue", "onBlur", "onFocus"])
        ]),
        _: 1
      })
    ]),
    _: 1
  });
}
var Pb = nt(Ib, [["render", Mb]]);
var Nb = defineComponent({
  name: "Warning",
  props: {
    tooltip: String
  },
  data() {
    return {};
  }
});
var Lb = ["innerHTML"];
var Fb = {
  key: 0,
  class: "_fd-warning-text"
};
var kb = {
  key: 1,
  class: "fc-icon icon-question"
};
function Bb(t3, r, a, o, n, l) {
  const f = resolveComponent("el-tooltip");
  return openBlock(), createBlock(f, {
    effect: "dark",
    placement: "top-start",
    "popper-class": "_fd-warning-pop"
  }, {
    content: withCtx(() => [
      createBaseVNode("span", { innerHTML: t3.tooltip }, null, 8, Lb)
    ]),
    default: withCtx(() => [
      t3.$slots.default ? (openBlock(), createElementBlock("span", Fb, [
        renderSlot(t3.$slots, "default")
      ])) : (openBlock(), createElementBlock("i", kb))
    ]),
    _: 3
  });
}
var xu = nt(Nb, [["render", Bb]]);
var $b = ["props"];
var Hb = ["class", "style", "directives"];
var Vb = ["on", "hook"];
var jp = (t3, r = {}, a = {}) => {
  const o = [...$b, ...a.normal || []], n = [...Hb, ...a.array || []], l = [...Vb, ...a.functional || []], f = a.props || [];
  return t3.reduce((d, c) => {
    for (const h2 in c)
      if (d[h2])
        if (f.indexOf(h2) > -1)
          d[h2] = jp([c[h2]], d[h2]);
        else if (o.indexOf(h2) > -1)
          d[h2] = { ...d[h2], ...c[h2] };
        else if (n.indexOf(h2) > -1) {
          const m = d[h2] instanceof Array ? d[h2] : [d[h2]], g = c[h2] instanceof Array ? c[h2] : [c[h2]];
          d[h2] = [...m, ...g];
        } else if (l.indexOf(h2) > -1)
          for (const m in c[h2])
            if (d[h2][m]) {
              const g = d[h2][m] instanceof Array ? d[h2][m] : [d[h2][m]], w = c[h2][m] instanceof Array ? c[h2][m] : [c[h2][m]];
              d[h2][m] = [...g, ...w];
            } else
              d[h2][m] = c[h2][m];
        else if (h2 === "hook")
          for (let m in c[h2])
            d[h2][m] ? d[h2][m] = jb(d[h2][m], c[h2][m]) : d[h2][m] = c[h2][m];
        else
          d[h2] = c[h2];
      else
        o.indexOf(h2) > -1 || l.indexOf(h2) > -1 || f.indexOf(h2) > -1 ? d[h2] = { ...c[h2] } : n.indexOf(h2) > -1 ? d[h2] = c[h2] instanceof Array ? [...c[h2]] : typeof c[h2] == "object" ? { ...c[h2] } : c[h2] : d[h2] = c[h2];
    return d;
  }, r);
};
var jb = (t3, r) => function() {
  t3 && t3.apply(this, arguments), r && r.apply(this, arguments);
};
No.registerLanguage("javascript", G0);
No.registerLanguage("xml", K0);
var zb = defineComponent({
  name: "FcDesigner",
  components: {
    Warning: xu,
    JsonPreview: Pb,
    LanguageConfig: Tb,
    PropsInput: pb,
    TypeSelect: J0,
    fcDraggable: yu,
    DragForm: Je.$form(),
    ViewForm: Ja.$form(),
    EventConfig: Ep
  },
  props: {
    menu: Array,
    height: [String, Number],
    config: {
      type: Object,
      default: () => ({})
    },
    mask: {
      type: Boolean,
      default: void 0
    },
    locale: Object,
    handle: Array
  },
  emits: ["active", "create", "copy", "delete", "drag", "inputData", "save", "clear", "copyRule", "pasteRule", "sortUp", "sortDown", "changeDevice", "previewSubmit", "previewReset", "changeField"],
  setup(t3) {
    var U, L, z, Q, J, ae;
    const { menu: r, height: a, mask: o, locale: n, handle: l } = toRefs(t3), f = getCurrentInstance(), d = reactive({ active: null });
    provide("fcx", d), provide("designer", f);
    const c = toRef(t3, "config", {}), h2 = toRef(c.value, "baseRule", null), m = toRef(c.value, "componentRule", {}), g = toRef(c.value, "validateRule", null), w = toRef(c.value, "formRule", null), R = toRef(c.value, "updateDefaultRule", {}), A = computed(() => {
      const M = a.value;
      return M ? ut.Number(M) ? `${M}px` : M : "100%";
    }), E = computed(() => c.value.fieldReadonly !== false), b = computed(() => c.value.hiddenMenu || []), v = computed(() => c.value.hiddenItem || []), y = computed(() => c.value.hiddenDragMenu === true), T = computed(() => c.value.hiddenDragBtn === true), x = computed(() => {
      const M = ["base", "props", "style", "event", "validate"];
      let V = c.value.configFormOrder ? [...c.value.configFormOrder] : [], K = [];
      return V.length ? [...V, ...M].forEach((G) => {
        K.indexOf(G) === -1 && M.indexOf(G) > -1 && K.push(G);
      }) : K = M, K.map((G) => `"${G}"`).join(" ");
    });
    let D = pu;
    n.value && (D = au(n).t);
    const I = (...M) => D(...M), N = (M, V, ...K) => {
      if (V) {
        if (ut.Function(V))
          return V(...K);
        if (V.rule) {
          let G = V.rule(...K);
          return V.prepend ? G = [...G, ...M(...K)] : V.append && (G = [...M(...K), ...G]), G;
        }
      }
      return M(...K);
    }, C = reactive({
      cacheProps: {},
      operation: {
        idx: -1,
        list: []
      },
      hiddenLeft: false,
      hiddenRight: false,
      moveRule: null,
      addRule: null,
      added: null,
      bus: ym(),
      device: ((U = c.value) == null ? void 0 : U.device) || "pc",
      activeModule: "base",
      activeTab: "form",
      activeMenuTab: "menu",
      activeRule: null,
      activePermission: {},
      children: ref([]),
      treeInfo: [],
      menuList: r.value || Gy(),
      dragRuleList: {},
      eventShow: false,
      unloadStatus: false,
      previewStatus: "form",
      t: I,
      preview: {
        state: false,
        rule: [],
        option: {},
        api: {}
      },
      inputForm: {
        state: false,
        rule: [],
        option: {},
        api: {},
        data: {},
        key: ""
      },
      dragForm: ref({
        rule: [],
        api: {}
      }),
      formOptions: {},
      oldOptionsKeys: [],
      form: {
        rule: N(Bd, w.value, { t: I }),
        api: {},
        option: {
          global: {
            input: ((L = c.value) == null ? void 0 : L.updateConfigOnBlur) !== false ? {
              modelEmit: "blur"
            } : {},
            select: {
              props: {
                clearable: true
              }
            }
          },
          form: {
            labelPosition: "top",
            size: "small"
          },
          submitBtn: false
        },
        value: {
          form: {},
          submitBtn: false
        }
      },
      baseForm: {
        isShow: false,
        rule: N(yo, h2.value, { t: I }),
        api: {},
        value: {},
        options: {
          global: {
            input: ((z = c.value) == null ? void 0 : z.updateConfigOnBlur) !== false ? {
              modelEmit: "blur"
            } : {}
          },
          form: {
            labelPosition: "top",
            size: "small"
          },
          submitBtn: false,
          mounted: (M) => {
            M.activeRule = C.activeRule, M.setValue(M.options.formData || {});
          }
        }
      },
      styleForm: {
        isShow: false,
        rule: gm({ t: I }),
        api: {},
        value: {},
        options: {
          form: {
            labelPosition: "left",
            size: "small"
          },
          submitBtn: false,
          mounted: (M) => {
            M.activeRule = C.activeRule, M.setValue(M.options.formData || {});
          }
        }
      },
      validateForm: {
        isShow: false,
        rule: N($d, g.value, { t: I }),
        api: {},
        value: [],
        options: {
          global: {
            input: ((Q = c.value) == null ? void 0 : Q.updateConfigOnBlur) !== false ? {
              modelEmit: "blur"
            } : {}
          },
          form: {
            labelPosition: "top",
            size: "small"
          },
          submitBtn: false,
          mounted: (M) => {
            M.activeRule = C.activeRule, M.setValue(M.options.formData || {});
          }
        }
      },
      propsForm: {
        isShow: false,
        rule: [],
        api: {},
        value: {},
        options: {
          global: {
            input: ((J = c.value) == null ? void 0 : J.updateConfigOnBlur) !== false ? {
              modelEmit: "blur"
            } : {},
            inputNumber: {
              props: {
                controlsPosition: "right"
              }
            }
          },
          form: {
            labelPosition: "top",
            size: "small"
          },
          submitBtn: false,
          mounted: (M) => {
            M.activeRule = C.activeRule, M.setValue(M.options.formData || {});
          }
        }
      },
      customForm: {
        isShow: false,
        config: null,
        key: "",
        rule: [],
        api: {},
        options: {
          global: {
            input: ((ae = c.value) == null ? void 0 : ae.updateConfigOnBlur) !== false ? {
              modelEmit: "blur"
            } : {}
          },
          form: {
            labelPosition: "top",
            size: "small"
          },
          submitBtn: false
        }
      }
    });
    watch(() => C.preview.state, function(M) {
      M || nextTick(() => {
        C.previewStatus = "form", C.preview.rule = C.preview.option = null;
      });
    });
    let B = null;
    const O = (M, V) => {
      if (M[10] !== ">") {
        if (M = M.replace("formCreate", ""), !M)
          return;
        M = ou(M);
      } else
        M = M.replace("formCreate>", "");
      const K = M.split(">"), G = K.pop();
      let Z = C.activeRule;
      K.forEach((ue, pe) => {
        pe || (ue = ou(ue)), Z[ue] || (Z[ue] = {}), Z = Z[ue];
      }), V({ source: Z, field: G });
    };
    watch(() => n.value, (M) => {
      D = M ? au(n).t : pu, S.clearActiveRule();
      const V = C.form.api.formData && C.form.api.formData(), K = C.baseForm.api.formData && C.baseForm.api.formData(), G = C.validateForm.api.formData && C.validateForm.api.formData();
      C.validateForm.rule = N($d, g.value, { t: I }), C.baseForm.rule = N(yo, h2.value, { t: I }), C.form.rule = N(Bd, w.value, { t: I }), C.cacheProps = {};
      const Z = C.activeRule;
      let ue = null;
      Z && (ue = C.propsForm.api.formData && C.propsForm.api.formData(), C.propsForm.rule = C.cacheProps[Z._fc_id] = S.getPropsRule(Z)), nextTick(() => {
        V && C.form.api.setValue(V), K && C.baseForm.api.setValue(K), G && C.validateForm.api.setValue(G), ue && C.propsForm.api.setValue(ue);
      });
    });
    const S = {
      setDevice(M) {
        C.device = M, f.emit("changeDevice", M);
      },
      unWatchActiveRule() {
        B && B(), B = null;
      },
      watchActiveRule() {
        S.unWatchActiveRule(), B = watch(() => C.activeRule, function(M) {
          M && S.updateRuleFormData();
        }, { deep: true, flush: "post" });
      },
      makeChildren(M) {
        return reactive({ children: M }).children;
      },
      addMenu(M) {
        if (!M.name)
          return;
        let V = true;
        C.menuList.forEach((K, G) => {
          K.name === M.name && (C.menuList[G] = M, V = false);
        }), V && (M.before ? C.menuList.unshift(M) : C.menuList.push(M));
      },
      removeMenu(M) {
        [...C.menuList].forEach((V, K) => {
          V.name === M && C.menuList.splice(K, 1);
        });
      },
      setMenuItem(M, V) {
        C.menuList.forEach((K) => {
          K.name === M && (K.list = V);
        });
      },
      appendMenuItem(M, V) {
        C.menuList.forEach((K) => {
          K.name === M && K.list.push(...Array.isArray(V) ? V : [V]);
        });
      },
      removeMenuItem(M) {
        C.menuList.forEach((V) => {
          let K;
          ut.String(M) ? [...V.list].forEach((G, Z) => {
            G.name === M && V.list.splice(Z, 1);
          }) : (K = V.list.indexOf(M)) > -1 && V.list.splice(K, 1);
        });
      },
      addComponent(M) {
        Array.isArray(M) ? M.forEach((V) => {
          C.dragRuleList[V.name] = V, V.menu && S.appendMenuItem(V.menu, V);
        }) : (C.dragRuleList[M.name] = M, M.menu && S.appendMenuItem(M.menu, M));
      },
      openInputData(M) {
        C.inputForm.state = M === void 0 ? !C.inputForm.state : !!M, C.inputForm.state && (C.inputForm.rule = Je.parseJson(S.getJson()), C.inputForm.option = Je.parseJson(S.getOptionsJson()), C.inputForm.option.formData = Ft(C.inputForm.data), C.inputForm.option.appendValue = false, C.inputForm.option.submitBtn.show = false, C.inputForm.option.resetBtn.show = false, S.clearActiveRule());
      },
      inputSave() {
        const M = C.inputForm.api.formData();
        Object.keys(M).forEach((K) => {
          pi(M[K]) && delete M[K];
        });
        const V = JSON.stringify(C.inputForm.data) !== JSON.stringify(M);
        C.inputForm.data = M, C.inputForm.state = false, f.emit("inputData", M), V && S.addOperationRecord();
      },
      inputClear() {
        S.inputReset({});
      },
      inputReset(M) {
        C.inputForm.rule = Je.parseJson(S.getJson()), C.inputForm.option.formData = M || Ft(C.inputForm.data), C.inputForm.key = Ze();
      },
      setFormData(M) {
        C.inputForm.data = M || {};
      },
      getFormData() {
        return C.inputForm.data;
      },
      getParent(M) {
        let V = M.__fc__.parent.rule;
        const K = V._menu;
        return K && K.inside && (M = V, V = V.__fc__.parent.rule), { root: V, parent: M };
      },
      copyName() {
        er(C.activeRule.name);
      },
      updateName() {
        C.activeRule.name = "ref_" + Ze();
      },
      makeDrag(M, V, K, G, Z) {
        return {
          type: "DragBox",
          wrap: {
            show: false
          },
          col: {
            show: false
          },
          inject: true,
          props: {
            rule: {
              props: {
                tag: "el-col",
                group: {
                  name: M === true ? "default" : M,
                  put(...ue) {
                    return S.dragPut(...ue);
                  }
                },
                swapThreshold: V === "draggable" ? 0.25 : 0.8,
                ghostClass: "ghost",
                animation: 150,
                handle: "._fd-drag-btn",
                emptyInsertThreshold: 0,
                direction: "auto",
                itemKey: "_fc_id"
              }
            },
            tag: V
          },
          children: K,
          slot: Z,
          on: G
        };
      },
      clearDragRule() {
        S.setRule([]), S.addOperationRecord(), C.unloadStatus = false, f.emit("clear");
      },
      makeDragRule(M) {
        return S.makeChildren([S.makeDrag(true, "draggable", M, {
          add: (V, K) => S.dragAdd(M, K),
          end: (V, K) => S.dragEnd(M, K),
          start: (V, K) => S.dragStart(M, K),
          unchoose: (V, K) => S.dragUnchoose(M, K)
        })]);
      },
      handleSave() {
        f.emit("save", {
          rule: S.getJson(),
          options: S.getOptionsJson()
        });
      },
      previewSubmit(...M) {
        f.emit("previewSubmit", ...M);
      },
      previewReset(...M) {
        f.emit("previewReset", ...M);
      },
      openPreview() {
        C.preview.state = true;
        const M = S.getJson(), V = S.getOptionsJson();
        C.preview.rule = Je.parseJson(M), C.preview.option = Je.parseJson(V);
        const K = S.getConfig("useTemplate", false);
        C.preview.component = No.highlight(
          K ? fm(M, V) : dm(M, V),
          { language: "xml" }
        ).value, C.preview.html = No.highlight(
          Pd(M, V),
          { language: "xml" }
        ).value;
      },
      copyCode() {
        er(this.$refs.previewCode.innerText);
      },
      getHtml() {
        return Pd(S.getJson(), S.getOptionsJson());
      },
      getRule() {
        return S.parseRule(Ft(C.dragForm.rule[0].children));
      },
      getJson() {
        return Je.toJson(S.getRule());
      },
      getOption() {
        const M = Ft(C.formOptions);
        ["onReset", "onSubmit", "beforeSubmit", "onCreated", "onMounted", "onReload", "onChange", "beforeFetch"].forEach((K) => {
          delete M[K];
        }), Object.keys(M._event || {}).forEach((K) => {
          M._event[K] && (M[K] = M._event[K]);
        }), delete M._event, M.submitBtn = M._submitBtn, M.resetBtn = M._resetBtn, M.resetBtn.innerText = I("props.reset"), M.submitBtn.innerText = I("props.submit");
        const V = Ft(C.inputForm.data);
        return Object.keys(V).length > 0 && (M.formData = V), M.language && Object.keys(M.language).forEach((K) => {
          Object.keys(M.language[K]).forEach((G) => {
            M.language[K][G] || delete M.language[K][G];
          }), Object.keys(M.language[K]).length || delete M.language[K];
        }), Object.keys(M).forEach((K) => {
          ut.Object(M[K]) && !Object.keys(M[K]).length && delete M[K];
        }), delete M._submitBtn, delete M._resetBtn, M;
      },
      getOptions() {
        return S.getOption();
      },
      getOptionsJson() {
        return Je.toJson([S.getOption()]).slice(1).slice(0, -1);
      },
      setRule(M) {
        M || (M = []), C.children = ref(S.loadRule(ut.String(M) ? Je.parseJson(M) : Ft(M))), S.clearActiveRule(), C.dragForm.rule = S.makeDragRule(S.makeChildren(C.children)), S.updateTree();
      },
      setBaseRuleConfig(M, V) {
        h2.value = { rule: M, append: V }, C.baseForm.rule = N(yo, h2.value, { t: I });
      },
      setComponentRuleConfig(M, V, K) {
        m.value[M] = { rule: V, append: K }, C.cacheProps = {};
        const G = C.activeRule;
        if (G) {
          const Z = C.propsForm.api.formData && C.propsForm.api.formData();
          C.propsForm.rule = C.cacheProps[G._fc_id] = N(G._menu.props, m.value && m.value[G._menu.name], G, {
            t: I,
            api: C.dragForm.api
          }), nextTick(() => {
            Z && C.propsForm.api.setValue(Z);
          });
        }
      },
      setValidateRuleConfig(M, V) {
        g.value = { rule: M, append: V }, C.validateForm.rule = N(yo, g.value, { t: I });
      },
      setFormRuleConfig(M, V) {
        w.value = { rule: M, append: V }, C.form.rule = N(yo, w.value, { t: I });
      },
      clearActiveRule() {
        C.activeRule = null, C.activePermission = {}, C.customForm.config = null, C.activeTab = "form", d.active = "";
      },
      setOption(M) {
        const V = Ft(S.getConfig("formOptions", {})), K = V.form || {};
        delete V.form;
        let G = { ...V, ...ut.String(M) ? JSON.parse(M) : Ft(M || {}) };
        G.form = {
          inline: false,
          hideRequiredAsterisk: false,
          labelPosition: "right",
          size: "default",
          labelWidth: "125px",
          ...K,
          ...G.form || {}
        }, G._event = {
          onReset: G.onReset || "",
          onSubmit: G.onSubmit || "",
          onCreated: G.onCreated || "",
          onMounted: G.onMounted || "",
          beforeSubmit: G.beforeSubmit || "",
          onReload: G.onReload || "",
          onChange: G.onChange || "",
          beforeFetch: G.beforeFetch || ""
        }, Dr(G, "language") || (G.language = {}), G._resetBtn = typeof G.resetBtn == "object" ? G.resetBtn : { show: G.resetBtn === true }, G._submitBtn = typeof G.submitBtn == "object" ? G.submitBtn : { show: G.submitBtn !== false }, G.submitBtn = G.resetBtn = false, C.inputForm.data = G.formData || {}, C.oldOptionsKeys = Object.keys(C.form.value), delete G.formData, C.formOptions = G, S.updateOptionsValue();
      },
      setOptions(M) {
        S.setOption(M);
      },
      mergeOptions(M) {
        if (["form"].forEach((V) => {
          M[V] && (C.formOptions[V] = { ...C.formOptions[V] || {}, ...M[V] });
        }), M.style && (!C.formOptions.style || C.formOptions.style.indexOf(M.style) === -1) && (C.formOptions.style = (C.formOptions.style || "") + `
` + M.style), C.formOptions.language || (C.formOptions.language = {}), M.language && Object.keys(M.language).forEach((V) => {
          C.formOptions.language[V] = { ...C.formOptions.language[V] || {}, ...M.language[V] };
        }), M.languageKey) {
          const V = S.getConfig("localeOptions", [
            { value: "zh-cn", label: "简体中文" },
            { value: "en", label: "English" }
          ]);
          M.languageKey.forEach((K) => {
            V.forEach(({ value: G }) => {
              C.formOptions.language[G] || (C.formOptions.language[G] = {}), C.formOptions.language[G][K] || (C.formOptions.language[G][K] = "");
            });
          });
        }
      },
      updateOptionsValue() {
        const M = {};
        C.oldOptionsKeys.forEach((K) => {
          M[K] = void 0;
        });
        const V = { ...M, ...C.formOptions.form };
        Object.keys(C.formOptions).forEach((K) => {
          const G = C.formOptions[K];
          V[">" + K] = G, typeof G == "object" && Object.keys(G).forEach((Z) => {
            V[K + ">" + Z] = G[Z];
          });
        }), C.form.value = V;
      },
      loadRule(M, V, K) {
        const G = [];
        return M.forEach((Z) => {
          if (ut.String(Z))
            return G.push(Z);
          let ue = C.dragRuleList[Z._fc_drag_tag] || C.dragRuleList[Z.type];
          if (ue || (ue = Zg(Z), Z._fc_drag_tag = "_"), K && (Z._fc_template = K), ue && ue.loadRule && ue.loadRule(Z), Z.children = S.loadRule(Z.children || [], ue, K), Z.control && (Z._control = Z.control, delete Z.control), Z.computed && (Z._computed = Z.computed, delete Z.computed), Z.on && (Z._on = Z.on, delete Z.on), ue) {
            const pe = Z.slot;
            let ce;
            V && V.slot && pe && pe !== "default" && (ce = S.getSlotConfig(V, pe, ue)), delete Z.slot, Z = S.makeRule(ce || ue, Z), pe && (Z.slot = pe);
          }
          G.push(Z);
        }), G;
      },
      parseRule(M, V) {
        return [...M].reduce((K, G) => {
          let Z = V;
          if (ut.String(G))
            return K.push(G), K;
          if (G.type === "DragBox")
            return K.push(...S.parseRule(G.children, Z || G.slot)), K;
          if (G.type === "DragTool") {
            if (Z = G.slot || V, G = G.children[0], ut.String(G))
              return K.push(G), K;
            if (G.type === "DragBox")
              return K.push(...S.parseRule(G.children, Z || G.slot)), K;
          }
          return G && (G = { ...G }, Z && Z !== "default" && (G.slot = Z), G.children && G.children.length && (G.children = S.parseRule(G.children)), delete G.key, delete G.component, G._menu && (G._menu.parseRule && G._menu.parseRule(G), delete G._menu), G._fc_drag_tag === "_" && delete G._fc_drag_tag, G._control && (G.control = G._control, delete G._control), G._computed && (G.computed = G._computed, delete G._computed), G.slot || delete G.slot, G._on && (G.on = G._on, delete G._on), G.props && Object.keys(G.props).forEach((ue) => {
            const pe = G.props[ue];
            pi(pe) && delete G.props[ue];
          }), Object.keys(G).filter((ue) => ue.indexOf("__") === 0 || Array.isArray(G[ue]) && G[ue].length === 0 || ut.Object(G[ue]) && Object.keys(G[ue]).length === 0).forEach((ue) => {
            delete G[ue];
          }), K.push(G)), K;
        }, []);
      },
      fields() {
        return C.dragForm.api.all().map((M) => M.field).filter((M) => !!M);
      },
      baseChange(M, V, K, G) {
        S.handleChange("", M, V, K, G);
      },
      formOptChange(M, V) {
        C.form.value[M] = V, M.indexOf(">") === -1 && (M = "form>" + M);
        let K = C.formOptions;
        const G = M.split(">"), Z = G.pop();
        G.forEach((ue) => {
          ue && (K[ue] || (K[ue] = {}), K = K[ue]);
        }), K[Z] = V;
      },
      propRemoveField(M, V, K) {
        var G, Z, ue;
        if (C.activeRule && K[C.activeRule._fc_id] === C.activeRule) {
          S.unWatchActiveRule();
          const pe = M;
          C.dragForm.api.sync(C.activeRule), M.indexOf("__") !== 0 && (M === "formCreateChild" ? delete C.activeRule.children[0] : M.indexOf("formCreate") === 0 || M.indexOf(">") > 0 ? (M.indexOf("formCreate") < 0 && (M = "props>" + M), O(M, ({ source: ce, field: fe }) => {
            delete ce[fe];
          })) : delete C.activeRule.props[M]), S.watchActiveRule(), (ue = (Z = (G = C.activeRule._menu) == null ? void 0 : G.watch) == null ? void 0 : Z[pe]) == null || ue.call(Z, {
            field: pe,
            value: void 0,
            api: K,
            rule: C.activeRule,
            ctx: f
          });
        }
      },
      propChange(M, V, K, G) {
        S.handleChange("props", M, V, K, G);
      },
      styleChange(M, V, K, G) {
        if (C.customForm.config)
          return C.customForm.config.style.change(M, V);
        S.handleChange("", M, V, K, G);
      },
      handleChange(M, V, K, G, Z) {
        var ue, pe, ce;
        if (C.activeRule && Z[C.activeRule._fc_id] === C.activeRule) {
          S.unWatchActiveRule();
          const fe = V;
          V.indexOf("__") !== 0 && (V === "formCreateChild" ? C.activeRule.children[0] = K : V.indexOf("formCreate") === 0 || V.indexOf(">") > 0 ? (V.indexOf("formCreate") < 0 && (V = (M ? M + ">" : "") + V), O(V, ({ source: ne, field: be }) => {
            pi(K) ? delete ne[be] : ne[be] = K;
          })) : M && pi(K) ? delete C.activeRule[M][V] : (M ? C.activeRule[M] : C.activeRule)[V] = K), S.watchActiveRule(), (ce = (pe = (ue = C.activeRule._menu) == null ? void 0 : ue.watch) == null ? void 0 : pe[fe]) == null || ce.call(pe, {
            field: fe,
            value: K,
            api: Z,
            rule: C.activeRule,
            ctx: f
          });
        }
      },
      validateChange(M, V, K, G) {
        !C.activeRule || C.validateForm.api[C.activeRule._fc_id] !== C.activeRule || (S.handleChange("", M, V, K, G), C.dragForm.api.refreshValidate(), C.dragForm.api.nextTick(() => {
          C.dragForm.api.clearValidateState(C.activeRule.__fc__.id);
        }));
      },
      triggerActive(M) {
        let V;
        if (ut.String(M) && (M = S.findRule(M)), !!M && (M._menu.inside ? V = M.children[0] : V = M.__fc__.parent.rule, V && V.type === "DragTool")) {
          const K = C.dragForm.api.el(V.__fc__.id);
          K && (d.active = K.id, f.emit("active", M), S.toolActive(M));
        }
      },
      customFormChange(M, V) {
        C.customForm.config && C.customForm.config.change(M, V);
      },
      customActive(M) {
        C.baseForm.isShow = false, C.propsForm.isShow = false, C.eventShow = false, C.validateForm.isShow = false, C.styleForm.isShow = !!M.style && S.getConfig("showStyleForm") !== false, C.activeRule = null, C.activePermission = {}, d.active = "", C.customForm.config = M, C.customForm.isShow = true, C.customForm.propsShow = M.props && S.getConfig("showPropsForm") !== false, C.customForm.key = Ze(), C.customForm.rule = C.customForm.propsShow ? M.props({ t: I }) : [], C.customForm.options.formData = M.formData, M.style && (C.styleForm.value = M.style.formData || {}), nextTick(() => {
          C.activeTab = "props";
        });
      },
      getPropsRule(M) {
        let V = N(M._menu.props, m.value && m.value[M._menu.name], M, {
          t: I,
          api: C.dragForm.api
        });
        if (m.value && m.value.default) {
          const K = m.value.default;
          V = N(() => V, ut.Function(K) ? {
            rule: K,
            append: true
          } : K, M, {
            t: I,
            api: C.dragForm.api
          });
        }
        return V;
      },
      findRule(M) {
        let V;
        const K = (G) => {
          G.forEach((Z) => {
            [Z.rule.field, Z.rule.name, Z.rule._fc_id].indexOf(M) > -1 ? V = Z.rule : Z.children && K(Z.children);
          });
        };
        return K(C.treeInfo), V;
      },
      toolActive(M) {
        if (c.value.beforeActiveRule && c.value.beforeActiveRule({ rule: M }) === false)
          return;
        S.unWatchActiveRule(), C.customForm.isShow = false, C.customForm.config = null, C.activeRule && (delete C.propsForm.api[C.activeRule._fc_id], delete C.baseForm.api[C.activeRule._fc_id], delete C.validateForm.api[C.activeRule._fc_id], delete C.styleForm.api[C.activeRule._fc_id], delete C.dragForm.api.activeRule);
        const V = S.getPermission(M);
        C.activeRule = M, C.activePermission = V, C.dragForm.api.activeRule = M, nextTick(() => {
          C.activeTab = "props", nextTick(() => {
            C.propsForm.api[C.activeRule._fc_id] = C.activeRule, C.baseForm.api[C.activeRule._fc_id] = C.activeRule, C.validateForm.api[C.activeRule._fc_id] = C.activeRule, C.styleForm.api[C.activeRule._fc_id] = C.activeRule;
          });
        }), C.cacheProps[M._fc_id] || (C.cacheProps[M._fc_id] = S.getPropsRule(M));
        const K = S.getConfig("hiddenItemConfig", {}), G = S.getConfig("disabledItemConfig", {}), Z = kd([...V.hiddenConfig || [], ...(K == null ? void 0 : K.default) || [], ...(K == null ? void 0 : K[M._menu.name]) || []]), ue = [...Z, ...M._menu.hiddenBaseField || []], pe = kd([...V.disabledConfig || [], ...(G == null ? void 0 : G.default) || [], ...(G == null ? void 0 : G[M._menu.name]) || []]);
        C.baseForm.api.disabled(false), C.baseForm.api.hidden(false), nextTick(() => {
          C.baseForm.api.all().forEach((ne) => {
            (ne.name || ne.field) && (ne.hidden = ue.indexOf(ne.name) !== -1 || ue.indexOf(ne.field) !== -1);
          }), C.propsForm.api.hidden(true, Z);
        }), pe.length && (C.baseForm.api.disabled(true, pe), nextTick(() => {
          C.propsForm.api.disabled(true, pe);
        })), S.getConfig("showControl", true) || C.baseForm.api.hidden(true, "_control");
        const ce = Dr(M, "field");
        C.baseForm.isShow = V.base !== false && ce && M.input !== false && S.getConfig("showBaseForm") !== false, C.propsForm.isShow = V.props !== false && C.cacheProps[M._fc_id].length > 0 && S.getConfig("showPropsForm") !== false, C.styleForm.isShow = V.style !== false && M._menu.style !== false && S.getConfig("showStyleForm") !== false, C.eventShow = V.event !== false && M._menu.event !== false && S.getConfig("showEventForm") !== false;
        const fe = S.getConfig("showValidateForm");
        C.validateForm.isShow = V.validate !== false && (C.baseForm.isShow && fe !== false || fe === true) && M._menu.validate !== false, C.propsForm.rule = C.cacheProps[M._fc_id], S.updateRuleFormData(), S.watchActiveRule();
      },
      getConfig(M, V) {
        return c.value && Dr(c.value, M) ? c.value[M] : V;
      },
      getPermission(M) {
        var K;
        let V = {};
        return (((K = c.value) == null ? void 0 : K.componentPermission) || []).forEach((G) => {
          let Z = false;
          (G.field && (Array.isArray(G.field) ? G.field.indexOf(M.field) > -1 : G.field === M.field) || G.name && (Array.isArray(G.name) ? G.name.indexOf(M.name) > -1 : G.name === M.name) || G.id && (Array.isArray(G.id) ? G.id.indexOf(M._fc_id) > -1 : G.id === M._fc_id) || G.tag && (Array.isArray(G.tag) ? G.tag.indexOf(M._fc_drag_tag) > -1 : G.tag === M._fc_drag_tag)) && (Z = true), Z && (V = G.permission || {});
        }), V;
      },
      updateRuleFormData() {
        const M = C.activeRule;
        let V = {
          formCreateChild: "" + M.children[0],
          "formCreateWrap>labelWidth": ""
        };
        const K = c.value.appendConfigData;
        ut.Function(K) ? V = { ...V, ...K(M) } : Array.isArray(K) && K.forEach((Z) => {
          V[Z] = void 0;
        }), Object.keys(M).forEach((Z) => {
          ["effect", "config", "payload", "id", "type", "_menu"].indexOf(Z) < 0 && (V["formCreate" + Mo(Z)] = Ft(M[Z]));
        }), Object.keys(M.props).forEach((Z) => {
          const ue = M.props[Z];
          V[Z] = Ft(ue), ut.Object(ue) && Object.keys(ue).forEach((pe) => {
            V[Z + ">" + pe] = Ft(ue[pe]);
          });
        }), ["props", "effect", "attrs", "style", "wrap"].forEach((Z) => {
          M[Z] && typeof M[Z] == "object" && Object.keys(M[Z]).forEach((ue) => {
            V["formCreate" + Mo(Z) + ">" + ue] = Ft(M[Z][ue]);
          });
        });
        const G = M._menu.attrs || {};
        Object.keys(G).forEach((Z) => {
          V["__" + Z] = G[Z]({ rule: M });
        }), C.propsForm.value = V, C.styleForm.value = {
          style: M.style,
          class: M.class,
          id: M.id
        }, C.baseForm.isShow && (C.baseForm.value = {
          field: M.field,
          title: M.title || "",
          info: M.info,
          _control: M._control,
          ...V
        }, C.validateForm.value = {
          validate: M.validate ? [...M.validate] : [],
          $required: V.formCreate$required
        }, C.dragForm.api.refreshValidate(), C.dragForm.api.nextTick(() => {
          C.dragForm.api.clearValidateState(M.__fc__.id);
        }));
      },
      dragStart(M) {
        C.moveRule = M, C.added = false;
      },
      dragUnchoose(M, V) {
        C.addRule = {
          children: M,
          oldIndex: V.oldIndex
        };
      },
      clickMenu(M) {
        this.checkDragToContainer(M) && S.dragMenu({ menu: M, children: C.children, index: C.children.length });
      },
      checkOnly(M) {
        let V = false;
        return C.dragForm.api.all().forEach((K) => {
          V = V || K._fc_template === M.name || K._menu && K._menu.name === M.name;
        }), V && jn(C.t("struct.only", { label: I("com." + M.name + ".name") || M.label })), V;
      },
      dragMenu({ menu: M, children: V, index: K, slot: G }) {
        if (C.inputForm.state || M.only && S.checkOnly(M))
          return;
        S.handleAddBefore();
        const Z = C.dragRuleList[M.name];
        f.emit("drag", {
          item: M,
          dragRule: Z
        });
        const ue = S.makeRule(C.dragRuleList[Z.name]);
        G && (ue.slot = G), V.splice(K, 0, ue);
        const pe = ue.type === "DragTool" ? ue.children[0] : ue;
        S.handleAddAfter({ rule: ue }), pe && S.getConfig("autoActive", true) && nextTick(() => {
          S.triggerActive(pe);
        });
      },
      replaceField(M) {
        const V = ["array", "object"].indexOf(M._menu.subForm) > -1;
        let K = S.parseRule(Ft([M]))[0];
        const G = S.getConfig("autoResetName") !== false;
        return V && (K.field = Ze(), G && (K.name = "ref_" + Ze())), K = Je.toJson(K), V ? K = S.batchReplaceUni(K) : (K = S.batchReplaceField(K), G && (K = S.batchReplaceName(K))), S.loadRule([Je.parseJson(K)])[0];
      },
      batchReplaceField(M) {
        const V = /"field"\s*:\s*"(\w[\w\d]+)"/g;
        return M = M.replace(V, (K, G) => `"field":"${Ze()}"`), S.batchReplaceUni(M);
      },
      batchReplaceUni(M) {
        const V = /"_fc_id"\s*:\s*"(\w[\w\d]+)"/g;
        return M = M.replace(V, () => `"_fc_id":"id_${Ze()}"`), M;
      },
      batchReplaceName(M) {
        const V = /"name"\s*:\s*"ref_(\w[\w\d]+)"/g;
        return M = M.replace(V, () => `"name":"ref_${Ze()}"`), M;
      },
      getTrueRule(M) {
        if (!!M) {
          if (M._menu)
            return M._menu._get();
          if (M._config)
            return M._config._get();
        }
      },
      checkDragToContainer(M) {
        return !M.allowDragTo || (Array.isArray(M.allowDragTo) ? M.allowDragTo.indexOf("draggable") > -1 : M.allowDragTo === "draggable");
      },
      dragPut(M, V, K) {
        const G = S.getTrueRule(M.el.__rule__), Z = K._underlying_vm_.__fc__ ? K._underlying_vm_._config || K._underlying_vm_._menu : K._underlying_vm_;
        if (!G)
          return !Z || this.checkDragToContainer(Z);
        const ue = G._menu, pe = K._fc_allow_drag || {};
        if (pe[G._fc_id] === void 0) {
          const ce = S.getTrueRule(K._underlying_vm_);
          pe[G._fc_id] = !(Z && ue && !S.checkDrag({
            menu: Z,
            toMenu: ue,
            rule: ce,
            toRule: G
          })), K._fc_allow_drag = pe;
        }
        return K._fc_allow_drag[G._fc_id];
      },
      checkDrag({ menu: M, toMenu: V, rule: K, toRule: G }) {
        var Z, ue;
        return !(!S.checkAllowDrag(M, V) || G.children && V.maxChildren && V.maxChildren <= ((ue = (Z = G.children[0]) == null ? void 0 : Z.children) == null ? void 0 : ue.length) || M.checkDrag && M.checkDrag({
          menu: M,
          toMenu: V,
          rule: K,
          toRule: G,
          designer: f
        }) === false || V.checkDrag && V.checkDrag({
          menu: M,
          toMenu: V,
          rule: K,
          toRule: G,
          designer: f
        }) === false || c.value.checkDrag && c.value.checkDrag({
          menu: M,
          toMenu: V,
          rule: K,
          toRule: G
        }) === false);
      },
      checkAllowDrag(M, V) {
        function K(ue) {
          return Array.isArray(ue) && (ue = { item: ue }), Hd(ue.item).indexOf(M.name) > -1 ? true : Hd(ue.menu).indexOf(M.menu) > -1;
        }
        const G = S.getConfig("allowDrag", {})[V.name], Z = S.getConfig("denyDrag", {})[V.name];
        return M.allowDragTo && (Array.isArray(M.allowDragTo) ? M.allowDragTo.indexOf(V.name) === -1 : M.allowDragTo !== V.name) ? false : V.allowDrag && K(V.allowDrag) || G && K(G) ? true : V.allowDrag || G || V.denyDrag && K(V.denyDrag) ? false : !(Z && K(Z));
      },
      dragAdd(M, V, K) {
        delete V.item._fc_allow_drag;
        const G = V.newIndex, Z = V.item._underlying_vm_ || V.item.__rule__;
        if (C.added = true, Z && Z.__fc__) {
          if (C.addRule) {
            S.handleSortBefore();
            const ue = C.addRule.children.splice(C.addRule.children.indexOf(Z), 1)[0];
            K ? ue.slot = K : delete ue.slot, M.splice(G, 0, ue), S.handleSortAfter({ rule: ue });
          }
        } else
          S.dragMenu({ menu: Z, children: M, index: G, slot: K });
      },
      dragEnd(M, { item: V, newIndex: K, oldIndex: G }, Z) {
        if (delete V._fc_allow_drag, !C.added && !(C.moveRule === M && K === G)) {
          S.handleSortBefore();
          const ue = C.moveRule.splice(G, 1);
          Z && (ue.slot = Z), M.splice(K, 0, ue[0]), S.handleSortAfter({ rule: ue[0] });
        }
        C.moveRule = null, C.addRule = null, C.added = false;
      },
      getSlotConfig(M, V, K) {
        let G = {};
        return (M.slot || []).forEach((Z) => {
          Z.name === V && (G = Z.config || {});
        }), { ...K, dragBtn: false, handleBtn: K.children ? ["addChild"] : false, ...G };
      },
      makeRule(M, V) {
        let K = V || M.rule({ t: I });
        const G = R.value && R.value[M.name];
        if (!V && G)
          if (typeof G == "function")
            try {
              G(K);
            } catch (fe) {
              console.error(fe);
            }
          else {
            let fe = Ft(G);
            delete fe.children, delete fe.component, K = jp([K, fe]);
          }
        K._menu = markRaw({ ...M }), K._menu._get = () => K, K._fc_id || (K._fc_id = "id_" + Ze()), K.name || (K.name = "ref_" + Ze()), M.component && (K.component = markRaw(M.component)), K._computed || (K._computed = {}), K.effect || (K.effect = {}), M.input && !K.field && (K.field = Ze()), M.languageKey && S.mergeOptions({
          languageKey: M.languageKey
        }), Dr(K, "display") || (K.display = true), Dr(K, "hidden") || (K.hidden = false), K.children || (K.children = []), K._fc_drag_tag = M.name;
        let Z = M.only === true, ue;
        const pe = K.children || [];
        if (M.drag && (K.children = [ue = S.makeDrag(M.drag, K._menu ? K._menu.name : K.type, pe, {
          end: (fe, ne) => S.dragEnd(fe.self.children, ne),
          add: (fe, ne) => S.dragAdd(fe.self.children, ne),
          start: (fe, ne) => S.dragStart(fe.self.children, ne),
          unchoose: (fe, ne) => S.dragUnchoose(fe.self.children, ne)
        })], ue._config = K._menu), M.children && !V && !pe.length)
          for (let fe = 0; fe < (M.childrenLen || 1); fe++) {
            const ne = S.makeRule(C.dragRuleList[M.children]);
            (ue || K).children.push(ne);
          }
        const ce = o.value !== void 0 ? o.value !== false : M.mask !== false;
        return M.tool === false ? K : M.inside ? (K.children = S.makeChildren([{
          type: "DragTool",
          props: {
            dragBtn: M.dragBtn !== false,
            children: M.children,
            mask: ce,
            handleBtn: M.handleBtn,
            only: Z
          },
          inject: true,
          on: {
            delete: ({ self: fe }) => {
              const ne = S.getParent(fe).parent;
              S.handleRemoveBefore({ parent: ne, rule: ne }) !== false && (ne.__fc__.rm(), f.emit("delete", ne), C.activeRule === ne && S.clearActiveRule(), S.handleRemoveAfter({ rule: ne }));
            },
            create: ({ self: fe }) => {
              S.handleAddBefore();
              const ne = S.getParent(fe);
              f.emit("create", ne.parent);
              const be = S.makeRule(ne.parent._menu);
              ne.parent.slot && (be.slot = ne.parent.slot), ne.root.children.splice(ne.root.children.indexOf(ne.parent) + 1, 0, be), S.handleAddAfter({ rule: ne.parent });
            },
            addChild: ({ self: fe }) => {
              S.handleAddBefore();
              const ne = S.getParent(fe), be = ne.parent._menu, we = C.dragRuleList[be.children];
              if (!we)
                return;
              const Re = S.makeRule(we);
              (be.drag ? ne.parent.children[0] : ne.parent).children[0].children.push(Re), S.handleAddAfter({ rule: Re });
            },
            copy: ({ self: fe }) => {
              S.handleCopyBefore();
              const ne = S.getParent(fe);
              f.emit("copy", ne.parent);
              const be = S.replaceField(ne.parent);
              ne.root.children.splice(ne.root.children.indexOf(ne.parent) + 1, 0, be), S.handleCopyAfter({ rule: ne.parent });
            },
            active: ({ self: fe }) => {
              const ne = S.getParent(fe);
              f.emit("active", ne.parent), setTimeout(() => {
                S.toolActive(ne.parent);
              }, 10);
            }
          },
          _config: K._menu,
          children: K.children
        }]), K) : {
          type: "DragTool",
          props: {
            dragBtn: M.dragBtn !== false,
            children: M.children,
            mask: ce,
            handleBtn: M.handleBtn,
            only: Z
          },
          inject: true,
          display: !!K.display,
          on: {
            delete: ({ self: fe }) => {
              S.handleRemoveBefore({ parent: fe, rule: fe.children[0] }) !== false && (f.emit("delete", fe.children[0]), fe.__fc__.rm(), C.activeRule === fe.children[0] && S.clearActiveRule(), S.handleRemoveAfter({ rule: fe.children[0] }));
            },
            create: ({ self: fe }) => {
              S.handleAddBefore(), f.emit("create", fe.children[0]);
              const ne = S.getParent(fe), be = S.makeRule(fe.children[0]._menu);
              ne.parent.slot && (be.slot = ne.parent.slot), ne.root.children.splice(ne.root.children.indexOf(ne.parent) + 1, 0, be), S.handleAddAfter({ rule: be });
            },
            addChild: ({ self: fe }) => {
              S.handleAddBefore();
              const ne = fe.children[0]._menu, be = C.dragRuleList[ne.children];
              if (!be)
                return;
              const we = S.makeRule(be);
              (ne.drag ? fe.children[0] : fe).children[0].children.push(we), S.handleAddAfter({ rule: we });
            },
            copy: ({ self: fe }) => {
              S.handleCopyBefore(), f.emit("copy", fe.children[0]);
              const ne = S.getParent(fe), be = S.replaceField(fe.children[0]);
              fe.slot && (be.slot = fe.slot), ne.root.children.splice(ne.root.children.indexOf(ne.parent) + 1, 0, be), S.handleCopyAfter({ rule: fe.children[0] });
            },
            active: ({ self: fe }) => {
              f.emit("active", fe.children[0]), setTimeout(() => {
                S.toolActive(fe.children[0]);
              }, 10);
            }
          },
          _config: K._menu,
          children: S.makeChildren([K])
        };
      },
      toolHandle(M, V) {
        if (!M._fc_drag_tag || M._menu.tool === false) {
          M.__fc__.rm();
          return;
        }
        let K;
        M._menu.inside ? K = M.children[0].__fc__.exportEl : K = M.__fc__.parent.exportEl, K.$emit(V);
      },
      handleAddBefore() {
      },
      handleRemoveBefore({ rule: M }) {
        if (c.value.beforeRemoveRule && c.value.beforeRemoveRule({ rule: M }) === false)
          return false;
      },
      handleCopyBefore() {
      },
      handleSortBefore() {
      },
      addOperationRecord() {
        const M = S.getJson(), V = Ft(C.inputForm.data), K = C.operation.list.slice(0, C.operation.idx + 1);
        K.push({ rule: M, formData: V }), C.operation.list = K, C.operation.idx = K.length - 1, C.unloadStatus = K.length !== 1;
      },
      prevOperationRecord() {
        if (!C.operation.list[C.operation.idx - 1])
          return;
        const M = C.operation.list[--C.operation.idx];
        S.useOperationRecord(M), S.clearActiveRule();
      },
      nextOperationRecord() {
        if (!C.operation.list[C.operation.idx + 1])
          return;
        const M = C.operation.list[++C.operation.idx];
        S.useOperationRecord(M), S.clearActiveRule();
      },
      useOperationRecord(M) {
        C.inputForm.data = M.formData, S.setRule(M.rule);
      },
      handleAddAfter() {
        S.addOperationRecord(), S.updateTree();
      },
      handleRemoveAfter() {
        S.addOperationRecord(), S.updateTree();
      },
      handleCopyAfter() {
        S.addOperationRecord(), S.updateTree();
      },
      handleSortAfter() {
        S.addOperationRecord(), S.updateTree();
      },
      treeChange(M) {
        S.triggerActive(M.rule);
      },
      getFormDescription() {
        return Ld(S.getDescription());
      },
      getDescription() {
        return Fd(C.dragForm.rule[0].children);
      },
      getSubFormDescription(M) {
        let V = M.__fc__ && M.__fc__.parent;
        for (; V; ) {
          if (V.rule._menu && ["array", "object"].indexOf(V.rule._menu.subForm) > -1)
            return Ld(Fd(V.rule.children));
          V = V.parent;
        }
        return null;
      },
      getSubFormChildren(M) {
        let V = M.__fc__ && M.__fc__.parent;
        for (; V; ) {
          if (V.rule._menu && ["array", "object"].indexOf(V.rule._menu.subForm) > -1)
            return V.rule.children || [];
          V = V.parent;
        }
        return null;
      },
      updateTree: C0(function() {
        nextTick(() => {
          C.treeInfo = lu(C.dragForm.rule[0].children);
        });
      }, 300),
      findTree(M) {
        let V;
        const K = (G) => {
          G.forEach((Z) => {
            Z.rule.field === M ? V = Z.children : Z.children && K(Z.children);
          });
        };
        return K(C.treeInfo), V || [];
      },
      handleDragenter(M) {
        C.bus.$emit("dragenter", M);
      },
      handleDragleave(M) {
        C.bus.$emit("dragleave", M);
      },
      handleDrop(M) {
        C.bus.$emit("drop", M);
      },
      changeEvent(M) {
        C.activeRule._on = M;
      },
      triggerHandle(M) {
        M.handle();
      },
      bindHotkey(M) {
        const V = M.ctrlKey || M.metaKey;
        if (!getSelection().toString() && V && M.target.tagName === "BODY" && ["ArrowUp", "ArrowDown", "Backspace", "c", "x", "z", "p", "1", "2", "3", "4"].indexOf(M.key) > -1) {
          if (M.preventDefault(), C.inputForm.state)
            return;
          F[M.key] ? F[M.key](M) : "1234".indexOf(M.key) > -1 && F.num(M);
        }
      },
      bindPaste(M) {
        if (C.inputForm.state)
          return;
        let V = M.clipboardData.getData("text/plain");
        if (V && V.indexOf("FormCreate:") === 0) {
          let K = C.children;
          V = V.slice(11, V.length);
          const G = S.loadRule([Je.parseJson(V)])[0];
          let Z = true;
          if (C.activeRule && C.activeRule._menu.drag) {
            const ue = S.getTrueRule(G);
            if (ue && !S.checkDrag({
              rule: ue,
              menu: ue._menu,
              toRule: C.activeRule,
              toMenu: C.activeRule._menu
            }))
              return;
            C.activeRule._menu.inside ? K = C.activeRule.children[0].children[0].children : K = C.activeRule.children[0].children;
          } else
            C.customForm.config && C.customForm.config.onPaste && (C.customForm.config.onPaste(G), Z = false);
          Z && K.push(G), S.updateTree(), S.addOperationRecord(), f.emit("pasteRule", { event: M, copyRule: G });
        }
      }
    }, F = {
      z(M) {
        M.shiftKey ? S.nextOperationRecord() : S.prevOperationRecord();
      },
      Backspace() {
        !C.activeRule || S.toolHandle(C.activeRule, "delete");
      },
      c(M) {
        const V = C.activeRule;
        !V || (er("FormCreate:" + Je.toJson(S.parseRule([V])[0])), f.emit("copyRule", { event: M, rule: V }));
      },
      x(M) {
        !C.activeRule || (F.c(M), S.toolHandle(C.activeRule, "delete"));
      },
      p() {
        S.openPreview();
      },
      num(M) {
        M.key, M.key === "1" ? (C.activeModule = "base", C.activeMenuTab = "menu") : M.key === "2" ? (C.activeModule = "base", C.activeMenuTab = "tree") : M.key === "3" ? C.activeModule = "json" : M.key === "4" && (C.activeModule = "language");
      },
      ArrowUp(M) {
        let V = C.activeRule;
        if (!V)
          return;
        V._menu.inside || (V = V.__fc__.parent.rule);
        const K = V.__fc__.parent.rule, G = K.children.indexOf(V);
        if (K.children.length > 1 && G >= 0) {
          const Z = M.key === "ArrowUp" ? -1 : M.key === "ArrowDown" ? 1 : 0;
          Z && G + Z >= 0 && G + Z < K.children.length && (K.children.splice(G, 1), K.children.splice(G + Z, 0, V), S.updateTree(), S.addOperationRecord(), f.emit("sort" + (M.key === "ArrowUp" ? "Up" : "Down"), { event: M, rule: V }));
        }
      },
      ArrowDown(M) {
        F.ArrowUp(M);
      }
    };
    C.dragForm.rule = S.makeDragRule(S.makeChildren(C.children)), S.setOption({}), r.value ? Yd.forEach((M) => {
      C.dragRuleList[M.name] = M;
    }) : S.addComponent(Yd);
    const $ = computed(() => Object.keys(C.inputForm.data).length > 0);
    return {
      ...toRefs(C),
      ...S,
      dragHeight: A,
      t: I,
      handle: l,
      inputCheckStatus: $,
      fieldReadonly: E,
      hiddenMenu: b,
      hiddenItem: v,
      hiddenDragMenu: y,
      hiddenDragBtn: T,
      configFormOrderStyle: x
    };
  },
  created() {
    document.body.ondrop = (t3) => {
      t3.preventDefault(), t3.stopPropagation();
    }, window.onbeforeunload = (t3) => {
      var r;
      this.unloadStatus && ((r = this.config) == null ? void 0 : r.exitConfirm) !== false && (t3.returnValue = this.t("designer.unload"));
    };
  },
  mounted() {
    var t3;
    ((t3 = this.config) == null ? void 0 : t3.hotKey) !== false && (document.addEventListener("keydown", this.bindHotkey), document.addEventListener("paste", this.bindPaste));
  },
  unmounted() {
    document.removeEventListener("keydown", this.bindHotkey), document.removeEventListener("paste", this.bindPaste);
  }
});
var Ub = ["onClick"];
var Wb = ["onClick"];
var Kb = { class: "_fc-l-icon" };
var Gb = { class: "_fc-l-name" };
var Qb = { class: "_fc-tree-label" };
var Yb = { class: "_fc-m-tools-l" };
var Xb = { class: "devices" };
var Jb = { class: "_fc-m-tools-r" };
var Zb = { class: "_fd-input-btn" };
var qb = {
  key: 0,
  class: "_fc-m-input"
};
var e1 = {
  key: 0,
  class: "_fc-m-input-handle"
};
var t1 = { class: "_fc-r-title" };
var n1 = { class: "_fc-r-title" };
var i1 = { style: { "grid-area": "base" } };
var r1 = { style: { "grid-area": "props" } };
var o1 = { style: { "grid-area": "style" } };
var a1 = { style: { "grid-area": "event" } };
var l1 = {
  key: 0,
  style: { "grid-area": "validate" }
};
var s1 = {
  key: 2,
  class: "_fd-preview-code",
  ref: "previewCode"
};
var u1 = ["innerHTML"];
var f1 = {
  key: 3,
  class: "_fd-preview-code",
  ref: "previewCode"
};
var d1 = ["innerHTML"];
function c1(t3, r, a, o, n, l) {
  const f = resolveComponent("el-tooltip"), d = resolveComponent("el-aside"), c = resolveComponent("LanguageConfig"), h2 = resolveComponent("JsonPreview"), m = resolveComponent("el-header"), g = resolveComponent("fcDraggable"), w = resolveComponent("el-main"), R = resolveComponent("el-dropdown-item"), A = resolveComponent("el-dropdown-menu"), E = resolveComponent("el-dropdown"), b = resolveComponent("el-tree"), v = resolveComponent("el-container"), y = resolveComponent("el-button"), T = resolveComponent("el-popconfirm"), x = resolveComponent("el-switch"), D = resolveComponent("ViewForm"), I = resolveComponent("DragForm"), N = resolveComponent("Warning"), C = resolveComponent("TypeSelect"), B = resolveComponent("el-input"), O = resolveComponent("el-divider"), S = resolveComponent("PropsInput"), F = resolveComponent("EventConfig"), $ = resolveComponent("el-tab-pane"), U = resolveComponent("el-tabs"), L = resolveComponent("el-dialog");
  return openBlock(), createBlock(v, {
    class: "_fc-designer",
    style: normalizeStyle(t3.height ? `height:${t3.dragHeight};flex:0;` : ""),
    onDragenter: t3.handleDragenter,
    onDragleave: t3.handleDragleave,
    onDrop: t3.handleDrop
  }, {
    default: withCtx(() => [
      createVNode(w, null, {
        default: withCtx(() => [
          (openBlock(), createBlock(v, {
            style: { height: "100%" },
            key: t3.locale && t3.locale.name
          }, {
            default: withCtx(() => [
              t3.getConfig("showMenuBar") !== false ? withDirectives((openBlock(), createBlock(d, {
                key: 0,
                class: "_fc-l-menu",
                width: "40px"
              }, {
                default: withCtx(() => [
                  createVNode(f, {
                    effect: "dark",
                    content: t3.t("designer.comList"),
                    placement: "right",
                    "hide-after": 0
                  }, {
                    default: withCtx(() => [
                      createBaseVNode("div", {
                        class: normalizeClass(["_fc-l-menu-item", { active: t3.activeModule === "base" }]),
                        onClick: r[0] || (r[0] = (z) => t3.activeModule = "base")
                      }, r[35] || (r[35] = [
                        createBaseVNode("i", { class: "fc-icon icon-menu" }, null, -1)
                      ]), 2)
                    ]),
                    _: 1
                  }, 8, ["content"]),
                  t3.getConfig("showLanguage", true) ? (openBlock(), createBlock(f, {
                    key: 0,
                    effect: "dark",
                    content: t3.t("language.name"),
                    placement: "right",
                    "hide-after": 0
                  }, {
                    default: withCtx(() => [
                      createBaseVNode("div", {
                        class: normalizeClass(["_fc-l-menu-item", { active: t3.activeModule === "language" }]),
                        onClick: r[1] || (r[1] = (z) => t3.activeModule = "language")
                      }, r[36] || (r[36] = [
                        createBaseVNode("i", { class: "fc-icon icon-language" }, null, -1)
                      ]), 2)
                    ]),
                    _: 1
                  }, 8, ["content"])) : createCommentVNode("", true),
                  t3.getConfig("showJsonPreview", true) ? (openBlock(), createBlock(f, {
                    key: 1,
                    effect: "dark",
                    content: "JSON",
                    placement: "right",
                    "hide-after": 0
                  }, {
                    default: withCtx(() => [
                      createBaseVNode("div", {
                        class: normalizeClass(["_fc-l-menu-item", { active: t3.activeModule === "json" }]),
                        onClick: r[2] || (r[2] = (z) => t3.activeModule = "json")
                      }, r[37] || (r[37] = [
                        createBaseVNode("i", { class: "fc-icon icon-script" }, null, -1)
                      ]), 2)
                    ]),
                    _: 1
                  })) : createCommentVNode("", true)
                ]),
                _: 1
              }, 512)), [
                [vShow, !t3.hiddenLeft]
              ]) : createCommentVNode("", true),
              t3.hiddenLeft ? createCommentVNode("", true) : (openBlock(), createBlock(d, {
                key: 1,
                class: "_fc-l",
                width: t3.activeModule === "language" ? "450px" : "266px"
              }, {
                default: withCtx(() => [
                  createBaseVNode("div", {
                    class: "_fc-l-close",
                    onClick: r[3] || (r[3] = (z) => t3.hiddenLeft = true)
                  }, r[38] || (r[38] = [
                    createBaseVNode("i", { class: "fc-icon icon-arrow" }, null, -1)
                  ])),
                  t3.activeModule === "language" ? (openBlock(), createBlock(c, { key: 0 })) : createCommentVNode("", true),
                  t3.activeModule === "json" ? (openBlock(), createBlock(h2, { key: 1 })) : createCommentVNode("", true),
                  t3.activeModule === "base" ? (openBlock(), createBlock(v, {
                    key: 2,
                    style: { height: "100%" }
                  }, {
                    default: withCtx(() => [
                      createVNode(m, {
                        height: "40px",
                        class: "_fc-l-tabs"
                      }, {
                        default: withCtx(() => [
                          createBaseVNode("div", {
                            class: normalizeClass(["_fc-l-tab", { active: t3.activeMenuTab === "menu" }]),
                            onClick: r[4] || (r[4] = (z) => t3.activeMenuTab = "menu")
                          }, toDisplayString(t3.t("menu.component")), 3),
                          createBaseVNode("div", {
                            class: normalizeClass(["_fc-l-tab", { active: t3.activeMenuTab === "tree" }]),
                            onClick: r[5] || (r[5] = (z) => t3.activeMenuTab = "tree")
                          }, toDisplayString(t3.t("menu.tree")), 3)
                        ]),
                        _: 1
                      }),
                      withDirectives(createVNode(w, null, {
                        default: withCtx(() => [
                          (openBlock(true), createElementBlock(Fragment, null, renderList(t3.menuList, (z, Q) => (openBlock(), createElementBlock(Fragment, null, [
                            t3.hiddenMenu.indexOf(z.name) === -1 ? (openBlock(), createElementBlock("div", {
                              class: "_fc-l-group",
                              key: Q
                            }, [
                              createBaseVNode("h4", {
                                class: "_fc-l-title",
                                onClick: (J) => z.hidden = !z.hidden
                              }, [
                                createTextVNode(toDisplayString(t3.t("menu." + z.name) || z.title) + " ", 1),
                                createBaseVNode("i", {
                                  class: normalizeClass(["fc-icon icon-arrow", { down: !z.hidden }])
                                }, null, 2)
                              ], 8, Ub),
                              withDirectives(createVNode(g, {
                                group: { name: "default", pull: "clone", put: false },
                                sort: false,
                                itemKey: "name",
                                class: "_fc-l-list",
                                list: z.list
                              }, {
                                item: withCtx(({ element: J }) => [
                                  t3.hiddenItem.indexOf(J.name) === -1 ? (openBlock(), createElementBlock("div", {
                                    key: 0,
                                    class: "_fc-l-item",
                                    onClick: (ae) => t3.clickMenu(J)
                                  }, [
                                    createBaseVNode("div", Kb, [
                                      createBaseVNode("i", {
                                        class: normalizeClass(["fc-icon", J.icon || "icon-input"])
                                      }, null, 2)
                                    ]),
                                    createBaseVNode("span", Gb, toDisplayString(t3.t("com." + J.name + ".name") || J.label), 1)
                                  ], 8, Wb)) : createCommentVNode("", true)
                                ]),
                                _: 2
                              }, 1032, ["list"]), [
                                [vShow, !z.hidden]
                              ])
                            ])) : createCommentVNode("", true)
                          ], 64))), 256))
                        ]),
                        _: 1
                      }, 512), [
                        [vShow, t3.activeMenuTab === "menu"]
                      ]),
                      t3.activeMenuTab === "tree" ? (openBlock(), createBlock(w, { key: 0 }, {
                        default: withCtx(() => [
                          createVNode(b, {
                            ref: "treeRef",
                            data: t3.treeInfo,
                            "default-expand-all": "",
                            "expand-on-click-node": false,
                            onCurrentChange: t3.treeChange
                          }, {
                            default: withCtx(({ node: z, data: Q }) => {
                              var J, ae, M, V;
                              return [
                                createBaseVNode("div", {
                                  class: normalizeClass(["_fc-tree-node", { active: t3.activeRule === Q.rule }])
                                }, [
                                  createBaseVNode("div", Qb, [
                                    createBaseVNode("i", {
                                      class: normalizeClass(["fc-icon", Q.rule._menu && Q.rule._menu.icon || "icon-cell"])
                                    }, null, 2),
                                    createBaseVNode("span", null, toDisplayString((((V = (M = (ae = (J = Q.rule) == null ? void 0 : J.__fc__) == null ? void 0 : ae.refRule) == null ? void 0 : M.__$title) == null ? void 0 : V.value) || Q.rule.title || "").trim() || Q.rule.props && Q.rule.props.label || t3.t("com." + (Q.rule._menu && Q.rule._menu.name) + ".name") || Q.rule._menu && Q.rule._menu.label || Q.rule.type), 1)
                                  ]),
                                  Q.slot ? createCommentVNode("", true) : (openBlock(), createElementBlock("div", {
                                    key: 0,
                                    class: "_fc-tree-more",
                                    onClick: r[6] || (r[6] = withModifiers(() => {
                                    }, ["stop"]))
                                  }, [
                                    createVNode(E, {
                                      trigger: "click",
                                      size: "default"
                                    }, {
                                      dropdown: withCtx(() => [
                                        createVNode(A, null, {
                                          default: withCtx(() => [
                                            Q.rule._fc_drag_tag !== "_" ? (openBlock(), createBlock(R, {
                                              key: "1",
                                              onClick: (K) => t3.toolHandle(Q.rule, "copy")
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t3.t("props.copy")), 1)
                                              ]),
                                              _: 2
                                            }, 1032, ["onClick"])) : createCommentVNode("", true),
                                            Q.rule._menu && Q.rule._menu.children && Q.rule._fc_drag_tag !== "_" ? (openBlock(), createBlock(R, {
                                              key: "2",
                                              onClick: (K) => t3.toolHandle(Q.rule, "addChild")
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t3.t("form.appendChild")), 1)
                                              ]),
                                              _: 2
                                            }, 1032, ["onClick"])) : createCommentVNode("", true),
                                            createVNode(R, {
                                              key: "3",
                                              onClick: (K) => t3.toolHandle(Q.rule, "delete")
                                            }, {
                                              default: withCtx(() => [
                                                createTextVNode(toDisplayString(t3.t("props.delete")), 1)
                                              ]),
                                              _: 2
                                            }, 1032, ["onClick"])
                                          ]),
                                          _: 2
                                        }, 1024)
                                      ]),
                                      default: withCtx(() => [
                                        r[39] || (r[39] = createBaseVNode("i", { class: "fc-icon icon-more" }, null, -1))
                                      ]),
                                      _: 2,
                                      __: [39]
                                    }, 1024)
                                  ]))
                                ], 2)
                              ];
                            }),
                            _: 1
                          }, 8, ["data", "onCurrentChange"])
                        ]),
                        _: 1
                      })) : createCommentVNode("", true)
                    ]),
                    _: 1
                  })) : createCommentVNode("", true)
                ]),
                _: 1
              }, 8, ["width"])),
              createVNode(v, { class: "_fc-m" }, {
                default: withCtx(() => [
                  createVNode(m, {
                    class: "_fc-m-tools",
                    height: "45"
                  }, {
                    default: withCtx(() => [
                      createBaseVNode("div", Yb, [
                        t3.inputForm.state ? createCommentVNode("", true) : (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                          t3.getConfig("showDevice") !== false ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                            createBaseVNode("div", Xb, [
                              createBaseVNode("i", {
                                class: normalizeClass(["fc-icon icon-pc", { active: t3.device === "pc" }]),
                                onClick: r[7] || (r[7] = (z) => t3.setDevice("pc"))
                              }, null, 2),
                              createBaseVNode("i", {
                                class: normalizeClass(["fc-icon icon-pad", { active: t3.device === "pad" }]),
                                onClick: r[8] || (r[8] = (z) => t3.setDevice("pad"))
                              }, null, 2),
                              createBaseVNode("i", {
                                class: normalizeClass(["fc-icon icon-mobile", { active: t3.device === "mobile" }]),
                                onClick: r[9] || (r[9] = (z) => t3.setDevice("mobile"))
                              }, null, 2)
                            ]),
                            r[40] || (r[40] = createBaseVNode("div", { class: "line" }, null, -1))
                          ], 64)) : createCommentVNode("", true),
                          createBaseVNode("div", null, [
                            createBaseVNode("i", {
                              class: normalizeClass(["fc-icon icon-pre-step", { disabled: !t3.operation.list[t3.operation.idx - 1] }]),
                              onClick: r[10] || (r[10] = (...z) => t3.prevOperationRecord && t3.prevOperationRecord(...z))
                            }, null, 2),
                            createBaseVNode("i", {
                              class: normalizeClass(["fc-icon icon-next-step", { disabled: !t3.operation.list[t3.operation.idx + 1] }]),
                              onClick: r[11] || (r[11] = (...z) => t3.nextOperationRecord && t3.nextOperationRecord(...z))
                            }, null, 2)
                          ])
                        ], 64))
                      ]),
                      createBaseVNode("div", Jb, [
                        t3.inputForm.state ? createCommentVNode("", true) : (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                          renderSlot(t3.$slots, "handle"),
                          t3.getConfig("showSaveBtn", false) ? (openBlock(), createBlock(y, {
                            key: 0,
                            type: "success",
                            plain: "",
                            size: "small",
                            onClick: t3.handleSave
                          }, {
                            default: withCtx(() => [
                              r[41] || (r[41] = createBaseVNode("i", { class: "fc-icon icon-save-online" }, null, -1)),
                              createTextVNode(" " + toDisplayString(t3.t("props.save")), 1)
                            ]),
                            _: 1,
                            __: [41]
                          }, 8, ["onClick"])) : createCommentVNode("", true),
                          t3.getConfig("showPreviewBtn") !== false ? (openBlock(), createBlock(y, {
                            key: 1,
                            type: "primary",
                            plain: "",
                            size: "small",
                            onClick: t3.openPreview
                          }, {
                            default: withCtx(() => [
                              r[42] || (r[42] = createBaseVNode("i", { class: "fc-icon icon-preview" }, null, -1)),
                              createTextVNode(" " + toDisplayString(t3.t("props.preview")), 1)
                            ]),
                            _: 1,
                            __: [42]
                          }, 8, ["onClick"])) : createCommentVNode("", true),
                          createVNode(T, {
                            title: t3.t("designer.clearWarn"),
                            width: "200px",
                            "confirm-button-text": t3.t("props.clear"),
                            "cancel-button-text": t3.t("props.cancel"),
                            onConfirm: t3.clearDragRule
                          }, {
                            reference: withCtx(() => [
                              createVNode(y, {
                                type: "danger",
                                plain: "",
                                size: "small"
                              }, {
                                default: withCtx(() => [
                                  r[43] || (r[43] = createBaseVNode("i", { class: "fc-icon icon-delete" }, null, -1)),
                                  createTextVNode(toDisplayString(t3.t("props.clear")), 1)
                                ]),
                                _: 1,
                                __: [43]
                              })
                            ]),
                            _: 1
                          }, 8, ["title", "confirm-button-text", "cancel-button-text", "onConfirm"]),
                          t3.handle && t3.handle.length ? (openBlock(), createBlock(E, {
                            key: 2,
                            trigger: "click",
                            size: "default"
                          }, {
                            dropdown: withCtx(() => [
                              createVNode(A, null, {
                                default: withCtx(() => [
                                  (openBlock(true), createElementBlock(Fragment, null, renderList(t3.handle, (z) => (openBlock(), createBlock(R, {
                                    onClick: withModifiers((Q) => t3.triggerHandle(z), ["stop"])
                                  }, {
                                    default: withCtx(() => [
                                      createBaseVNode("div", null, toDisplayString(z.label), 1)
                                    ]),
                                    _: 2
                                  }, 1032, ["onClick"]))), 256))
                                ]),
                                _: 1
                              })
                            ]),
                            default: withCtx(() => [
                              createVNode(y, {
                                class: "_fd-m-extend",
                                plain: "",
                                size: "small"
                              }, {
                                default: withCtx(() => r[44] || (r[44] = [
                                  createBaseVNode("i", { class: "fc-icon icon-more" }, null, -1)
                                ])),
                                _: 1,
                                __: [44]
                              })
                            ]),
                            _: 1
                          })) : createCommentVNode("", true)
                        ], 64)),
                        t3.getConfig("showInputData", true) ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                          r[47] || (r[47] = createBaseVNode("div", { class: "line" }, null, -1)),
                          createBaseVNode("div", Zb, [
                            createVNode(x, {
                              size: "default",
                              "model-value": t3.inputForm.state,
                              "inline-prompt": "",
                              "onUpdate:modelValue": t3.openInputData
                            }, {
                              "active-action": withCtx(() => r[45] || (r[45] = [
                                createBaseVNode("i", {
                                  class: "fc-icon icon-edit2",
                                  style: { "font-size": "12px", color: "#fff" }
                                }, null, -1)
                              ])),
                              "inactive-action": withCtx(() => r[46] || (r[46] = [
                                createBaseVNode("i", {
                                  class: "fc-icon icon-edit2",
                                  style: { "font-size": "12px", color: "#333" }
                                }, null, -1)
                              ])),
                              _: 1
                            }, 8, ["model-value", "onUpdate:modelValue"])
                          ])
                        ], 64)) : createCommentVNode("", true)
                      ])
                    ]),
                    _: 3
                  }),
                  createVNode(w, { class: "_fc-m-con" }, {
                    default: withCtx(() => {
                      var z, Q;
                      return [
                        (openBlock(), createElementBlock("a", {
                          key: t3.activeRule ? t3.activeRule._fc_id : "",
                          style: { "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAiCAYAAAAu2wBPAAABG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+l1vpCgAAAAFzUkdCAK7OHOkAAAAEc0JJVAgICAh8CGSIAAAQoElEQVR4nO1dW3KbSBf+usGM335lBQMjKVV6imYFI6/Azgoir2CcFdhegZMVRF5BnBVYs4I4T1QJMMwKwrw5GLr/B53GRwhdLTuZDF9VKgj6crr79OlzAwMNGjRo0KBBgwYNGjRo0KBBgwYNGjT4mSHiOP4MoL+Dtg48zxsDQBzH1wAGqyoopc7b7fbZDvpu0KBBg40hi6J4v4N2bpjwG2AN4QcAUsqrHfTdoEGDBltBWpY1fmwjSqlP7HqwZrWx53k3j+27QYMGDbaF7XleEsfxCMCQ3R8DSNZtREr5jl3/yR4l1BYAuJjVDBvtr0GDBt8VNgDkeX5p2/bQ3CyK4rLT6Yw2bYzM3xa7dVzxCxqkAC63aL91d3fXWlam1+slm7bbYDnCMBxqrV0A6Ha7Z+vUieO4lef5CQAIIW46nc53PfB833c3Kf8z8ZHv++7e3l7fsqxf6VZ6d3f31880xm1hA0C32x3HcZxgqqXBsqw3AEZbtHfKrlMm/FqY1f5GnuelW7R/6DjOUrqiKIIQYqyU2kqIN6jFGynlgK7P1qlwd3fXchzH8MMI31njdxznGsTfayAB4D0ZMc8EEnwfhBADAFBKlc8cx8Ht7e24KIrzbrc7/k4kbgVzmO1CgEt2zRl0EMexu0lDVSGnlHrPrk8qxT/hCaG1HgghPkRR9OEp+2nQ4EdFEARnjuPERvjVQWs9kFJeB0Fw9nyUbY/JZNKPouij4zixbdvuLtq02fV7AKWgKopigA20QKXUiZQP8lRKOWbX3C9YaoaPxEgpNWNG27b9a57nHvXXAjAMw/CvRhNswKGUOvjeNDwlgiAYSCm5NTZSSl3atn0DTLVz27aHZp9IKU/DMEx+9H0ihDgCcLTLNksBSMGQMUiLsyzrIo7j0wX1AAB5nh8b9VlKecgejStpMaXfjmuGj4FS6u9FqnsQBGMppfE5bmvON/hJ8W8z+TZBHMctpVRp+Witj2sEWwrgbDKZXFmW9RkAhBCn+A/uE64BoiiKS8uyBvSzhdmARhWpOVFIyPFkam5Ov+GVeMT4qdDtdsdRFKUAWkKI2iTvMAyPhBB/aK37QogUQKKU+lTdHEEQDGzb/hUA6hzHYRgeWZb1v6Io/qk6+n3fd/f39/8AgDzPZwQ2+WcGQohDrXVLCJFIKW8AXFb9o+ReOASA+/v7L3t7e0me50MhxKEQIsmy7JzT5fu+6zjOn3jweaVKqctVGz8MwyHNiSuESNapswmofXNQ1tIUx3HJL57n1QbKVq3JU4CtF5+fv/M8H9X1z2n0PO+S+O0NAGitP3U6ndGCMoeY7ruZ+SFeOmRpZkmWZe+rfRdFMRBCuPRztEyre/ny5U0URSNMM0DcIAgGpj+zDoav+doppd5XeblCW7qIlzmozVda6z4ALNoDZp6UUq9Y9UEcx+Xc8XY5Pav21owA7HQ6oziOL7Bc8MFMQrvdNo1x7a+M8NLG5SrreMvgxzZIUSPESTiUDnEhRPlMSnlye3s7FkK8NnQKIVxzotq2fQ4WBKDT9qNSCiREZwSg4zinSqkh1R2a+5PJpG9Z1scqDeSkPgvD8C1nXAoojADAsqx3SqkjKaVrntu2fQlKWwqC4Kxi/pixDW9vb8ffvn07rm6aRXMipRwGQXBebWsbRFF0AeZi4TTx+aZNNKSx1Gr5UsqPSqkWgHR/f//JgxVkUn7A/PzAcZzTIAjedrvdmYNdCHFqBEIQBC+EEBfsWQpgVCnjkRZWQko5jKLoXZZl7x3HuVZKufy54zjDMAyP+cHLDhhUXUR1kFK+zfP8EgDyPE9Y3RFdjqMoOsRsmtwXUHqb4TceYKH6AHAymUxev3z5cibfd9kerKvH54nRzfssxxkEwYmU8sI8q+ytOXpmBCDhCvM5gXMwb3GQkJspz4TcGzABtKO3TlaCBJNLP5PKfR4NvFFKfZJS/g/TMbS01gMAHwEcAMD9/f3YcRwAgBDiD94PnbbmZ4ufoAQj/FNQ4Mf3fdeyrGs8zMuVUuqLlPJXKt8SQnwIwzBdkDoyxIIDqiJkEpBAFkL0tdYDrfWAGK8UGjVzkiilLmlOqr6kbTEEAK31WGv9V3W+tdYXAI6B6aaVUg4BQEr5BhX+C4JggIfxb5tNsDZI+PEULrNe5RiklBdBELQWpQitM4dUJgEwFkK4xIcAcOI4zhDTMV8BSMx6YsorF77v37BDzdRL19Heaf4WliMLalD3jDRWM7YUwJjm5hWmvOxalnXt+/7v/NDlws/wBABYlvUHjcslBcEjGlKaG67QpPSvSs8Fu3W1ip45AbhFTuCMkMM0mGLAtb90F2+dLAPlnvW5D4SfgnmenzDN6V273X7L6p5TvSOt9SAMw2Gn0xn1er0kDMOxEGIghBjEcdxi2uGMQLRt+xWImShU36JyN6bOL7/88kFr3SLaDiqmxLlhDlrIOgHYwlRIHZsTe39/PyXBYITfTZZlrznTmZMRgGvGRo/e4EH4jdrt9jGfTzMnNXRsBKXUORcQNN+fqe9hEASX3W53TO6LxNz3fX/GvOcBNf4G0iaIokgvey6lHBqzijQ/APP+NN/335v1klKe+r5faw4DaCmlzvM8H9U8AwAIIca//fZbGZxh62Xqz2iZlOEwBODu7e0N8OC/4wJiF2gBSLTW55ZlXZk83IqvMc2ybEbIkZXzGYBJhzqmem+YcvKu0+mUe7A6LqNQtNvt18CsdaOUes33zrb08DQYAKWDuKxIOYHLMCPkWPCjenLs9LSWUp5GUaT5P6XUVzqtXSqW2LZd95ZKKqWcMe08z0uzLCsXQwjBI9elEKXouIEZ+4ielXOxv79/yOqcA9NFMCe7EGJcPaF7vV7CfKQuCbUq0izLDrrd7rjX6yW9Xi/xPC/lQSil1NvqRqTNk1THprUuaZZSzjBjdU4egbSqHXmelyqlSmHL6ddal2tDmxvAbKpV3fztGjT/rumvqgj0er2E00p+1zq863a7Z2a96oRknucz82zbNu8rqZrY/GAXQnDf2K4FIJRSx51OZ+R5XsroN75KKKXmfJFkZpoDfEhrBwCfsizzlFIHWZbNWYRa6/JQI4ViXaxDz6hKT50JjKIozi3LMtJ0EMex63leUi1HuYID87uS+3fE02LwxLl/NRhRcCAFpsIHzOysE8Zc2wPQN9pexQw+BHBFGp4LIC2K4r1lWUOuITLBUgaL9vb2XnFfSV3+lVLKZOvPaJQMVwu0DC7IDhcIT4M+o9OUS9aYk20xqrtp2/aNmQ/jCAdm3Q6YjeKX1oYQYuvEamNiL8Ld3d1fdDkw94QQo7qylmVdGc2Dj6HS30o/atVP5nleGkWR+Tm3Llprfq/OJbLSj78mkrqDhvvkpJSv6nhZCNHSeqps53nex4N7LAWQTCaTfhzHf+Z5/oJcQCDz39R5sS6RSqly7pfQ41bpqRWANaZqqTJWOh1Wcv/qtC2ApcXsEFd1X5PJ8/xv27ZvqptZCFEyhFLq70WNkr8BwDT4ACCtCIEBMNXwKPhxQ9G0GwB9M7FsM5TClnIUAZRJqINlA+SLug7tDCeVw2cO9/f3bhzHCRNAyaKyfE62gVLqn7r7tMlTTH1Zrrnf6/USE50UQgx833dJ2+I+1Y1fpWT9rlXXbEpgylcL2qodQ7XMFmSWqAg7AEBRFKllWXXFbzDNyKilZYu+kwWPuIA9klLOuUmMsAGmObrmmgdBlFLgvMrrbIit6KkVgJQTeIUHrWJQV65GyKVA7TvBW5/Wi6CU+tJut7faBOTA3hSXmM6D6/u+a4QT00RuAPRJ+wIe1PFFNF4ppb4s61AIcbPs+SIopVZqHEVRpC9fvuRaxkJQKsE2pABYOd+1mgoPhjiO8yf5DAf0+LmyCdbtY+dm5yOQgFLSaoJyc+BBnqqfdgOMVh3M5jn54uaCgLZtx0CpJDw28LY2PbUCEChzAo0ArDrOVwm5mXeC8YjTelfI8zxhZpW7pOiA/k+5qcnNMvJLHVG7X4Cp70IIMaT6RuMpzV9gTqAlWzJbLbTWidFAtNZXVZNqCRJMgy615hswNR0eSV5t/coHCmborQRDjsD80rtKpl8FrfUXI/gXuCOMa8UgeQ66loH48Aioj6JXYVnWKdOMlpatIOF9drvdtZQcy7LMW1q1SdoUJNmAjBLl4aO1/qvb7Y4WF33AQjuJUjAS87smGFIr5Mi5yJniOXP/FoKEWUI/j+q+DsJTLKraF5lgY3p2SuXKVAPmNugzh/6Mr/H+/p63WRtZjaLowgR1VvjxquBO8bm24zhuRVH0ldr+zB4Zult1/fFAwCNQO98824C/OmnAAgyuUuqMrmt9Uk+B+/v7sp+a99kBlBsaQP0YnhskUBL6OVz2ni995WcAbB5U4hF4nnvIcXt7e214mQVBBhVaZ6C1Hq5Lwy7oWe4omj0Ryg8k1Ag5HuFdlhbzXVGJ2F3zDR+G4VBK+dH8NpHbCoyQcen/8tSjgMKYfvaBefOXhPDItBFF0UfGGAiC4AQslWUThqTNmgLTCHkQBCembTLZS7OD05VlWTlOKeUHPieTyaTP00AeA8dxPnIhSPNdRuVRYyXwMdXR/tRYtl5xHLdIuAzpeYIfwNIBAK11GVGWUp7e3t5ex3H8ZjKZ9CeTST8Mw6Moij4IIcq0kW/fvs35+Jehki0yjKLogvNbEARnLMBWygfuU+S85vu+G0XRB1ZnDrZtf2XjOgyCYGB4qkLP0TJ6hBClUrZKAFaFgJGsVSHHI7xc+9jVhw92gk6nM2L+MVdKeU1a0VdiBrPJ3tYJH64RAPMnvmVZ3AyYMX9ZnbdgC6WU+mo0M5b3lWZZ9nqTsZGGytNKLkzbjuPEeDiwRjylotfrJYvmhPKmXDzet5UC6DuOE0dRFFfnW2v9dlEEGhX/MU9reg7Qepl1NOsVU8qVsYKSoihe/wiWDjC13ogXjNAZKKVGlmV9tizrsxDiI5jgLoriYJvXCbMsO8ADL59wfuNzU0mvKg8J4rXPURR9Jh4dYokb4e7ujsuZEynlNfvk2tr0CCHKvbVUAFLqy5h3Sv9zIZcs+nsgz+Wr2QTdbvdMKfUWs5qFEeaJ1vp1NefKgJvBhJnUHuMPJNSm2lDO3u8kdGa0G8KomsS5LjqdzpVS6kAIwWksx6amf4Rq7qRfNidE56OCWFLKMzBNCpX5XpZoz98e4if3c4HW66CyXi4rMsqy7GADn+uzoNPpjLIs+x3TtVs0Z4+ivdfrJVmWLeK3sn2+ZqSEcF7r078UwLuiKBYe/HRYcwXi0fSsDO2FYThkOYFQSp3zKI1if9mN3iPmvpIXP8qpWAcy8VytdZrneW2C6lMijuPW/f29u7e392pR+s62MF8BBqZpFOua05PJpP8U9ADT8RZFMdBap1rrdJ2NV8n+P3gu/18dzHp9T57ZFobXgc34YV2Yt7Ao9y9dxTvV8t+LnpUCkOzor0uKvPA8L6VyMR4k7tjzvIMl9Ro0WIkoir6CAk7tdnvtxNgGDdbBKh+gSeIcLXjMTZI+njj3r8F/Czwq/yO6Uxr8+7FSAALTDyTU3a983eWHy/1r8O+GZVklTz138KPBfwNrCcDqBxII5ddddvhHjxo0AFCm7oCCTg0/NXgSLHwTpAp6NWnm7wywj1hW3z197g8fNPjJQMGFxofcoEGDBg0aNGjQoEGDHeL/8DGxPwUCk/oAAAAASUVORK5CYII=) !important", "background-repeat": "no-repeat !important", "background-size": "cover !important", "background-position": "center !important", position: "absolute !important", overflow: "hidden !important", left: "50% !important", width: "160px!important", right: "0 !important", top: "auto !important", bottom: "9px !important", display: "block !important", height: "17px !important", "text-align": "center !important", opacity: "1 !important", visibility: "visible !important", margin: "0 0 0 -80px !important", padding: "0 !important" },
                          target: "_blank",
                          href: "https://form-create.com/"
                        })),
                        createBaseVNode("div", {
                          class: normalizeClass(["_fc-m-drag", t3.device]),
                          ref: "dragCon",
                          style: normalizeStyle({ "--fc-drag-empty": `'${t3.t("designer.dragEmpty")}'`, "--fc-child-empty": `'${t3.t("designer.childEmpty")}'` })
                        }, [
                          t3.inputForm.state ? (openBlock(), createElementBlock("div", qb, [
                            (openBlock(), createBlock(D, {
                              key: t3.inputForm.key,
                              rule: t3.inputForm.rule,
                              option: t3.inputForm.option,
                              locale: (z = t3.locale) == null ? void 0 : z.name,
                              api: t3.inputForm.api,
                              "onUpdate:api": r[12] || (r[12] = (J) => t3.inputForm.api = J),
                              disabled: false
                            }, null, 8, ["rule", "option", "locale", "api"]))
                          ])) : (openBlock(), createBlock(I, {
                            key: 1,
                            rule: t3.dragForm.rule,
                            option: t3.formOptions,
                            locale: (Q = t3.locale) == null ? void 0 : Q.name,
                            api: t3.dragForm.api,
                            "onUpdate:api": r[13] || (r[13] = (J) => t3.dragForm.api = J)
                          }, null, 8, ["rule", "option", "locale", "api"]))
                        ], 6),
                        t3.inputForm.state ? (openBlock(), createElementBlock("div", e1, [
                          createVNode(y, {
                            plain: "",
                            onClick: r[14] || (r[14] = (J) => t3.inputClear())
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("props.clear")), 1)
                            ]),
                            _: 1
                          }),
                          createVNode(y, {
                            plain: "",
                            onClick: r[15] || (r[15] = (J) => t3.inputReset())
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("props.reset")), 1)
                            ]),
                            _: 1
                          }),
                          createVNode(y, {
                            type: "primary",
                            plain: "",
                            onClick: r[16] || (r[16] = (J) => t3.inputSave())
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("props.save")), 1)
                            ]),
                            _: 1
                          })
                        ])) : createCommentVNode("", true)
                      ];
                    }),
                    _: 1
                  })
                ]),
                _: 3
              }),
              !t3.config || t3.config.showConfig !== false ? withDirectives((openBlock(), createBlock(d, {
                key: 2,
                class: "_fc-r",
                width: "320px"
              }, {
                default: withCtx(() => [
                  createBaseVNode("div", {
                    class: "_fc-r-close",
                    onClick: r[17] || (r[17] = (z) => t3.hiddenRight = true)
                  }, r[48] || (r[48] = [
                    createBaseVNode("i", { class: "fc-icon icon-arrow" }, null, -1)
                  ])),
                  createVNode(v, { style: { height: "100%" } }, {
                    default: withCtx(() => [
                      createVNode(m, {
                        height: "40px",
                        class: "_fc-r-tabs"
                      }, {
                        default: withCtx(() => [
                          !!t3.activeRule || t3.customForm.isShow || t3.config && t3.config.showFormConfig === false ? (openBlock(), createElementBlock("div", {
                            key: 0,
                            class: normalizeClass(["_fc-r-tab", { active: t3.activeTab === "props" }]),
                            onClick: r[18] || (r[18] = (z) => t3.activeTab = "props")
                          }, toDisplayString(t3.t("designer.component")), 3)) : createCommentVNode("", true),
                          !t3.config || t3.config.showFormConfig !== false ? (openBlock(), createElementBlock("div", {
                            key: 1,
                            class: normalizeClass(["_fc-r-tab", { active: t3.activeTab === "form" && (!!t3.activeRule || t3.customForm.isShow) }]),
                            onClick: r[19] || (r[19] = (z) => t3.activeTab = "form")
                          }, toDisplayString(t3.t("designer.form")), 3)) : createCommentVNode("", true)
                        ]),
                        _: 1
                      }),
                      !t3.config || t3.config.showFormConfig !== false ? withDirectives((openBlock(), createBlock(w, {
                        key: 0,
                        class: "_fc-r-tab-form"
                      }, {
                        default: withCtx(() => [
                          createVNode(I, {
                            rule: t3.form.rule,
                            option: t3.form.option,
                            modelValue: t3.form.value,
                            onChange: t3.formOptChange,
                            api: t3.form.api,
                            "onUpdate:api": r[20] || (r[20] = (z) => t3.form.api = z)
                          }, {
                            title: withCtx((z) => [
                              z.rule.warning ? (openBlock(), createBlock(N, {
                                key: 0,
                                tooltip: z.rule.warning
                              }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(z.rule.title), 1)
                                ]),
                                _: 2
                              }, 1032, ["tooltip"])) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                                createTextVNode(toDisplayString(z.rule.title), 1)
                              ], 64))
                            ]),
                            _: 1
                          }, 8, ["rule", "option", "modelValue", "onChange", "api"])
                        ]),
                        _: 1
                      }, 512)), [
                        [vShow, t3.activeTab === "form"]
                      ]) : createCommentVNode("", true),
                      withDirectives((openBlock(), createBlock(w, {
                        class: "_fc-r-tab-props",
                        key: t3.activeRule ? t3.activeRule._fc_id : t3.customForm.config ? t3.customForm.key : ""
                      }, {
                        default: withCtx(() => [
                          createBaseVNode("div", {
                            class: "_fc-r-tools-close",
                            onClick: r[21] || (r[21] = (...z) => t3.clearActiveRule && t3.clearActiveRule(...z))
                          }, r[49] || (r[49] = [
                            createBaseVNode("i", { class: "fc-icon icon-add2" }, null, -1)
                          ])),
                          t3.activeRule || t3.customForm.config && (t3.customForm.config.name || t3.customForm.config.label) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                            createBaseVNode("p", t1, toDisplayString(t3.t("designer.type")), 1),
                            createVNode(C, {
                              disabled: t3.activePermission.switchType === false
                            }, null, 8, ["disabled"]),
                            t3.activePermission.name !== false && t3.activeRule && t3.activeRule.name && t3.config.showComponentName !== false ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                              createBaseVNode("p", n1, [
                                createVNode(N, {
                                  tooltip: t3.t("warning.name")
                                }, {
                                  default: withCtx(() => [
                                    createTextVNode(toDisplayString(t3.t("designer.name")), 1)
                                  ]),
                                  _: 1
                                }, 8, ["tooltip"])
                              ]),
                              createVNode(B, {
                                size: "small",
                                class: "_fc-r-name-input",
                                "model-value": t3.activeRule.name,
                                readonly: ""
                              }, {
                                suffix: withCtx(() => [
                                  createBaseVNode("i", {
                                    class: "fc-icon icon-group",
                                    onClick: r[22] || (r[22] = (...z) => t3.copyName && t3.copyName(...z))
                                  })
                                ]),
                                append: withCtx(() => [
                                  createBaseVNode("i", {
                                    class: "fc-icon icon-auto",
                                    onClick: r[23] || (r[23] = (...z) => t3.updateName && t3.updateName(...z))
                                  })
                                ]),
                                _: 1
                              }, 8, ["model-value"])
                            ], 64)) : createCommentVNode("", true)
                          ], 64)) : createCommentVNode("", true),
                          createBaseVNode("div", {
                            class: "_fc-r-config",
                            style: normalizeStyle({ "grid-template-areas": t3.configFormOrderStyle })
                          }, [
                            createBaseVNode("div", i1, [
                              t3.baseForm.isShow ? (openBlock(), createBlock(O, { key: 0 }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t3.t("designer.rule")), 1)
                                ]),
                                _: 1
                              })) : createCommentVNode("", true),
                              withDirectives(createVNode(I, {
                                api: t3.baseForm.api,
                                "onUpdate:api": r[24] || (r[24] = (z) => t3.baseForm.api = z),
                                rule: t3.baseForm.rule,
                                option: t3.baseForm.options,
                                modelValue: t3.baseForm.value,
                                onChange: t3.baseChange
                              }, {
                                title: withCtx((z) => [
                                  z.rule.warning ? (openBlock(), createBlock(N, {
                                    key: 0,
                                    tooltip: z.rule.warning
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(z.rule.title), 1)
                                    ]),
                                    _: 2
                                  }, 1032, ["tooltip"])) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                                    createTextVNode(toDisplayString(z.rule.title), 1)
                                  ], 64))
                                ]),
                                _: 1
                              }, 8, ["api", "rule", "option", "modelValue", "onChange"]), [
                                [vShow, t3.baseForm.isShow]
                              ])
                            ]),
                            createBaseVNode("div", r1, [
                              t3.propsForm.isShow ? (openBlock(), createBlock(O, { key: 0 }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t3.t("designer.props")) + " ", 1),
                                  t3.activeRule && t3.getConfig("showCustomProps", true) ? (openBlock(), createBlock(S, { key: 0 })) : createCommentVNode("", true)
                                ]),
                                _: 1
                              })) : createCommentVNode("", true),
                              withDirectives(createVNode(I, {
                                api: t3.propsForm.api,
                                "onUpdate:api": r[25] || (r[25] = (z) => t3.propsForm.api = z),
                                rule: t3.propsForm.rule,
                                option: t3.propsForm.options,
                                modelValue: t3.propsForm.value,
                                onChange: t3.propChange,
                                onRemoveField: t3.propRemoveField
                              }, {
                                title: withCtx((z) => [
                                  z.rule.warning ? (openBlock(), createBlock(N, {
                                    key: 0,
                                    tooltip: z.rule.warning
                                  }, {
                                    default: withCtx(() => [
                                      createTextVNode(toDisplayString(z.rule.title), 1)
                                    ]),
                                    _: 2
                                  }, 1032, ["tooltip"])) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                                    createTextVNode(toDisplayString(z.rule.title), 1)
                                  ], 64))
                                ]),
                                _: 1
                              }, 8, ["api", "rule", "option", "modelValue", "onChange", "onRemoveField"]), [
                                [vShow, t3.propsForm.isShow]
                              ]),
                              t3.customForm.isShow && t3.customForm.propsShow ? (openBlock(), createBlock(O, { key: 1 }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t3.t("designer.props")), 1)
                                ]),
                                _: 1
                              })) : createCommentVNode("", true),
                              t3.customForm.isShow && t3.customForm.propsShow ? (openBlock(), createBlock(I, {
                                api: t3.customForm.api,
                                "onUpdate:api": r[26] || (r[26] = (z) => t3.customForm.api = z),
                                rule: t3.customForm.rule,
                                option: t3.customForm.options,
                                key: t3.customForm.key,
                                onChange: t3.customFormChange
                              }, null, 8, ["api", "rule", "option", "onChange"])) : createCommentVNode("", true)
                            ]),
                            createBaseVNode("div", o1, [
                              t3.styleForm.isShow ? (openBlock(), createBlock(O, {
                                key: 0,
                                id: "_fd-config-style"
                              }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t3.t("designer.style")), 1)
                                ]),
                                _: 1
                              })) : createCommentVNode("", true),
                              withDirectives(createVNode(I, {
                                rule: t3.styleForm.rule,
                                option: t3.styleForm.options,
                                modelValue: t3.styleForm.value,
                                onChange: t3.styleChange,
                                api: t3.styleForm.api,
                                "onUpdate:api": r[27] || (r[27] = (z) => t3.styleForm.api = z)
                              }, null, 8, ["rule", "option", "modelValue", "onChange", "api"]), [
                                [vShow, t3.styleForm.isShow]
                              ])
                            ]),
                            createBaseVNode("div", a1, [
                              t3.eventShow ? (openBlock(), createBlock(O, { key: 0 }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t3.t("designer.event")), 1)
                                ]),
                                _: 1
                              })) : createCommentVNode("", true),
                              t3.eventShow ? (openBlock(), createBlock(F, {
                                key: 1,
                                "event-name": t3.activeRule && t3.activeRule._menu.event || [],
                                "component-name": t3.activeRule && t3.activeRule._menu.name || "",
                                "model-value": t3.activeRule && t3.activeRule._on || {},
                                "onUpdate:modelValue": t3.changeEvent
                              }, null, 8, ["event-name", "component-name", "model-value", "onUpdate:modelValue"])) : createCommentVNode("", true)
                            ]),
                            t3.activeRule ? (openBlock(), createElementBlock("div", l1, [
                              t3.validateForm.isShow ? (openBlock(), createBlock(O, { key: 0 }, {
                                default: withCtx(() => [
                                  createTextVNode(toDisplayString(t3.t("designer.validate")), 1)
                                ]),
                                _: 1
                              })) : createCommentVNode("", true),
                              t3.validateForm.isShow ? (openBlock(), createBlock(I, {
                                api: t3.validateForm.api,
                                "onUpdate:api": r[28] || (r[28] = (z) => t3.validateForm.api = z),
                                rule: t3.validateForm.rule,
                                option: t3.validateForm.options,
                                modelValue: t3.validateForm.value,
                                onChange: t3.validateChange,
                                key: t3.activeRule._fc_id
                              }, null, 8, ["api", "rule", "option", "modelValue", "onChange"])) : createCommentVNode("", true)
                            ])) : createCommentVNode("", true)
                          ], 4)
                        ]),
                        _: 1
                      })), [
                        [vShow, t3.activeTab === "props"]
                      ])
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 512)), [
                [vShow, !t3.hiddenRight]
              ]) : createCommentVNode("", true),
              t3.hiddenLeft ? (openBlock(), createElementBlock("div", {
                key: 3,
                class: "_fc-l-open",
                onClick: r[29] || (r[29] = (z) => t3.hiddenLeft = false)
              }, r[50] || (r[50] = [
                createBaseVNode("i", { class: "fc-icon icon-arrow" }, null, -1)
              ]))) : createCommentVNode("", true),
              t3.hiddenRight ? (openBlock(), createElementBlock("div", {
                key: 4,
                class: "_fc-r-open",
                onClick: r[30] || (r[30] = (z) => t3.hiddenRight = false)
              }, r[51] || (r[51] = [
                createBaseVNode("i", { class: "fc-icon icon-arrow" }, null, -1)
              ]))) : createCommentVNode("", true),
              createVNode(L, {
                modelValue: t3.preview.state,
                "onUpdate:modelValue": r[34] || (r[34] = (z) => t3.preview.state = z),
                width: "80%",
                class: "_fd-preview-dialog",
                "append-to-body": ""
              }, {
                default: withCtx(() => {
                  var z;
                  return [
                    createVNode(U, {
                      class: "_fd-preview-tabs",
                      modelValue: t3.previewStatus,
                      "onUpdate:modelValue": r[31] || (r[31] = (Q) => t3.previewStatus = Q)
                    }, {
                      default: withCtx(() => [
                        createVNode($, {
                          label: t3.t("form.formMode"),
                          name: "form"
                        }, null, 8, ["label"]),
                        createVNode($, {
                          label: t3.t("form.componentMode"),
                          name: "component"
                        }, null, 8, ["label"]),
                        createVNode($, {
                          label: t3.t("form.htmlMode"),
                          name: "html"
                        }, null, 8, ["label"])
                      ]),
                      _: 1
                    }, 8, ["modelValue"]),
                    ["component", "html"].indexOf(t3.previewStatus) > -1 ? (openBlock(), createElementBlock("div", {
                      key: 0,
                      class: "_fd-preview-copy",
                      onClick: r[32] || (r[32] = (...Q) => t3.copyCode && t3.copyCode(...Q))
                    }, r[52] || (r[52] = [
                      createBaseVNode("i", { class: "fc-icon icon-copy" }, null, -1)
                    ]))) : createCommentVNode("", true),
                    t3.previewStatus === "form" ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                      t3.preview.state ? (openBlock(), createBlock(D, {
                        key: 0,
                        rule: t3.preview.rule,
                        option: t3.preview.option,
                        api: t3.preview.api,
                        "onUpdate:api": r[33] || (r[33] = (Q) => t3.preview.api = Q),
                        onSubmit: t3.previewSubmit,
                        onReset: t3.previewReset,
                        locale: (z = t3.locale) == null ? void 0 : z.name
                      }, createSlots({ _: 2 }, [
                        renderList(t3.$slots, (Q, J) => ({
                          name: J,
                          fn: withCtx((ae) => [
                            renderSlot(t3.$slots, J, normalizeProps(guardReactiveProps(ae != null ? ae : {})))
                          ])
                        }))
                      ]), 1032, ["rule", "option", "api", "onSubmit", "onReset", "locale"])) : createCommentVNode("", true)
                    ], 64)) : t3.previewStatus === "component" ? (openBlock(), createElementBlock("pre", s1, [
                      createBaseVNode("code", {
                        innerHTML: t3.preview.component
                      }, null, 8, u1)
                    ], 512)) : (openBlock(), createElementBlock("pre", f1, [
                      createBaseVNode("code", {
                        innerHTML: t3.preview.html
                      }, null, 8, d1)
                    ], 512))
                  ];
                }),
                _: 3
              }, 8, ["modelValue"])
            ]),
            _: 3
          }))
        ]),
        _: 3
      })
    ]),
    _: 3
  }, 8, ["style", "onDragenter", "onDragleave", "onDrop"]);
}
var Yt = nt(zb, [["render", c1]]);
var p1 = defineComponent({
  name: "DragTool",
  emits: ["create", "copy", "addChild", "delete", "active", "fc.el"],
  props: {
    dragBtn: Boolean,
    children: String,
    mask: Boolean,
    handleBtn: [Boolean, Array],
    formCreateInject: Object,
    unique: String,
    only: Boolean
  },
  inject: {
    fcx: {
      default: null
    },
    designer: {
      default: null
    },
    dragTool: {
      default: null
    }
  },
  provide() {
    return {
      dragTool: this
    };
  },
  computed: {
    isCreate() {
      return this.dragTool ? !!this.dragTool.children : false;
    },
    btns() {
      return Array.isArray(this.handleBtn) ? this.handleBtn.length ? this.handleBtn : false : this.handleBtn !== false;
    },
    id() {
      return this.unique || this.formCreateInject.id;
    },
    hiddenMenu() {
      return this.designer.ctx.hiddenDragMenu;
    },
    hiddenBtn() {
      return this.designer.ctx.hiddenDragBtn;
    },
    rule() {
      var t3, r;
      return (r = (t3 = this.formCreateInject) == null ? void 0 : t3.rule) == null ? void 0 : r._config._get();
    },
    permission() {
      return this.rule ? this.designer.setupState.getPermission(this.rule) : {};
    }
  },
  methods: {
    active() {
      this.fcx.active !== this.id && (this.fcx.active = this.id, this.$emit("active"));
    }
  },
  mounted() {
    this.$emit("fc.el", this);
  }
});
var h1 = {
  key: 0,
  class: "_fd-drag-mask"
};
var v1 = {
  key: 0,
  class: "_fd-drag-btn",
  style: { cursor: "move" }
};
var m1 = {
  key: 2,
  class: "_fd-drag-r"
};
function g1(t3, r, a, o, n, l) {
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["_fd-drag-tool", { active: t3.fcx.active === t3.id }]),
    onClick: r[5] || (r[5] = withModifiers((...f) => t3.active && t3.active(...f), ["stop"]))
  }, [
    t3.mask ? (openBlock(), createElementBlock("div", h1)) : createCommentVNode("", true),
    !t3.hiddenBtn && t3.permission.move !== false ? (openBlock(), createElementBlock("div", {
      key: 1,
      class: "_fd-drag-l",
      onClick: r[0] || (r[0] = withModifiers(() => {
      }, ["stop"]))
    }, [
      t3.dragBtn !== false ? withDirectives((openBlock(), createElementBlock("div", v1, r[6] || (r[6] = [
        createBaseVNode("i", { class: "fc-icon icon-move" }, null, -1)
      ]), 512)), [
        [vShow, t3.fcx.active === t3.id]
      ]) : createCommentVNode("", true)
    ])) : createCommentVNode("", true),
    t3.btns !== false && !t3.hiddenMenu && t3.permission.dragMenu !== false ? (openBlock(), createElementBlock("div", m1, [
      renderSlot(t3.$slots, "handle", {}, () => [
        t3.permission.create !== false && t3.isCreate && (t3.btns === true || t3.btns.indexOf("create") > -1) ? (openBlock(), createElementBlock("div", {
          key: 0,
          class: "_fd-drag-btn",
          onClick: r[1] || (r[1] = withModifiers((f) => t3.$emit("create"), ["stop"]))
        }, r[7] || (r[7] = [
          createBaseVNode("i", { class: "fc-icon icon-add" }, null, -1)
        ]))) : createCommentVNode("", true),
        t3.permission.copy !== false && !t3.only && (t3.btns === true || t3.btns.indexOf("copy") > -1) ? (openBlock(), createElementBlock("div", {
          key: 1,
          class: "_fd-drag-btn",
          onClick: r[2] || (r[2] = withModifiers((f) => t3.$emit("copy"), ["stop"]))
        }, r[8] || (r[8] = [
          createBaseVNode("i", { class: "fc-icon icon-copy" }, null, -1)
        ]))) : createCommentVNode("", true),
        t3.permission.addChild !== false && t3.children && (t3.btns === true || t3.btns.indexOf("addChild") > -1) ? (openBlock(), createElementBlock("div", {
          key: 2,
          class: "_fd-drag-btn",
          onClick: r[3] || (r[3] = withModifiers((f) => t3.$emit("addChild"), ["stop"]))
        }, r[9] || (r[9] = [
          createBaseVNode("i", { class: "fc-icon icon-add-child" }, null, -1)
        ]))) : createCommentVNode("", true),
        t3.permission.delete !== false && (t3.btns === true || t3.btns.indexOf("delete") > -1) ? (openBlock(), createElementBlock("div", {
          key: 3,
          class: "_fd-drag-btn _fd-drag-danger",
          onClick: r[4] || (r[4] = withModifiers((f) => t3.$emit("delete"), ["stop"]))
        }, r[10] || (r[10] = [
          createBaseVNode("i", { class: "fc-icon icon-delete" }, null, -1)
        ]))) : createCommentVNode("", true)
      ])
    ])) : createCommentVNode("", true),
    renderSlot(t3.$slots, "default")
  ], 2);
}
var zp = nt(p1, [["render", g1]]);
var y1 = defineComponent({
  name: "fcRow",
  mounted() {
  }
});
function b1(t3, r, a, o, n, l) {
  const f = resolveComponent("el-col");
  return openBlock(), createBlock(f, { span: 24 }, {
    default: withCtx(() => [
      createBaseVNode("div", mergeProps({
        class: ["_fd-row el-row", { "_fc-child-empty": !t3.$slots.default }]
      }, t3.$attrs), [
        renderSlot(t3.$slots, "default")
      ], 16)
    ]),
    _: 3
  });
}
var A1 = nt(y1, [["render", b1]]);
var w1 = defineComponent({
  name: "HtmlEditor",
  emits: ["update:modelValue"],
  props: {
    modelValue: String,
    title: String,
    defaultValue: {
      require: false
    }
  },
  inject: ["designer"],
  computed: {
    t() {
      return this.designer.setupState.t;
    }
  },
  data() {
    return {
      editor: null,
      visible: false,
      oldVal: null
    };
  },
  watch: {
    modelValue() {
      this.load();
    },
    visible(t3) {
      t3 && this.load();
    }
  },
  methods: {
    validateXML(t3) {
      var n;
      const o = new DOMParser().parseFromString(t3, "application/xml").getElementsByTagName("parsererror");
      return o.length > 0 && (n = o[0].innerText.split(`
`)[0]) != null ? n : "";
    },
    load() {
      this.oldVal = this.modelValue, this.$nextTick(() => {
        this.editor = markRaw(Fr(this.$refs.editor, {
          lineNumbers: true,
          mode: "xml",
          lint: true,
          line: true,
          tabSize: 2,
          lineWrapping: true,
          value: this.modelValue || ""
        }));
      });
    },
    onOk() {
      const t3 = this.editor.getValue();
      return this.validateXML(t3) ? (jn(this.t("struct.errorMsg")), false) : (this.visible = false, t3 !== this.oldVal && this.$emit("update:modelValue", t3), true);
    }
  }
});
var C1 = { class: "_fd-html-editor" };
var S1 = {
  key: 0,
  ref: "editor"
};
function E1(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-dialog");
  return openBlock(), createElementBlock("div", C1, [
    createVNode(f, {
      onClick: r[0] || (r[0] = (c) => t3.visible = true),
      style: { width: "100%" }
    }, {
      default: withCtx(() => [
        createTextVNode(toDisplayString(t3.title || t3.t("struct.title")), 1)
      ]),
      _: 1
    }),
    createVNode(d, {
      class: "_fd-html-editor-con",
      title: t3.title || t3.t("struct.title"),
      modelValue: t3.visible,
      "onUpdate:modelValue": r[2] || (r[2] = (c) => t3.visible = c),
      "close-on-click-modal": false,
      "append-to-body": ""
    }, {
      footer: withCtx(() => [
        createBaseVNode("div", null, [
          createVNode(f, {
            onClick: r[1] || (r[1] = (c) => t3.visible = false),
            size: "default"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.cancel")), 1)
            ]),
            _: 1
          }),
          createVNode(f, {
            type: "primary",
            onClick: t3.onOk,
            size: "default"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.ok")), 1)
            ]),
            _: 1
          }, 8, ["onClick"])
        ])
      ]),
      default: withCtx(() => [
        t3.visible ? (openBlock(), createElementBlock("div", S1, null, 512)) : createCommentVNode("", true)
      ]),
      _: 1
    }, 8, ["title", "modelValue"])
  ]);
}
var x1 = nt(w1, [["render", E1]]);
var T1 = defineComponent({
  name: "FnInput",
  components: { FnEditor: Bo },
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: [String, Function],
    name: String,
    args: Array,
    title: String,
    body: Boolean,
    fnx: Boolean,
    defaultValue: {
      require: false
    },
    validate: Function
  },
  inject: ["designer"],
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    configured() {
      return !!this.modelValue;
    }
  },
  data() {
    return {
      visible: false,
      value: this.modelValue
    };
  },
  watch: {
    modelValue(t3) {
      this.value = t3;
    }
  },
  methods: {
    onOk() {
      this.$refs.editor.save() && (this.$emit("update:modelValue", this.value), this.$emit("change", this.value), this.visible = false);
    }
  }
});
var _1 = { class: "_fd-fn-input" };
function R1(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-badge"), c = resolveComponent("FnEditor"), h2 = resolveComponent("el-dialog");
  return openBlock(), createElementBlock("div", _1, [
    createVNode(d, {
      type: "warning",
      "is-dot": "",
      hidden: !t3.configured
    }, {
      default: withCtx(() => [
        createVNode(f, {
          onClick: r[0] || (r[0] = (m) => t3.visible = true),
          size: "small"
        }, {
          default: withCtx(() => [
            renderSlot(t3.$slots, "default", {}, () => [
              createTextVNode(toDisplayString(t3.t("event.title")), 1)
            ])
          ]),
          _: 3
        })
      ]),
      _: 3
    }, 8, ["hidden"]),
    createVNode(h2, {
      class: "_fd-fn-input-dialog _fd-config-dialog",
      title: t3.title || t3.t("struct.title"),
      modelValue: t3.visible,
      "onUpdate:modelValue": r[3] || (r[3] = (m) => t3.visible = m),
      "destroy-on-close": "",
      "close-on-click-modal": false,
      "append-to-body": "",
      width: "800px"
    }, {
      footer: withCtx(() => [
        createBaseVNode("div", null, [
          createVNode(f, {
            onClick: r[2] || (r[2] = (m) => t3.visible = false),
            size: "default"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.cancel")), 1)
            ]),
            _: 1
          }),
          createVNode(f, {
            type: "primary",
            onClick: t3.onOk,
            size: "default"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.ok")), 1)
            ]),
            _: 1
          }, 8, ["onClick"])
        ])
      ]),
      default: withCtx(() => [
        createVNode(c, {
          ref: "editor",
          modelValue: t3.value,
          "onUpdate:modelValue": r[1] || (r[1] = (m) => t3.value = m),
          name: t3.name,
          args: t3.args,
          body: t3.body,
          fnx: t3.fnx
        }, null, 8, ["modelValue", "name", "args", "body", "fnx"])
      ]),
      _: 1
    }, 8, ["title", "modelValue"])
  ]);
}
var Up = nt(T1, [["render", R1]]);
var O1 = (t3) => [
  {
    type: "input",
    field: "action",
    title: t3("fetch.action"),
    value: "",
    props: { size: "default" },
    validate: [{ required: true, message: t3("fetch.actionRequired"), trigger: "blur" }]
  },
  {
    type: "radio",
    field: "method",
    title: t3("fetch.method"),
    value: "GET",
    props: {
      size: "default"
    },
    options: [
      { label: "GET", value: "GET" },
      { label: "POST", value: "POST" }
    ],
    $required: true
  },
  {
    type: "radio",
    field: "dataType",
    title: t3("fetch.dataType"),
    warning: t3("warning.fetchDataType"),
    value: "json",
    props: {
      size: "default"
    },
    options: [
      { label: "JSON", value: "json" },
      { label: "FormData", value: "formData" }
    ],
    $required: true
  },
  {
    type: "TableOptions",
    field: "headers",
    title: t3("fetch.headers"),
    value: {},
    props: {
      column: [{ label: t3("props.key"), key: "label" }, { label: t3("props.value"), key: "value" }],
      valueType: "object",
      size: "default"
    }
  },
  {
    type: "TableOptions",
    field: "query",
    title: t3("fetch.query"),
    warning: t3("warning.fetchQuery"),
    value: {},
    props: {
      column: [{ label: t3("props.key"), key: "label" }, { label: t3("props.value"), key: "value" }],
      valueType: "object",
      size: "default"
    }
  },
  {
    type: "TableOptions",
    field: "data",
    title: t3("fetch.data"),
    warning: t3("warning.fetchData"),
    value: {},
    props: {
      column: [{ label: t3("props.key"), key: "label" }, { label: t3("props.value"), key: "value" }],
      valueType: "object",
      size: "default"
    }
  }
];
var D1 = defineComponent({
  name: "FetchConfig",
  emits: ["update:modelValue"],
  props: {
    modelValue: [Object, String],
    to: String
  },
  components: {
    Warning: xu,
    DragForm: Je.$form(),
    FnEditor: Bo,
    StructEditor: Vp
  },
  inject: ["designer"],
  data() {
    return {
      visible: false,
      value: Ft(this.modelValue || {}),
      form: {
        api: {},
        formData: {},
        rule: [],
        options: {
          form: {
            labelWidth: "90px",
            size: "default"
          },
          submitBtn: false,
          resetBtn: false
        }
      }
    };
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    configured() {
      return !ut.empty(this.modelValue);
    }
  },
  watch: {
    visible(t3) {
      t3 && (this.value = Ft(this.modelValue || {}), this.active());
    }
  },
  methods: {
    open() {
      this.visible = true;
    },
    active() {
      const t3 = this.value;
      this.form.rule = t3.type === "static" ? [] : O1(this.t), this.form.formData = { ...t3 }, this.form.label = t3.label, this.form.type = t3.type, this.form.data = t3.data, this.form.dataType = t3.dataType, this.form.parse = t3.parse || "", this.form.beforeFetch = t3.beforeFetch || "", this.form.onError = t3.onError || "";
    },
    save() {
      this.form.api.validate().then(() => {
        const t3 = { ...this.form.formData };
        this.$refs.parse && !this.$refs.parse.save() || this.$refs.beforeFetch && !this.$refs.beforeFetch.save() || this.$refs.error && !this.$refs.error.save() || (t3.parse = Je.parseFn(this.form.parse), t3.beforeFetch = Je.parseFn(this.form.beforeFetch), t3.onError = this.form.onError, t3.label = this.form.label, t3.type = this.form.type, t3.to = this.to || "options", this.$emit("update:modelValue", t3), this.visible = false);
      }).catch((t3) => {
        console.error(t3), jn(t3[Object.keys(t3)[0]][0].message);
      });
    }
  },
  created() {
    this.active();
  }
});
var I1 = { class: "_fd-gfc" };
function M1(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-badge"), c = resolveComponent("Warning"), h2 = resolveComponent("DragForm"), m = resolveComponent("el-tab-pane"), g = resolveComponent("FnEditor"), w = resolveComponent("el-tabs"), R = resolveComponent("el-container"), A = resolveComponent("el-dialog");
  return openBlock(), createElementBlock("div", I1, [
    createVNode(d, {
      type: "warning",
      "is-dot": "",
      hidden: !t3.configured
    }, {
      default: withCtx(() => [
        createVNode(f, {
          onClick: r[0] || (r[0] = (E) => t3.visible = true),
          size: "small"
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(t3.t("struct.title")), 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["hidden"]),
    createVNode(A, {
      class: "_fd-gfc-dialog",
      modelValue: t3.visible,
      "onUpdate:modelValue": r[7] || (r[7] = (E) => t3.visible = E),
      "destroy-on-close": "",
      "close-on-click-modal": false,
      "append-to-body": "",
      width: "1080px"
    }, {
      header: withCtx(() => [
        createTextVNode(toDisplayString(t3.t("fetch.optionsType.fetch")) + " ", 1),
        createVNode(c, {
          tooltip: t3.t("warning.fetch")
        }, null, 8, ["tooltip"])
      ]),
      footer: withCtx(() => [
        createBaseVNode("div", null, [
          createVNode(f, {
            size: "default",
            onClick: r[6] || (r[6] = (E) => t3.visible = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.cancel")), 1)
            ]),
            _: 1
          }),
          createVNode(f, {
            type: "primary",
            size: "default",
            onClick: t3.save,
            color: "#2f73ff"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.ok")), 1)
            ]),
            _: 1
          }, 8, ["onClick"])
        ])
      ]),
      default: withCtx(() => [
        createVNode(R, {
          class: "_fd-gfc-con",
          style: { height: "450px" }
        }, {
          default: withCtx(() => [
            createVNode(w, {
              "model-value": "first",
              class: "_fc-tabs",
              style: { width: "100%" }
            }, {
              default: withCtx(() => [
                createVNode(m, {
                  label: t3.t("fetch.config"),
                  name: "first"
                }, {
                  default: withCtx(() => [
                    createVNode(h2, {
                      api: t3.form.api,
                      "onUpdate:api": r[1] || (r[1] = (E) => t3.form.api = E),
                      modelValue: t3.form.formData,
                      "onUpdate:modelValue": r[2] || (r[2] = (E) => t3.form.formData = E),
                      rule: t3.form.rule,
                      option: t3.form.options
                    }, {
                      title: withCtx((E) => [
                        E.rule.warning ? (openBlock(), createBlock(c, {
                          key: 0,
                          tooltip: E.rule.warning
                        }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(E.rule.title), 1)
                          ]),
                          _: 2
                        }, 1032, ["tooltip"])) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                          createTextVNode(toDisplayString(E.rule.title), 1)
                        ], 64))
                      ]),
                      _: 1
                    }, 8, ["api", "modelValue", "rule", "option"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                createVNode(m, {
                  lazy: "",
                  label: t3.t("fetch.beforeFetch"),
                  name: "second"
                }, {
                  label: withCtx(() => [
                    createTextVNode(toDisplayString(t3.t("fetch.beforeFetch")) + " ", 1),
                    createVNode(c, {
                      tooltip: t3.t("warning.beforeFetch")
                    }, null, 8, ["tooltip"])
                  ]),
                  default: withCtx(() => [
                    createVNode(g, {
                      style: { height: "415px" },
                      modelValue: t3.form.beforeFetch,
                      "onUpdate:modelValue": r[3] || (r[3] = (E) => t3.form.beforeFetch = E),
                      name: "beforeFetch",
                      args: ["config", "data"],
                      ref: "beforeFetch"
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                createVNode(m, {
                  lazy: "",
                  name: "third"
                }, {
                  label: withCtx(() => [
                    createTextVNode(toDisplayString(t3.t("fetch.parse")) + " ", 1),
                    createVNode(c, {
                      tooltip: t3.t("warning.fetchParse")
                    }, null, 8, ["tooltip"])
                  ]),
                  default: withCtx(() => [
                    createVNode(g, {
                      style: { height: "415px" },
                      modelValue: t3.form.parse,
                      "onUpdate:modelValue": r[4] || (r[4] = (E) => t3.form.parse = E),
                      name: "parse",
                      args: [{ name: "res", info: t3.t("fetch.response") }, "rule", "api"],
                      ref: "parse"
                    }, null, 8, ["modelValue", "args"])
                  ]),
                  _: 1
                }),
                createVNode(m, {
                  lazy: "",
                  label: t3.t("fetch.onError"),
                  name: "fourth"
                }, {
                  default: withCtx(() => [
                    createVNode(g, {
                      style: { height: "415px" },
                      modelValue: t3.form.onError,
                      "onUpdate:modelValue": r[5] || (r[5] = (E) => t3.form.onError = E),
                      name: "onError",
                      args: ["e"],
                      ref: "error"
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }, 8, ["label"])
              ]),
              _: 1
            })
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["modelValue"])
  ]);
}
var P1 = nt(D1, [["render", M1]]);
var N1 = defineComponent({
  name: "ConfigItem",
  components: { Warning: xu },
  props: {
    label: String,
    info: String,
    warning: String,
    appendBackground: String,
    arrow: {
      type: Boolean,
      default: true
    },
    showAppend: Boolean
  },
  data() {
    return {
      visit: false
    };
  }
});
var L1 = { class: "_fd-config-item" };
var F1 = { class: "_fd-ci-head" };
var k1 = {
  key: 0,
  class: "_fd-ci-con"
};
var B1 = {
  key: 1,
  class: "_fd-ci-info"
};
function $1(t3, r, a, o, n, l) {
  const f = resolveComponent("Warning");
  return openBlock(), createElementBlock("div", L1, [
    createBaseVNode("div", F1, [
      createBaseVNode("div", {
        class: normalizeClass(["_fd-ci-label", t3.$slots.append && t3.arrow !== false ? "is-arrow" : ""]),
        onClick: r[0] || (r[0] = (d) => t3.visit = t3.$slots.append && t3.arrow !== false && !t3.visit)
      }, [
        t3.warning ? (openBlock(), createBlock(f, {
          key: 0,
          tooltip: t3.warning
        }, {
          default: withCtx(() => [
            renderSlot(t3.$slots, "label", {}, () => [
              createBaseVNode("span", null, toDisplayString(t3.label), 1)
            ])
          ]),
          _: 3
        }, 8, ["tooltip"])) : renderSlot(t3.$slots, "label", { key: 1 }, () => [
          createBaseVNode("span", null, toDisplayString(t3.label), 1)
        ]),
        t3.$slots.append && t3.arrow !== false ? (openBlock(), createElementBlock("i", {
          key: 2,
          class: normalizeClass(["fc-icon icon-down", t3.showAppend || t3.visit ? "down" : ""])
        }, null, 2)) : createCommentVNode("", true)
      ], 2),
      t3.$slots.default || t3.info ? (openBlock(), createElementBlock("div", k1, [
        t3.$slots.default ? renderSlot(t3.$slots, "default", { key: 0 }) : (openBlock(), createElementBlock("span", B1, toDisplayString(t3.info), 1))
      ])) : createCommentVNode("", true)
    ]),
    t3.showAppend || t3.visit ? (openBlock(), createElementBlock("div", {
      key: 0,
      class: "_fd-ci-append",
      style: normalizeStyle("background:" + t3.appendBackground)
    }, [
      renderSlot(t3.$slots, "append")
    ], 4)) : createCommentVNode("", true)
  ]);
}
var Bi = nt(N1, [["render", $1]]);
var H1 = defineComponent({
  name: "FieldInput",
  inject: ["designer"],
  emits: ["update:modelValue"],
  props: {
    modelValue: String,
    disabled: Boolean
  },
  computed: {
    fieldReadonly() {
      return this.designer.setupState.fieldReadonly;
    },
    activeRule() {
      return this.designer.setupState.activeRule;
    },
    t() {
      return this.designer.setupState.t;
    }
  },
  data() {
    return {
      value: this.modelValue || "",
      oldValue: ""
    };
  },
  watch: {
    modelValue(t3) {
      this.value = t3;
    }
  },
  methods: {
    copy() {
      er(this.modelValue);
    },
    getSubChildren() {
      let t3 = this.designer.setupState.getSubFormChildren(this.activeRule) || [];
      return t3 = ut.trueArray(t3) ? t3 : this.designer.setupState.children, t3;
    },
    getSubFieldChildren() {
      const t3 = this.getSubChildren(), r = [], a = (o) => (o && o.forEach((n) => {
        n && n._fc_drag_tag && n.field ? r.push({ ...n, children: [] }) : n && n.children && a(n.children);
      }), r);
      return a(t3);
    },
    checkValue() {
      const t3 = this.oldValue;
      let r = (this.value || "").replace(/[\s\　]/g, "");
      if (r)
        if (/^[a-zA-Z]/.test(r)) {
          if (t3 !== r) {
            const a = r.indexOf(".") > -1;
            if (a && (r = r.replaceAll(".", "_")), this.getSubFieldChildren().filter((o) => o.field === r).length > 0)
              return jn(this.t("computed.fieldExist", { label: r })), t3;
            if (a)
              return r;
          }
        } else
          return jn(this.t("computed.fieldChar")), t3;
      else
        return jn(this.t("computed.fieldEmpty")), t3;
      return this.oldValue = "", r;
    },
    onFocus() {
      this.oldValue = this.value;
    },
    makeField() {
      this.oldValue = this.value, this.value = Ze(), this.onInput();
    },
    onInput() {
      this.value !== this.modelValue && (this.value = this.checkValue(), this.oldValue = this.value, this.value !== this.modelValue && (this.designer.emit("changeField", { field: this.value, oldField: this.modelValue, rule: this.activeRule }), this.$emit("update:modelValue", this.value)));
    }
  }
});
var V1 = { class: "_fd-field-input" };
function j1(t3, r, a, o, n, l) {
  const f = resolveComponent("el-input");
  return openBlock(), createElementBlock("div", V1, [
    createBaseVNode("i", {
      class: "fc-icon icon-group",
      onClick: r[0] || (r[0] = withModifiers((...d) => t3.copy && t3.copy(...d), ["stop"]))
    }),
    createVNode(f, {
      modelValue: t3.value,
      "onUpdate:modelValue": r[2] || (r[2] = (d) => t3.value = d),
      readonly: t3.fieldReadonly || t3.disabled,
      disabled: t3.fieldReadonly || t3.disabled,
      onFocus: t3.onFocus,
      onBlur: t3.onInput
    }, createSlots({ _: 2 }, [
      t3.fieldReadonly ? void 0 : {
        name: "append",
        fn: withCtx(() => [
          createBaseVNode("i", {
            class: "fc-icon icon-auto",
            onClick: r[1] || (r[1] = (...d) => t3.makeField && t3.makeField(...d))
          })
        ]),
        key: "0"
      }
    ]), 1032, ["modelValue", "readonly", "disabled", "onFocus", "onBlur"])
  ]);
}
var z1 = nt(H1, [["render", j1]]);
var U1 = "[[FORM-CREATE-PREFIX-";
var W1 = "-FORM-CREATE-SUFFIX]]";
var K1 = defineComponent({
  name: "FnConfig",
  emits: ["update:modelValue"],
  props: {
    modelValue: [Object, void 0, null],
    eventConfig: {
      type: Array,
      default: () => []
    }
  },
  inject: ["designer"],
  components: {
    FnEditor: Bo
  },
  data() {
    return {
      visible: false,
      activeData: null,
      defActive: "no",
      event: {},
      cus: false,
      eventStr: ""
    };
  },
  computed: {
    eventInfo() {
      const t3 = {};
      return this.eventConfig.forEach((r) => {
        t3[r.name] = r.info;
      }), t3;
    },
    t() {
      return this.designer.setupState.t;
    },
    eventNum() {
      let t3 = 0;
      return Object.keys(this.modelValue || {}).forEach((r) => {
        this.modelValue[r] && t3++;
      }), t3;
    }
  },
  watch: {
    visible(t3) {
      this.event = t3 ? this.loadFN(Ya({}, this.modelValue || {})) : {}, t3 || this.destroy();
    }
  },
  methods: {
    getArgs(t3) {
      return t3.args.join(", ");
    },
    loadFN(t3) {
      const r = {};
      return this.eventConfig.forEach((a) => {
        const o = a.name, n = t3[o] || "";
        r[o] = {
          item: a,
          fn: n
        };
      }), r;
    },
    parseFN(t3) {
      const r = {};
      return Object.keys(t3).forEach((a) => {
        t3[a].fn && (r[a] = t3[a].fn);
      }), r;
    },
    edit(t3) {
      t3.key = Ze(), this.activeData = t3, this.eventStr = t3.fn || U1 + `function ${t3.item.name}(${this.getArgs(t3.item)}){}` + W1, this.defActive = t3.item.name;
    },
    save() {
      return this.$refs.fn.save() ? (this.activeData.fn = this.eventStr, this.destroy(), true) : false;
    },
    destroy() {
      this.activeData = null, this.defActive = "no";
    },
    close() {
      this.destroy();
    },
    submit() {
      this.activeData && !this.save() || (this.$emit("update:modelValue", this.parseFN(this.event)), this.visible = false, this.destroy());
    }
  }
});
var G1 = { class: "_fd-fn-list" };
var Q1 = ["onClick"];
var Y1 = {
  key: 0,
  class: "_fd-label"
};
var X1 = {
  key: 1,
  class: "_fd-dot"
};
function J1(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-badge"), c = resolveComponent("el-text"), h2 = resolveComponent("el-header"), m = resolveComponent("el-menu-item"), g = resolveComponent("el-menu"), w = resolveComponent("el-main"), R = resolveComponent("el-container"), A = resolveComponent("el-aside"), E = resolveComponent("FnEditor"), b = resolveComponent("el-dialog");
  return openBlock(), createElementBlock("div", G1, [
    createVNode(d, {
      value: t3.eventNum,
      type: "warning",
      hidden: t3.eventNum < 1
    }, {
      default: withCtx(() => [
        createVNode(f, {
          onClick: r[0] || (r[0] = (v) => t3.visible = true),
          size: "small"
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(t3.t("event.title")), 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["value", "hidden"]),
    createVNode(b, {
      class: "_fd-fn-list-dialog",
      title: t3.t("event.title"),
      modelValue: t3.visible,
      "onUpdate:modelValue": r[4] || (r[4] = (v) => t3.visible = v),
      "destroy-on-close": "",
      "close-on-click-modal": false,
      "append-to-body": "",
      width: "1080px"
    }, {
      footer: withCtx(() => [
        createBaseVNode("div", null, [
          createVNode(f, {
            size: "default",
            onClick: r[3] || (r[3] = (v) => t3.visible = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.cancel")), 1)
            ]),
            _: 1
          }),
          createVNode(f, {
            type: "primary",
            size: "default",
            onClick: t3.submit,
            color: "#2f73ff"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.t("props.ok")), 1)
            ]),
            _: 1
          }, 8, ["onClick"])
        ])
      ]),
      default: withCtx(() => [
        createVNode(R, {
          class: "_fd-fn-list-con",
          style: { height: "600px" }
        }, {
          default: withCtx(() => [
            createVNode(A, { style: { width: "300px" } }, {
              default: withCtx(() => [
                createVNode(R, { class: "_fd-fn-list-l" }, {
                  default: withCtx(() => [
                    createVNode(h2, {
                      class: "_fd-fn-list-head",
                      height: "40px"
                    }, {
                      default: withCtx(() => [
                        createVNode(c, {
                          type: "primary",
                          size: "default"
                        }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(t3.t("event.list")), 1)
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }),
                    createVNode(w, null, {
                      default: withCtx(() => [
                        createVNode(g, {
                          "default-active": t3.defActive,
                          modelValue: t3.activeData,
                          "onUpdate:modelValue": r[1] || (r[1] = (v) => t3.activeData = v)
                        }, {
                          default: withCtx(() => [
                            (openBlock(true), createElementBlock(Fragment, null, renderList(t3.event, (v, y) => (openBlock(), createBlock(m, { index: y }, {
                              default: withCtx(() => [
                                createBaseVNode("div", {
                                  class: "_fd-fn-list-method",
                                  onClick: withModifiers((T) => t3.edit(v), ["stop"])
                                }, [
                                  createBaseVNode("span", null, [
                                    r[5] || (r[5] = createTextVNode("function")),
                                    createBaseVNode("span", null, toDisplayString(y), 1)
                                  ]),
                                  t3.eventInfo[y] ? (openBlock(), createElementBlock("span", Y1, toDisplayString(t3.eventInfo[y]), 1)) : createCommentVNode("", true),
                                  v.fn ? (openBlock(), createElementBlock("span", X1)) : createCommentVNode("", true)
                                ], 8, Q1)
                              ]),
                              _: 2
                            }, 1032, ["index"]))), 256))
                          ]),
                          _: 1
                        }, 8, ["default-active", "modelValue"])
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            createVNode(w, null, {
              default: withCtx(() => [
                createVNode(R, { class: "_fd-fn-list-r" }, {
                  default: withCtx(() => [
                    t3.activeData ? (openBlock(), createBlock(h2, {
                      key: 0,
                      class: "_fd-fn-list-head",
                      height: "40px"
                    }, {
                      default: withCtx(() => [
                        createVNode(f, {
                          size: "small",
                          onClick: t3.close
                        }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(t3.t("props.cancel")), 1)
                          ]),
                          _: 1
                        }, 8, ["onClick"]),
                        createVNode(f, {
                          size: "small",
                          type: "primary",
                          onClick: t3.save,
                          color: "#2f73ff"
                        }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(t3.t("props.save")), 1)
                          ]),
                          _: 1
                        }, 8, ["onClick"])
                      ]),
                      _: 1
                    })) : createCommentVNode("", true),
                    t3.activeData ? (openBlock(), createBlock(w, { key: 1 }, {
                      default: withCtx(() => [
                        createVNode(E, {
                          ref: "fn",
                          modelValue: t3.eventStr,
                          "onUpdate:modelValue": r[2] || (r[2] = (v) => t3.eventStr = v),
                          name: t3.activeData.item.name,
                          args: t3.activeData.item.args
                        }, null, 8, ["modelValue", "name", "args"])
                      ]),
                      _: 1
                    })) : createCommentVNode("", true)
                  ]),
                  _: 1
                })
              ]),
              _: 1
            })
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["title", "modelValue"])
  ]);
}
var Z1 = nt(K1, [["render", J1]]);
var Wp = defineComponent({
  name: "DragBox",
  props: ["rule", "tag", "formCreateInject", "list"],
  render(t3) {
    const r = { ...t3.$props.rule.props, ...t3.$attrs };
    let a = "_fd-" + t3.$props.tag + "-drag _fd-drag-box";
    Object.keys(t3.$slots).length || (a += " drag-holder"), r.class = a, r.modelValue = t3.$props.list || [...t3.$props.formCreateInject.children];
    const o = {};
    return t3.$slots.default && t3.$slots.default().forEach((l) => {
      l.key && (o[l.key] = l);
    }), h(yu, r, {
      item: ({ element: n, index: l }) => {
        var d;
        const f = (d = n == null ? void 0 : n.__fc__) == null ? void 0 : d.key;
        if (f) {
          let c = o["_" + n.slot];
          if (c ? c.children.forEach((h2) => {
            h2.key === f + "fc" && (c = h2);
          }) : c = o[f + "fc"], c)
            return h("div", { class: "_fc-" + t3.$props.tag + "-item _fd-drag-item", key: f }, c);
        }
        return h("div", { class: "_fc-" + t3.$props.tag + "-item _fd-drag-item", key: l }, null);
      }
    });
  }
});
var q1 = defineComponent({
  name: "FcTableView",
  props: {
    mini: Boolean,
    label: String,
    width: [Number, String],
    formCreateInject: Object,
    border: {
      type: Boolean,
      default: true
    },
    borderWidth: String,
    borderColor: String,
    rule: {
      type: Object,
      default: () => ({ row: 1, col: 1 })
    }
  },
  inject: ["designer"],
  components: {
    DragTool: zp,
    DragBox: Wp
  },
  watch: {
    rule: {
      handler() {
        this.initRule(), this.style = this.rule.style;
      },
      immediate: true
    }
  },
  data() {
    return {
      unique: {},
      style: {},
      selection: [],
      selectionPos: null,
      visible: false,
      resize: {
        isResizing: false,
        startX: 0,
        startY: 0,
        startWidth: 0,
        startHeight: 0
      },
      menuPos: {
        left: 0,
        top: 0
      },
      isSelecting: null,
      oldSelection: null,
      dragProp: {
        rule: {
          props: {
            tag: "el-col",
            group: {
              name: "default",
              put: (t3, ...r) => (t3.el.__rule__ = this.formCreateInject.rule, this.designer.setupState.dragPut(t3, ...r))
            },
            ghostClass: "ghost",
            animation: 150,
            handle: "._fd-drag-btn",
            emptyInsertThreshold: 0,
            direction: "vertical",
            itemKey: "type"
          }
        },
        tag: "tableCell"
      },
      lattice: {},
      uni: {}
    };
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    tableColor() {
      const t3 = {};
      return this.border === false ? t3.border = "0 none" : (this.borderColor && (t3.borderColor = this.borderColor), this.borderWidth && (t3.borderWidth = this.borderWidth)), t3;
    }
  },
  methods: {
    contextmenu(t3) {
      t3.preventDefault(), t3.stopPropagation(), this.selectionPos && (this.menuPos = {
        left: `${t3.clientX}px`,
        top: `${t3.clientY}px`
      }, this.visible = true);
    },
    rowResize(t3, { pid: r, idx: a }) {
      t3.preventDefault(), t3.stopPropagation();
      let o, n = `${this.lattice[r][a].startRow || r}:${this.lattice[r][a].startCol || 0}`;
      (!this.$refs[`td_${n}`] || this.lattice[r][a].colspan > 1 || this.lattice[r][a].rowspan > 1) && (n = `${r}:${a}`);
      const l = this.$refs[`td_${n}`][0].parentElement, f = this.rule.style[n] || {}, d = (h2) => {
        if (!this.resize.isResizing)
          return;
        const m = h2.clientY - this.resize.startY, g = this.resize.startHeight + m;
        g > 20 && (l.style.height = `${g}px`, o = g);
      }, c = () => {
        !this.resize.isResizing || (this.resize.isResizing = false, f.height = `${o}px`, this.rule.style[n] = f, document.removeEventListener("mousemove", d), document.removeEventListener("mouseup", c));
      };
      this.resize.isResizing = true, this.resize.startY = t3.clientY, this.resize.startHeight = l.offsetHeight, f.height && (l.style.height = f.height, delete f.height), document.addEventListener("mousemove", d), document.addEventListener("mouseup", c);
    },
    colResize(t3, { pid: r, idx: a }) {
      t3.preventDefault(), t3.stopPropagation();
      let o, n = `${this.lattice[r][a].startRow || 0}:${this.lattice[r][a].startCol || a}`;
      (!this.$refs[`td_${n}`] || this.lattice[r][a].colspan > 1 || this.lattice[r][a].rowspan > 1) && (n = `${r}:${a}`);
      const l = this.$refs[`td_${n}`][0], f = this.rule.style[n] || {}, d = (h2) => {
        if (!this.resize.isResizing)
          return;
        const m = h2.clientX - this.resize.startX, g = this.resize.startWidth + m;
        g > 20 && (l.style.width = `${g}px`, o = g);
      }, c = () => {
        !this.resize.isResizing || (this.resize.isResizing = false, f.width = `${o}px`, this.rule.style[n] = f, document.removeEventListener("mousemove", d), document.removeEventListener("mouseup", c));
      };
      this.resize.isResizing = true, this.resize.startX = t3.clientX, this.resize.startWidth = l.offsetWidth, document.addEventListener("mousemove", d), document.addEventListener("mouseup", c);
    },
    mousedown(t3, { pid: r, idx: a }) {
      t3.button === 0 && !t3.target.classList.contains("icon-move") && !t3.target.classList.contains("_fd-table-row-handle") && !t3.target.classList.contains("_fd-table-col-handle") && (t3.stopPropagation(), t3.preventDefault(), this.visible ? this.visible = false : (this.isSelecting = { pid: r, idx: a }, this.updateSelection({ pid: r, idx: a })));
    },
    mousemove(t3, { pid: r, idx: a }) {
      this.isSelecting && (t3.stopPropagation(), (!this.oldSelection || this.oldSelection.pid !== r || this.oldSelection.idx !== a) && (this.updateSelection({ pid: r, idx: a }), this.oldSelection = { pid: r, idx: a }));
    },
    mouseup() {
      this.isSelecting = null;
    },
    dblclick(t3, { pid: r, idx: a }) {
      let o = false;
      if (this.formCreateInject.children.forEach((n) => {
        o = o || n && n.slot === `${r}:${a}`;
      }), !o) {
        const n = this.designer.setupState;
        n.dragMenu({
          menu: n.dragRuleList.text,
          children: this.formCreateInject.children,
          index: this.formCreateInject.children.length,
          slot: `${r}:${a}`
        });
      }
    },
    updateSelection({ pid: t3, idx: r }) {
      const a = this.selectionRect(this.isSelecting, { pid: t3, idx: r }), { startRow: o, startCol: n, endRow: l, endCol: f } = this.getSelectionPos({
        startRow: a[0].pid,
        startCol: a[0].idx,
        endRow: a[a.length - 1].pid,
        endCol: a[a.length - 1].idx,
        selection: a
      });
      this.selectionPos = { startRow: o, startCol: n, endRow: l, endCol: f }, this.selection = this.selectionRect({ pid: o, idx: n }, {
        pid: l,
        idx: f
      }, true);
    },
    getSelectionPos(t3) {
      let { startRow: r, startCol: a, endRow: o, endCol: n } = t3;
      return (t3.selection || this.selectionRect({ pid: r, idx: a }, {
        pid: o,
        idx: n
      })).forEach((f) => {
        const d = this.lattice[f.pid][f.idx];
        if (d.show)
          d.rowspan > 1 && (o = Math.max(o, f.pid + d.rowspan - 1)), d.colspan > 1 && (n = Math.max(n, f.idx + d.colspan - 1));
        else {
          const c = this.lattice[d.startRow][d.startCol];
          r = Math.min(r, d.startRow), a = Math.min(a, d.startCol), o = Math.max(o, d.startRow + c.rowspan - 1), n = Math.max(n, d.startCol + c.colspan - 1);
        }
      }), t3.startRow !== r || t3.endRow !== o || t3.startCol !== a || t3.endCol !== n ? this.getSelectionPos({ startRow: r, startCol: a, endRow: o, endCol: n }) : { startRow: r, startCol: a, endRow: o, endCol: n };
    },
    selectionRect(t3, r, a) {
      const o = t3.pid, n = t3.idx, l = r.pid, f = r.idx, d = Math.min(o, l), c = Math.max(o, l), h2 = Math.min(n, f), m = Math.max(n, f), g = [];
      for (let w = d; w <= c; w++)
        for (let R = h2; R <= m; R++)
          g.push(a ? `${w}:${R}` : { pid: w, idx: R });
      return g;
    },
    clearSelection() {
      this.isSelecting = null, this.oldSelection = null, this.selection = [], this.selectionPos = null;
    },
    getUnique(t3) {
      return this.unique[t3] || (this.unique[t3] = Ze()), this.unique[t3];
    },
    getSlotChildren(t3) {
      const r = [];
      return this.formCreateInject.children.forEach((a) => {
        t3.indexOf(a.slot) > -1 && r.push(a);
      }), r;
    },
    dragAdd(t3, r) {
      const a = this.designer.setupState, o = this.formCreateInject.children, n = `${r.pid}:${r.idx}`, l = t3.item._underlying_vm_, f = a.addRule && a.addRule.children === a.moveRule;
      f && a.moveRule.splice(a.moveRule.indexOf(l), 1);
      let d = 0;
      const c = "drag" + r.pid + r.idx;
      if (this.$refs[c][0].list.length) {
        let h2 = this.$refs[c][0].list[t3.newIndex ? t3.newIndex - 1 : 0];
        d = o.indexOf(h2) + (t3.newIndex ? 1 : 0);
      } else if (o.length) {
        const h2 = Object.keys(this.$refs);
        for (let m = h2.indexOf(c) - 1; m >= 0; m--) {
          if (!this.$refs[h2[m]] || !this.$refs[h2[m]].length)
            continue;
          const g = this.$refs[h2[m]][0].list || [];
          if (g.length) {
            d = o.indexOf(g[g.length - 1]) + 1;
            break;
          }
        }
      }
      t3.newIndex = d, f ? (l.slot = n, o.splice(t3.newIndex, 0, l), a.added = true, a.handleSortAfter({ rule: l })) : a.dragAdd(o, t3, `${r.pid}:${r.idx}`);
    },
    dragEnd(t3, r) {
      const a = this.designer.setupState, o = this.formCreateInject.children, n = t3.item._underlying_vm_, l = o.indexOf(n);
      t3.newIndex = l + (t3.newIndex - t3.oldIndex), t3.oldIndex = l, a.dragEnd(this.formCreateInject.children, t3, `${r.pid}:${r.idx}`);
    },
    dragStart() {
      this.designer.setupState.dragStart(this.formCreateInject.children);
    },
    dragUnchoose(t3) {
      this.designer.setupState.dragUnchoose(this.formCreateInject.children, t3);
    },
    initRule() {
      const t3 = this.rule;
      t3.style || (t3.style = {}), t3.class || (t3.class = {}), t3.layout || (t3.layout = []), t3.row || (t3.row = 1), t3.col || (t3.col = 1);
    },
    active(t3) {
      const r = `${t3.pid}:${t3.idx}`;
      this.designer.setupState.customActive({
        name: "fcTableGrid",
        onPaste: (a) => {
          a.slot = r, this.formCreateInject.children.push(a);
        },
        style: {
          formData: {
            style: this.rule.style[r] || {},
            class: this.rule.class[r] || ""
          },
          change: (a, o) => {
            !o || Object.keys(o).length === 0 ? delete this.rule[a][r] : this.rule[a][r] = o;
          }
        }
      });
    },
    command(t3) {
      this[t3[0]](...t3[1]);
    },
    rmSlot(t3, r) {
      const a = Object.keys(t3), o = this.formCreateInject.children;
      let n = 0;
      [...o].forEach((l, f) => {
        if (!l.slot)
          return;
        let d;
        r.indexOf(l.slot) > -1 ? (o.splice(f - n, 1), n++) : (d = a.indexOf(l.slot)) > -1 && (l.slot = t3[a[d]]);
      }), r.forEach((l) => {
        delete this.style[l];
      }), this.loadRule();
    },
    rmRow(t3) {
      this.clearSelection(), this.rule.row--;
      const r = {}, a = [];
      for (let l = t3.pid; l < this.rule.row + 1; l++)
        for (let f = 0; f < this.rule.col; f++)
          l === t3.pid ? a.push(`${t3.pid}:${f}`) : r[`${l}:${f}`] = `${l - 1}:${f}`;
      let o = 0;
      const n = this.rule.layout;
      [...n].forEach((l, f) => {
        l.top === t3.pid && (n.splice(f - o, 1), o++);
      }), n.forEach((l) => {
        l.top > t3.pid && l.top--;
      }), this.rmSlot(r, a);
    },
    rmCol(t3) {
      this.clearSelection(), this.rule.col--;
      const r = {}, a = [];
      for (let l = 0; l < this.rule.row; l++) {
        for (let f = t3.idx + 1; f < this.rule.col + 1; f++)
          r[`${l}:${f}`] = `${l}:${f - 1}`;
        a.push(`${l}:${t3.idx}`);
      }
      let o = 0;
      const n = this.rule.layout;
      [...n].forEach((l, f) => {
        l.left === t3.idx && (n.splice(f - o, 1), o++);
      }), n.forEach((l) => {
        l.left > t3.idx && l.left--;
      }), this.rmSlot(r, a);
    },
    splitRow(t3) {
      this.clearSelection();
      const r = t3.data.layout, a = r.row;
      if (r.row = 0, a > 1)
        for (let o = 1; o < a; o++)
          this.rule.layout.push({
            ...r,
            top: r.top + o
          });
      this.loadRule();
    },
    splitCol(t3) {
      this.clearSelection();
      const r = t3.data.layout, a = r.col;
      if (r.col = 0, a > 1)
        for (let o = 1; o < a; o++)
          this.rule.layout.push({
            ...r,
            left: r.left + o
          });
      this.loadRule();
    },
    makeMap(t3) {
      let r = [];
      for (let a = t3.top; a < (t3.row || t3.top + 1); a++)
        for (let o = t3.left; o < (t3.col || t3.left + 1); o++)
          r.push(`${a}:${o}`);
      return r;
    },
    rmSelectionContent() {
      this.rmSlot({}, this.selection);
    },
    selectionStyle() {
      const t3 = { ...this.rule.style[this.selection[0]] || {} }, r = this.selection.reduce((a, o) => (a[o] = { ...this.rule.style[o] || {} }, a), {});
      this.designer.setupState.customActive({
        name: "fcTableGrid",
        style: {
          formData: {
            style: t3,
            class: this.rule.class[this.selection[0]] || ""
          },
          change: (a, o) => {
            this.selection.forEach((n) => {
              if (!o || Object.keys(o).length === 0)
                delete this.rule[a][n];
              else if (a === "style") {
                const l = { ...r[n] };
                Object.keys(o).forEach((f) => {
                  o[f] !== t3[f] && (l[f] = o[f]);
                }), this.rule[a][n] = l;
              } else
                this.rule[a][n] = o;
            });
          }
        }
      });
    },
    rmSelectionCol() {
      const t3 = this.selectionPos.endCol - this.selectionPos.startCol + 1, r = {};
      for (let o = 0; o < this.rule.row; o++)
        for (let n = this.selectionPos.endCol + 1; n < this.rule.col; n++)
          r[`${o}:${n}`] = `${o}:${n - t3}`;
      const a = this.filterSelectionLayout();
      a.forEach((o) => {
        o.left > this.selectionPos.startCol && (o.left -= t3);
      }), this.rule.layout = a, this.rule.col - t3 <= 0 ? this.formCreateInject.children.splice(0, this.formCreateInject.children.length) : this.rmSlot(r, this.selectionRect({ pid: 0, idx: this.selectionPos.startCol }, {
        pid: this.rule.row,
        idx: this.selectionPos.endCol
      }, true)), this.rule.col = Math.max(1, this.rule.col - t3), this.clearSelection();
    },
    rmSelectionRow() {
      const t3 = this.selectionPos.endRow - this.selectionPos.startRow + 1, r = {};
      for (let o = this.selectionPos.endRow + 1; o < this.rule.row; o++)
        for (let n = 0; n < this.rule.col; n++)
          r[`${o}:${n}`] = `${o - t3}:${n}`;
      const a = this.filterSelectionLayout();
      a.forEach((o) => {
        o.top > this.selectionPos.startRow && (o.top -= t3);
      }), this.rule.layout = a, this.rule.row - t3 <= 0 ? this.formCreateInject.children.splice(0, this.formCreateInject.children.length) : this.rmSlot(r, this.selectionRect({
        pid: this.selectionPos.startRow,
        idx: 0
      }, { pid: this.selectionPos.endRow, idx: this.rule.col }, true)), this.rule.row = Math.max(1, this.rule.row - t3), this.clearSelection();
    },
    filterSelectionLayout() {
      return (this.rule.layout || []).filter((t3) => t3.top < this.selectionPos.startRow || t3.top > this.selectionPos.endRow || t3.left < this.selectionPos.startCol || t3.left > this.selectionPos.endCol);
    },
    mergeSelection(t3) {
      const r = this.filterSelectionLayout();
      if (!t3) {
        r.push({
          top: this.selectionPos.startRow,
          left: this.selectionPos.startCol,
          row: this.selectionPos.endRow - this.selectionPos.startRow + 1,
          col: this.selectionPos.endCol - this.selectionPos.startCol + 1
        });
        const a = {};
        for (let o = this.selectionPos.startRow; o <= this.selectionPos.endRow; o++)
          for (let n = this.selectionPos.startCol; n <= this.selectionPos.endCol; n++)
            a[`${o}:${n}`] = `${this.selectionPos.startRow}:${this.selectionPos.startCol}`;
        this.rmSlot(a, []);
      }
      this.rule.layout = r, this.loadRule();
    },
    mergeRight(t3) {
      this.clearSelection();
      let r;
      if (t3.data.layout) {
        const o = (t3.data.layout.col || 1) + 1;
        t3.data.layout.col = o + t3.idx > this.rule.col ? this.rule.col - t3.idx : o, r = t3.data.layout;
      } else
        r = {
          top: t3.pid,
          left: t3.idx,
          col: 2
        }, this.rule.layout.push(r);
      const a = this.makeMap(r);
      this.formCreateInject.children.forEach((o) => {
        !o.slot || a.indexOf(o.slot) > -1 && (o.slot = `${t3.pid}:${t3.idx}`);
      }), this.loadRule();
    },
    mergeBottom(t3) {
      this.clearSelection();
      let r;
      if (t3.data.layout) {
        const o = (t3.data.layout.row || 1) + 1;
        t3.data.layout.row = o + o.pid > this.rule.col ? this.rule.col - t3.pid : o, r = t3.data.layout;
      } else
        r = {
          top: t3.pid,
          left: t3.idx,
          row: 2
        }, this.rule.layout.push(r);
      const a = this.makeMap(r);
      this.formCreateInject.children.forEach((o) => {
        !o.slot || a.indexOf(o.slot) > -1 && (o.slot = `${t3.pid}:${t3.idx}`);
      }), this.loadRule();
    },
    addCol(t3, r) {
      if (this.clearSelection(), this.rule.col++, this.rule.layout.forEach((a) => {
        a.left > (r ? t3.idx - 1 : t3.idx) && a.left++;
      }), r || t3.idx < this.rule.col - 2) {
        const a = {};
        for (let n = 0; n < this.rule.row; n++)
          for (let l = r ? t3.idx - 1 : t3.idx + 1; l < this.rule.col - 1; l++)
            a[`${n}:${l}`] = `${n}:${l + 1}`;
        const o = Object.keys(a);
        this.formCreateInject.children.forEach((n) => {
          let l;
          n.slot && (l = o.indexOf(n.slot)) > -1 && (n.slot = a[o[l]]);
        }), o.forEach((n) => {
          this.style[n] && (this.style[a[n]] = this.style[n], delete this.style[n]);
        });
      }
      this.loadRule();
    },
    addRow(t3, r) {
      if (this.clearSelection(), this.rule.row++, this.rule.layout.forEach((a) => {
        a.top > (r ? t3.pid - 1 : t3.pid) && a.top++;
      }), r || t3.pid < this.rule.row - 2) {
        const a = {};
        for (let n = r ? t3.pid - 1 : t3.pid + 1; n < this.rule.row; n++)
          for (let l = 0; l < this.rule.col; l++)
            a[`${n}:${l}`] = `${n + 1}:${l}`;
        const o = Object.keys(a);
        this.formCreateInject.children.forEach((n) => {
          let l;
          n.slot && (l = o.indexOf(n.slot)) > -1 && (n.slot = a[o[l]]);
        }), o.reverse().forEach((n) => {
          this.style[n] && (this.style[a[n]] = this.style[n], delete this.style[n]);
        });
      }
      this.loadRule();
    },
    loadRule() {
      const t3 = [], r = this.rule || { row: 1, col: 1 };
      for (let o = 0; o < r.row; o++) {
        const n = [];
        t3.push(n);
        for (let l = 0; l < r.col; l++)
          n.push({ rowspan: 1, colspan: 1, slot: [], show: true, id: this.getUnique(`${o}${l}`) });
      }
      [...r.layout || []].forEach((o, n) => {
        if ((!o.row || o.row <= 0) && (!o.col || o.col <= 0) || !t3[o.top] || !t3[o.top][o.left] || !t3[o.top][o.left].show) {
          r.layout.splice(n, 1);
          return;
        }
        const l = t3[o.top][o.left];
        l.layout = o;
        let f = 1, d = 1;
        if (o.col && (f = o.col + o.left > r.col ? r.col - o.left : o.col, l.colspan = f), o.row && (d = o.row + o.top > r.row ? r.row - o.top : o.row, l.rowspan = d), d && f)
          for (let c = 0; c < d; c++) {
            const h2 = t3[o.top + c];
            if (h2)
              for (let m = 0; m < f; m++)
                !m && !c || (h2[o.left + m] && (h2[o.left + m].show = false, h2[o.left + m].startRow = o.top, h2[o.left + m].startCol = o.left), l.slot.push(`${o.top + c}:${o.left + m}`));
          }
      });
      const a = (o) => !!(!o || o.layout || !o.show);
      t3.forEach((o, n) => {
        o.forEach((l, f) => {
          let d = false, c = false;
          if (l.layout) {
            const h2 = l.layout.col || 1, m = l.layout.row || 1;
            for (let g = 0; g < h2; g++)
              if (!t3[n + m] || a(t3[n + m][f + g])) {
                c = true;
                continue;
              }
            for (let g = 0; g < m; g++)
              if (!t3[n + g] || a(t3[n + g][f + h2])) {
                d = true;
                continue;
              }
          } else
            d = a(o[f + 1]), c = t3[n + 1] ? a(t3[n + 1][f]) : true;
          l.right = d, l.bottom = c;
        });
      }), this.lattice = t3, this.formCreateInject.rule.props.rule = r;
    },
    hideMenu() {
      this.visible = false;
    }
  },
  beforeMount() {
    this.loadRule();
  },
  mounted() {
    document.addEventListener("click", this.hideMenu, true);
  },
  beforeUnmount() {
    document.removeEventListener("click", this.hideMenu, true);
  }
});
var eA = ["onContextmenu", "onMousedown", "onMousemove", "onDblclick"];
var tA = ["onMousedown"];
var nA = ["onMousedown"];
var iA = ["onClick"];
var rA = ["onClick"];
function oA(t3, r, a, o, n, l) {
  const f = resolveComponent("DragBox"), d = resolveComponent("el-dropdown-item"), c = resolveComponent("el-dropdown-menu"), h2 = resolveComponent("el-dropdown"), m = resolveComponent("DragTool");
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["_fd-table-view", { "is-mini": t3.mini }])
  }, [
    createBaseVNode("table", {
      border: "1",
      cellspacing: "0",
      cellpadding: "0",
      style: normalizeStyle(t3.tableColor),
      onMouseleave: r[3] || (r[3] = (...g) => t3.mouseup && t3.mouseup(...g)),
      onMouseup: r[4] || (r[4] = (...g) => t3.mouseup && t3.mouseup(...g))
    }, [
      (openBlock(true), createElementBlock(Fragment, null, renderList(t3.rule.row, (g, w) => (openBlock(), createElementBlock("tr", { key: w }, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(t3.rule.col, (R, A) => (openBlock(), createElementBlock(Fragment, null, [
          t3.lattice[w][A].show ? (openBlock(), createElementBlock("td", mergeProps({
            key: `${w}${A}`,
            ref_for: true,
            ref: `td_${w}:${A}`,
            class: "_fd-table-view-cell"
          }, { ref_for: true }, t3.lattice[w][A] ? { colspan: t3.lattice[w][A].colspan, rowspan: t3.lattice[w][A].rowspan } : {}, {
            style: [t3.tableColor, t3.style && t3.style[`${w}:${A}`] || {}],
            class: [t3.rule.class && t3.rule.class[`${w}:${A}`] || "", { selected: t3.selection.indexOf(`${w}:${A}`) > -1 }],
            onContextmenu: (E) => t3.contextmenu(E, { pid: w, idx: A }),
            onMousedown: (E) => t3.mousedown(E, { pid: w, idx: A }),
            onMousemove: (E) => t3.mousemove(E, { pid: w, idx: A }),
            onDblclick: (E) => t3.dblclick(E, { pid: w, idx: A })
          }), [
            w !== t3.rule.row - 1 ? (openBlock(), createElementBlock("div", {
              key: 0,
              class: "_fd-table-row-handle",
              onMousedown: (E) => t3.rowResize(E, { pid: w, idx: A })
            }, null, 40, tA)) : createCommentVNode("", true),
            A !== t3.rule.col - 1 ? (openBlock(), createElementBlock("div", {
              key: 1,
              class: "_fd-table-col-handle",
              onMousedown: (E) => t3.colResize(E, { pid: w, idx: A })
            }, null, 40, nA)) : createCommentVNode("", true),
            createVNode(m, {
              "drag-btn": false,
              "handle-btn": true,
              onActive: (E) => t3.active({ pid: w, idx: A }),
              unique: t3.lattice[w][A].id
            }, {
              handle: withCtx(() => [
                createBaseVNode("div", {
                  class: "_fd-drag-btn _fd-table-view-btn",
                  onClick: withModifiers((E) => t3.addRow({ pid: w, idx: A, data: t3.lattice[w][A] }, 0), ["stop"])
                }, r[15] || (r[15] = [
                  createBaseVNode("i", { class: "fc-icon icon-add-col" }, null, -1)
                ]), 8, iA),
                createBaseVNode("div", {
                  class: "_fd-drag-btn _fd-table-view-btn",
                  onClick: withModifiers((E) => t3.addCol({ pid: w, idx: A, data: t3.lattice[w][A] }, 0), ["stop"])
                }, r[16] || (r[16] = [
                  createBaseVNode("i", {
                    class: "fc-icon icon-add-col",
                    style: { transform: "rotate(90deg)" }
                  }, null, -1)
                ]), 8, rA),
                createBaseVNode("div", {
                  class: "_fd-drag-btn _fd-table-view-btn",
                  onClick: r[2] || (r[2] = withModifiers(() => {
                  }, ["stop"]))
                }, [
                  createVNode(h2, {
                    trigger: "click",
                    onCommand: t3.command
                  }, {
                    dropdown: withCtx(() => [
                      createVNode(c, null, {
                        default: withCtx(() => [
                          createVNode(d, {
                            command: ["addCol", [{ pid: w, idx: A, data: t3.lattice[w][A] }, 1]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.addLeft")), 1)
                            ]),
                            _: 2
                          }, 1032, ["command"]),
                          createVNode(d, {
                            command: ["addCol", [{ pid: w, idx: A, data: t3.lattice[w][A] }, 0]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.addRight")), 1)
                            ]),
                            _: 2
                          }, 1032, ["command"]),
                          createVNode(d, {
                            command: ["addRow", [{ pid: w, idx: A, data: t3.lattice[w][A] }, 1]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.addTop")), 1)
                            ]),
                            _: 2
                          }, 1032, ["command"]),
                          createVNode(d, {
                            command: ["addRow", [{ pid: w, idx: A, data: t3.lattice[w][A] }, 0]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.addBottom")), 1)
                            ]),
                            _: 2
                          }, 1032, ["command"]),
                          createVNode(d, {
                            divided: "",
                            disabled: t3.lattice[w][A].right,
                            command: ["mergeRight", [{ pid: w, idx: A, data: t3.lattice[w][A] }]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.mergeRight")), 1)
                            ]),
                            _: 2
                          }, 1032, ["disabled", "command"]),
                          createVNode(d, {
                            disabled: t3.lattice[w][A].bottom,
                            command: ["mergeBottom", [{ pid: w, idx: A, data: t3.lattice[w][A] }]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.mergeBottom")), 1)
                            ]),
                            _: 2
                          }, 1032, ["disabled", "command"]),
                          createVNode(d, {
                            divided: "",
                            disabled: !(t3.lattice[w][A].layout && t3.lattice[w][A].layout.col > 1),
                            command: ["splitCol", [{ pid: w, idx: A, data: t3.lattice[w][A] }]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.splitCol")), 1)
                            ]),
                            _: 2
                          }, 1032, ["disabled", "command"]),
                          createVNode(d, {
                            disabled: !(t3.lattice[w][A].layout && t3.lattice[w][A].layout.row > 1),
                            command: ["splitRow", [{ pid: w, idx: A, data: t3.lattice[w][A] }]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.splitRow")), 1)
                            ]),
                            _: 2
                          }, 1032, ["disabled", "command"]),
                          createVNode(d, {
                            divided: "",
                            disabled: t3.rule.col < 2,
                            command: ["rmCol", [{ pid: w, idx: A, data: t3.lattice[w][A] }]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.rmCol")), 1)
                            ]),
                            _: 2
                          }, 1032, ["disabled", "command"]),
                          createVNode(d, {
                            disabled: t3.rule.row < 2,
                            command: ["rmRow", [{ pid: w, idx: A, data: t3.lattice[w][A] }]]
                          }, {
                            default: withCtx(() => [
                              createTextVNode(toDisplayString(t3.t("tableOptions.rmRow")), 1)
                            ]),
                            _: 2
                          }, 1032, ["disabled", "command"])
                        ]),
                        _: 2
                      }, 1024)
                    ]),
                    default: withCtx(() => [
                      r[17] || (r[17] = createBaseVNode("i", { class: "fc-icon icon-setting" }, null, -1))
                    ]),
                    _: 2,
                    __: [17]
                  }, 1032, ["onCommand"])
                ])
              ]),
              default: withCtx(() => [
                createVNode(f, mergeProps({ ref_for: true }, t3.dragProp, {
                  onAdd: (E) => t3.dragAdd(E, { pid: w, idx: A }),
                  ref_for: true,
                  ref: "drag" + w + A,
                  onEnd: (E) => t3.dragEnd(E, { pid: w, idx: A }),
                  onStart: r[0] || (r[0] = (E) => t3.dragStart(E)),
                  onUnchoose: r[1] || (r[1] = (E) => t3.dragUnchoose(E)),
                  list: t3.getSlotChildren([`${w}:${A}`, ...t3.lattice[w][A].slot])
                }), {
                  default: withCtx(() => [
                    renderSlot(t3.$slots, `${w}:${A}`)
                  ]),
                  _: 2
                }, 1040, ["onAdd", "onEnd", "list"])
              ]),
              _: 2
            }, 1032, ["onActive", "unique"])
          ], 16, eA)) : createCommentVNode("", true)
        ], 64))), 256))
      ]))), 128))
    ], 36),
    t3.visible ? (openBlock(), createElementBlock("div", {
      key: 0,
      class: "_fd-table-context-menu",
      style: normalizeStyle(t3.menuPos)
    }, [
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[5] || (r[5] = withModifiers((...g) => t3.selectionStyle && t3.selectionStyle(...g), ["stop"]))
      }, toDisplayString(t3.t("props.style")), 1),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[6] || (r[6] = withModifiers((...g) => t3.rmSelectionContent && t3.rmSelectionContent(...g), ["stop"]))
      }, toDisplayString(t3.t("props.clear")), 1),
      r[18] || (r[18] = createBaseVNode("div", { class: "_fd-table-context-menu-separator" }, null, -1)),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[7] || (r[7] = withModifiers((g) => t3.mergeSelection(false), ["stop"]))
      }, toDisplayString(t3.t("tableOptions.batchMerge")), 1),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[8] || (r[8] = withModifiers((g) => t3.mergeSelection(true), ["stop"]))
      }, toDisplayString(t3.t("tableOptions.batchSplit")), 1),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[9] || (r[9] = withModifiers((g) => t3.addCol({ pid: t3.selectionPos.startRow, idx: t3.selectionPos.startCol }, 1), ["stop"]))
      }, toDisplayString(t3.t("tableOptions.addLeft")), 1),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[10] || (r[10] = withModifiers((g) => t3.addCol({ pid: t3.selectionPos.startRow, idx: t3.selectionPos.endCol }, 0), ["stop"]))
      }, toDisplayString(t3.t("tableOptions.addRight")), 1),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[11] || (r[11] = withModifiers((g) => t3.addRow({ pid: t3.selectionPos.startRow, idx: t3.selectionPos.startCol }, 1), ["stop"]))
      }, toDisplayString(t3.t("tableOptions.addTop")), 1),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[12] || (r[12] = withModifiers((g) => t3.addRow({ pid: t3.selectionPos.startRow, idx: t3.selectionPos.endCol }, 0), ["stop"]))
      }, toDisplayString(t3.t("tableOptions.addBottom")), 1),
      r[19] || (r[19] = createBaseVNode("div", { class: "_fd-table-context-menu-separator" }, null, -1)),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[13] || (r[13] = withModifiers((...g) => t3.rmSelectionRow && t3.rmSelectionRow(...g), ["stop"]))
      }, toDisplayString(t3.t("tableOptions.batchRmRow")), 1),
      createBaseVNode("div", {
        class: "_fd-table-context-menuitem",
        onClick: r[14] || (r[14] = withModifiers((...g) => t3.rmSelectionCol && t3.rmSelectionCol(...g), ["stop"]))
      }, toDisplayString(t3.t("tableOptions.batchRmCol")), 1)
    ], 4)) : createCommentVNode("", true)
  ], 2);
}
var aA = nt(q1, [["render", oA]]);
var lA = {
  name: "FcTable",
  props: {
    mini: Boolean,
    label: String,
    width: [Number, String],
    border: {
      type: Boolean,
      default: true
    },
    borderWidth: String,
    borderColor: String,
    rule: {
      type: Object,
      default: () => ({ row: 1, col: 1 })
    }
  },
  watch: {
    rule: {
      handler() {
        this.initRule(), this.loadRule(), this.tdStyle = this.rule.style || {}, this.tdClass = this.rule.class || {};
      },
      immediate: true,
      deep: true
    }
  },
  data() {
    return {
      tdStyle: {},
      tdClass: {},
      lattice: {}
    };
  },
  computed: {
    tableColor() {
      const t3 = {};
      return this.border === false ? t3.border = "0 none" : (this.borderColor && (t3.borderColor = this.borderColor), this.borderWidth && (t3.borderWidth = this.borderWidth)), t3;
    }
  },
  methods: {
    initRule() {
      const t3 = this.rule;
      t3.style || (t3.style = {}), t3.layout || (t3.layout = []), t3.row || (t3.row = 1), t3.col || (t3.col = 1);
    },
    loadRule() {
      const t3 = [], r = this.rule || { row: 1, col: 1 };
      for (let o = 0; o < r.row; o++) {
        const n = [];
        t3.push(n);
        for (let l = 0; l < r.col; l++)
          n.push({ rowspan: 1, colspan: 1, slot: [], show: true });
      }
      [...r.layout || []].forEach((o, n) => {
        if ((!o.row || o.row <= 0) && (!o.col || o.col <= 0) || !t3[o.top] || !t3[o.top][o.left] || !t3[o.top][o.left].show) {
          r.layout.splice(n, 1);
          return;
        }
        const l = t3[o.top][o.left];
        l.layout = o;
        let f = 1, d = 1;
        if (o.col && (f = o.col + o.left > r.col ? r.col - o.left : o.col, l.colspan = f), o.row && (d = o.row + o.top > r.row ? r.row - o.top : o.row, l.rowspan = d), d && f)
          for (let c = 0; c < d; c++) {
            const h2 = t3[o.top + c];
            if (h2)
              for (let m = 0; m < f; m++)
                !m && !c || (h2[o.left + m] && (h2[o.left + m].show = false), l.slot.push(`${o.top + c}:${o.left + m}`));
          }
      });
      const a = (o) => !!(!o || o.layout || !o.show);
      t3.forEach((o, n) => {
        o.forEach((l, f) => {
          let d = false, c = false;
          if (l.layout) {
            const h2 = l.layout.col || 1, m = l.layout.row || 1;
            for (let g = 0; g < h2; g++)
              if (!t3[n + m] || a(t3[n + m][f + g])) {
                c = true;
                continue;
              }
            for (let g = 0; g < m; g++)
              if (!t3[n + g] || a(t3[n + g][f + h2])) {
                d = true;
                continue;
              }
          } else
            d = a(o[f + 1]), c = t3[n + 1] ? a(t3[n + 1][f]) : true;
          l.right = d, l.bottom = c;
        });
      }), this.lattice = t3;
    }
  }
};
function sA(t3, r, a, o, n, l) {
  const f = resolveComponent("el-col");
  return openBlock(), createBlock(f, { span: 24 }, {
    default: withCtx(() => [
      createBaseVNode("div", {
        class: normalizeClass(["_fc-table", { "is-mini": a.mini }])
      }, [
        createBaseVNode("table", {
          border: "1",
          cellspacing: "0",
          cellpadding: "0",
          style: normalizeStyle(l.tableColor)
        }, [
          (openBlock(true), createElementBlock(Fragment, null, renderList(a.rule.row, (d, c) => (openBlock(), createElementBlock("tr", { key: c }, [
            (openBlock(true), createElementBlock(Fragment, null, renderList(a.rule.col, (h2, m) => (openBlock(), createElementBlock(Fragment, {
              key: `${c}${m}`
            }, [
              n.lattice[c][m].show ? (openBlock(), createElementBlock("td", mergeProps({
                key: 0,
                ref_for: true
              }, n.lattice[c][m] ? { colspan: n.lattice[c][m].colspan, rowspan: n.lattice[c][m].rowspan } : {}, {
                valign: "top",
                class: n.tdClass && n.tdClass[`${c}:${m}`] || "",
                style: [l.tableColor, n.tdStyle && n.tdStyle[`${c}:${m}`] || {}]
              }), [
                renderSlot(t3.$slots, `${c}:${m}`),
                (openBlock(true), createElementBlock(Fragment, null, renderList(n.lattice[c][m].slot, (g) => renderSlot(t3.$slots, `${g}`)), 256))
              ], 16)) : createCommentVNode("", true)
            ], 64))), 128))
          ]))), 128))
        ], 4)
      ], 2)
    ]),
    _: 3
  });
}
var uA = nt(lA, [["render", sA]]);
var fA = defineComponent({
  name: "LanguageInput",
  inject: ["designer"],
  emits: ["update:modelValue", "blur", "change"],
  props: {
    size: String,
    placeholder: String,
    modelValue: String,
    disabled: Boolean
  },
  computed: {
    isVar() {
      return !!(this.modelValue || "").match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);
    },
    t() {
      return this.designer.setupState.t;
    },
    localeList() {
      var o, n;
      const t3 = this.designer.setupState.getConfig("localeOptions", [
        { value: "zh-cn", label: "简体中文" },
        { value: "en", label: "English" }
      ]), r = [], a = ((n = (o = this.designer.props) == null ? void 0 : o.locale) == null ? void 0 : n.name) || "zh-cn";
      return t3.forEach((l) => {
        l.value === a ? r.unshift(l) : r.length < 2 && r.push(l);
      }), r.length > 2 && r.pop(), r;
    },
    showLanguage() {
      return this.designer.setupState.getConfig("showLanguage");
    },
    language() {
      const t3 = this.designer.setupState.formOptions.language || {}, r = {};
      return Object.keys(t3).forEach((a) => {
        Object.keys(t3[a]).forEach((o) => {
          r[o] || (r[o] = {
            key: o
          }), r[o][a] = t3[a][o];
        });
      }), Object.values(r);
    }
  },
  methods: {
    openConfig() {
      this.designer.setupState.activeModule = "language";
    },
    clickLang(t3) {
      this.onInput(`{{$t.${t3}}}`), this.$refs.pop.hide();
    },
    onInput(t3) {
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    }
  },
  mounted() {
  }
});
var dA = { class: "_fd-language-list" };
var cA = { class: "_fd-language-header" };
var pA = { class: "_fd-language-title" };
var hA = { class: "_fd-language-name" };
var vA = ["onClick"];
function mA(t3, r, a, o, n, l) {
  const f = resolveComponent("el-popover"), d = resolveComponent("el-input");
  return openBlock(), createBlock(d, {
    class: normalizeClass(["_fd-language-input", { "is-variable": t3.isVar }]),
    placeholder: t3.placeholder,
    disabled: t3.disabled,
    modelValue: t3.modelValue,
    "onUpdate:modelValue": t3.onInput,
    onBlur: r[1] || (r[1] = (c) => t3.$emit("blur")),
    size: t3.size || "small"
  }, createSlots({ _: 2 }, [
    t3.showLanguage !== false ? {
      name: "append",
      fn: withCtx(() => [
        createVNode(f, {
          placement: "bottom-end",
          width: 300,
          "hide-after": 0,
          trigger: "click",
          ref: "pop",
          "popper-class": "_fd-language-popover"
        }, {
          reference: withCtx(() => r[2] || (r[2] = [
            createBaseVNode("i", { class: "fc-icon icon-language" }, null, -1)
          ])),
          default: withCtx(() => [
            createBaseVNode("div", dA, [
              createBaseVNode("div", cA, [
                createBaseVNode("div", pA, [
                  createTextVNode(toDisplayString(t3.t("language.select")), 1),
                  createBaseVNode("i", {
                    class: "fc-icon icon-setting",
                    onClick: r[0] || (r[0] = (...c) => t3.openConfig && t3.openConfig(...c))
                  })
                ]),
                createBaseVNode("div", hA, [
                  (openBlock(true), createElementBlock(Fragment, null, renderList(t3.localeList, (c) => (openBlock(), createElementBlock("div", {
                    key: c.value
                  }, toDisplayString(c.label), 1))), 128))
                ])
              ]),
              (openBlock(true), createElementBlock(Fragment, null, renderList(t3.language, (c) => (openBlock(), createElementBlock("div", {
                key: c.key,
                class: "_fd-language-item",
                onClick: (h2) => t3.clickLang(c.key)
              }, [
                (openBlock(true), createElementBlock(Fragment, null, renderList(t3.localeList, (h2) => (openBlock(), createElementBlock("div", {
                  key: h2.value
                }, toDisplayString(c[h2.value] || "-"), 1))), 128))
              ], 8, vA))), 128))
            ])
          ]),
          _: 1
        }, 512)
      ]),
      key: "0"
    } : void 0
  ]), 1032, ["class", "placeholder", "disabled", "modelValue", "onUpdate:modelValue", "size"]);
}
var Tu = nt(fA, [["render", mA]]);
var gA = defineComponent({
  name: "Validate",
  inject: ["designer"],
  emits: ["update:modelValue"],
  props: {
    modelValue: Array
  },
  components: {
    LanguageInput: Tu,
    FnInput: Up
  },
  watch: {
    modelValue(t3) {
      this.validate = this.parseValue(t3 || []);
    }
  },
  data() {
    return {
      validate: this.parseValue(this.modelValue || [])
    };
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    modes() {
      const t3 = this.designer.setupState.activeRule;
      return t3 && t3._menu.subForm === "object" ? {
        validator: this.t("validate.modes.validator")
      } : {
        min: this.t("validate.modes.min"),
        max: this.t("validate.modes.max"),
        len: this.t("validate.modes.len"),
        pattern: this.t("validate.modes.pattern"),
        validator: this.t("validate.modes.validator")
      };
    },
    triggers() {
      return Pt(this.t, [
        { label: "blur", value: "blur" },
        { label: "change", value: "change" },
        { label: "submit", value: "submit" }
      ]);
    }
  },
  methods: {
    handleCommand(t3) {
      this.validate.push({
        transform: new Function("val", "this.type = val == null ? 'string' : (Array.isArray(val) ? 'array' : (typeof val)); return val;"),
        mode: t3,
        trigger: "blur"
      });
    },
    autoMessage(t3) {
      const r = this.designer.setupState.activeRule.title;
      this.designer.setupState.activeRule && (t3.message = this.t("validate.autoRequired", { title: r }), this.onInput());
    },
    getSpan(t3) {
      return ["pattern", "validator", "required"].indexOf(t3.mode) > -1 ? 24 : 12;
    },
    onInput: function() {
      this.$emit("update:modelValue", this.validate.map((t3) => (t3 = { ...t3 }, t3.message || delete t3.message, t3)));
    },
    remove(t3) {
      this.validate.splice(t3, 1), this.onInput();
    },
    parseValue(t3) {
      return Ft(t3.map((r) => (r.validator && (r.mode = "validator"), r.mode || Object.keys(r).forEach((a) => {
        ["message", "type", "trigger", "mode"].indexOf(a) < 0 && (r.mode = a);
      }), r)));
    }
  }
});
var yA = { class: "_fd-validate" };
var bA = { class: "_fd-validate-item" };
var AA = { class: "_fd-validate-title" };
var wA = ["onClick"];
function CA(t3, r, a, o, n, l) {
  const f = resolveComponent("el-option"), d = resolveComponent("el-select"), c = resolveComponent("el-form-item"), h2 = resolveComponent("el-col"), m = resolveComponent("elInput"), g = resolveComponent("FnInput"), w = resolveComponent("el-input-number"), R = resolveComponent("LanguageInput"), A = resolveComponent("el-row"), E = resolveComponent("el-button"), b = resolveComponent("el-dropdown-item"), v = resolveComponent("el-dropdown-menu"), y = resolveComponent("el-dropdown");
  return openBlock(), createElementBlock("div", yA, [
    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.validate, (T, x) => (openBlock(), createElementBlock("div", bA, [
      createBaseVNode("div", AA, [
        createBaseVNode("div", null, [
          createBaseVNode("span", null, toDisplayString(x + 1), 1),
          createTextVNode(" " + toDisplayString(t3.modes[T.mode]), 1)
        ]),
        createBaseVNode("i", {
          class: "fc-icon icon-delete2",
          onClick: (D) => t3.remove(x)
        }, null, 8, wA)
      ]),
      createVNode(A, null, {
        default: withCtx(() => [
          createVNode(h2, {
            span: t3.getSpan(T)
          }, {
            default: withCtx(() => [
              createVNode(c, {
                label: t3.t("validate.mode")
              }, {
                default: withCtx(() => [
                  createVNode(d, {
                    modelValue: T.trigger,
                    "onUpdate:modelValue": (D) => T.trigger = D,
                    onChange: t3.onInput
                  }, {
                    default: withCtx(() => [
                      (openBlock(true), createElementBlock(Fragment, null, renderList(t3.triggers, (D) => (openBlock(), createBlock(f, {
                        key: D.value,
                        label: D.label,
                        value: D.value
                      }, null, 8, ["label", "value"]))), 128))
                    ]),
                    _: 2
                  }, 1032, ["modelValue", "onUpdate:modelValue", "onChange"])
                ]),
                _: 2
              }, 1032, ["label"])
            ]),
            _: 2
          }, 1032, ["span"]),
          createVNode(h2, {
            span: t3.getSpan(T)
          }, {
            default: withCtx(() => [
              createVNode(c, {
                label: t3.modes[T.mode]
              }, {
                default: withCtx(() => [
                  T.mode === "pattern" ? (openBlock(), createBlock(m, {
                    key: 0,
                    modelValue: T[T.mode],
                    "onUpdate:modelValue": (D) => T[T.mode] = D,
                    onChange: t3.onInput
                  }, null, 8, ["modelValue", "onUpdate:modelValue", "onChange"])) : T.mode === "validator" ? (openBlock(), createBlock(g, {
                    key: 1,
                    modelValue: T[T.mode],
                    "onUpdate:modelValue": (D) => T[T.mode] = D,
                    name: "name",
                    args: ["rule", "value", "callback"],
                    onChange: t3.onInput
                  }, {
                    default: withCtx(() => [
                      createTextVNode(toDisplayString(t3.t("validate.modes.validator")), 1)
                    ]),
                    _: 2
                  }, 1032, ["modelValue", "onUpdate:modelValue", "onChange"])) : (openBlock(), createBlock(w, {
                    key: 2,
                    modelValue: T[T.mode],
                    "onUpdate:modelValue": (D) => T[T.mode] = D,
                    onChange: t3.onInput
                  }, null, 8, ["modelValue", "onUpdate:modelValue", "onChange"]))
                ]),
                _: 2
              }, 1032, ["label"])
            ]),
            _: 2
          }, 1032, ["span"]),
          createVNode(h2, { span: 24 }, {
            default: withCtx(() => [
              createVNode(c, {
                label: t3.t("validate.message")
              }, {
                default: withCtx(() => [
                  createVNode(R, {
                    modelValue: T.message,
                    "onUpdate:modelValue": (D) => T.message = D,
                    placeholder: t3.t("validate.requiredPlaceholder"),
                    onChange: t3.onInput
                  }, null, 8, ["modelValue", "onUpdate:modelValue", "placeholder", "onChange"])
                ]),
                _: 2
              }, 1032, ["label"])
            ]),
            _: 2
          }, 1024)
        ]),
        _: 2
      }, 1024)
    ]))), 256)),
    createVNode(y, {
      trigger: "click",
      size: "default",
      "popper-class": "_fd-validate-pop",
      onCommand: t3.handleCommand
    }, {
      dropdown: withCtx(() => [
        createVNode(v, null, {
          default: withCtx(() => [
            (openBlock(true), createElementBlock(Fragment, null, renderList(t3.modes, (T, x) => (openBlock(), createBlock(b, {
              command: x,
              key: x
            }, {
              default: withCtx(() => [
                createBaseVNode("div", null, toDisplayString(T), 1)
              ]),
              _: 2
            }, 1032, ["command"]))), 128))
          ]),
          _: 1
        })
      ]),
      default: withCtx(() => [
        createVNode(E, {
          class: "_fd-validate-btn",
          size: "small"
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(t3.t("validate.rule")) + " +", 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["onCommand"])
  ]);
}
var SA = nt(gA, [["render", CA]]);
var EA = defineComponent({
  name: "Required",
  components: { LanguageInput: Tu },
  emits: ["update:modelValue"],
  props: {
    modelValue: {}
  },
  inject: ["designer"],
  watch: {
    required() {
      this.update();
    },
    requiredMsg() {
      this.update();
    },
    modelValue(t3) {
      const r = ut.String(t3);
      this.required = t3 === void 0 ? false : r ? true : !!t3, this.requiredMsg = r ? t3 : "";
    }
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    }
  },
  data() {
    const t3 = ut.String(this.modelValue);
    return {
      required: this.modelValue === void 0 ? false : t3 ? true : !!this.modelValue,
      requiredMsg: t3 ? this.modelValue : ""
    };
  },
  methods: {
    update() {
      let t3;
      this.required === false ? t3 = false : t3 = this.requiredMsg || true, this.$emit("update:modelValue", t3);
    }
  }
});
var xA = { class: "_fd-required" };
function TA(t3, r, a, o, n, l) {
  const f = resolveComponent("el-switch"), d = resolveComponent("LanguageInput");
  return openBlock(), createElementBlock("div", xA, [
    createVNode(f, {
      modelValue: t3.required,
      "onUpdate:modelValue": r[0] || (r[0] = (c) => t3.required = c)
    }, null, 8, ["modelValue"]),
    t3.required ? (openBlock(), createBlock(d, {
      key: 0,
      modelValue: t3.requiredMsg,
      "onUpdate:modelValue": r[1] || (r[1] = (c) => t3.requiredMsg = c),
      placeholder: t3.t("validate.requiredPlaceholder")
    }, null, 8, ["modelValue", "placeholder"])) : createCommentVNode("", true)
  ]);
}
var _A = nt(EA, [["render", TA]]);
var RA = defineComponent({
  name: "ValueInput",
  emits: ["update:modelValue", "change", "change-type", "blur"],
  inject: ["designer"],
  props: {
    modelValue: [String, Number, Boolean]
  },
  data() {
    return {
      type: "1",
      value: ""
    };
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    }
  },
  watch: {
    modelValue: {
      handler: function(t3) {
        typeof t3 == "number" ? this.type = "2" : typeof t3 == "boolean" ? this.type = "3" : this.type = "1", this.value = t3 == null ? "" : "" + t3;
      },
      immediate: true
    },
    type() {
      this.updateValue(this.value), this.$emit("change-type", this.type);
    }
  },
  methods: {
    onBlur(...t3) {
      this.value !== this.toValue(this.modelValue) && this.updateValue(this.value), this.$emit("blur", ...t3);
    },
    updateValue(t3) {
      const r = this.toValue(t3);
      this.$emit("update:modelValue", r), this.$emit("change", r);
    },
    toValue(t3) {
      return this.type === "1" ? "" + t3 : this.type === "2" ? parseFloat(t3) || 0 : t3 === "true";
    }
  }
});
function OA(t3, r, a, o, n, l) {
  const f = resolveComponent("el-option"), d = resolveComponent("el-select"), c = resolveComponent("el-input");
  return openBlock(), createBlock(c, mergeProps({
    class: "_fd-value-input",
    modelValue: t3.value,
    "onUpdate:modelValue": r[1] || (r[1] = (h2) => t3.value = h2),
    onBlur: t3.onBlur
  }, t3.$attrs), createSlots({
    prepend: withCtx(() => [
      createVNode(d, {
        modelValue: t3.type,
        "onUpdate:modelValue": r[0] || (r[0] = (h2) => t3.type = h2),
        style: { width: "60px" }
      }, {
        default: withCtx(() => [
          createVNode(f, {
            label: t3.t("validate.types.string"),
            value: "1"
          }, null, 8, ["label"]),
          createVNode(f, {
            label: t3.t("validate.types.number"),
            value: "2"
          }, null, 8, ["label"]),
          createVNode(f, {
            label: t3.t("validate.types.boolean"),
            value: "3"
          }, null, 8, ["label"])
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]),
    _: 2
  }, [
    t3.$slots.append ? {
      name: "append",
      fn: withCtx(() => [
        renderSlot(t3.$slots, "append")
      ]),
      key: "0"
    } : void 0
  ]), 1040, ["modelValue", "onBlur"]);
}
var _u = nt(RA, [["render", OA]]);
var DA = defineComponent({
  name: "TableOptions",
  emits: ["update:modelValue", "change"],
  components: {
    ValueInput: _u
  },
  props: {
    modelValue: [Array, Object],
    column: {
      type: Array,
      default: () => [{ label: "label", key: "label" }, { label: "value", key: "value" }]
    },
    valueType: String,
    max: Number,
    size: String
  },
  inject: ["designer"],
  watch: {
    modelValue() {
      this.value = this.tidyModelValue();
    }
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    }
  },
  data() {
    return {
      value: this.tidyModelValue()
    };
  },
  methods: {
    tidyModelValue() {
      const t3 = this.modelValue;
      return this.valueType === "string" ? (t3 || []).map((r) => ({ value: "" + r })) : this.valueType === "object" ? Object.keys(t3 || {}).map((r) => ({ label: r, value: t3[r] })) : [...t3 || []].map((r) => qc(r));
    },
    tidyValue() {
      if (this.valueType === "object") {
        const t3 = {};
        return this.value.forEach((r) => {
          r.label && r.value && (t3[r.label] = r.value);
        }), t3;
      } else
        return this.value.map((t3) => this.valueType === "string" ? t3.value : { ...t3 });
    },
    onInput(t3) {
      if (this.column.length === 1 && t3[this.column[0].key] === "")
        return;
      this.column.every((a) => a.required === false ? true : ["object", "string"].indexOf(this.valueType) > -1 ? t3[a.key] !== void 0 && t3[a.key] !== "" && t3[a.key] !== null : t3[a.key] !== void 0) && this.input();
    },
    input() {
      const t3 = this.tidyValue();
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    },
    add() {
      this.value.push(this.column.reduce((t3, r) => (t3[r.key] = "", t3), {}));
    },
    del(t3) {
      this.value.splice(t3, 1), this.input();
    }
  }
});
var IA = { class: "_td-table-opt" };
var MA = ["onClick"];
var PA = { class: "_td-table-opt-handle" };
function NA(t3, r, a, o, n, l) {
  const f = resolveComponent("ValueInput"), d = resolveComponent("el-input"), c = resolveComponent("el-table-column"), h2 = resolveComponent("el-table"), m = resolveComponent("el-button");
  return openBlock(), createElementBlock("div", IA, [
    createVNode(h2, {
      data: t3.value,
      border: "",
      size: t3.size || "small",
      style: { width: "100%" }
    }, {
      default: withCtx(() => [
        (openBlock(true), createElementBlock(Fragment, null, renderList(t3.column, (g, w) => (openBlock(), createBlock(c, {
          key: g.label + w,
          label: g.label
        }, {
          default: withCtx((R) => [
            g.value ? (openBlock(), createBlock(f, {
              key: 0,
              size: t3.size || "small",
              modelValue: R.row[g.key],
              "onUpdate:modelValue": (A) => R.row[g.key] = A,
              onBlur: (A) => t3.onInput(R.row),
              onChangeType: (A) => t3.onInput(R.row)
            }, null, 8, ["size", "modelValue", "onUpdate:modelValue", "onBlur", "onChangeType"])) : (openBlock(), createBlock(d, {
              key: 1,
              size: t3.size || "small",
              modelValue: R.row[g.key] || "",
              "onUpdate:modelValue": (A) => R.row[g.key] = A,
              onBlur: (A) => t3.onInput(R.row)
            }, null, 8, ["size", "modelValue", "onUpdate:modelValue", "onBlur"]))
          ]),
          _: 2
        }, 1032, ["label"]))), 128)),
        createVNode(c, {
          width: "45",
          align: "center",
          fixed: "right"
        }, {
          default: withCtx((g) => [
            createBaseVNode("i", {
              class: "fc-icon icon-delete",
              onClick: (w) => t3.del(g.$index)
            }, null, 8, MA)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["data", "size"]),
    createBaseVNode("div", PA, [
      !t3.max || t3.max > t3.value.length ? (openBlock(), createBlock(m, {
        key: 0,
        link: "",
        type: "primary",
        onClick: t3.add
      }, {
        default: withCtx(() => [
          r[0] || (r[0] = createBaseVNode("i", { class: "fc-icon icon-add" }, null, -1)),
          createTextVNode(" " + toDisplayString(t3.t("tableOptions.add")), 1)
        ]),
        _: 1,
        __: [0]
      }, 8, ["onClick"])) : createCommentVNode("", true)
    ])
  ]);
}
var Kp = nt(DA, [["render", NA], ["__scopeId", "data-v-27bd6a26"]]);
var LA = defineComponent({
  name: "TreeOptions",
  emits: ["update:modelValue"],
  components: {
    ValueInput: _u
  },
  props: {
    modelValue: Array,
    columns: Object
  },
  inject: ["designer"],
  data() {
    return {
      value: [...Ft(this.modelValue || [])]
    };
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    },
    overColumns() {
      return this.columns ? {
        label: this.columns.label || "label",
        value: this.columns.value || "value"
      } : {
        label: "label",
        value: "value"
      };
    }
  },
  created() {
    this.value.length || (this.value = [{}]);
  },
  methods: {
    tidyValue() {
      return Ft(this.value);
    },
    change() {
      this.$emit("update:modelValue", this.tidyValue());
    },
    add(t3) {
      const r = t3.parent;
      (r.data.children || r.data).push({});
    },
    append(t3) {
      t3.children || (t3.children = []), t3.children.push({});
    },
    remove(t3, r) {
      const a = t3.parent;
      a.data.children ? (a.data.children.splice(a.data.children.indexOf(r), 1), a.data.children.length || delete a.data.children) : a.data.splice(a.data.indexOf(r), 1), this.change();
    }
  }
});
var FA = { class: "_fd-tree-opt" };
var kA = { class: "_fd-tree-opt-node" };
var BA = ["onClick"];
var $A = ["onClick"];
var HA = ["onClick"];
function VA(t3, r, a, o, n, l) {
  const f = resolveComponent("el-input"), d = resolveComponent("ValueInput"), c = resolveComponent("el-tree");
  return openBlock(), createElementBlock("div", FA, [
    createVNode(c, {
      data: t3.value,
      "node-key": "index",
      "expand-on-click-node": false
    }, {
      default: withCtx(({ node: h2, data: m }) => [
        createBaseVNode("div", kA, [
          createVNode(f, {
            class: "_fd-tree-opt-first",
            modelValue: m[t3.overColumns.label],
            "onUpdate:modelValue": (g) => m[t3.overColumns.label] = g,
            onBlur: t3.change
          }, null, 8, ["modelValue", "onUpdate:modelValue", "onBlur"]),
          createVNode(d, {
            class: "_fd-tree-opt-last",
            modelValue: m[t3.overColumns.value],
            "onUpdate:modelValue": (g) => m[t3.overColumns.value] = g,
            onBlur: t3.change,
            onChangeType: t3.change
          }, {
            append: withCtx(() => [
              createBaseVNode("div", {
                class: "_fd-tree-opt-btn",
                onClick: (g) => t3.add(h2, m)
              }, r[0] || (r[0] = [
                createBaseVNode("i", { class: "fc-icon icon-add" }, null, -1)
              ]), 8, BA),
              createBaseVNode("div", {
                class: "_fd-tree-opt-btn",
                onClick: (g) => t3.append(m)
              }, r[1] || (r[1] = [
                createBaseVNode("i", { class: "fc-icon icon-add-child" }, null, -1)
              ]), 8, $A),
              createBaseVNode("div", {
                class: "_fd-tree-opt-btn _fd-tree-opt-danger",
                onClick: (g) => t3.remove(h2, m)
              }, r[2] || (r[2] = [
                createBaseVNode("i", { class: "fc-icon icon-delete" }, null, -1)
              ]), 8, HA)
            ]),
            _: 2
          }, 1032, ["modelValue", "onUpdate:modelValue", "onBlur", "onChangeType"])
        ])
      ]),
      _: 1
    }, 8, ["data"])
  ]);
}
var jA = nt(LA, [["render", VA]]);
var zA = defineComponent({
  name: "TableFormView",
  data() {
    return {};
  }
});
var UA = { class: "_fd-table-form" };
var WA = {
  key: 0,
  class: "_fd-tf-wrap"
};
var KA = {
  key: 1,
  class: "_fc-child-empty"
};
function GA(t3, r, a, o, n, l) {
  return openBlock(), createElementBlock("div", UA, [
    t3.$slots.default ? (openBlock(), createElementBlock("div", WA, [
      renderSlot(t3.$slots, "default")
    ])) : (openBlock(), createElementBlock("div", KA))
  ]);
}
var QA = nt(zA, [["render", GA]]);
var YA = {
  name: "TableForm",
  emits: ["change", "add", "delete", "update:modelValue"],
  props: {
    formCreateInject: Object,
    modelValue: {
      type: Array,
      default: () => []
    },
    columns: {
      type: Array,
      required: true,
      default: () => []
    },
    filterEmptyColumn: {
      type: Boolean,
      default: true
    },
    deletable: {
      type: Boolean,
      default: true
    },
    addable: {
      type: Boolean,
      default: true
    },
    options: {
      type: Object,
      default: () => reactive({
        submitBtn: false,
        resetBtn: false
      })
    },
    max: Number,
    min: Number,
    disabled: Boolean
  },
  watch: {
    modelValue: {
      handler() {
        this.updateTable();
      },
      deep: true
    },
    "formCreateInject.preview": function(t3) {
      this.emptyRule.children[0].props.colspan = this.columns.length + (t3 ? 1 : 2);
    }
  },
  data() {
    return {
      rule: [],
      trs: [],
      fapi: {},
      Form: markRaw(this.formCreateInject.form.$form()),
      copyTrs: "",
      oldValue: "",
      emptyRule: {
        type: "tr",
        _isEmpty: true,
        native: true,
        subRule: true,
        children: [
          {
            type: "td",
            style: {
              textAlign: "center"
            },
            native: true,
            subRule: true,
            props: {
              colspan: this.columns.length + (this.formCreateInject.preview ? 1 : 2)
            },
            children: [this.formCreateInject.t("dataEmpty") || "暂无数据"]
          }
        ]
      }
    };
  },
  methods: {
    formChange() {
      this.updateValue();
    },
    updateValue() {
      const t3 = this.trs.map((a, o) => ({
        ...this.modelValue[o] || {},
        ...this.fapi.getChildrenFormData(a)
      })).filter((a) => {
        if (!this.filterEmptyColumn)
          return true;
        if (a == null)
          return false;
        let o = false;
        return Object.keys(a).forEach((n) => {
          o = o || a[n] !== void 0 && a[n] !== "" && a[n] !== null;
        }), o;
      }), r = JSON.stringify(t3);
      r !== this.oldValue && (this.oldValue = r, this.$emit("update:modelValue", t3), this.$emit("change", t3));
    },
    setRawData(t3, r) {
      const a = this.trs[t3];
      this.fapi.setChildrenFormData(a, r, true);
    },
    updateTable() {
      const t3 = JSON.stringify(this.modelValue);
      this.oldValue !== t3 && (this.oldValue = t3, this.trs = this.trs.splice(0, this.modelValue.length), this.modelValue.length ? this.clearEmpty() : this.addEmpty(), this.modelValue.forEach((r, a) => {
        this.trs[a] || this.addRaw(), this.setRawData(a, r || {});
      }), this.rule[0].children[1].children = this.trs);
    },
    addEmpty() {
      this.trs.length && this.trs.splice(0, this.trs.length), this.trs.push(this.emptyRule);
    },
    clearEmpty() {
      this.trs[0] && this.trs[0]._isEmpty && this.trs.splice(0, 1);
    },
    delRaw(t3) {
      this.disabled || !this.deletable || this.min > 0 && this.trs.length <= this.min || (this.trs.splice(t3, 1), this.updateValue(), this.trs.length ? this.trs.forEach((r) => this.updateRaw(r)) : this.addEmpty(), this.$emit("delete", t3));
    },
    addRaw(t3) {
      if (t3 && this.disabled)
        return;
      const r = this.formCreateInject.form.parseJson(this.copyTrs)[0];
      this.trs.length === 1 && this.trs[0]._isEmpty && this.trs.splice(0, 1), this.trs.push(r), this.updateRaw(r), t3 && (this.$emit("add", this.trs.length), this.updateValue());
    },
    updateRaw(t3) {
      const r = this.trs.indexOf(t3);
      t3.children[0].props.innerText = r + 1, t3.children[t3.children.length - 1].children[0].props.onClick = () => {
        this.delRaw(r);
      };
    },
    loadRule() {
      const t3 = [{
        type: "th",
        native: true,
        class: "_fc-tf-head-idx",
        props: {
          innerText: "#"
        }
      }];
      let r = [{
        type: "td",
        class: "_fc-tf-idx",
        native: true,
        props: {
          innerText: "0"
        }
      }];
      this.columns.forEach((a) => {
        t3.push({
          type: "th",
          native: true,
          style: { ...a.style || {}, textAlign: a.align || "center" },
          class: a.required ? "_fc-tf-head-required" : "",
          props: {
            innerText: a.label || ""
          }
        }), r.push({
          type: "td",
          native: true,
          children: [...a.rule || []]
        });
      }), t3.push({
        type: "th",
        native: true,
        class: "_fc-tf-edit fc-clock",
        props: {
          innerText: this.formCreateInject.t("operation") || "操作"
        }
      }), r.push({
        type: "td",
        native: true,
        class: "_fc-tf-btn fc-clock",
        children: [
          {
            type: "i",
            native: true,
            class: "fc-icon icon-delete",
            props: {}
          }
        ]
      }), this.copyTrs = this.formCreateInject.form.toJson([
        {
          type: "tr",
          native: true,
          subRule: true,
          children: r
        }
      ]), this.rule = [
        {
          type: "table",
          native: true,
          class: "_fc-tf-table",
          props: {
            border: "1",
            cellspacing: "0",
            cellpadding: "0"
          },
          children: [
            {
              type: "thead",
              native: true,
              children: [
                {
                  type: "tr",
                  native: true,
                  children: t3
                }
              ]
            },
            {
              type: "tbody",
              native: true,
              children: this.trs
            }
          ]
        }
      ];
    }
  },
  created() {
    this.loadRule();
  },
  mounted() {
    this.updateTable();
  }
};
function XA(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button");
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["_fc-table-form", { "_fc-disabled": a.disabled }])
  }, [
    (openBlock(), createBlock(resolveDynamicComponent(n.Form), {
      option: a.options,
      rule: n.rule,
      extendOption: true,
      disabled: a.disabled,
      onChange: l.formChange,
      api: n.fapi,
      "onUpdate:api": r[0] || (r[0] = (d) => n.fapi = d),
      onEmitEvent: t3.$emit
    }, null, 40, ["option", "rule", "disabled", "onChange", "api", "onEmitEvent"])),
    a.addable && (!a.max || a.max > this.trs.length) ? (openBlock(), createBlock(f, {
      key: 0,
      link: "",
      type: "primary",
      class: "fc-clock",
      onClick: r[1] || (r[1] = (d) => l.addRaw(true))
    }, {
      default: withCtx(() => [
        r[2] || (r[2] = createBaseVNode("i", {
          class: "fc-icon icon-add-circle",
          style: { "font-weight": "700" }
        }, null, -1)),
        createTextVNode(" " + toDisplayString(a.formCreateInject.t("add") || "添加"), 1)
      ]),
      _: 1,
      __: [2]
    })) : createCommentVNode("", true)
  ], 2);
}
var JA = nt(YA, [["render", XA]]);
var Ka = class {
  constructor(r, a, o, n) {
    if (isNaN(r) || isNaN(a))
      throw new Error(`Point is invalid: (${r}, ${a})`);
    this.x = +r, this.y = +a, this.pressure = o || 0, this.time = n || Date.now();
  }
  distanceTo(r) {
    return Math.sqrt(Math.pow(this.x - r.x, 2) + Math.pow(this.y - r.y, 2));
  }
  equals(r) {
    return this.x === r.x && this.y === r.y && this.pressure === r.pressure && this.time === r.time;
  }
  velocityFrom(r) {
    return this.time !== r.time ? this.distanceTo(r) / (this.time - r.time) : 0;
  }
};
var Ru = class _Ru {
  static fromPoints(r, a) {
    const o = this.calculateControlPoints(r[0], r[1], r[2]).c2, n = this.calculateControlPoints(r[1], r[2], r[3]).c1;
    return new _Ru(r[1], o, n, r[2], a.start, a.end);
  }
  static calculateControlPoints(r, a, o) {
    const n = r.x - a.x, l = r.y - a.y, f = a.x - o.x, d = a.y - o.y, c = { x: (r.x + a.x) / 2, y: (r.y + a.y) / 2 }, h2 = { x: (a.x + o.x) / 2, y: (a.y + o.y) / 2 }, m = Math.sqrt(n * n + l * l), g = Math.sqrt(f * f + d * d), w = c.x - h2.x, R = c.y - h2.y, A = m + g == 0 ? 0 : g / (m + g), E = { x: h2.x + w * A, y: h2.y + R * A }, b = a.x - E.x, v = a.y - E.y;
    return {
      c1: new Ka(c.x + b, c.y + v),
      c2: new Ka(h2.x + b, h2.y + v)
    };
  }
  constructor(r, a, o, n, l, f) {
    this.startPoint = r, this.control2 = a, this.control1 = o, this.endPoint = n, this.startWidth = l, this.endWidth = f;
  }
  length() {
    let a = 0, o, n;
    for (let l = 0; l <= 10; l += 1) {
      const f = l / 10, d = this.point(f, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x), c = this.point(f, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);
      if (l > 0) {
        const h2 = d - o, m = c - n;
        a += Math.sqrt(h2 * h2 + m * m);
      }
      o = d, n = c;
    }
    return a;
  }
  point(r, a, o, n, l) {
    return a * (1 - r) * (1 - r) * (1 - r) + 3 * o * (1 - r) * (1 - r) * r + 3 * n * (1 - r) * r * r + l * r * r * r;
  }
};
var ZA = class {
  constructor() {
    try {
      this._et = new EventTarget();
    } catch {
      this._et = document;
    }
  }
  addEventListener(r, a, o) {
    this._et.addEventListener(r, a, o);
  }
  dispatchEvent(r) {
    return this._et.dispatchEvent(r);
  }
  removeEventListener(r, a, o) {
    this._et.removeEventListener(r, a, o);
  }
};
function qA(t3, r = 250) {
  let a = 0, o = null, n, l, f;
  const d = () => {
    a = Date.now(), o = null, n = t3.apply(l, f), o || (l = null, f = []);
  };
  return function(...h2) {
    const m = Date.now(), g = r - (m - a);
    return l = this, f = h2, g <= 0 || g > r ? (o && (clearTimeout(o), o = null), a = m, n = t3.apply(l, f), o || (l = null, f = [])) : o || (o = window.setTimeout(d, g)), n;
  };
}
var Ga = class _Ga extends ZA {
  constructor(r, a = {}) {
    var o, n, l;
    super(), this.canvas = r, this._drawingStroke = false, this._isEmpty = true, this._lastPoints = [], this._data = [], this._lastVelocity = 0, this._lastWidth = 0, this.velocityFilterWeight = a.velocityFilterWeight || 0.7, this.minWidth = a.minWidth || 0.5, this.maxWidth = a.maxWidth || 2.5, this.throttle = (o = a.throttle) !== null && o !== void 0 ? o : 16, this.minDistance = (n = a.minDistance) !== null && n !== void 0 ? n : 5, this.dotSize = a.dotSize || 0, this.penColor = a.penColor || "black", this.backgroundColor = a.backgroundColor || "rgba(0,0,0,0)", this.compositeOperation = a.compositeOperation || "source-over", this.canvasContextOptions = (l = a.canvasContextOptions) !== null && l !== void 0 ? l : {}, this._strokeMoveUpdate = this.throttle ? qA(_Ga.prototype._strokeUpdate, this.throttle) : _Ga.prototype._strokeUpdate, this._handleMouseDown = this._handleMouseDown.bind(this), this._handleMouseMove = this._handleMouseMove.bind(this), this._handleMouseUp = this._handleMouseUp.bind(this), this._handleTouchStart = this._handleTouchStart.bind(this), this._handleTouchMove = this._handleTouchMove.bind(this), this._handleTouchEnd = this._handleTouchEnd.bind(this), this._handlePointerDown = this._handlePointerDown.bind(this), this._handlePointerMove = this._handlePointerMove.bind(this), this._handlePointerUp = this._handlePointerUp.bind(this), this._ctx = r.getContext("2d", this.canvasContextOptions), this.clear(), this.on();
  }
  clear() {
    const { _ctx: r, canvas: a } = this;
    r.fillStyle = this.backgroundColor, r.clearRect(0, 0, a.width, a.height), r.fillRect(0, 0, a.width, a.height), this._data = [], this._reset(this._getPointGroupOptions()), this._isEmpty = true, this._strokePointerId = void 0;
  }
  fromDataURL(r, a = {}) {
    return new Promise((o, n) => {
      const l = new Image(), f = a.ratio || window.devicePixelRatio || 1, d = a.width || this.canvas.width / f, c = a.height || this.canvas.height / f, h2 = a.xOffset || 0, m = a.yOffset || 0;
      this._reset(this._getPointGroupOptions()), l.onload = () => {
        this._ctx.drawImage(l, h2, m, d, c), o();
      }, l.onerror = (g) => {
        n(g);
      }, l.crossOrigin = "anonymous", l.src = r, this._isEmpty = false;
    });
  }
  toDataURL(r = "image/png", a) {
    switch (r) {
      case "image/svg+xml":
        return typeof a != "object" && (a = void 0), `data:image/svg+xml;base64,${btoa(this.toSVG(a))}`;
      default:
        return typeof a != "number" && (a = void 0), this.canvas.toDataURL(r, a);
    }
  }
  on() {
    this.canvas.style.touchAction = "none", this.canvas.style.msTouchAction = "none", this.canvas.style.userSelect = "none";
    const r = /Macintosh/.test(navigator.userAgent) && "ontouchstart" in document;
    window.PointerEvent && !r ? this._handlePointerEvents() : (this._handleMouseEvents(), "ontouchstart" in window && this._handleTouchEvents());
  }
  off() {
    this.canvas.style.touchAction = "auto", this.canvas.style.msTouchAction = "auto", this.canvas.style.userSelect = "auto", this.canvas.removeEventListener("pointerdown", this._handlePointerDown), this.canvas.removeEventListener("mousedown", this._handleMouseDown), this.canvas.removeEventListener("touchstart", this._handleTouchStart), this._removeMoveUpEventListeners();
  }
  _getListenerFunctions() {
    var r;
    const a = window.document === this.canvas.ownerDocument ? window : (r = this.canvas.ownerDocument.defaultView) !== null && r !== void 0 ? r : this.canvas.ownerDocument;
    return {
      addEventListener: a.addEventListener.bind(a),
      removeEventListener: a.removeEventListener.bind(a)
    };
  }
  _removeMoveUpEventListeners() {
    const { removeEventListener: r } = this._getListenerFunctions();
    r("pointermove", this._handlePointerMove), r("pointerup", this._handlePointerUp), r("mousemove", this._handleMouseMove), r("mouseup", this._handleMouseUp), r("touchmove", this._handleTouchMove), r("touchend", this._handleTouchEnd);
  }
  isEmpty() {
    return this._isEmpty;
  }
  fromData(r, { clear: a = true } = {}) {
    a && this.clear(), this._fromData(r, this._drawCurve.bind(this), this._drawDot.bind(this)), this._data = this._data.concat(r);
  }
  toData() {
    return this._data;
  }
  _isLeftButtonPressed(r, a) {
    return a ? r.buttons === 1 : (r.buttons & 1) === 1;
  }
  _pointerEventToSignatureEvent(r) {
    return {
      event: r,
      type: r.type,
      x: r.clientX,
      y: r.clientY,
      pressure: "pressure" in r ? r.pressure : 0
    };
  }
  _touchEventToSignatureEvent(r) {
    const a = r.changedTouches[0];
    return {
      event: r,
      type: r.type,
      x: a.clientX,
      y: a.clientY,
      pressure: a.force
    };
  }
  _handleMouseDown(r) {
    !this._isLeftButtonPressed(r, true) || this._drawingStroke || this._strokeBegin(this._pointerEventToSignatureEvent(r));
  }
  _handleMouseMove(r) {
    if (!this._isLeftButtonPressed(r, true) || !this._drawingStroke) {
      this._strokeEnd(this._pointerEventToSignatureEvent(r), false);
      return;
    }
    this._strokeMoveUpdate(this._pointerEventToSignatureEvent(r));
  }
  _handleMouseUp(r) {
    this._isLeftButtonPressed(r) || this._strokeEnd(this._pointerEventToSignatureEvent(r));
  }
  _handleTouchStart(r) {
    r.targetTouches.length !== 1 || this._drawingStroke || (r.cancelable && r.preventDefault(), this._strokeBegin(this._touchEventToSignatureEvent(r)));
  }
  _handleTouchMove(r) {
    if (r.targetTouches.length === 1) {
      if (r.cancelable && r.preventDefault(), !this._drawingStroke) {
        this._strokeEnd(this._touchEventToSignatureEvent(r), false);
        return;
      }
      this._strokeMoveUpdate(this._touchEventToSignatureEvent(r));
    }
  }
  _handleTouchEnd(r) {
    r.targetTouches.length === 0 && (r.cancelable && r.preventDefault(), this._strokeEnd(this._touchEventToSignatureEvent(r)));
  }
  _getPointerId(r) {
    return r.persistentDeviceId || r.pointerId;
  }
  _allowPointerId(r, a = false) {
    return typeof this._strokePointerId > "u" ? a : this._getPointerId(r) === this._strokePointerId;
  }
  _handlePointerDown(r) {
    this._drawingStroke || !this._isLeftButtonPressed(r) || !this._allowPointerId(r, true) || (this._strokePointerId = this._getPointerId(r), r.preventDefault(), this._strokeBegin(this._pointerEventToSignatureEvent(r)));
  }
  _handlePointerMove(r) {
    if (!!this._allowPointerId(r)) {
      if (!this._isLeftButtonPressed(r, true) || !this._drawingStroke) {
        this._strokeEnd(this._pointerEventToSignatureEvent(r), false);
        return;
      }
      r.preventDefault(), this._strokeMoveUpdate(this._pointerEventToSignatureEvent(r));
    }
  }
  _handlePointerUp(r) {
    this._isLeftButtonPressed(r) || !this._allowPointerId(r) || (r.preventDefault(), this._strokeEnd(this._pointerEventToSignatureEvent(r)));
  }
  _getPointGroupOptions(r) {
    return {
      penColor: r && "penColor" in r ? r.penColor : this.penColor,
      dotSize: r && "dotSize" in r ? r.dotSize : this.dotSize,
      minWidth: r && "minWidth" in r ? r.minWidth : this.minWidth,
      maxWidth: r && "maxWidth" in r ? r.maxWidth : this.maxWidth,
      velocityFilterWeight: r && "velocityFilterWeight" in r ? r.velocityFilterWeight : this.velocityFilterWeight,
      compositeOperation: r && "compositeOperation" in r ? r.compositeOperation : this.compositeOperation
    };
  }
  _strokeBegin(r) {
    if (!this.dispatchEvent(new CustomEvent("beginStroke", { detail: r, cancelable: true })))
      return;
    const { addEventListener: o } = this._getListenerFunctions();
    switch (r.event.type) {
      case "mousedown":
        o("mousemove", this._handleMouseMove, {
          passive: false
        }), o("mouseup", this._handleMouseUp, { passive: false });
        break;
      case "touchstart":
        o("touchmove", this._handleTouchMove, {
          passive: false
        }), o("touchend", this._handleTouchEnd, { passive: false });
        break;
      case "pointerdown":
        o("pointermove", this._handlePointerMove, {
          passive: false
        }), o("pointerup", this._handlePointerUp, {
          passive: false
        });
        break;
    }
    this._drawingStroke = true;
    const n = this._getPointGroupOptions(), l = Object.assign(Object.assign({}, n), { points: [] });
    this._data.push(l), this._reset(n), this._strokeUpdate(r);
  }
  _strokeUpdate(r) {
    if (!this._drawingStroke)
      return;
    if (this._data.length === 0) {
      this._strokeBegin(r);
      return;
    }
    this.dispatchEvent(new CustomEvent("beforeUpdateStroke", { detail: r }));
    const a = this._createPoint(r.x, r.y, r.pressure), o = this._data[this._data.length - 1], n = o.points, l = n.length > 0 && n[n.length - 1], f = l ? a.distanceTo(l) <= this.minDistance : false, d = this._getPointGroupOptions(o);
    if (!l || !(l && f)) {
      const c = this._addPoint(a, d);
      l ? c && this._drawCurve(c, d) : this._drawDot(a, d), n.push({
        time: a.time,
        x: a.x,
        y: a.y,
        pressure: a.pressure
      });
    }
    this.dispatchEvent(new CustomEvent("afterUpdateStroke", { detail: r }));
  }
  _strokeEnd(r, a = true) {
    this._removeMoveUpEventListeners(), this._drawingStroke && (a && this._strokeUpdate(r), this._drawingStroke = false, this._strokePointerId = void 0, this.dispatchEvent(new CustomEvent("endStroke", { detail: r })));
  }
  _handlePointerEvents() {
    this._drawingStroke = false, this.canvas.addEventListener("pointerdown", this._handlePointerDown, {
      passive: false
    });
  }
  _handleMouseEvents() {
    this._drawingStroke = false, this.canvas.addEventListener("mousedown", this._handleMouseDown, {
      passive: false
    });
  }
  _handleTouchEvents() {
    this.canvas.addEventListener("touchstart", this._handleTouchStart, {
      passive: false
    });
  }
  _reset(r) {
    this._lastPoints = [], this._lastVelocity = 0, this._lastWidth = (r.minWidth + r.maxWidth) / 2, this._ctx.fillStyle = r.penColor, this._ctx.globalCompositeOperation = r.compositeOperation;
  }
  _createPoint(r, a, o) {
    const n = this.canvas.getBoundingClientRect();
    return new Ka(r - n.left, a - n.top, o, (/* @__PURE__ */ new Date()).getTime());
  }
  _addPoint(r, a) {
    const { _lastPoints: o } = this;
    if (o.push(r), o.length > 2) {
      o.length === 3 && o.unshift(o[0]);
      const n = this._calculateCurveWidths(o[1], o[2], a), l = Ru.fromPoints(o, n);
      return o.shift(), l;
    }
    return null;
  }
  _calculateCurveWidths(r, a, o) {
    const n = o.velocityFilterWeight * a.velocityFrom(r) + (1 - o.velocityFilterWeight) * this._lastVelocity, l = this._strokeWidth(n, o), f = {
      end: l,
      start: this._lastWidth
    };
    return this._lastVelocity = n, this._lastWidth = l, f;
  }
  _strokeWidth(r, a) {
    return Math.max(a.maxWidth / (r + 1), a.minWidth);
  }
  _drawCurveSegment(r, a, o) {
    const n = this._ctx;
    n.moveTo(r, a), n.arc(r, a, o, 0, 2 * Math.PI, false), this._isEmpty = false;
  }
  _drawCurve(r, a) {
    const o = this._ctx, n = r.endWidth - r.startWidth, l = Math.ceil(r.length()) * 2;
    o.beginPath(), o.fillStyle = a.penColor;
    for (let f = 0; f < l; f += 1) {
      const d = f / l, c = d * d, h2 = c * d, m = 1 - d, g = m * m, w = g * m;
      let R = w * r.startPoint.x;
      R += 3 * g * d * r.control1.x, R += 3 * m * c * r.control2.x, R += h2 * r.endPoint.x;
      let A = w * r.startPoint.y;
      A += 3 * g * d * r.control1.y, A += 3 * m * c * r.control2.y, A += h2 * r.endPoint.y;
      const E = Math.min(r.startWidth + h2 * n, a.maxWidth);
      this._drawCurveSegment(R, A, E);
    }
    o.closePath(), o.fill();
  }
  _drawDot(r, a) {
    const o = this._ctx, n = a.dotSize > 0 ? a.dotSize : (a.minWidth + a.maxWidth) / 2;
    o.beginPath(), this._drawCurveSegment(r.x, r.y, n), o.closePath(), o.fillStyle = a.penColor, o.fill();
  }
  _fromData(r, a, o) {
    for (const n of r) {
      const { points: l } = n, f = this._getPointGroupOptions(n);
      if (l.length > 1)
        for (let d = 0; d < l.length; d += 1) {
          const c = l[d], h2 = new Ka(c.x, c.y, c.pressure, c.time);
          d === 0 && this._reset(f);
          const m = this._addPoint(h2, f);
          m && a(m, f);
        }
      else
        this._reset(f), o(l[0], f);
    }
  }
  toSVG({ includeBackgroundColor: r = false } = {}) {
    const a = this._data, o = Math.max(window.devicePixelRatio || 1, 1), n = 0, l = 0, f = this.canvas.width / o, d = this.canvas.height / o, c = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    if (c.setAttribute("xmlns", "http://www.w3.org/2000/svg"), c.setAttribute("xmlns:xlink", "http://www.w3.org/1999/xlink"), c.setAttribute("viewBox", `${n} ${l} ${f} ${d}`), c.setAttribute("width", f.toString()), c.setAttribute("height", d.toString()), r && this.backgroundColor) {
      const h2 = document.createElement("rect");
      h2.setAttribute("width", "100%"), h2.setAttribute("height", "100%"), h2.setAttribute("fill", this.backgroundColor), c.appendChild(h2);
    }
    return this._fromData(a, (h2, { penColor: m }) => {
      const g = document.createElement("path");
      if (!isNaN(h2.control1.x) && !isNaN(h2.control1.y) && !isNaN(h2.control2.x) && !isNaN(h2.control2.y)) {
        const w = `M ${h2.startPoint.x.toFixed(3)},${h2.startPoint.y.toFixed(3)} C ${h2.control1.x.toFixed(3)},${h2.control1.y.toFixed(3)} ${h2.control2.x.toFixed(3)},${h2.control2.y.toFixed(3)} ${h2.endPoint.x.toFixed(3)},${h2.endPoint.y.toFixed(3)}`;
        g.setAttribute("d", w), g.setAttribute("stroke-width", (h2.endWidth * 2.25).toFixed(3)), g.setAttribute("stroke", m), g.setAttribute("fill", "none"), g.setAttribute("stroke-linecap", "round"), c.appendChild(g);
      }
    }, (h2, { penColor: m, dotSize: g, minWidth: w, maxWidth: R }) => {
      const A = document.createElement("circle"), E = g > 0 ? g : (w + R) / 2;
      A.setAttribute("r", E.toString()), A.setAttribute("cx", h2.x.toString()), A.setAttribute("cy", h2.y.toString()), A.setAttribute("fill", m), c.appendChild(A);
    }), c.outerHTML;
  }
};
var ew = defineComponent({
  name: "SignaturePad",
  emits: ["update:modelValue", "change", "remove"],
  data() {
    return {
      visible: false,
      isEmpty: true,
      signaturePad: null
    };
  },
  props: {
    modelValue: String,
    penColor: String,
    disabled: Boolean,
    formCreateInject: Object
  },
  watch: {
    visible(t3) {
      t3 ? (this.isEmpty = true, this.$nextTick(() => {
        this.signaturePad = markRaw(new Ga(this.$refs.pad, {
          penColor: this.penColor
        })), this.signaturePad.addEventListener("endStroke", () => {
          this.isEmpty = this.signaturePad.isEmpty();
        });
      })) : (this.signaturePad.off(), this.signaturePad = null);
    }
  },
  methods: {
    open() {
      this.disabled || (this.visible = true);
    },
    clear() {
      this.signaturePad.clear(), this.isEmpty = true;
    },
    submit() {
      const t3 = this.signaturePad.toDataURL();
      this.updateValue(t3), this.visible = false;
    },
    updateValue(t3) {
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    },
    remove() {
      this.disabled || (this.updateValue(""), this.$emit("remove"));
    }
  }
});
var tw = {
  key: 0,
  class: "_fc-signature-preview"
};
var nw = ["src"];
var iw = {
  class: "_fc-signature-pad",
  ref: "pad",
  width: "600px",
  height: "270px"
};
function rw(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-dialog");
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["_fc-signature", { disabled: t3.disabled }])
  }, [
    t3.modelValue ? (openBlock(), createElementBlock("div", tw, [
      t3.disabled ? createCommentVNode("", true) : (openBlock(), createElementBlock("i", {
        key: 0,
        class: "fc-icon icon-delete2",
        onClick: r[0] || (r[0] = (...c) => t3.remove && t3.remove(...c))
      })),
      createBaseVNode("img", {
        src: t3.modelValue,
        alt: "signature"
      }, null, 8, nw)
    ])) : (openBlock(), createElementBlock("div", {
      key: 1,
      class: "_fc-signature-btn",
      onClick: r[1] || (r[1] = (...c) => t3.open && t3.open(...c))
    }, [
      r[4] || (r[4] = createBaseVNode("i", { class: "fc-icon icon-edit2" }, null, -1)),
      createTextVNode(" " + toDisplayString(t3.formCreateInject.t("signaturePadTip") || "点击添加手写签名"), 1)
    ])),
    createVNode(d, {
      class: "_fc-signature-dialog",
      title: t3.formCreateInject.t("signaturePadTitle") || "请在虚线框内书写",
      modelValue: t3.visible,
      "onUpdate:modelValue": r[3] || (r[3] = (c) => t3.visible = c),
      "destroy-on-close": "",
      "close-on-click-modal": false,
      "append-to-body": "",
      width: "640px"
    }, {
      footer: withCtx(() => [
        createBaseVNode("div", null, [
          createVNode(f, {
            size: "default",
            onClick: r[2] || (r[2] = (c) => t3.clear())
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.formCreateInject.t("reset") || "重置"), 1)
            ]),
            _: 1
          }),
          createVNode(f, {
            type: "primary",
            disabled: t3.isEmpty,
            onClick: t3.submit,
            size: "default"
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.formCreateInject.t("ok") || "确定"), 1)
            ]),
            _: 1
          }, 8, ["disabled", "onClick"])
        ])
      ]),
      default: withCtx(() => [
        createBaseVNode("canvas", iw, null, 512)
      ]),
      _: 1
    }, 8, ["title", "modelValue"])
  ], 2);
}
var ow = nt(ew, [["render", rw]]);
var aw = defineComponent({
  name: "FcTitle",
  data() {
    return {};
  },
  props: {
    title: String,
    size: String,
    align: String
  },
  computed: {
    textStyle() {
      return {
        textAlign: this.align || "left"
      };
    }
  }
});
function lw(t3, r, a, o, n, l) {
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["_fc-title", t3.size || "h2"]),
    style: normalizeStyle(t3.textStyle)
  }, toDisplayString(t3.title), 7);
}
var sw = nt(aw, [["render", lw]]);
var uw = defineComponent({
  name: "TableFormColumnView",
  props: {
    label: String,
    align: String,
    width: [Number, String],
    color: String,
    required: Boolean
  },
  computed: {
    colStyle() {
      const t3 = this.width, r = { width: ut.Number(t3) ? `${t3}px` : !t3 || t3 === "auto" ? "180px" : t3 };
      return this.color && (r.color = this.color), r;
    }
  },
  data() {
    return {};
  }
});
var fw = {
  key: 0,
  class: "_fd-tf-required"
};
var dw = { class: "_fd-tf-con" };
function cw(t3, r, a, o, n, l) {
  return openBlock(), createElementBlock("div", {
    class: "_fd-tf-col",
    style: normalizeStyle(t3.colStyle)
  }, [
    createBaseVNode("div", {
      class: "_fd-tf-title",
      style: normalizeStyle({ textAlign: t3.align || "center" })
    }, [
      t3.required ? (openBlock(), createElementBlock("span", fw, "*")) : createCommentVNode("", true),
      createTextVNode(toDisplayString(t3.label || ""), 1)
    ], 4),
    createBaseVNode("div", dw, [
      renderSlot(t3.$slots, "default")
    ])
  ], 4);
}
var pw = nt(uw, [["render", cw]]);
var hw = defineComponent({
  name: "SizeInput",
  inject: ["designer"],
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: String,
    size: String,
    unit: {
      type: Array,
      default: () => ["auto", "px", "%", "vh", "vw", "em", "rem"]
    },
    defaultUnit: {
      type: String,
      default: "px"
    }
  },
  watch: {
    modelValue() {
      this.parseValue();
    }
  },
  data() {
    return {
      idx: 1,
      num: 0,
      oldValue: this.modelValue || ""
    };
  },
  methods: {
    parseValue() {
      this.modelValue !== "auto" ? (this.idx = Math.max(this.unit.indexOf(this.defaultUnit), 0), this.unit.forEach((t3, r) => {
        (this.modelValue || "").indexOf(t3) > -1 && (this.idx = r);
      }), this.num = pi(this.modelValue) ? null : parseFloat(this.modelValue || 0)) : (this.idx = 0, this.num = 0);
    },
    submit() {
      this.oldValue = pi(this.num) ? "" : "" + this.num + this.unit[this.idx], this.$emit("update:modelValue", this.oldValue), this.$emit("change", this.oldValue);
    },
    changeType(t3) {
      if (t3 !== void 0) {
        if (this.idx === t3)
          return;
        this.idx = t3;
      } else
        this.idx++, this.idx > 4 && (this.idx = 0);
      this.unit[this.idx] === "auto" ? (this.oldValue = "auto", this.$emit("update:modelValue", "auto"), this.$emit("change", "auto")) : this.submit();
    }
  },
  created() {
    this.parseValue();
  }
});
var vw = { class: "_fd-size-input" };
function mw(t3, r, a, o, n, l) {
  const f = resolveComponent("el-button"), d = resolveComponent("el-inputNumber"), c = resolveComponent("el-dropdown-item"), h2 = resolveComponent("el-dropdown-menu"), m = resolveComponent("el-dropdown");
  return openBlock(), createElementBlock("div", vw, [
    t3.unit[t3.idx] === "auto" ? (openBlock(), createBlock(f, {
      key: 0,
      size: t3.size,
      style: { width: "150px" },
      onClick: r[0] || (r[0] = (g) => t3.changeType())
    }, {
      default: withCtx(() => [
        createTextVNode(toDisplayString(t3.unit[t3.idx]), 1)
      ]),
      _: 1
    }, 8, ["size"])) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
      createVNode(d, {
        size: t3.size,
        modelValue: t3.num,
        "onUpdate:modelValue": r[1] || (r[1] = (g) => t3.num = g),
        onChange: t3.submit,
        "controls-position": "right"
      }, null, 8, ["size", "modelValue", "onChange"]),
      createVNode(m, {
        trigger: "click",
        size: "small"
      }, {
        dropdown: withCtx(() => [
          createVNode(h2, null, {
            default: withCtx(() => [
              (openBlock(true), createElementBlock(Fragment, null, renderList(t3.unit, (g, w) => (openBlock(), createBlock(c, {
                key: g,
                onClick: (R) => t3.changeType(w)
              }, {
                default: withCtx(() => [
                  createBaseVNode("div", null, toDisplayString(g), 1)
                ]),
                _: 2
              }, 1032, ["onClick"]))), 128))
            ]),
            _: 1
          })
        ]),
        default: withCtx(() => [
          createVNode(f, { size: t3.size }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(t3.unit[t3.idx]), 1)
            ]),
            _: 1
          }, 8, ["size"])
        ]),
        _: 1
      })
    ], 64))
  ]);
}
var $o = nt(hw, [["render", mw]]);
var gw = defineComponent({
  name: "ColorInput",
  inject: ["designer"],
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: String
  },
  watch: {
    modelValue() {
      this.value = this.modelValue || "";
    },
    value(t3) {
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    }
  },
  data() {
    return {
      value: this.modelValue || ""
    };
  },
  methods: {},
  created() {
  }
});
var yw = { class: "_fd-color-input" };
function bw(t3, r, a, o, n, l) {
  const f = resolveComponent("el-color-picker"), d = resolveComponent("el-input");
  return openBlock(), createElementBlock("div", yw, [
    createVNode(d, {
      clearable: "",
      modelValue: t3.value,
      "onUpdate:modelValue": r[1] || (r[1] = (c) => t3.value = c)
    }, {
      append: withCtx(() => [
        createVNode(f, {
          "show-alpha": "",
          "color-format": "hex",
          modelValue: t3.value,
          "onUpdate:modelValue": r[0] || (r[0] = (c) => t3.value = c)
        }, null, 8, ["modelValue"])
      ]),
      _: 1
    }, 8, ["modelValue"])
  ]);
}
var $r = nt(gw, [["render", bw]]);
var Aw = defineComponent({
  name: "BoxSizeInput",
  components: { SizeInput: $o, ConfigItem: Bi },
  props: {
    modelValue: {
      type: Object,
      default: () => ({})
    }
  },
  inject: ["designer"],
  emits: ["update:modelValue", "change"],
  data() {
    return {
      overflow: [
        {
          value: "visible",
          icon: "icon-eye"
        },
        {
          value: "hidden",
          icon: "icon-eye-close"
        },
        {
          value: "scroll",
          icon: "icon-scroll"
        },
        {
          value: "auto",
          text: "Auto"
        }
      ],
      keys: ["width", "height", "minWidth", "minHeight", "maxWidth", "maxHeight"],
      boxStyle: {
        width: "",
        minWidth: "",
        maxWidth: "",
        height: "",
        minHeight: "",
        maxHeight: "",
        overflow: ""
      }
    };
  },
  watch: {
    modelValue() {
      this.tidyValue();
    }
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    }
  },
  methods: {
    tidyValue() {
      this.boxStyle = {
        width: "",
        minWidth: "",
        maxWidth: "",
        height: "",
        minHeight: "",
        maxHeight: "",
        overflow: ""
      }, this.modelValue && Object.keys(this.boxStyle).forEach((t3) => {
        this.modelValue[t3] && (this.boxStyle[t3] = this.modelValue[t3]);
      });
    },
    onInput() {
      const t3 = Object.keys(this.boxStyle).reduce((r, a) => (this.boxStyle[a] !== "" && (r[a] = this.boxStyle[a]), r), {});
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    },
    changeOverflow(t3) {
      this.boxStyle.overflow = this.boxStyle.overflow === t3 ? "" : t3, this.onInput();
    },
    change(t3, r) {
      this.boxStyle[t3] = r.target.value;
    }
  },
  created() {
    this.tidyValue();
  }
});
var ww = { class: "_fd-box-size-input" };
var Cw = {
  key: 0,
  style: { "font-size": "12px", "line-height": "16px" }
};
function Sw(t3, r, a, o, n, l) {
  const f = resolveComponent("SizeInput"), d = resolveComponent("el-form-item"), c = resolveComponent("el-radio-button"), h2 = resolveComponent("el-tooltip"), m = resolveComponent("el-radio-group"), g = resolveComponent("el-form"), w = resolveComponent("ConfigItem");
  return openBlock(), createElementBlock("div", ww, [
    createVNode(w, {
      label: t3.t("props.size"),
      info: Object.keys(t3.modelValue).length > 0 ? t3.t("struct.configured") : ""
    }, {
      append: withCtx(() => [
        createVNode(g, {
          "label-position": "top",
          size: "small"
        }, {
          default: withCtx(() => [
            (openBlock(true), createElementBlock(Fragment, null, renderList(t3.keys, (R) => (openBlock(), createBlock(d, {
              label: t3.t("style." + R),
              key: R
            }, {
              default: withCtx(() => [
                createVNode(f, {
                  modelValue: t3.boxStyle[R],
                  "onUpdate:modelValue": (A) => t3.boxStyle[R] = A,
                  onChange: t3.onInput
                }, null, 8, ["modelValue", "onUpdate:modelValue", "onChange"])
              ]),
              _: 2
            }, 1032, ["label"]))), 128)),
            createVNode(d, {
              label: t3.t("style.overflow.name"),
              style: { "grid-column": "span 2" }
            }, {
              default: withCtx(() => [
                createVNode(m, {
                  modelValue: t3.boxStyle.overflow
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.overflow, (R) => (openBlock(), createBlock(h2, {
                      effect: "dark",
                      content: t3.t("style.overflow." + R.value),
                      placement: "top",
                      persistent: "",
                      "hide-after": 0,
                      key: R.value
                    }, {
                      default: withCtx(() => [
                        createVNode(c, {
                          label: R.value,
                          value: R.value,
                          onClick: (A) => t3.changeOverflow(R.value)
                        }, {
                          default: withCtx(() => [
                            R.text ? (openBlock(), createElementBlock("span", Cw, "Auto ")) : (openBlock(), createElementBlock("i", {
                              key: 1,
                              class: normalizeClass(["fc-icon", R.icon])
                            }, null, 2))
                          ]),
                          _: 2
                        }, 1032, ["label", "value", "onClick"])
                      ]),
                      _: 2
                    }, 1032, ["content"]))), 128))
                  ]),
                  _: 1
                }, 8, ["modelValue"])
              ]),
              _: 1
            }, 8, ["label"])
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["label", "info"])
  ]);
}
var Ew = nt(Aw, [["render", Sw]]);
var xw = defineComponent({
  name: "BoxSpaceInput",
  components: { ConfigItem: Bi },
  props: {
    modelValue: {
      type: Object,
      default: () => ({})
    }
  },
  inject: ["designer"],
  emits: ["update:modelValue", "change"],
  data() {
    return {
      position: ["Top", "Right", "Bottom", "Left"],
      boxStyle: {
        margin: "",
        padding: "",
        marginLeft: "",
        marginRight: "",
        marginTop: "",
        marginBottom: "",
        paddingLeft: "",
        paddingRight: "",
        paddingTop: "",
        paddingBottom: ""
      },
      marginLock: false,
      paddingLock: false
    };
  },
  watch: {
    modelValue() {
      this.tidyValue();
    }
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    }
  },
  methods: {
    tidyValue() {
      this.boxStyle = {}, ["margin", "padding"].forEach((t3) => {
        this.boxStyle[t3] = this.modelValue[t3] || "", this.position.forEach((r) => {
          this.boxStyle[t3 + r] = this.tidySize(this.modelValue[t3 + r] || this.modelValue[t3] || "");
        });
      });
    },
    onInput() {
      const t3 = Object.keys(this.boxStyle).reduce((r, a) => (this.boxStyle[a] !== "" && (r[a] = this.boxStyle[a]), r), {});
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    },
    tidySize(t3) {
      if (!/^(\d*\.?\d+)(px|rem|%|vh|vw|em)$/.test(t3)) {
        if (t3 === "auto")
          return t3;
        const a = parseInt(t3);
        return isNaN(a) ? "" : a + "px";
      }
      return t3;
    },
    setValue(t3, r, a) {
      const o = this.tidySize(a.target.value);
      t3 ? this[t3 + "Lock"] ? this.position.forEach((n) => {
        this.boxStyle[t3 + n] = o;
      }) : this.boxStyle[t3 + r] = o : this.boxStyle[r] = o, this.onInput();
    },
    change(t3, r) {
      this.boxStyle[t3] = r.target.value;
    },
    clear(t3) {
      this.position.forEach((r) => {
        this.boxStyle[t3 + r] = "";
      }), this.onInput();
    },
    lock(t3) {
      const r = t3 + "Lock";
      this[r] = !this[r];
    }
  },
  created() {
    this.tidyValue();
  }
});
var Tw = { class: "_fd-box-space-input" };
var _w = { class: "_padding" };
var Rw = { class: "_padding-title" };
var Ow = ["value"];
var Dw = ["value"];
var Iw = ["value"];
var Mw = ["value"];
var Pw = { class: "_fd-help" };
var Nw = { class: "_margin" };
var Lw = { class: "_margin-title" };
var Fw = { class: "_fd-help" };
var kw = ["value"];
var Bw = ["value"];
var $w = ["value"];
var Hw = ["value"];
function Vw(t3, r, a, o, n, l) {
  return openBlock(), createElementBlock("div", Tw, [
    createBaseVNode("div", _w, [
      createBaseVNode("span", Rw, toDisplayString(t3.t("style.margin")), 1),
      createBaseVNode("input", {
        class: "_fd-input _fd-top",
        placeholder: "        ",
        value: t3.boxStyle.marginTop,
        type: "text",
        onBlur: r[0] || (r[0] = (f) => t3.setValue("margin", "Top", f)),
        onInput: r[1] || (r[1] = (f) => t3.change("marginTop", f))
      }, null, 40, Ow),
      createBaseVNode("input", {
        class: "_fd-input _fd-right",
        placeholder: "        ",
        value: t3.boxStyle.marginRight,
        type: "text",
        onBlur: r[2] || (r[2] = (f) => t3.setValue("margin", "Right", f)),
        onInput: r[3] || (r[3] = (f) => t3.change("marginRight", f))
      }, null, 40, Dw),
      createBaseVNode("input", {
        class: "_fd-input _fd-bottom",
        placeholder: "        ",
        value: t3.boxStyle.marginBottom,
        type: "text",
        onBlur: r[4] || (r[4] = (f) => t3.setValue("margin", "Bottom", f)),
        onInput: r[5] || (r[5] = (f) => t3.change("marginBottom", f))
      }, null, 40, Iw),
      createBaseVNode("input", {
        class: "_fd-input _fd-left",
        placeholder: "        ",
        value: t3.boxStyle.marginLeft,
        type: "text",
        onBlur: r[6] || (r[6] = (f) => t3.setValue("margin", "Left", f)),
        onInput: r[7] || (r[7] = (f) => t3.change("marginLeft", f))
      }, null, 40, Mw),
      createBaseVNode("div", Pw, [
        createBaseVNode("i", {
          class: normalizeClass(["fc-icon icon-link2", t3.marginLock ? "active" : ""]),
          title: "lock",
          onClick: r[8] || (r[8] = (f) => t3.lock("margin"))
        }, null, 2),
        createBaseVNode("i", {
          class: "fc-icon icon-delete-circle",
          title: "clear",
          onClick: r[9] || (r[9] = (f) => t3.clear("margin"))
        })
      ]),
      createBaseVNode("div", Nw, [
        createBaseVNode("span", Lw, toDisplayString(t3.t("style.padding")), 1),
        createBaseVNode("div", Fw, [
          createBaseVNode("i", {
            class: normalizeClass(["fc-icon icon-link2", t3.paddingLock ? "active" : ""]),
            title: "lock",
            onClick: r[10] || (r[10] = (f) => t3.lock("padding"))
          }, null, 2),
          createBaseVNode("i", {
            class: "fc-icon icon-delete-circle",
            title: "clear",
            onClick: r[11] || (r[11] = (f) => t3.clear("padding"))
          })
        ]),
        createBaseVNode("input", {
          class: "_fd-input _fd-top",
          placeholder: "        ",
          value: t3.boxStyle.paddingTop,
          type: "text",
          onBlur: r[12] || (r[12] = (f) => t3.setValue("padding", "Top", f)),
          onInput: r[13] || (r[13] = (f) => t3.change("paddingTop", f))
        }, null, 40, kw),
        createBaseVNode("input", {
          class: "_fd-input _fd-right",
          placeholder: "        ",
          value: t3.boxStyle.paddingRight,
          type: "text",
          onBlur: r[14] || (r[14] = (f) => t3.setValue("padding", "Right", f)),
          onInput: r[15] || (r[15] = (f) => t3.change("paddingRight", f))
        }, null, 40, Bw),
        createBaseVNode("input", {
          class: "_fd-input _fd-bottom",
          placeholder: "        ",
          value: t3.boxStyle.paddingBottom,
          type: "text",
          onBlur: r[16] || (r[16] = (f) => t3.setValue("padding", "Bottom", f)),
          onInput: r[17] || (r[17] = (f) => t3.change("paddingBottom", f))
        }, null, 40, $w),
        createBaseVNode("input", {
          class: "_fd-input _fd-left",
          placeholder: "        ",
          value: t3.boxStyle.paddingLeft,
          type: "text",
          onBlur: r[18] || (r[18] = (f) => t3.setValue("padding", "Left", f)),
          onInput: r[19] || (r[19] = (f) => t3.change("paddingLeft", f))
        }, null, 40, Hw),
        r[20] || (r[20] = createBaseVNode("div", { class: "_box" }, null, -1))
      ])
    ])
  ]);
}
var jw = nt(xw, [["render", Vw]]);
function Gp(t3) {
  let r = t3.replace(/([A-Z])/g, "-$1").toLocaleLowerCase();
  return r.indexOf("-") === 0 && (r = r.substr(1)), r;
}
var zw = defineComponent({
  name: "BorderInput",
  components: { ColorInput: $r, SizeInput: $o, ConfigItem: Bi },
  inject: ["designer"],
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: {
      type: Object,
      default: () => ({})
    }
  },
  watch: {
    modelValue() {
      this.tidyValue(), this.initCur();
    },
    active() {
      this.initCur();
    }
  },
  computed: {
    borderStyleStr() {
      let t3 = "";
      return Object.keys(this.borderStyle).forEach((r) => {
        this.borderStyle[r] !== "" && (t3 += Gp(r) + ": " + this.borderStyle[r] + ";");
      }, {}), t3;
    }
  },
  data() {
    const t3 = this.designer.setupState.t;
    return {
      t: t3,
      active: "",
      borderStyle: {},
      curStyle: "",
      curColor: "",
      curWidth: "",
      lineType: ["solid", "dashed", "dotted", "double"].map((r) => ({ value: r, label: t3("style." + r) })),
      position: ["Top", "Left", "Bottom", "Right"],
      type: ["Style", "Color", "Width"],
      unwatch: null
    };
  },
  methods: {
    tidyValue() {
      const t3 = [];
      this.borderStyle = {}, ["", ...this.position].forEach((r) => {
        this.type.forEach((a) => {
          t3.push("border" + r + a);
        });
      }), t3.forEach((r) => {
        this.borderStyle[r] = this.modelValue[r] || "";
      });
    },
    onInput() {
      const t3 = Object.keys(this.borderStyle).reduce((r, a) => (this.borderStyle[a] !== "" && (r[a] = this.borderStyle[a]), r), {});
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    },
    pushCur() {
      this.borderStyle["border" + this.active + "Style"] = this.curStyle || "", this.borderStyle["border" + this.active + "Color"] = this.curColor || "", this.borderStyle["border" + this.active + "Width"] = this.curWidth || "", this.onInput();
    },
    initCur() {
      this.unwatch && this.unwatch(), this.curStyle = this.borderStyle["border" + this.active + "Style"] || "", this.curColor = this.borderStyle["border" + this.active + "Color"] || "", this.curWidth = this.borderStyle["border" + this.active + "Width"] || "", this.unwatch = this.$watch(() => [this.curStyle, this.curColor, this.curWidth], () => {
        this.pushCur();
      });
    }
  },
  created() {
    this.tidyValue(), this.initCur();
  }
});
var Uw = { class: "_fd-border-input" };
var Ww = { class: "_fd-bi-left" };
var Kw = { class: "_fd-bil-row" };
var Gw = { class: "_fd-bil-row" };
var Qw = { class: "_fd-bil-row" };
var Yw = { class: "_fd-bi-right" };
var Xw = { class: "_fd-bi-opt" };
function Jw(t3, r, a, o, n, l) {
  const f = resolveComponent("el-option"), d = resolveComponent("el-select"), c = resolveComponent("SizeInput"), h2 = resolveComponent("ColorInput"), m = resolveComponent("ConfigItem");
  return openBlock(), createBlock(m, {
    label: t3.t("style.border")
  }, {
    append: withCtx(() => [
      createBaseVNode("div", Uw, [
        createBaseVNode("div", Ww, [
          createBaseVNode("div", Kw, [
            createBaseVNode("div", {
              class: normalizeClass(["_fd-bil-col", t3.active === "Top" ? "active" : ""]),
              onClick: r[0] || (r[0] = (g) => t3.active = "Top")
            }, "┳ ", 2)
          ]),
          createBaseVNode("div", Gw, [
            createBaseVNode("div", {
              class: normalizeClass(["_fd-bil-col", t3.active === "Left" ? "active" : ""]),
              onClick: r[1] || (r[1] = (g) => t3.active = "Left")
            }, "┣ ", 2),
            createBaseVNode("div", {
              class: normalizeClass(["_fd-bil-col", t3.active === "" ? "active" : ""]),
              onClick: r[2] || (r[2] = (g) => t3.active = "")
            }, "╋", 2),
            createBaseVNode("div", {
              class: normalizeClass(["_fd-bil-col", t3.active === "Right" ? "active" : ""]),
              onClick: r[3] || (r[3] = (g) => t3.active = "Right")
            }, " ┫ ", 2)
          ]),
          createBaseVNode("div", Qw, [
            createBaseVNode("div", {
              class: normalizeClass(["_fd-bil-col", t3.active === "Bottom" ? "active" : ""]),
              onClick: r[4] || (r[4] = (g) => t3.active = "Bottom")
            }, "┻ ", 2)
          ])
        ]),
        createBaseVNode("div", Yw, [
          createVNode(d, {
            modelValue: t3.curStyle,
            "onUpdate:modelValue": r[5] || (r[5] = (g) => t3.curStyle = g),
            clearable: ""
          }, {
            default: withCtx(() => [
              (openBlock(true), createElementBlock(Fragment, null, renderList(t3.lineType, (g) => (openBlock(), createBlock(f, {
                key: g.value,
                label: g.label,
                value: g.value
              }, {
                default: withCtx(() => [
                  createBaseVNode("div", Xw, [
                    createBaseVNode("div", {
                      class: normalizeClass(["_line", g.value])
                    }, null, 2)
                  ])
                ]),
                _: 2
              }, 1032, ["label", "value"]))), 128))
            ]),
            _: 1
          }, 8, ["modelValue"]),
          createVNode(c, {
            modelValue: t3.curWidth,
            "onUpdate:modelValue": r[6] || (r[6] = (g) => t3.curWidth = g)
          }, null, 8, ["modelValue"]),
          createVNode(h2, {
            modelValue: t3.curColor,
            "onUpdate:modelValue": r[7] || (r[7] = (g) => t3.curColor = g)
          }, null, 8, ["modelValue"])
        ])
      ])
    ]),
    default: withCtx(() => [
      createBaseVNode("div", {
        class: "line-box",
        style: normalizeStyle(t3.borderStyleStr)
      }, r[8] || (r[8] = [
        createBaseVNode("div", { class: "line-box-con" }, null, -1)
      ]), 4)
    ]),
    _: 1
  }, 8, ["label"]);
}
var Zw = nt(zw, [["render", Jw]]);
var qw = defineComponent({
  name: "RadiusInput",
  components: { ConfigItem: Bi, ColorInput: $r, SizeInput: $o },
  inject: ["designer"],
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: String
  },
  watch: {
    modelValue(t3) {
      t3 !== this.oldValue && this.tidyValue();
    }
  },
  computed: {
    t() {
      return this.designer.setupState.t;
    }
  },
  data() {
    return {
      visit: false,
      active: "",
      style: {
        com: "",
        left: "",
        right: "",
        top: "",
        bottom: ""
      },
      unit: ["px", "%"],
      oldValue: ""
    };
  },
  methods: {
    batch() {
      this.style.left = this.style.com, this.style.right = this.style.com, this.style.top = this.style.com, this.style.bottom = this.style.com, this.onInput();
    },
    tidyValue() {
      if (this.style = {
        com: "",
        left: "",
        right: "",
        top: "",
        bottom: ""
      }, !this.modelValue)
        return;
      let t3 = (this.modelValue || "").split(" ").filter((r) => r !== "");
      t3.length === 1 ? t3 = [t3[0], t3[0], t3[0], t3[0]] : t3.length === 2 ? t3 = [t3[0], t3[1], t3[0], t3[1]] : t3.length === 3 && (t3 = [t3[0], t3[1], t3[2], t3[1]]), this.style.left = t3[0], this.style.top = t3[1], this.style.right = t3[2], this.style.bottom = t3[3], this.updateCom();
    },
    updateCom() {
      let t3 = `${this.style.left || "0px"} ${this.style.top || "0px"} ${this.style.right || "0px"} ${this.style.bottom || "0px"}`;
      this.style.com = t3.replaceAll(this.style.left, "").trim() === "" ? this.style.left : "";
    },
    onInput() {
      let t3 = `${this.style.left || "0px"} ${this.style.top || "0px"} ${this.style.right || "0px"} ${this.style.bottom || "0px"}`;
      `${this.style.left}${this.style.top}${this.style.right}${this.style.bottom}`.trim() === "" ? t3 = "" : this.updateCom(), this.oldValue = t3, this.$emit("update:modelValue", t3), this.$emit("change", t3);
    }
  },
  created() {
    this.tidyValue();
  }
});
var eC = { class: "_fd-radius-input" };
var tC = { class: "_fd-radius-con" };
var nC = { class: "_fd-radius-item" };
var iC = { class: "_fd-radius-item" };
var rC = { class: "_fd-radius-item" };
var oC = { class: "_fd-radius-item" };
function aC(t3, r, a, o, n, l) {
  const f = resolveComponent("SizeInput"), d = resolveComponent("ConfigItem");
  return openBlock(), createElementBlock("div", eC, [
    createVNode(d, {
      label: t3.t("style.borderRadius")
    }, {
      append: withCtx(() => [
        createBaseVNode("div", tC, [
          createBaseVNode("div", nC, [
            r[5] || (r[5] = createBaseVNode("div", {
              class: "_fd-radius-icon",
              style: { transform: "rotate(180deg)" }
            }, [
              createBaseVNode("i", { class: "fc-icon icon-radius" })
            ], -1)),
            createVNode(f, {
              unit: t3.unit,
              modelValue: t3.style.left,
              "onUpdate:modelValue": r[1] || (r[1] = (c) => t3.style.left = c),
              onChange: t3.onInput
            }, null, 8, ["unit", "modelValue", "onChange"])
          ]),
          createBaseVNode("div", iC, [
            r[6] || (r[6] = createBaseVNode("div", {
              class: "_fd-radius-icon",
              style: { transform: "rotate(-90deg)" }
            }, [
              createBaseVNode("i", { class: "fc-icon icon-radius" })
            ], -1)),
            createVNode(f, {
              unit: t3.unit,
              modelValue: t3.style.top,
              "onUpdate:modelValue": r[2] || (r[2] = (c) => t3.style.top = c),
              onChange: t3.onInput
            }, null, 8, ["unit", "modelValue", "onChange"])
          ]),
          createBaseVNode("div", rC, [
            r[7] || (r[7] = createBaseVNode("div", {
              class: "_fd-radius-icon",
              style: { transform: "rotate(90deg)" }
            }, [
              createBaseVNode("i", { class: "fc-icon icon-radius" })
            ], -1)),
            createVNode(f, {
              unit: t3.unit,
              modelValue: t3.style.bottom,
              "onUpdate:modelValue": r[3] || (r[3] = (c) => t3.style.bottom = c),
              onChange: t3.onInput
            }, null, 8, ["unit", "modelValue", "onChange"])
          ]),
          createBaseVNode("div", oC, [
            r[8] || (r[8] = createBaseVNode("div", { class: "_fd-radius-icon" }, [
              createBaseVNode("i", { class: "fc-icon icon-radius" })
            ], -1)),
            createVNode(f, {
              unit: t3.unit,
              modelValue: t3.style.right,
              "onUpdate:modelValue": r[4] || (r[4] = (c) => t3.style.right = c),
              onChange: t3.onInput
            }, null, 8, ["unit", "modelValue", "onChange"])
          ])
        ])
      ]),
      default: withCtx(() => [
        createVNode(f, {
          unit: t3.unit,
          modelValue: t3.style.com,
          "onUpdate:modelValue": r[0] || (r[0] = (c) => t3.style.com = c),
          onChange: t3.batch
        }, null, 8, ["unit", "modelValue", "onChange"])
      ]),
      _: 1
    }, 8, ["label"])
  ]);
}
var lC = nt(qw, [["render", aC]]);
var sC = defineComponent({
  name: "BorderInput",
  components: { ColorInput: $r, SizeInput: $o, ConfigItem: Bi },
  inject: ["designer"],
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: {
      type: Object,
      default: () => ({})
    }
  },
  watch: {
    modelValue() {
      this.tidyValue();
    }
  },
  computed: {
    borderStyleStr() {
      let t3 = "";
      return Object.keys(this.borderStyle).forEach((r) => {
        this.borderStyle[r] !== "" && (t3 += Gp(r) + ": " + this.borderStyle[r] + ";");
      }, {}), t3;
    },
    alignType() {
      return ["left", "center", "right"].map((t3) => ({ label: this.t("props." + t3), value: t3 }));
    },
    decorationType() {
      return ["underline", "line-through", "overline"].map((t3) => ({ label: this.t("style.decoration." + t3), value: t3 }));
    },
    weightType() {
      return [300, 400, 500, 700].map((t3) => ({ label: this.t("style.weight." + t3), value: t3 }));
    }
  },
  data() {
    return {
      t: this.designer.setupState.t,
      fontStyle: {
        fontSize: "",
        fontWeight: "",
        fontStyle: "",
        textDecoration: "",
        textAlign: "",
        lineHeight: "",
        letterSpacing: ""
      }
    };
  },
  methods: {
    tidyValue() {
      Object.keys(this.fontStyle).forEach((t3) => {
        this.fontStyle[t3] = this.modelValue[t3] || "";
      });
    },
    onInput() {
      const t3 = Object.keys(this.fontStyle).reduce((r, a) => (this.fontStyle[a] !== "" && (r[a] = this.fontStyle[a]), r), {});
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    }
  },
  created() {
    this.tidyValue();
  }
});
var uC = { class: "_fd-font-input" };
function fC(t3, r, a, o, n, l) {
  const f = resolveComponent("SizeInput"), d = resolveComponent("el-form-item"), c = resolveComponent("el-option"), h2 = resolveComponent("el-select"), m = resolveComponent("el-form"), g = resolveComponent("ConfigItem");
  return openBlock(), createBlock(g, {
    label: t3.t("style.font.name")
  }, {
    append: withCtx(() => [
      createBaseVNode("div", uC, [
        createVNode(m, {
          "label-width": "50px",
          "label-position": "top",
          inline: "",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode(d, {
              label: t3.t("style.font.size")
            }, {
              default: withCtx(() => [
                createVNode(f, {
                  modelValue: t3.fontStyle.fontSize,
                  "onUpdate:modelValue": r[0] || (r[0] = (w) => t3.fontStyle.fontSize = w),
                  onChange: t3.onInput
                }, null, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(d, {
              label: t3.t("style.weight.name")
            }, {
              default: withCtx(() => [
                createVNode(h2, {
                  modelValue: t3.fontStyle.fontWeight,
                  "onUpdate:modelValue": r[1] || (r[1] = (w) => t3.fontStyle.fontWeight = w),
                  clearable: "",
                  onChange: t3.onInput
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.weightType, (w) => (openBlock(), createBlock(c, {
                      key: w.value,
                      label: w.label,
                      value: w.value
                    }, {
                      default: withCtx(() => [
                        createBaseVNode("span", {
                          style: normalizeStyle({ fontWeight: w.value })
                        }, toDisplayString(w.label), 5)
                      ]),
                      _: 2
                    }, 1032, ["label", "value"]))), 128))
                  ]),
                  _: 1
                }, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(d, {
              label: t3.t("style.decoration.name")
            }, {
              default: withCtx(() => [
                createVNode(h2, {
                  modelValue: t3.fontStyle.textDecoration,
                  "onUpdate:modelValue": r[2] || (r[2] = (w) => t3.fontStyle.textDecoration = w),
                  clearable: "",
                  onChange: t3.onInput
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.decorationType, (w) => (openBlock(), createBlock(c, {
                      key: w.value,
                      label: w.label,
                      value: w.value
                    }, {
                      default: withCtx(() => [
                        createBaseVNode("span", {
                          style: normalizeStyle({ textDecoration: w.value })
                        }, toDisplayString(w.label), 5)
                      ]),
                      _: 2
                    }, 1032, ["label", "value"]))), 128))
                  ]),
                  _: 1
                }, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(d, {
              label: t3.t("style.font.align")
            }, {
              default: withCtx(() => [
                createVNode(h2, {
                  modelValue: t3.fontStyle.textAlign,
                  "onUpdate:modelValue": r[3] || (r[3] = (w) => t3.fontStyle.textAlign = w),
                  clearable: "",
                  onChange: t3.onInput
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.alignType, (w) => (openBlock(), createBlock(c, {
                      key: w.value,
                      label: w.label,
                      value: w.value
                    }, null, 8, ["label", "value"]))), 128))
                  ]),
                  _: 1
                }, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(d, {
              label: t3.t("style.font.height")
            }, {
              default: withCtx(() => [
                createVNode(f, {
                  modelValue: t3.fontStyle.lineHeight,
                  "onUpdate:modelValue": r[4] || (r[4] = (w) => t3.fontStyle.lineHeight = w),
                  onChange: t3.onInput
                }, null, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(d, {
              label: t3.t("style.font.spacing")
            }, {
              default: withCtx(() => [
                createVNode(f, {
                  modelValue: t3.fontStyle.letterSpacing,
                  "onUpdate:modelValue": r[5] || (r[5] = (w) => t3.fontStyle.letterSpacing = w),
                  onChange: t3.onInput
                }, null, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["label"])
          ]),
          _: 1
        })
      ])
    ]),
    default: withCtx(() => [
      createBaseVNode("div", {
        class: "_fd-fi-box",
        style: normalizeStyle(t3.fontStyle)
      }, toDisplayString(t3.t("style.font.preview")), 5)
    ]),
    _: 1
  }, 8, ["label"]);
}
var dC = nt(sC, [["render", fC]]);
var cC = defineComponent({
  name: "ShadowContent",
  components: { ColorInput: $r },
  inject: ["designer"],
  emits: ["update:modelValue", "change"],
  props: {
    modelValue: {
      default: "0px 0px 0px rgba(0, 0, 0, 0)",
      type: String
    }
  },
  data() {
    return {
      max: 24,
      boxSize: 250,
      options: [
        { key: "external", icon: "shadow" },
        { key: "inset", icon: "shadow-inset" }
      ],
      form: {
        color: "",
        type: "external",
        x: 0,
        y: 0,
        vague: 0,
        extend: 0,
        x_unit: "px",
        y_unit: "px",
        vague_unit: "px",
        extend_unit: "px"
      },
      units: ["px", "%", "rem", "em", "vw", "vh"],
      down: false,
      position: {
        left: 0,
        top: 0
      }
    };
  },
  computed: {
    spotStyle() {
      return {
        left: this.position.left + "px",
        top: this.position.top + "px"
      };
    },
    t() {
      return this.designer.setupState.t;
    }
  },
  watch: {
    position(t3) {
      this.form.x = parseInt(String((t3.left - this.boxSize / 2) / this.boxSize * this.max)), this.form.y = parseInt(String((t3.top - this.boxSize / 2) / this.boxSize * this.max));
      const r = this.max / 2;
      this.form.x = this.form.x < 0 ? Math.max(this.form.x, r * -1) : Math.min(this.form.x, r), this.form.y = this.form.y < 0 ? Math.max(this.form.y, r * -1) : Math.min(this.form.y, r);
    },
    modelValue(t3) {
      this.initStyle(t3);
    }
  },
  methods: {
    getMouseXY(t3, r) {
      if (this.down || r) {
        const a = this.$refs.box.getBoundingClientRect();
        this.position = {
          left: parseInt(String(t3.clientX - a.x)),
          top: parseInt(String(t3.clientY - a.y))
        };
      }
    },
    onMouseup() {
      this.down = false, this.onInput();
    },
    onMousedown(t3) {
      this.getMouseXY(t3, true), this.down = true;
    },
    onInput() {
      const t3 = this.form;
      let r = `${t3.x}${t3.x_unit} ${t3.y}${t3.y_unit} ${t3.vague}${t3.vague_unit} ${t3.extend}${t3.extend_unit} ${t3.color}`;
      `${t3.x}${t3.y}${t3.vague}${t3.extend}`.replaceAll("0", "") === "" ? r = "" : t3.type === "inset" && (r += " inset"), this.$emit("update:modelValue", r), this.$emit("change", r);
    },
    initStyle(t3) {
      (this.modelValue || "").indexOf(" inset") > -1 && (this.form.type = "inset", t3 = t3.replace(" inset", ""));
      const r = t3.split("rgba");
      let a, o;
      r.length > 1 ? (a = "rgba" + r[1].trim(), o = r[0].trim().split(" ")) : (o = r[0].trim().split(" "), a = o.pop()), this.form.color = a || "#000", this.form.x = parseInt(o[0]) || 0, this.form.y = parseInt(o[1]) || 0, this.form.vague = parseInt(o[2]) || 0, this.form.extend = parseInt(o[3]) || 0;
      const n = (l) => (l == null ? void 0 : l.replace(/[-\d.]/g, "")) || "px";
      this.form.x_unit = n(o[0]), this.form.y_unit = n(o[1]), this.form.vague_unit = n(o[2]), this.form.extend_unit = n(o[3]), this.position.left = this.boxSize / 2 + this.form.x / this.max * this.boxSize || 0, this.position.top = this.boxSize / 2 + this.form.y / this.max * this.boxSize || 0;
    }
  },
  mounted() {
    this.initStyle(this.modelValue);
  }
});
var pC = { class: "_fd-shadow-content" };
var hC = { class: "_fd-sc-right" };
function vC(t3, r, a, o, n, l) {
  const f = resolveComponent("el-radio-button"), d = resolveComponent("el-tooltip"), c = resolveComponent("el-radio-group"), h2 = resolveComponent("el-form-item"), m = resolveComponent("ColorInput"), g = resolveComponent("el-option"), w = resolveComponent("el-select"), R = resolveComponent("el-input"), A = resolveComponent("el-form");
  return openBlock(), createElementBlock("div", pC, [
    createVNode(A, {
      "label-width": "50px",
      "label-position": "top",
      inline: "",
      class: "_fd-sc-form",
      size: "small"
    }, {
      default: withCtx(() => [
        createVNode(h2, {
          label: t3.t("style.shadow.mode")
        }, {
          default: withCtx(() => [
            createVNode(c, {
              modelValue: t3.form.type,
              "onUpdate:modelValue": r[0] || (r[0] = (E) => t3.form.type = E),
              onChange: t3.onInput,
              size: "small",
              class: "_fd-sc-radio"
            }, {
              default: withCtx(() => [
                (openBlock(true), createElementBlock(Fragment, null, renderList(t3.options, (E) => (openBlock(), createBlock(d, {
                  key: E.key,
                  effect: "dark",
                  content: t3.t("style.shadow." + E.key),
                  placement: "top",
                  "hide-after": 0,
                  persistent: ""
                }, {
                  default: withCtx(() => [
                    createVNode(f, {
                      label: E.key,
                      value: E.key
                    }, {
                      default: withCtx(() => [
                        createBaseVNode("i", {
                          class: normalizeClass(["fc-icon", "icon-" + E.icon])
                        }, null, 2)
                      ]),
                      _: 2
                    }, 1032, ["label", "value"])
                  ]),
                  _: 2
                }, 1032, ["content"]))), 128))
              ]),
              _: 1
            }, 8, ["modelValue", "onChange"])
          ]),
          _: 1
        }, 8, ["label"]),
        createVNode(h2, {
          label: t3.t("style.color")
        }, {
          default: withCtx(() => [
            createVNode(m, {
              modelValue: t3.form.color,
              "onUpdate:modelValue": r[1] || (r[1] = (E) => t3.form.color = E),
              onChange: t3.onInput
            }, null, 8, ["modelValue", "onChange"])
          ]),
          _: 1
        }, 8, ["label"]),
        createVNode(h2, {
          label: t3.t("style.shadow.x")
        }, {
          default: withCtx(() => [
            createVNode(R, {
              modelValue: t3.form.x,
              "onUpdate:modelValue": r[3] || (r[3] = (E) => t3.form.x = E),
              type: "number",
              onChange: t3.onInput
            }, {
              append: withCtx(() => [
                createVNode(w, {
                  modelValue: t3.form.x_unit,
                  "onUpdate:modelValue": r[2] || (r[2] = (E) => t3.form.x_unit = E),
                  onChange: t3.onInput
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.units, (E) => (openBlock(), createBlock(g, {
                      key: E,
                      label: E,
                      value: E
                    }, null, 8, ["label", "value"]))), 128))
                  ]),
                  _: 1
                }, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["modelValue", "onChange"])
          ]),
          _: 1
        }, 8, ["label"]),
        createVNode(h2, {
          label: t3.t("style.shadow.y")
        }, {
          default: withCtx(() => [
            createVNode(R, {
              modelValue: t3.form.y,
              "onUpdate:modelValue": r[5] || (r[5] = (E) => t3.form.y = E),
              type: "number",
              onChange: t3.onInput
            }, {
              append: withCtx(() => [
                createVNode(w, {
                  modelValue: t3.form.y_unit,
                  "onUpdate:modelValue": r[4] || (r[4] = (E) => t3.form.y_unit = E),
                  onChange: t3.onInput
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.units, (E) => (openBlock(), createBlock(g, {
                      key: E,
                      label: E,
                      value: E
                    }, null, 8, ["label", "value"]))), 128))
                  ]),
                  _: 1
                }, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["modelValue", "onChange"])
          ]),
          _: 1
        }, 8, ["label"]),
        createVNode(h2, {
          label: t3.t("style.shadow.vague")
        }, {
          default: withCtx(() => [
            createVNode(R, {
              modelValue: t3.form.vague,
              "onUpdate:modelValue": r[7] || (r[7] = (E) => t3.form.vague = E),
              type: "number",
              onChange: t3.onInput
            }, {
              append: withCtx(() => [
                createVNode(w, {
                  modelValue: t3.form.vague_unit,
                  "onUpdate:modelValue": r[6] || (r[6] = (E) => t3.form.vague_unit = E),
                  onChange: t3.onInput
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.units, (E) => (openBlock(), createBlock(g, {
                      key: E,
                      label: E,
                      value: E
                    }, null, 8, ["label", "value"]))), 128))
                  ]),
                  _: 1
                }, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["modelValue", "onChange"])
          ]),
          _: 1
        }, 8, ["label"]),
        createVNode(h2, {
          label: t3.t("style.shadow.extend")
        }, {
          default: withCtx(() => [
            createVNode(R, {
              modelValue: t3.form.extend,
              "onUpdate:modelValue": r[9] || (r[9] = (E) => t3.form.extend = E),
              type: "number",
              onChange: t3.onInput
            }, {
              append: withCtx(() => [
                createVNode(w, {
                  modelValue: t3.form.extend_unit,
                  "onUpdate:modelValue": r[8] || (r[8] = (E) => t3.form.extend_unit = E),
                  onChange: t3.onInput
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.units, (E) => (openBlock(), createBlock(g, {
                      key: E,
                      label: E,
                      value: E
                    }, null, 8, ["label", "value"]))), 128))
                  ]),
                  _: 1
                }, 8, ["modelValue", "onChange"])
              ]),
              _: 1
            }, 8, ["modelValue", "onChange"])
          ]),
          _: 1
        }, 8, ["label"])
      ]),
      _: 1
    }),
    createBaseVNode("div", hC, [
      createBaseVNode("div", {
        ref: "box",
        class: normalizeClass(["_fd-sc-box", t3.down ? "down" : ""]),
        onClick: r[10] || (r[10] = (E) => t3.getMouseXY(E, 1)),
        onMousedown: r[11] || (r[11] = (...E) => t3.onMousedown && t3.onMousedown(...E)),
        onMouseup: r[12] || (r[12] = (...E) => t3.onMouseup && t3.onMouseup(...E)),
        onMousemove: r[13] || (r[13] = (E) => t3.getMouseXY(E, 0))
      }, [
        createBaseVNode("span", {
          class: "spot",
          style: normalizeStyle(t3.spotStyle)
        }, r[14] || (r[14] = [
          createBaseVNode("i", { class: "spot-id" }, null, -1)
        ]), 4),
        r[15] || (r[15] = createBaseVNode("span", { class: "center-spot" }, null, -1)),
        r[16] || (r[16] = createBaseVNode("div", { class: "x-hr" }, null, -1)),
        r[17] || (r[17] = createBaseVNode("div", { class: "y-hr" }, null, -1))
      ], 34)
    ])
  ]);
}
var mC = nt(cC, [["render", vC]]);
var gC = defineComponent({
  name: "ShadowInput",
  emits: ["update:modelValue", "change"],
  components: { ConfigItem: Bi, ShadowContent: mC },
  inject: ["designer"],
  props: {
    modelValue: String
  },
  watch: {
    modelValue() {
      this.value = this.modelValue || "";
    },
    value(t3) {
      this.$emit("update:modelValue", t3), this.$emit("change", t3);
    }
  },
  data() {
    const t3 = this.designer.setupState.t;
    return {
      t: t3,
      options: [
        { label: t3("style.shadow.classic"), value: "3px 5px 7px 2px #CBCBCBFF" },
        { label: t3("style.shadow.flat"), value: "4px 4px 3px -2px #E7E5E5FF" },
        { label: t3("style.shadow.solid"), value: "1px 2px 4px 2px #979797FF" }
      ],
      value: this.modelValue || ""
    };
  },
  methods: {
    changeValue(t3) {
      this.value = t3;
    }
  },
  created() {
  }
});
var yC = { class: "_fd-shadow-input" };
function bC(t3, r, a, o, n, l) {
  const f = resolveComponent("el-dropdown-item"), d = resolveComponent("el-dropdown-menu"), c = resolveComponent("el-dropdown"), h2 = resolveComponent("el-input"), m = resolveComponent("ShadowContent"), g = resolveComponent("ConfigItem");
  return openBlock(), createElementBlock("div", yC, [
    createVNode(g, {
      label: t3.t("style.shadow.name")
    }, {
      append: withCtx(() => [
        createVNode(m, {
          modelValue: t3.value,
          "onUpdate:modelValue": r[1] || (r[1] = (w) => t3.value = w)
        }, null, 8, ["modelValue"])
      ]),
      default: withCtx(() => [
        createVNode(h2, {
          clearable: "",
          modelValue: t3.value,
          "onUpdate:modelValue": r[0] || (r[0] = (w) => t3.value = w),
          class: "_fd-si-input"
        }, {
          append: withCtx(() => [
            createVNode(c, null, {
              dropdown: withCtx(() => [
                createVNode(d, null, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList(t3.options, (w) => (openBlock(), createBlock(f, {
                      onClick: (R) => t3.changeValue(w.value)
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(w.label), 1)
                      ]),
                      _: 2
                    }, 1032, ["onClick"]))), 256))
                  ]),
                  _: 1
                })
              ]),
              default: withCtx(() => [
                r[2] || (r[2] = createBaseVNode("i", { class: "fc-icon icon-setting" }, null, -1))
              ]),
              _: 1,
              __: [2]
            })
          ]),
          _: 1
        }, 8, ["modelValue"])
      ]),
      _: 1
    }, 8, ["label"])
  ]);
}
var AC = nt(gC, [["render", bC]]);
var Qp = [
  "fontSize",
  "fontWeight",
  "fontStyle",
  "textDecoration",
  "textAlign",
  "lineHeight",
  "letterSpacing"
];
var Yp = [
  "height",
  "width",
  "minWidth",
  "minHeight",
  "maxWidth",
  "maxHeight",
  "overflow"
];
var Kc = [
  "color",
  "backgroundColor",
  "scale",
  "borderRadius",
  "boxShadow",
  "marginTop",
  "marginRight",
  "marginBottom",
  "marginLeft",
  "paddingTop",
  "paddingRight",
  "paddingBottom",
  "paddingLeft",
  "margin",
  "padding",
  "opacity",
  "borderStyle",
  "borderColor",
  "borderWidth",
  "borderTopStyle",
  "borderTopColor",
  "borderTopWidth",
  "borderLeftStyle",
  "borderLeftColor",
  "borderLeftWidth",
  "borderBottomStyle",
  "borderBottomColor",
  "borderBottomWidth",
  "borderRightStyle",
  "borderRightColor",
  "borderRightWidth",
  ...Qp,
  ...Yp
];
var wC = defineComponent({
  name: "StyleConfig",
  inject: ["designer"],
  emits: ["update:modelValue"],
  components: {
    TableOptions: Kp,
    ColorInput: $r,
    ConfigItem: Bi,
    RadiusInput: lC,
    BoxSizeInput: Ew,
    BoxSpaceInput: jw,
    BorderInput: Zw,
    ShadowInput: AC,
    FontInput: dC
  },
  props: {
    modelValue: {
      type: Object,
      default: () => ({})
    }
  },
  watch: {
    modelValue() {
      this.tidyStyle();
    }
  },
  data() {
    return {
      t: this.designer.setupState.t,
      formData: {},
      size: {},
      space: {},
      border: {},
      font: {},
      radius: "",
      backgroundColor: "",
      color: "",
      boxShadow: "",
      opacity: 100,
      scale: 100
    };
  },
  methods: {
    tidyStyle() {
      const t3 = { ...this.modelValue || {} }, r = {};
      Object.keys(t3).forEach((d) => {
        (["margin", "padding"].indexOf(d) > -1 || d.indexOf("margin") > -1 || d.indexOf("padding") > -1) && (r[d] = t3[d]);
      });
      const a = {};
      Yp.forEach((d) => {
        t3[d] && (a[d] = t3[d]);
      }), this.radius = t3.borderRadius || "", delete t3.borderRadius;
      const o = {};
      Object.keys(t3).forEach((d) => {
        d.indexOf("border") === 0 && (o[d] = t3[d]);
      });
      let n = pi(t3.opacity) ? 100 : parseFloat(t3.opacity) || 0;
      n && n < 1 && (n = n * 100);
      let l = t3.scale;
      pi(t3.scale) ? l = 100 : isNaN(Number(l)) ? l = parseFloat(l) || 100 : l = l > 0 ? l * 100 : 0;
      const f = {};
      Qp.forEach((d) => {
        t3[d] && (f[d] = t3[d]);
      }), this.opacity = n, this.scale = l, this.size = a, this.space = r, this.border = o, this.font = f, this.boxShadow = t3.boxShadow || "", this.color = t3.color || "", this.backgroundColor = t3.backgroundColor || "", Kc.forEach((d) => {
        delete t3[d];
      }), this.formData = t3;
    },
    onInput() {
      let t3 = { ...this.formData };
      Kc.forEach((a) => {
        delete t3[a];
      });
      const r = {
        ...t3,
        color: this.color || "",
        backgroundColor: this.backgroundColor || "",
        opacity: this.opacity >= 0 && this.opacity < 100 ? this.opacity + "%" : "",
        borderRadius: this.radius || "",
        boxShadow: this.boxShadow || "",
        scale: this.scale >= 0 && this.scale !== 100 ? this.scale + "%" : "",
        ...this.space,
        ...this.size,
        ...this.border,
        ...this.font
      };
      Object.keys(r).forEach((a) => {
        pi(r[a]) && delete r[a];
      }), this.$emit("update:modelValue", r);
    }
  },
  created() {
    this.tidyStyle();
  }
});
var CC = { class: "_fd-style-config" };
function SC(t3, r, a, o, n, l) {
  const f = resolveComponent("BoxSpaceInput"), d = resolveComponent("BoxSizeInput"), c = resolveComponent("ColorInput"), h2 = resolveComponent("ConfigItem"), m = resolveComponent("BorderInput"), g = resolveComponent("RadiusInput"), w = resolveComponent("FontInput"), R = resolveComponent("ShadowInput"), A = resolveComponent("el-slider"), E = resolveComponent("TableOptions");
  return openBlock(), createElementBlock("div", CC, [
    createVNode(f, {
      modelValue: t3.space,
      "onUpdate:modelValue": r[0] || (r[0] = (b) => t3.space = b),
      onChange: t3.onInput,
      style: { "margin-bottom": "10px" }
    }, null, 8, ["modelValue", "onChange"]),
    createVNode(d, {
      modelValue: t3.size,
      "onUpdate:modelValue": r[1] || (r[1] = (b) => t3.size = b),
      onChange: t3.onInput
    }, null, 8, ["modelValue", "onChange"]),
    createVNode(h2, {
      label: t3.t("style.color")
    }, {
      default: withCtx(() => [
        createVNode(c, {
          modelValue: t3.color,
          "onUpdate:modelValue": r[2] || (r[2] = (b) => t3.color = b),
          onChange: t3.onInput
        }, null, 8, ["modelValue", "onChange"])
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(h2, {
      label: t3.t("style.backgroundColor")
    }, {
      default: withCtx(() => [
        createVNode(c, {
          modelValue: t3.backgroundColor,
          "onUpdate:modelValue": r[3] || (r[3] = (b) => t3.backgroundColor = b),
          onChange: t3.onInput
        }, null, 8, ["modelValue", "onChange"])
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(m, {
      modelValue: t3.border,
      "onUpdate:modelValue": r[4] || (r[4] = (b) => t3.border = b),
      onChange: t3.onInput
    }, null, 8, ["modelValue", "onChange"]),
    createVNode(g, {
      modelValue: t3.radius,
      "onUpdate:modelValue": r[5] || (r[5] = (b) => t3.radius = b),
      onChange: t3.onInput
    }, null, 8, ["modelValue", "onChange"]),
    createVNode(w, {
      modelValue: t3.font,
      "onUpdate:modelValue": r[6] || (r[6] = (b) => t3.font = b),
      onChange: t3.onInput
    }, null, 8, ["modelValue", "onChange"]),
    createVNode(R, {
      modelValue: t3.boxShadow,
      "onUpdate:modelValue": r[7] || (r[7] = (b) => t3.boxShadow = b),
      onChange: t3.onInput
    }, null, 8, ["modelValue", "onChange"]),
    createVNode(h2, {
      label: t3.t("style.opacity"),
      class: "_fd-opacity-input"
    }, {
      default: withCtx(() => [
        createVNode(A, {
          "show-tooltip": false,
          modelValue: t3.opacity,
          "onUpdate:modelValue": r[8] || (r[8] = (b) => t3.opacity = b),
          onChange: t3.onInput
        }, null, 8, ["modelValue", "onChange"]),
        createBaseVNode("span", null, toDisplayString(t3.opacity) + "%", 1)
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(h2, {
      label: t3.t("style.scale"),
      class: "_fd-opacity-input"
    }, {
      default: withCtx(() => [
        createVNode(A, {
          min: 80,
          max: 120,
          "show-tooltip": false,
          modelValue: t3.scale,
          "onUpdate:modelValue": r[9] || (r[9] = (b) => t3.scale = b),
          onChange: t3.onInput
        }, null, 8, ["modelValue", "onChange"]),
        createBaseVNode("span", null, toDisplayString(t3.scale) + "%", 1)
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(h2, {
      label: t3.t("props.custom"),
      info: Object.keys(t3.formData).length > 0 ? t3.t("struct.configured") : ""
    }, {
      append: withCtx(() => [
        createVNode(E, mergeProps({
          modelValue: t3.formData,
          "onUpdate:modelValue": r[10] || (r[10] = (b) => t3.formData = b),
          onChange: t3.onInput
        }, {
          column: [{ label: t3.t("props.key"), key: "label" }, { label: t3.t("props.value"), key: "value" }],
          valueType: "object"
        }), null, 16, ["modelValue", "onChange"])
      ]),
      _: 1
    }, 8, ["label", "info"])
  ]);
}
var EC = nt(wC, [["render", SC]]);
function Gc(t3, r) {
  var a = Object.keys(t3);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(t3);
    r && (o = o.filter(function(n) {
      return Object.getOwnPropertyDescriptor(t3, n).enumerable;
    })), a.push.apply(a, o);
  }
  return a;
}
function xC(t3) {
  for (var r = 1; r < arguments.length; r++) {
    var a = arguments[r] != null ? arguments[r] : {};
    r % 2 ? Gc(Object(a), true).forEach(function(o) {
      TC(t3, o, a[o]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(a)) : Gc(Object(a)).forEach(function(o) {
      Object.defineProperty(t3, o, Object.getOwnPropertyDescriptor(a, o));
    });
  }
  return t3;
}
function Gt(t3) {
  return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Gt = function(r) {
    return typeof r;
  } : Gt = function(r) {
    return r && typeof Symbol == "function" && r.constructor === Symbol && r !== Symbol.prototype ? "symbol" : typeof r;
  }, Gt(t3);
}
function TC(t3, r, a) {
  return r in t3 ? Object.defineProperty(t3, r, {
    value: a,
    enumerable: true,
    configurable: true,
    writable: true
  }) : t3[r] = a, t3;
}
function _C(t3) {
  return t3 && t3.__esModule && Object.prototype.hasOwnProperty.call(t3, "default") ? t3.default : t3;
}
var Xp = { exports: {} };
(function(t3, r) {
  (function(o, n) {
    t3.exports = n();
  })(window, function() {
    return function(a) {
      var o = {};
      function n(l) {
        if (o[l])
          return o[l].exports;
        var f = o[l] = { i: l, l: false, exports: {} };
        return a[l].call(f.exports, f, f.exports, n), f.l = true, f.exports;
      }
      return n.m = a, n.c = o, n.d = function(l, f, d) {
        n.o(l, f) || Object.defineProperty(l, f, { enumerable: true, get: d });
      }, n.r = function(l) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(l, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(l, "__esModule", { value: true });
      }, n.t = function(l, f) {
        if (f & 1 && (l = n(l)), f & 8 || f & 4 && Gt(l) === "object" && l && l.__esModule)
          return l;
        var d = /* @__PURE__ */ Object.create(null);
        if (n.r(d), Object.defineProperty(d, "default", { enumerable: true, value: l }), f & 2 && typeof l != "string")
          for (var c in l)
            n.d(d, c, (function(h2) {
              return l[h2];
            }).bind(null, c));
        return d;
      }, n.n = function(l) {
        var f = l && l.__esModule ? function() {
          return l.default;
        } : function() {
          return l;
        };
        return n.d(f, "a", f), f;
      }, n.o = function(l, f) {
        return Object.prototype.hasOwnProperty.call(l, f);
      }, n.p = "", n(n.s = 141);
    }([function(a, o) {
      function n(l) {
        return l && l.__esModule ? l : { default: l };
      }
      a.exports = n;
    }, function(a, o, n) {
      a.exports = n(142);
    }, function(a, o, n) {
      n.r(o), n.d(o, "__extends", function() {
        return f;
      }), n.d(o, "__assign", function() {
        return d;
      }), n.d(o, "__rest", function() {
        return c;
      }), n.d(o, "__decorate", function() {
        return h2;
      }), n.d(o, "__param", function() {
        return m;
      }), n.d(o, "__metadata", function() {
        return g;
      }), n.d(o, "__awaiter", function() {
        return w;
      }), n.d(o, "__generator", function() {
        return R;
      }), n.d(o, "__createBinding", function() {
        return A;
      }), n.d(o, "__exportStar", function() {
        return E;
      }), n.d(o, "__values", function() {
        return b;
      }), n.d(o, "__read", function() {
        return v;
      }), n.d(o, "__spread", function() {
        return y;
      }), n.d(o, "__spreadArrays", function() {
        return T;
      }), n.d(o, "__spreadArray", function() {
        return x;
      }), n.d(o, "__await", function() {
        return D;
      }), n.d(o, "__asyncGenerator", function() {
        return I;
      }), n.d(o, "__asyncDelegator", function() {
        return N;
      }), n.d(o, "__asyncValues", function() {
        return C;
      }), n.d(o, "__makeTemplateObject", function() {
        return B;
      }), n.d(o, "__importStar", function() {
        return S;
      }), n.d(o, "__importDefault", function() {
        return F;
      }), n.d(o, "__classPrivateFieldGet", function() {
        return $;
      }), n.d(o, "__classPrivateFieldSet", function() {
        return U;
      });
      var l = function(z, Q) {
        return l = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(J, ae) {
          J.__proto__ = ae;
        } || function(J, ae) {
          for (var M in ae)
            Object.prototype.hasOwnProperty.call(ae, M) && (J[M] = ae[M]);
        }, l(z, Q);
      };
      function f(L, z) {
        if (typeof z != "function" && z !== null)
          throw new TypeError("Class extends value " + String(z) + " is not a constructor or null");
        l(L, z);
        function Q() {
          this.constructor = L;
        }
        L.prototype = z === null ? Object.create(z) : (Q.prototype = z.prototype, new Q());
      }
      var d = function() {
        return d = Object.assign || function(Q) {
          for (var J, ae = 1, M = arguments.length; ae < M; ae++) {
            J = arguments[ae];
            for (var V in J)
              Object.prototype.hasOwnProperty.call(J, V) && (Q[V] = J[V]);
          }
          return Q;
        }, d.apply(this, arguments);
      };
      function c(L, z) {
        var Q = {};
        for (var J in L)
          Object.prototype.hasOwnProperty.call(L, J) && z.indexOf(J) < 0 && (Q[J] = L[J]);
        if (L != null && typeof Object.getOwnPropertySymbols == "function")
          for (var ae = 0, J = Object.getOwnPropertySymbols(L); ae < J.length; ae++)
            z.indexOf(J[ae]) < 0 && Object.prototype.propertyIsEnumerable.call(L, J[ae]) && (Q[J[ae]] = L[J[ae]]);
        return Q;
      }
      function h2(L, z, Q, J) {
        var ae = arguments.length, M = ae < 3 ? z : J === null ? J = Object.getOwnPropertyDescriptor(z, Q) : J, V;
        if ((typeof Reflect > "u" ? "undefined" : Gt(Reflect)) === "object" && typeof Reflect.decorate == "function")
          M = Reflect.decorate(L, z, Q, J);
        else
          for (var K = L.length - 1; K >= 0; K--)
            (V = L[K]) && (M = (ae < 3 ? V(M) : ae > 3 ? V(z, Q, M) : V(z, Q)) || M);
        return ae > 3 && M && Object.defineProperty(z, Q, M), M;
      }
      function m(L, z) {
        return function(Q, J) {
          z(Q, J, L);
        };
      }
      function g(L, z) {
        if ((typeof Reflect > "u" ? "undefined" : Gt(Reflect)) === "object" && typeof Reflect.metadata == "function")
          return Reflect.metadata(L, z);
      }
      function w(L, z, Q, J) {
        function ae(M) {
          return M instanceof Q ? M : new Q(function(V) {
            V(M);
          });
        }
        return new (Q || (Q = Promise))(function(M, V) {
          function K(ue) {
            try {
              Z(J.next(ue));
            } catch (pe) {
              V(pe);
            }
          }
          function G(ue) {
            try {
              Z(J.throw(ue));
            } catch (pe) {
              V(pe);
            }
          }
          function Z(ue) {
            ue.done ? M(ue.value) : ae(ue.value).then(K, G);
          }
          Z((J = J.apply(L, z || [])).next());
        });
      }
      function R(L, z) {
        var Q = { label: 0, sent: function() {
          if (M[0] & 1)
            throw M[1];
          return M[1];
        }, trys: [], ops: [] }, J, ae, M, V;
        return V = { next: K(0), throw: K(1), return: K(2) }, typeof Symbol == "function" && (V[Symbol.iterator] = function() {
          return this;
        }), V;
        function K(Z) {
          return function(ue) {
            return G([Z, ue]);
          };
        }
        function G(Z) {
          if (J)
            throw new TypeError("Generator is already executing.");
          for (; Q; )
            try {
              if (J = 1, ae && (M = Z[0] & 2 ? ae.return : Z[0] ? ae.throw || ((M = ae.return) && M.call(ae), 0) : ae.next) && !(M = M.call(ae, Z[1])).done)
                return M;
              switch (ae = 0, M && (Z = [Z[0] & 2, M.value]), Z[0]) {
                case 0:
                case 1:
                  M = Z;
                  break;
                case 4:
                  return Q.label++, { value: Z[1], done: false };
                case 5:
                  Q.label++, ae = Z[1], Z = [0];
                  continue;
                case 7:
                  Z = Q.ops.pop(), Q.trys.pop();
                  continue;
                default:
                  if (M = Q.trys, !(M = M.length > 0 && M[M.length - 1]) && (Z[0] === 6 || Z[0] === 2)) {
                    Q = 0;
                    continue;
                  }
                  if (Z[0] === 3 && (!M || Z[1] > M[0] && Z[1] < M[3])) {
                    Q.label = Z[1];
                    break;
                  }
                  if (Z[0] === 6 && Q.label < M[1]) {
                    Q.label = M[1], M = Z;
                    break;
                  }
                  if (M && Q.label < M[2]) {
                    Q.label = M[2], Q.ops.push(Z);
                    break;
                  }
                  M[2] && Q.ops.pop(), Q.trys.pop();
                  continue;
              }
              Z = z.call(L, Q);
            } catch (ue) {
              Z = [6, ue], ae = 0;
            } finally {
              J = M = 0;
            }
          if (Z[0] & 5)
            throw Z[1];
          return { value: Z[0] ? Z[1] : void 0, done: true };
        }
      }
      var A = Object.create ? function(L, z, Q, J) {
        J === void 0 && (J = Q), Object.defineProperty(L, J, { enumerable: true, get: function() {
          return z[Q];
        } });
      } : function(L, z, Q, J) {
        J === void 0 && (J = Q), L[J] = z[Q];
      };
      function E(L, z) {
        for (var Q in L)
          Q !== "default" && !Object.prototype.hasOwnProperty.call(z, Q) && A(z, L, Q);
      }
      function b(L) {
        var z = typeof Symbol == "function" && Symbol.iterator, Q = z && L[z], J = 0;
        if (Q)
          return Q.call(L);
        if (L && typeof L.length == "number")
          return { next: function() {
            return L && J >= L.length && (L = void 0), { value: L && L[J++], done: !L };
          } };
        throw new TypeError(z ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }
      function v(L, z) {
        var Q = typeof Symbol == "function" && L[Symbol.iterator];
        if (!Q)
          return L;
        var J = Q.call(L), ae, M = [], V;
        try {
          for (; (z === void 0 || z-- > 0) && !(ae = J.next()).done; )
            M.push(ae.value);
        } catch (K) {
          V = { error: K };
        } finally {
          try {
            ae && !ae.done && (Q = J.return) && Q.call(J);
          } finally {
            if (V)
              throw V.error;
          }
        }
        return M;
      }
      function y() {
        for (var L = [], z = 0; z < arguments.length; z++)
          L = L.concat(v(arguments[z]));
        return L;
      }
      function T() {
        for (var L = 0, z = 0, Q = arguments.length; z < Q; z++)
          L += arguments[z].length;
        for (var J = Array(L), ae = 0, z = 0; z < Q; z++)
          for (var M = arguments[z], V = 0, K = M.length; V < K; V++, ae++)
            J[ae] = M[V];
        return J;
      }
      function x(L, z) {
        for (var Q = 0, J = z.length, ae = L.length; Q < J; Q++, ae++)
          L[ae] = z[Q];
        return L;
      }
      function D(L) {
        return this instanceof D ? (this.v = L, this) : new D(L);
      }
      function I(L, z, Q) {
        if (!Symbol.asyncIterator)
          throw new TypeError("Symbol.asyncIterator is not defined.");
        var J = Q.apply(L, z || []), ae, M = [];
        return ae = {}, V("next"), V("throw"), V("return"), ae[Symbol.asyncIterator] = function() {
          return this;
        }, ae;
        function V(ce) {
          J[ce] && (ae[ce] = function(fe) {
            return new Promise(function(ne, be) {
              M.push([ce, fe, ne, be]) > 1 || K(ce, fe);
            });
          });
        }
        function K(ce, fe) {
          try {
            G(J[ce](fe));
          } catch (ne) {
            pe(M[0][3], ne);
          }
        }
        function G(ce) {
          ce.value instanceof D ? Promise.resolve(ce.value.v).then(Z, ue) : pe(M[0][2], ce);
        }
        function Z(ce) {
          K("next", ce);
        }
        function ue(ce) {
          K("throw", ce);
        }
        function pe(ce, fe) {
          ce(fe), M.shift(), M.length && K(M[0][0], M[0][1]);
        }
      }
      function N(L) {
        var z, Q;
        return z = {}, J("next"), J("throw", function(ae) {
          throw ae;
        }), J("return"), z[Symbol.iterator] = function() {
          return this;
        }, z;
        function J(ae, M) {
          z[ae] = L[ae] ? function(V) {
            return (Q = !Q) ? { value: D(L[ae](V)), done: ae === "return" } : M ? M(V) : V;
          } : M;
        }
      }
      function C(L) {
        if (!Symbol.asyncIterator)
          throw new TypeError("Symbol.asyncIterator is not defined.");
        var z = L[Symbol.asyncIterator], Q;
        return z ? z.call(L) : (L = typeof b == "function" ? b(L) : L[Symbol.iterator](), Q = {}, J("next"), J("throw"), J("return"), Q[Symbol.asyncIterator] = function() {
          return this;
        }, Q);
        function J(M) {
          Q[M] = L[M] && function(V) {
            return new Promise(function(K, G) {
              V = L[M](V), ae(K, G, V.done, V.value);
            });
          };
        }
        function ae(M, V, K, G) {
          Promise.resolve(G).then(function(Z) {
            M({ value: Z, done: K });
          }, V);
        }
      }
      function B(L, z) {
        return Object.defineProperty ? Object.defineProperty(L, "raw", { value: z }) : L.raw = z, L;
      }
      var O = Object.create ? function(L, z) {
        Object.defineProperty(L, "default", { enumerable: true, value: z });
      } : function(L, z) {
        L.default = z;
      };
      function S(L) {
        if (L && L.__esModule)
          return L;
        var z = {};
        if (L != null)
          for (var Q in L)
            Q !== "default" && Object.prototype.hasOwnProperty.call(L, Q) && A(z, L, Q);
        return O(z, L), z;
      }
      function F(L) {
        return L && L.__esModule ? L : { default: L };
      }
      function $(L, z) {
        if (!z.has(L))
          throw new TypeError("attempted to get private field on non-instance");
        return z.get(L);
      }
      function U(L, z, Q) {
        if (!z.has(L))
          throw new TypeError("attempted to set private field on non-instance");
        return z.set(L, Q), Q;
      }
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(89)), c = l(n(4)), h2 = l(n(26)), m = l(n(17)), g = l(n(121)), w = l(n(27)), R = l(n(91)), A = l(n(70)), E = l(n(28)), b = l(n(57));
      (0, f.default)(o, "__esModule", { value: true }), o.DomElement = void 0;
      var v = n(2), y = n(6), T = [];
      function x(O) {
        var S = document.createElement("div");
        S.innerHTML = O;
        var F = S.children;
        return y.toArray(F);
      }
      function D(O) {
        return O ? O instanceof HTMLCollection || O instanceof NodeList : false;
      }
      function I(O) {
        var S = document.querySelectorAll(O);
        return y.toArray(S);
      }
      function N(O) {
        var S = [], F = [];
        return (0, d.default)(O) ? S = O : S = O.split(";"), (0, c.default)(S).call(S, function($) {
          var U, L = (0, h2.default)(U = $.split(":")).call(U, function(z) {
            return (0, m.default)(z).call(z);
          });
          L.length === 2 && F.push(L[0] + ":" + L[1]);
        }), F;
      }
      var C = function() {
        function O(S) {
          if (this.elems = [], this.length = this.elems.length, this.dataSource = new g.default(), !!S) {
            if (S instanceof O)
              return S;
            var F = [], $ = S instanceof Node ? S.nodeType : -1;
            if (this.selector = S, $ === 1 || $ === 9)
              F = [S];
            else if (D(S))
              F = y.toArray(S);
            else if (S instanceof Array)
              F = S;
            else if (typeof S == "string") {
              var U, L = (0, m.default)(U = S.replace(`/
/mg`, "")).call(U);
              (0, w.default)(L).call(L, "<") === 0 ? F = x(L) : F = I(L);
            }
            var z = F.length;
            if (!z)
              return this;
            for (var Q = 0; Q < z; Q++)
              this.elems.push(F[Q]);
            this.length = z;
          }
        }
        return (0, f.default)(O.prototype, "id", {
          get: function() {
            return this.elems[0].id;
          },
          enumerable: false,
          configurable: true
        }), O.prototype.forEach = function(S) {
          for (var F = 0; F < this.length; F++) {
            var $ = this.elems[F], U = S.call($, $, F);
            if (U === false)
              break;
          }
          return this;
        }, O.prototype.clone = function(S) {
          var F;
          S === void 0 && (S = false);
          var $ = [];
          return (0, c.default)(F = this.elems).call(F, function(U) {
            $.push(U.cloneNode(!!S));
          }), B($);
        }, O.prototype.get = function(S) {
          S === void 0 && (S = 0);
          var F = this.length;
          return S >= F && (S = S % F), B(this.elems[S]);
        }, O.prototype.first = function() {
          return this.get(0);
        }, O.prototype.last = function() {
          var S = this.length;
          return this.get(S - 1);
        }, O.prototype.on = function(S, F, $) {
          var U;
          return S ? (typeof F == "function" && ($ = F, F = ""), (0, c.default)(U = this).call(U, function(L) {
            if (!F) {
              L.addEventListener(S, $);
              return;
            }
            var z = function(J) {
              var ae = J.target;
              ae.matches(F) && $.call(ae, J);
            };
            L.addEventListener(S, z), T.push({ elem: L, selector: F, fn: $, agentFn: z });
          })) : this;
        }, O.prototype.off = function(S, F, $) {
          var U;
          return S ? (typeof F == "function" && ($ = F, F = ""), (0, c.default)(U = this).call(U, function(L) {
            if (F) {
              for (var z = -1, Q = 0; Q < T.length; Q++) {
                var J = T[Q];
                if (J.selector === F && J.fn === $ && J.elem === L) {
                  z = Q;
                  break;
                }
              }
              if (z !== -1) {
                var ae = (0, R.default)(T).call(T, z, 1)[0].agentFn;
                L.removeEventListener(S, ae);
              }
            } else
              L.removeEventListener(S, $);
          })) : this;
        }, O.prototype.attr = function(S, F) {
          var $;
          return F == null ? this.elems[0].getAttribute(S) || "" : (0, c.default)($ = this).call($, function(U) {
            U.setAttribute(S, F);
          });
        }, O.prototype.removeAttr = function(S) {
          var F;
          (0, c.default)(F = this).call(F, function($) {
            $.removeAttribute(S);
          });
        }, O.prototype.addClass = function(S) {
          var F;
          return S ? (0, c.default)(F = this).call(F, function($) {
            if ($.className) {
              var U = $.className.split(/\s/);
              U = (0, A.default)(U).call(U, function(L) {
                return !!(0, m.default)(L).call(L);
              }), (0, w.default)(U).call(U, S) < 0 && U.push(S), $.className = U.join(" ");
            } else
              $.className = S;
          }) : this;
        }, O.prototype.removeClass = function(S) {
          var F;
          return S ? (0, c.default)(F = this).call(F, function($) {
            if (!!$.className) {
              var U = $.className.split(/\s/);
              U = (0, A.default)(U).call(U, function(L) {
                return L = (0, m.default)(L).call(L), !(!L || L === S);
              }), $.className = U.join(" ");
            }
          }) : this;
        }, O.prototype.hasClass = function(S) {
          if (!S)
            return false;
          var F = this.elems[0];
          if (!F.className)
            return false;
          var $ = F.className.split(/\s/);
          return (0, E.default)($).call($, S);
        }, O.prototype.css = function(S, F) {
          var $, U;
          return F == "" ? U = "" : U = S + ":" + F + ";", (0, c.default)($ = this).call($, function(L) {
            var z, Q = (0, m.default)(z = L.getAttribute("style") || "").call(z);
            if (Q) {
              var J = N(Q);
              J = (0, h2.default)(J).call(J, function(ae) {
                return (0, w.default)(ae).call(ae, S) === 0 ? U : ae;
              }), U != "" && (0, w.default)(J).call(J, U) < 0 && J.push(U), U == "" && (J = N(J)), L.setAttribute("style", J.join("; "));
            } else
              L.setAttribute("style", U);
          });
        }, O.prototype.getBoundingClientRect = function() {
          var S = this.elems[0];
          return S.getBoundingClientRect();
        }, O.prototype.show = function() {
          return this.css("display", "block");
        }, O.prototype.hide = function() {
          return this.css("display", "none");
        }, O.prototype.children = function() {
          var S = this.elems[0];
          return S ? B(S.children) : null;
        }, O.prototype.childNodes = function() {
          var S = this.elems[0];
          return S ? B(S.childNodes) : null;
        }, O.prototype.replaceChildAll = function(S) {
          for (var F = this.getNode(), $ = this.elems[0]; $.hasChildNodes(); )
            F.firstChild && $.removeChild(F.firstChild);
          this.append(S);
        }, O.prototype.append = function(S) {
          var F;
          return (0, c.default)(F = this).call(F, function($) {
            (0, c.default)(S).call(S, function(U) {
              $.appendChild(U);
            });
          });
        }, O.prototype.remove = function() {
          var S;
          return (0, c.default)(S = this).call(S, function(F) {
            if (F.remove)
              F.remove();
            else {
              var $ = F.parentElement;
              $ && $.removeChild(F);
            }
          });
        }, O.prototype.isContain = function(S) {
          var F = this.elems[0], $ = S.elems[0];
          return F.contains($);
        }, O.prototype.getNodeName = function() {
          var S = this.elems[0];
          return S.nodeName;
        }, O.prototype.getNode = function(S) {
          S === void 0 && (S = 0);
          var F;
          return F = this.elems[S], F;
        }, O.prototype.find = function(S) {
          var F = this.elems[0];
          return B(F.querySelectorAll(S));
        }, O.prototype.text = function(S) {
          if (S) {
            var $;
            return (0, c.default)($ = this).call($, function(U) {
              U.innerHTML = S;
            });
          } else {
            var F = this.elems[0];
            return F.innerHTML.replace(/<[^>]+>/g, function() {
              return "";
            });
          }
        }, O.prototype.html = function(S) {
          var F = this.elems[0];
          return S ? (F.innerHTML = S, this) : F.innerHTML;
        }, O.prototype.val = function() {
          var S, F = this.elems[0];
          return (0, m.default)(S = F.value).call(S);
        }, O.prototype.focus = function() {
          var S;
          return (0, c.default)(S = this).call(S, function(F) {
            F.focus();
          });
        }, O.prototype.prev = function() {
          var S = this.elems[0];
          return B(S.previousElementSibling);
        }, O.prototype.next = function() {
          var S = this.elems[0];
          return B(S.nextElementSibling);
        }, O.prototype.getNextSibling = function() {
          var S = this.elems[0];
          return B(S.nextSibling);
        }, O.prototype.parent = function() {
          var S = this.elems[0];
          return B(S.parentElement);
        }, O.prototype.parentUntil = function(S, F) {
          var $ = F || this.elems[0];
          if ($.nodeName === "BODY")
            return null;
          var U = $.parentElement;
          return U === null ? null : U.matches(S) ? B(U) : this.parentUntil(S, U);
        }, O.prototype.parentUntilEditor = function(S, F, $) {
          var U = $ || this.elems[0];
          if (B(U).equal(F.$textContainerElem) || B(U).equal(F.$toolbarElem))
            return null;
          var L = U.parentElement;
          return L === null ? null : L.matches(S) ? B(L) : this.parentUntilEditor(S, F, L);
        }, O.prototype.equal = function(S) {
          return S instanceof O ? this.elems[0] === S.elems[0] : S instanceof HTMLElement ? this.elems[0] === S : false;
        }, O.prototype.insertBefore = function(S) {
          var F, $ = B(S), U = $.elems[0];
          return U ? (0, c.default)(F = this).call(F, function(L) {
            var z = U.parentNode;
            z == null || z.insertBefore(L, U);
          }) : this;
        }, O.prototype.insertAfter = function(S) {
          var F, $ = B(S), U = $.elems[0], L = U && U.nextSibling;
          return U ? (0, c.default)(F = this).call(F, function(z) {
            var Q = U.parentNode;
            L ? Q.insertBefore(z, L) : Q.appendChild(z);
          }) : this;
        }, O.prototype.data = function(S, F) {
          if (F != null)
            this.dataSource.set(S, F);
          else
            return this.dataSource.get(S);
        }, O.prototype.getNodeTop = function(S) {
          if (this.length < 1)
            return this;
          var F = this.parent();
          return S.$textElem.equal(this) || S.$textElem.equal(F) ? this : (F.prior = this, F.getNodeTop(S));
        }, O.prototype.getOffsetData = function() {
          var S = this.elems[0];
          return { top: S.offsetTop, left: S.offsetLeft, width: S.offsetWidth, height: S.offsetHeight, parent: S.offsetParent };
        }, O.prototype.scrollTop = function(S) {
          var F = this.elems[0];
          F.scrollTo({ top: S });
        }, O;
      }();
      o.DomElement = C;
      function B() {
        for (var O = [], S = 0; S < arguments.length; S++)
          O[S] = arguments[S];
        return new ((0, b.default)(C).apply(C, v.__spreadArrays([void 0], O)))();
      }
      o.default = B;
    }, function(a, o, n) {
      a.exports = n(180);
    }, function(a, o, n) {
      var l = n(8), f = n(71).f, d = n(101), c = n(9), h2 = n(40), m = n(19), g = n(16), w = function(A) {
        var E = function(v, y, T) {
          if (this instanceof A) {
            switch (arguments.length) {
              case 0:
                return new A();
              case 1:
                return new A(v);
              case 2:
                return new A(v, y);
            }
            return new A(v, y, T);
          }
          return A.apply(this, arguments);
        };
        return E.prototype = A.prototype, E;
      };
      a.exports = function(R, A) {
        var E = R.target, b = R.global, v = R.stat, y = R.proto, T = b ? l : v ? l[E] : (l[E] || {}).prototype, x = b ? c : c[E] || (c[E] = {}), D = x.prototype, I, N, C, B, O, S, F, $, U;
        for (B in A)
          I = d(b ? B : E + (v ? "." : "#") + B, R.forced), N = !I && T && g(T, B), S = x[B], N && (R.noTargetGet ? (U = f(T, B), F = U && U.value) : F = T[B]), O = N && F ? F : A[B], !(N && Gt(S) === Gt(O)) && (R.bind && N ? $ = h2(O, l) : R.wrap && N ? $ = w(O) : y && typeof O == "function" ? $ = h2(Function.call, O) : $ = O, (R.sham || O && O.sham || S && S.sham) && m($, "sham", true), x[B] = $, y && (C = E + "Prototype", g(c, C) || m(c, C, {}), c[C][B] = O, R.real && D && !D[B] && m(D, B, O)));
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(92)), d = l(n(1)), c = l(n(256)), h2 = l(n(45)), m = l(n(46)), g = l(n(89)), w = l(n(26));
      (0, d.default)(o, "__esModule", { value: true }), o.hexToRgb = o.getRandomCode = o.toArray = o.deepClone = o.isFunction = o.debounce = o.throttle = o.arrForEach = o.forEach = o.replaceSpecialSymbol = o.replaceHtmlSymbol = o.getRandom = o.UA = void 0;
      var R = n(2), A = function() {
        function S() {
          this._ua = navigator.userAgent;
          var F = this._ua.match(/(Edge?)\/(\d+)/);
          this.isOldEdge = !!(F && F[1] == "Edge" && (0, c.default)(F[2]) < 19), this.isFirefox = !!(/Firefox\/\d+/.test(this._ua) && !/Seamonkey\/\d+/.test(this._ua));
        }
        return S.prototype.isIE = function() {
          return "ActiveXObject" in window;
        }, S.prototype.isWebkit = function() {
          return /webkit/i.test(this._ua);
        }, S;
      }();
      o.UA = new A();
      function E(S) {
        var F;
        return S === void 0 && (S = ""), S + (0, h2.default)(F = Math.random().toString()).call(F, 2);
      }
      o.getRandom = E;
      function b(S) {
        return S.replace(/</gm, "&lt;").replace(/>/gm, "&gt;").replace(/"/gm, "&quot;").replace(/(\r\n|\r|\n)/g, "<br/>");
      }
      o.replaceHtmlSymbol = b;
      function v(S) {
        return S.replace(/&lt;/gm, "<").replace(/&gt;/gm, ">").replace(/&quot;/gm, '"');
      }
      o.replaceSpecialSymbol = v;
      function y(S, F) {
        for (var $ in S)
          if (Object.prototype.hasOwnProperty.call(S, $)) {
            var U = F($, S[$]);
            if (U === false)
              break;
          }
      }
      o.forEach = y;
      function T(S, F) {
        var $, U, L, z = S.length || 0;
        for ($ = 0; $ < z && (U = S[$], L = F.call(S, U, $), L !== false); $++)
          ;
      }
      o.arrForEach = T;
      function x(S, F) {
        F === void 0 && (F = 200);
        var $ = false;
        return function() {
          for (var U = this, L = [], z = 0; z < arguments.length; z++)
            L[z] = arguments[z];
          $ || ($ = true, (0, m.default)(function() {
            $ = false, S.call.apply(S, R.__spreadArrays([U], L));
          }, F));
        };
      }
      o.throttle = x;
      function D(S, F) {
        F === void 0 && (F = 200);
        var $ = 0;
        return function() {
          for (var U = this, L = [], z = 0; z < arguments.length; z++)
            L[z] = arguments[z];
          $ && window.clearTimeout($), $ = (0, m.default)(function() {
            $ = 0, S.call.apply(S, R.__spreadArrays([U], L));
          }, F);
        };
      }
      o.debounce = D;
      function I(S) {
        return typeof S == "function";
      }
      o.isFunction = I;
      function N(S) {
        if ((0, f.default)(S) !== "object" || typeof S == "function" || S === null)
          return S;
        var F;
        (0, g.default)(S) && (F = []), (0, g.default)(S) || (F = {});
        for (var $ in S)
          Object.prototype.hasOwnProperty.call(S, $) && (F[$] = N(S[$]));
        return F;
      }
      o.deepClone = N;
      function C(S) {
        return (0, h2.default)(Array.prototype).call(S);
      }
      o.toArray = C;
      function B() {
        var S;
        return (0, h2.default)(S = Math.random().toString(36)).call(S, -5);
      }
      o.getRandomCode = B;
      function O(S) {
        var F = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(S);
        if (F == null)
          return null;
        var $ = (0, w.default)(F).call(F, function(Q) {
          return (0, c.default)(Q, 16);
        }), U = $[1], L = $[2], z = $[3];
        return "rgb(" + U + ", " + L + ", " + z + ")";
      }
      o.hexToRgb = O;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.EMPTY_P_REGEX = o.EMPTY_P_LAST_REGEX = o.EMPTY_P = o.urlRegex = o.EMPTY_FN = void 0;
      function d() {
      }
      o.EMPTY_FN = d, o.urlRegex = /(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#])?/g, o.EMPTY_P = '<p data-we-empty-p=""><br></p>', o.EMPTY_P_LAST_REGEX = /<p data-we-empty-p=""><br\/?><\/p>$/gim, o.EMPTY_P_REGEX = /<p data-we-empty-p="">/gim;
    }, function(a, o, n) {
      (function(l) {
        var f = function(c) {
          return c && c.Math == Math && c;
        };
        a.exports = f((typeof globalThis > "u" ? "undefined" : Gt(globalThis)) == "object" && globalThis) || f((typeof window > "u" ? "undefined" : Gt(window)) == "object" && window) || f((typeof self > "u" ? "undefined" : Gt(self)) == "object" && self) || f(Gt(l) == "object" && l) || Function("return this")();
      }).call(this, n(145));
    }, function(a, o) {
      a.exports = {};
    }, function(a, o, n) {
      var l = n(8), f = n(74), d = n(16), c = n(64), h2 = n(76), m = n(106), g = f("wks"), w = l.Symbol, R = m ? w : w && w.withoutSetter || c;
      a.exports = function(A) {
        return d(g, A) || (h2 && d(w, A) ? g[A] = w[A] : g[A] = R("Symbol." + A)), g[A];
      };
    }, function(a, o) {
      a.exports = function(n) {
        try {
          return !!n();
        } catch {
          return true;
        }
      };
    }, function(a, o, n) {
      var l = n(9), f = n(16), d = n(93), c = n(18).f;
      a.exports = function(h2) {
        var m = l.Symbol || (l.Symbol = {});
        f(m, h2) || c(m, h2, { value: d.f(h2) });
      };
    }, function(a, o) {
      a.exports = function(n) {
        return Gt(n) === "object" ? n !== null : typeof n == "function";
      };
    }, function(a, o, n) {
      var l = n(11);
      a.exports = !l(function() {
        return Object.defineProperty({}, 1, { get: function() {
          return 7;
        } })[1] != 7;
      });
    }, function(a, o, n) {
      var l = n(9);
      a.exports = function(f) {
        return l[f + "Prototype"];
      };
    }, function(a, o) {
      var n = {}.hasOwnProperty;
      a.exports = function(l, f) {
        return n.call(l, f);
      };
    }, function(a, o, n) {
      a.exports = n(192);
    }, function(a, o, n) {
      var l = n(14), f = n(100), d = n(25), c = n(60), h2 = Object.defineProperty;
      o.f = l ? h2 : function(g, w, R) {
        if (d(g), w = c(w, true), d(R), f)
          try {
            return h2(g, w, R);
          } catch {
          }
        if ("get" in R || "set" in R)
          throw TypeError("Accessors not supported");
        return "value" in R && (g[w] = R.value), g;
      };
    }, function(a, o, n) {
      var l = n(14), f = n(18), d = n(48);
      a.exports = l ? function(c, h2, m) {
        return f.f(c, h2, d(1, m));
      } : function(c, h2, m) {
        return c[h2] = m, c;
      };
    }, function(a, o, n) {
      var l = /* @__PURE__ */ function() {
        var T;
        return function() {
          return typeof T > "u" && (T = Boolean(window && document && document.all && !window.atob)), T;
        };
      }(), f = /* @__PURE__ */ function() {
        var T = {};
        return function(D) {
          if (typeof T[D] > "u") {
            var I = document.querySelector(D);
            if (window.HTMLIFrameElement && I instanceof window.HTMLIFrameElement)
              try {
                I = I.contentDocument.head;
              } catch {
                I = null;
              }
            T[D] = I;
          }
          return T[D];
        };
      }(), d = [];
      function c(y) {
        for (var T = -1, x = 0; x < d.length; x++)
          if (d[x].identifier === y) {
            T = x;
            break;
          }
        return T;
      }
      function h2(y, T) {
        for (var x = {}, D = [], I = 0; I < y.length; I++) {
          var N = y[I], C = T.base ? N[0] + T.base : N[0], B = x[C] || 0, O = "".concat(C, " ").concat(B);
          x[C] = B + 1;
          var S = c(O), F = { css: N[1], media: N[2], sourceMap: N[3] };
          S !== -1 ? (d[S].references++, d[S].updater(F)) : d.push({ identifier: O, updater: v(F, T), references: 1 }), D.push(O);
        }
        return D;
      }
      function m(y) {
        var T = document.createElement("style"), x = y.attributes || {};
        if (typeof x.nonce > "u") {
          var D = n.nc;
          D && (x.nonce = D);
        }
        if (Object.keys(x).forEach(function(N) {
          T.setAttribute(N, x[N]);
        }), typeof y.insert == "function")
          y.insert(T);
        else {
          var I = f(y.insert || "head");
          if (!I)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
          I.appendChild(T);
        }
        return T;
      }
      function g(y) {
        if (y.parentNode === null)
          return false;
        y.parentNode.removeChild(y);
      }
      var w = /* @__PURE__ */ function() {
        var T = [];
        return function(D, I) {
          return T[D] = I, T.filter(Boolean).join(`
`);
        };
      }();
      function R(y, T, x, D) {
        var I = x ? "" : D.media ? "@media ".concat(D.media, " {").concat(D.css, "}") : D.css;
        if (y.styleSheet)
          y.styleSheet.cssText = w(T, I);
        else {
          var N = document.createTextNode(I), C = y.childNodes;
          C[T] && y.removeChild(C[T]), C.length ? y.insertBefore(N, C[T]) : y.appendChild(N);
        }
      }
      function A(y, T, x) {
        var D = x.css, I = x.media, N = x.sourceMap;
        if (I ? y.setAttribute("media", I) : y.removeAttribute("media"), N && typeof btoa < "u" && (D += `
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(N)))), " */")), y.styleSheet)
          y.styleSheet.cssText = D;
        else {
          for (; y.firstChild; )
            y.removeChild(y.firstChild);
          y.appendChild(document.createTextNode(D));
        }
      }
      var E = null, b = 0;
      function v(y, T) {
        var x, D, I;
        if (T.singleton) {
          var N = b++;
          x = E || (E = m(T)), D = R.bind(null, x, N, false), I = R.bind(null, x, N, true);
        } else
          x = m(T), D = A.bind(null, x, T), I = function() {
            g(x);
          };
        return D(y), function(B) {
          if (B) {
            if (B.css === y.css && B.media === y.media && B.sourceMap === y.sourceMap)
              return;
            D(y = B);
          } else
            I();
        };
      }
      a.exports = function(y, T) {
        T = T || {}, !T.singleton && typeof T.singleton != "boolean" && (T.singleton = l()), y = y || [];
        var x = h2(y, T);
        return function(I) {
          if (I = I || [], Object.prototype.toString.call(I) === "[object Array]") {
            for (var N = 0; N < x.length; N++) {
              var C = x[N], B = c(C);
              d[B].references--;
            }
            for (var O = h2(I, T), S = 0; S < x.length; S++) {
              var F = x[S], $ = c(F);
              d[$].references === 0 && (d[$].updater(), d.splice($, 1));
            }
            x = O;
          }
        };
      };
    }, function(a, o, n) {
      a.exports = function(d) {
        var c = [];
        return c.toString = function() {
          return this.map(function(m) {
            var g = l(m, d);
            return m[2] ? "@media ".concat(m[2], " {").concat(g, "}") : g;
          }).join("");
        }, c.i = function(h2, m, g) {
          typeof h2 == "string" && (h2 = [[null, h2, ""]]);
          var w = {};
          if (g)
            for (var R = 0; R < this.length; R++) {
              var A = this[R][0];
              A != null && (w[A] = true);
            }
          for (var E = 0; E < h2.length; E++) {
            var b = [].concat(h2[E]);
            g && w[b[0]] || (m && (b[2] ? b[2] = "".concat(m, " and ").concat(b[2]) : b[2] = m), c.push(b));
          }
        }, c;
      };
      function l(d, c) {
        var h2 = d[1] || "", m = d[3];
        if (!m)
          return h2;
        if (c && typeof btoa == "function") {
          var g = f(m), w = m.sources.map(function(R) {
            return "/*# sourceURL=".concat(m.sourceRoot || "").concat(R, " */");
          });
          return [h2].concat(w).concat([g]).join(`
`);
        }
        return [h2].join(`
`);
      }
      function f(d) {
        var c = btoa(unescape(encodeURIComponent(JSON.stringify(d)))), h2 = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c);
        return "/*# ".concat(h2, " */");
      }
    }, function(a, o, n) {
      var l = n(14), f = n(11), d = n(16), c = Object.defineProperty, h2 = {}, m = function(w) {
        throw w;
      };
      a.exports = function(g, w) {
        if (d(h2, g))
          return h2[g];
        w || (w = {});
        var R = [][g], A = d(w, "ACCESSORS") ? w.ACCESSORS : false, E = d(w, 0) ? w[0] : m, b = d(w, 1) ? w[1] : void 0;
        return h2[g] = !!R && !f(function() {
          if (A && !l)
            return true;
          var v = { length: -1 };
          A ? c(v, 1, { enumerable: true, get: m }) : v[1] = 1, R.call(v, E, b);
        });
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(95)), h2 = function(m) {
        d.__extends(g, m);
        function g(w, R) {
          return m.call(this, w, R) || this;
        }
        return g;
      }(c.default);
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(46));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(3)), g = h2.__importDefault(n(95)), w = h2.__importDefault(n(134)), R = function(A) {
        h2.__extends(E, A);
        function E(b, v, y) {
          var T = A.call(this, b, v) || this;
          y.title = v.i18next.t("menus.dropListMenu." + y.title);
          var x = v.config.lang === "zh-CN" ? "" : "w-e-drop-list-tl";
          if (x !== "" && y.type === "list") {
            var D;
            (0, d.default)(D = y.list).call(D, function(N) {
              var C = N.$elem, B = m.default(C.children());
              if (B.length > 0) {
                var O = B == null ? void 0 : B.getNodeName();
                O && O === "I" && C.addClass(x);
              }
            });
          }
          var I = new w.default(T, y);
          return T.dropList = I, b.on("click", function() {
            var N;
            v.selection.getRange() != null && (b.css("z-index", v.zIndex.get("menu")), (0, d.default)(N = v.txt.eventHooks.dropListMenuHoverEvents).call(N, function(C) {
              return C();
            }), I.show());
          }).on("mouseleave", function() {
            b.css("z-index", "auto"), I.hideTimeoutId = (0, c.default)(function() {
              I.hide();
            });
          }), T;
        }
        return E;
      }(g.default);
      o.default = R;
    }, function(a, o, n) {
      var l = n(13);
      a.exports = function(f) {
        if (!l(f))
          throw TypeError(String(f) + " is not an object");
        return f;
      };
    }, function(a, o, n) {
      a.exports = n(188);
    }, function(a, o, n) {
      a.exports = n(201);
    }, function(a, o, n) {
      a.exports = n(213);
    }, function(a, o, n) {
      a.exports = n(283);
    }, function(a, o, n) {
      var l = n(72), f = n(49);
      a.exports = function(d) {
        return l(f(d));
      };
    }, function(a, o, n) {
      var l = n(49);
      a.exports = function(f) {
        return Object(l(f));
      };
    }, function(a, o, n) {
      var l = n(40), f = n(72), d = n(31), c = n(35), h2 = n(88), m = [].push, g = function(R) {
        var A = R == 1, E = R == 2, b = R == 3, v = R == 4, y = R == 6, T = R == 5 || y;
        return function(x, D, I, N) {
          for (var C = d(x), B = f(C), O = l(D, I, 3), S = c(B.length), F = 0, $ = N || h2, U = A ? $(x, S) : E ? $(x, 0) : void 0, L, z; S > F; F++)
            if ((T || F in B) && (L = B[F], z = O(L, F, C), R)) {
              if (A)
                U[F] = z;
              else if (z)
                switch (R) {
                  case 3:
                    return true;
                  case 5:
                    return L;
                  case 6:
                    return F;
                  case 2:
                    m.call(U, L);
                }
              else if (v)
                return false;
            }
          return y ? -1 : b || v ? v : U;
        };
      };
      a.exports = {
        forEach: g(0),
        map: g(1),
        filter: g(2),
        some: g(3),
        every: g(4),
        find: g(5),
        findIndex: g(6)
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(29)), h2 = l(n(132));
      (0, f.default)(o, "__esModule", { value: true });
      var m = n(2), g = m.__importDefault(n(3)), w = n(7), R = function() {
        function A(E, b) {
          this.menu = E, this.conf = b, this.$container = g.default('<div class="w-e-panel-container"></div>');
          var v = E.editor;
          v.txt.eventHooks.clickEvents.push(A.hideCurAllPanels), v.txt.eventHooks.toolbarClickEvents.push(A.hideCurAllPanels), v.txt.eventHooks.dropListMenuHoverEvents.push(A.hideCurAllPanels);
        }
        return A.prototype.create = function() {
          var E = this, b = this.menu;
          if (!A.createdMenus.has(b)) {
            var v = this.conf, y = this.$container, T = v.width || 300, x = b.editor.$toolbarElem.getBoundingClientRect(), D = b.$elem.getBoundingClientRect(), I = x.height + x.top - D.top, N = (x.width - T) / 2 + x.left - D.left, C = 300;
            Math.abs(N) > C && (D.left < document.documentElement.clientWidth / 2 ? N = -D.width / 2 : N = -T + D.width / 2), y.css("width", T + "px").css("margin-top", I + "px").css("margin-left", N + "px").css("z-index", b.editor.zIndex.get("panel"));
            var B = g.default('<i class="w-e-icon-close w-e-panel-close"></i>');
            y.append(B), B.on("click", function() {
              E.remove();
            });
            var O = g.default('<ul class="w-e-panel-tab-title"></ul>'), S = g.default('<div class="w-e-panel-tab-content"></div>');
            y.append(O).append(S);
            var F = v.height;
            F && S.css("height", F + "px").css("overflow-y", "auto");
            var $ = v.tabs || [], U = [], L = [];
            (0, d.default)($).call($, function(Q, J) {
              if (!!Q) {
                var ae = Q.title || "", M = Q.tpl || "", V = g.default('<li class="w-e-item">' + ae + "</li>");
                O.append(V);
                var K = g.default(M);
                S.append(K), U.push(V), L.push(K), J === 0 ? (V.data("active", true), V.addClass("w-e-active")) : K.hide(), V.on("click", function() {
                  V.data("active") || ((0, d.default)(U).call(U, function(G) {
                    G.data("active", false), G.removeClass("w-e-active");
                  }), (0, d.default)(L).call(L, function(G) {
                    G.hide();
                  }), V.data("active", true), V.addClass("w-e-active"), K.show());
                });
              }
            }), y.on("click", function(Q) {
              Q.stopPropagation();
            }), b.$elem.append(y), v.setLinkValue && v.setLinkValue(y, "text"), v.setLinkValue && v.setLinkValue(y, "link"), (0, d.default)($).call($, function(Q, J) {
              if (!!Q) {
                var ae = Q.events || [];
                (0, d.default)(ae).call(ae, function(M) {
                  var V, K = M.selector, G = M.type, Z = M.fn || w.EMPTY_FN, ue = L[J], pe = (V = M.bindEnter) !== null && V !== void 0 ? V : false, ce = function(ne) {
                    return m.__awaiter(E, void 0, void 0, function() {
                      var be;
                      return m.__generator(this, function(we) {
                        switch (we.label) {
                          case 0:
                            return ne.stopPropagation(), [
                              4,
                              Z(ne)
                            ];
                          case 1:
                            return be = we.sent(), be && this.remove(), [2];
                        }
                      });
                    });
                  };
                  (0, c.default)(ue).call(ue, K).on(G, ce), pe && G === "click" && ue.on("keyup", function(fe) {
                    fe.keyCode == 13 && ce(fe);
                  });
                });
              }
            });
            var z = (0, c.default)(y).call(y, "input[type=text],textarea");
            z.length && z.get(0).focus(), A.hideCurAllPanels(), b.setPanel(this), A.createdMenus.add(b);
          }
        }, A.prototype.remove = function() {
          var E = this.menu, b = this.$container;
          b && b.remove(), A.createdMenus.delete(E);
        }, A.hideCurAllPanels = function() {
          var E;
          A.createdMenus.size !== 0 && (0, d.default)(E = A.createdMenus).call(E, function(b) {
            var v = b.panel;
            v && v.remove();
          });
        }, A.createdMenus = new h2.default(), A;
      }();
      o.default = R;
    }, function(a, o) {
      var n = {}.toString;
      a.exports = function(l) {
        return n.call(l).slice(8, -1);
      };
    }, function(a, o, n) {
      var l = n(62), f = Math.min;
      a.exports = function(d) {
        return d > 0 ? f(l(d), 9007199254740991) : 0;
      };
    }, function(a, o, n) {
      var l = n(9), f = n(8), d = function(h2) {
        return typeof h2 == "function" ? h2 : void 0;
      };
      a.exports = function(c, h2) {
        return arguments.length < 2 ? d(l[c]) || d(f[c]) : l[c] && l[c][h2] || f[c] && f[c][h2];
      };
    }, function(a, o, n) {
      var l = n(81), f = n(18).f, d = n(19), c = n(16), h2 = n(170), m = n(10), g = m("toStringTag");
      a.exports = function(w, R, A, E) {
        if (w) {
          var b = A ? w : w.prototype;
          c(b, g) || f(b, g, { configurable: true, value: R }), E && !l && d(b, "toString", h2);
        }
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(95)), h2 = function(m) {
        d.__extends(g, m);
        function g(w, R) {
          return m.call(this, w, R) || this;
        }
        return g.prototype.setPanel = function(w) {
          this.panel = w;
        }, g;
      }(c.default);
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(57));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(3)), g = function() {
        function w(R, A, E) {
          this.editor = R, this.$targetElem = A, this.conf = E, this._show = false, this._isInsertTextContainer = false;
          var b = m.default("<div></div>");
          b.addClass("w-e-tooltip"), this.$container = b;
        }
        return w.prototype.getPositionData = function() {
          var R = this.$container, A = 0, E = 0, b = 20, v = document.documentElement.scrollTop, y = this.$targetElem.getBoundingClientRect(), T = this.editor.$textElem.getBoundingClientRect(), x = this.$targetElem.getOffsetData(), D = m.default(x.parent), I = this.editor.$textElem.elems[0].scrollTop;
          if (this._isInsertTextContainer = D.equal(this.editor.$textContainerElem), this._isInsertTextContainer) {
            var N = D.getBoundingClientRect().height, C = x.top, B = x.left, O = x.height, S = C - I;
            S > b + 5 ? (A = S - b - 15, R.addClass("w-e-tooltip-up")) : S + O + b < N ? (A = S + O + 10, R.addClass("w-e-tooltip-down")) : (A = (S > 0 ? S : 0) + b + 10, R.addClass("w-e-tooltip-down")), B < 0 ? E = 0 : E = B;
          } else
            y.top < b || y.top - T.top < b ? (A = y.bottom + v + 5, R.addClass("w-e-tooltip-down")) : (A = y.top + v - b - 15, R.addClass("w-e-tooltip-up")), y.left < 0 ? E = 0 : E = y.left;
          return { top: A, left: E };
        }, w.prototype.appendMenus = function() {
          var R = this, A = this.conf, E = this.editor, b = this.$targetElem, v = this.$container;
          (0, d.default)(A).call(A, function(y, T) {
            var x = y.$elem, D = m.default("<div></div>");
            D.addClass("w-e-tooltip-item-wrapper "), D.append(x), v.append(D), x.on("click", function(I) {
              I.preventDefault();
              var N = y.onClick(E, b);
              N && R.remove();
            });
          });
        }, w.prototype.create = function() {
          var R, A, E = this.editor, b = this.$container;
          this.appendMenus();
          var v = this.getPositionData(), y = v.top, T = v.left;
          b.css("top", y + "px"), b.css("left", T + "px"), b.css("z-index", E.zIndex.get("tooltip")), this._isInsertTextContainer ? this.editor.$textContainerElem.append(b) : m.default("body").append(b), this._show = true, E.beforeDestroy((0, c.default)(R = this.remove).call(R, this)), E.txt.eventHooks.onBlurEvents.push((0, c.default)(A = this.remove).call(A, this));
        }, w.prototype.remove = function() {
          this.$container.remove(), this._show = false;
        }, (0, f.default)(w.prototype, "isShow", {
          get: function() {
            return this._show;
          },
          enumerable: false,
          configurable: true
        }), w;
      }();
      o.default = g;
    }, function(a, o, n) {
      var l = n(41);
      a.exports = function(f, d, c) {
        if (l(f), d === void 0)
          return f;
        switch (c) {
          case 0:
            return function() {
              return f.call(d);
            };
          case 1:
            return function(h2) {
              return f.call(d, h2);
            };
          case 2:
            return function(h2, m) {
              return f.call(d, h2, m);
            };
          case 3:
            return function(h2, m, g) {
              return f.call(d, h2, m, g);
            };
        }
        return function() {
          return f.apply(d, arguments);
        };
      };
    }, function(a, o) {
      a.exports = function(n) {
        if (typeof n != "function")
          throw TypeError(String(n) + " is not a function");
        return n;
      };
    }, function(a, o, n) {
      var l = n(165), f = n(8), d = n(13), c = n(19), h2 = n(16), m = n(63), g = n(51), w = f.WeakMap, R, A, E, b = function(C) {
        return E(C) ? A(C) : R(C, {});
      }, v = function(C) {
        return function(B) {
          var O;
          if (!d(B) || (O = A(B)).type !== C)
            throw TypeError("Incompatible receiver, " + C + " required");
          return O;
        };
      };
      if (l) {
        var y = new w(), T = y.get, x = y.has, D = y.set;
        R = function(C, B) {
          return D.call(y, C, B), B;
        }, A = function(C) {
          return T.call(y, C) || {};
        }, E = function(C) {
          return x.call(y, C);
        };
      } else {
        var I = m("state");
        g[I] = true, R = function(C, B) {
          return c(C, I, B), B;
        }, A = function(C) {
          return h2(C, I) ? C[I] : {};
        }, E = function(C) {
          return h2(C, I);
        };
      }
      a.exports = { set: R, get: A, has: E, enforce: b, getterFor: v };
    }, function(a, o) {
      a.exports = true;
    }, function(a, o) {
      a.exports = {};
    }, function(a, o, n) {
      a.exports = n(261);
    }, function(a, o, n) {
      a.exports = n(265);
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true }), o.createElementFragment = o.createDocumentFragment = o.createElement = o.insertBefore = o.getEndPoint = o.getStartPoint = o.updateRange = o.filterSelectionNodes = void 0;
      var c = n(2), h2 = n(137), m = c.__importDefault(n(3));
      function g(T) {
        var x = [];
        return (0, d.default)(T).call(T, function(D) {
          var I = D.getNodeName();
          if (I !== h2.ListType.OrderedList && I !== h2.ListType.UnorderedList)
            x.push(D);
          else if (D.prior)
            x.push(D.prior);
          else {
            var N = D.children();
            N == null || (0, d.default)(N).call(N, function(C) {
              x.push(m.default(C));
            });
          }
        }), x;
      }
      o.filterSelectionNodes = g;
      function w(T, x, D) {
        var I = T.selection, N = document.createRange();
        x.length > 1 ? (N.setStart(x.elems[0], 0), N.setEnd(x.elems[x.length - 1], x.elems[x.length - 1].childNodes.length)) : N.selectNodeContents(x.elems[0]), D && N.collapse(false), I.saveRange(N), I.restoreSelection();
      }
      o.updateRange = w;
      function R(T) {
        var x;
        return T.prior ? T.prior : m.default((x = T.children()) === null || x === void 0 ? void 0 : x.elems[0]);
      }
      o.getStartPoint = R;
      function A(T) {
        var x;
        return T.prior ? T.prior : m.default((x = T.children()) === null || x === void 0 ? void 0 : x.last().elems[0]);
      }
      o.getEndPoint = A;
      function E(T, x, D) {
        D === void 0 && (D = null), T.parent().elems[0].insertBefore(x, D);
      }
      o.insertBefore = E;
      function b(T) {
        return document.createElement(T);
      }
      o.createElement = b;
      function v() {
        return document.createDocumentFragment();
      }
      o.createDocumentFragment = v;
      function y(T, x, D) {
        return D === void 0 && (D = "li"), (0, d.default)(T).call(T, function(I) {
          var N = b(D);
          N.innerHTML = I.html(), x.appendChild(N), I.remove();
        }), x;
      }
      o.createElementFragment = y;
    }, function(a, o) {
      a.exports = function(n, l) {
        return { enumerable: !(n & 1), configurable: !(n & 2), writable: !(n & 4), value: l };
      };
    }, function(a, o) {
      a.exports = function(n) {
        if (n == null)
          throw TypeError("Can't call method on " + n);
        return n;
      };
    }, function(a, o, n) {
      var l = n(164).charAt, f = n(42), d = n(75), c = "String Iterator", h2 = f.set, m = f.getterFor(c);
      d(String, "String", function(g) {
        h2(this, { type: c, string: String(g), index: 0 });
      }, function() {
        var w = m(this), R = w.string, A = w.index, E;
        return A >= R.length ? { value: void 0, done: true } : (E = l(R, A), w.index += E.length, { value: E, done: false });
      });
    }, function(a, o) {
      a.exports = {};
    }, function(a, o, n) {
      var l = n(107), f = n(80);
      a.exports = Object.keys || function(c) {
        return l(c, f);
      };
    }, function(a, o, n) {
      var l = n(19);
      a.exports = function(f, d, c, h2) {
        h2 && h2.enumerable ? f[d] = c : l(f, d, c);
      };
    }, function(a, o, n) {
      n(173);
      var l = n(174), f = n(8), d = n(65), c = n(19), h2 = n(44), m = n(10), g = m("toStringTag");
      for (var w in l) {
        var R = f[w], A = R && R.prototype;
        A && d(A) !== g && c(A, g, w), h2[w] = h2.Array;
      }
    }, function(a, o, n) {
      var l = n(34);
      a.exports = Array.isArray || function(d) {
        return l(d) == "Array";
      };
    }, function(a, o, n) {
      var l = n(11), f = n(10), d = n(86), c = f("species");
      a.exports = function(h2) {
        return d >= 51 || !l(function() {
          var m = [], g = m.constructor = {};
          return g[c] = function() {
            return { foo: 1 };
          }, m[h2](Boolean).foo !== 1;
        });
      };
    }, function(a, o, n) {
      a.exports = n(222);
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.ListHandle = void 0;
      var d = n(2), c = d.__importDefault(n(373)), h2 = /* @__PURE__ */ function() {
        function m(g) {
          this.options = g, this.selectionRangeElem = new c.default();
        }
        return m;
      }();
      o.ListHandle = h2;
    }, function(a, o, n) {
      var l = {}.propertyIsEnumerable, f = Object.getOwnPropertyDescriptor, d = f && !l.call({ 1: 2 }, 1);
      o.f = d ? function(h2) {
        var m = f(this, h2);
        return !!m && m.enumerable;
      } : l;
    }, function(a, o, n) {
      var l = n(13);
      a.exports = function(f, d) {
        if (!l(f))
          return f;
        var c, h2;
        if (d && typeof (c = f.toString) == "function" && !l(h2 = c.call(f)) || typeof (c = f.valueOf) == "function" && !l(h2 = c.call(f)) || !d && typeof (c = f.toString) == "function" && !l(h2 = c.call(f)))
          return h2;
        throw TypeError("Can't convert object to primitive value");
      };
    }, function(a, o) {
    }, function(a, o) {
      var n = Math.ceil, l = Math.floor;
      a.exports = function(f) {
        return isNaN(f = +f) ? 0 : (f > 0 ? l : n)(f);
      };
    }, function(a, o, n) {
      var l = n(74), f = n(64), d = l("keys");
      a.exports = function(c) {
        return d[c] || (d[c] = f(c));
      };
    }, function(a, o) {
      var n = 0, l = Math.random();
      a.exports = function(f) {
        return "Symbol(" + String(f === void 0 ? "" : f) + ")_" + (++n + l).toString(36);
      };
    }, function(a, o, n) {
      var l = n(81), f = n(34), d = n(10), c = d("toStringTag"), h2 = f(/* @__PURE__ */ function() {
        return arguments;
      }()) == "Arguments", m = function(w, R) {
        try {
          return w[R];
        } catch {
        }
      };
      a.exports = l ? f : function(g) {
        var w, R, A;
        return g === void 0 ? "Undefined" : g === null ? "Null" : typeof (R = m(w = Object(g), c)) == "string" ? R : h2 ? f(w) : (A = f(w)) == "Object" && typeof w.callee == "function" ? "Arguments" : A;
      };
    }, function(a, o, n) {
      var l = n(25), f = n(112), d = n(35), c = n(40), h2 = n(113), m = n(114), g = function(A, E) {
        this.stopped = A, this.result = E;
      }, w = a.exports = function(R, A, E, b, v) {
        var y = c(A, E, b ? 2 : 1), T, x, D, I, N, C, B;
        if (v)
          T = R;
        else {
          if (x = h2(R), typeof x != "function")
            throw TypeError("Target is not iterable");
          if (f(x)) {
            for (D = 0, I = d(R.length); I > D; D++)
              if (N = b ? y(l(B = R[D])[0], B[1]) : y(R[D]), N && N instanceof g)
                return N;
            return new g(false);
          }
          T = x.call(R);
        }
        for (C = T.next; !(B = C.call(T)).done; )
          if (N = m(T, y, B.value, b), Gt(N) == "object" && N && N instanceof g)
            return N;
        return new g(false);
      };
      w.stop = function(R) {
        return new g(true, R);
      };
    }, function(a, o, n) {
      var l = n(11);
      a.exports = function(f, d) {
        var c = [][f];
        return !!c && l(function() {
          c.call(null, d || function() {
            throw 1;
          }, 1);
        });
      };
    }, function(a, o) {
      a.exports = `	
\v\f\r                　\u2028\u2029\uFEFF`;
    }, function(a, o, n) {
      var l = n(60), f = n(18), d = n(48);
      a.exports = function(c, h2, m) {
        var g = l(h2);
        g in c ? f.f(c, g, d(0, m)) : c[g] = m;
      };
    }, function(a, o, n) {
      a.exports = n(209);
    }, function(a, o, n) {
      var l = n(14), f = n(59), d = n(48), c = n(30), h2 = n(60), m = n(16), g = n(100), w = Object.getOwnPropertyDescriptor;
      o.f = l ? w : function(A, E) {
        if (A = c(A), E = h2(E, true), g)
          try {
            return w(A, E);
          } catch {
          }
        if (m(A, E))
          return d(!f.f.call(A, E), A[E]);
      };
    }, function(a, o, n) {
      var l = n(11), f = n(34), d = "".split;
      a.exports = l(function() {
        return !Object("z").propertyIsEnumerable(0);
      }) ? function(c) {
        return f(c) == "String" ? d.call(c, "") : Object(c);
      } : Object;
    }, function(a, o, n) {
      var l = n(8), f = n(13), d = l.document, c = f(d) && f(d.createElement);
      a.exports = function(h2) {
        return c ? d.createElement(h2) : {};
      };
    }, function(a, o, n) {
      var l = n(43), f = n(103);
      (a.exports = function(d, c) {
        return f[d] || (f[d] = c !== void 0 ? c : {});
      })("versions", []).push({ version: "3.6.4", mode: l ? "pure" : "global", copyright: "© 2020 Denis Pushkarev (zloirock.ru)" });
    }, function(a, o, n) {
      var l = n(5), f = n(167), d = n(105), c = n(171), h2 = n(37), m = n(19), g = n(53), w = n(10), R = n(43), A = n(44), E = n(104), b = E.IteratorPrototype, v = E.BUGGY_SAFARI_ITERATORS, y = w("iterator"), T = "keys", x = "values", D = "entries", I = function() {
        return this;
      };
      a.exports = function(N, C, B, O, S, F, $) {
        f(B, C, O);
        var U = function(ue) {
          if (ue === S && ae)
            return ae;
          if (!v && ue in Q)
            return Q[ue];
          switch (ue) {
            case T:
              return function() {
                return new B(this, ue);
              };
            case x:
              return function() {
                return new B(this, ue);
              };
            case D:
              return function() {
                return new B(this, ue);
              };
          }
          return function() {
            return new B(this);
          };
        }, L = C + " Iterator", z = false, Q = N.prototype, J = Q[y] || Q["@@iterator"] || S && Q[S], ae = !v && J || U(S), M = C == "Array" && Q.entries || J, V, K, G;
        if (M && (V = d(M.call(new N())), b !== Object.prototype && V.next && (!R && d(V) !== b && (c ? c(V, b) : typeof V[y] != "function" && m(V, y, I)), h2(V, L, true, true), R && (A[L] = I))), S == x && J && J.name !== x && (z = true, ae = function() {
          return J.call(this);
        }), (!R || $) && Q[y] !== ae && m(Q, y, ae), A[C] = ae, S)
          if (K = { values: U(x), keys: F ? ae : U(T), entries: U(D) }, $)
            for (G in K)
              (v || z || !(G in Q)) && g(Q, G, K[G]);
          else
            l({ target: C, proto: true, forced: v || z }, K);
        return K;
      };
    }, function(a, o, n) {
      var l = n(11);
      a.exports = !!Object.getOwnPropertySymbols && !l(function() {
        return !String(Symbol());
      });
    }, function(a, o, n) {
      var l = n(25), f = n(169), d = n(80), c = n(51), h2 = n(108), m = n(73), g = n(63), w = ">", R = "<", A = "prototype", E = "script", b = g("IE_PROTO"), v = function() {
      }, y = function(C) {
        return R + E + w + C + R + "/" + E + w;
      }, T = function(C) {
        C.write(y("")), C.close();
        var B = C.parentWindow.Object;
        return C = null, B;
      }, x = function() {
        var C = m("iframe"), B = "java" + E + ":", O;
        return C.style.display = "none", h2.appendChild(C), C.src = String(B), O = C.contentWindow.document, O.open(), O.write(y("document.F=Object")), O.close(), O.F;
      }, D, I = function() {
        try {
          D = document.domain && new ActiveXObject("htmlfile");
        } catch {
        }
        I = D ? T(D) : x();
        for (var C = d.length; C--; )
          delete I[A][d[C]];
        return I();
      };
      c[b] = true, a.exports = Object.create || function(C, B) {
        var O;
        return C !== null ? (v[A] = l(C), O = new v(), v[A] = null, O[b] = C) : O = I(), B === void 0 ? O : f(O, B);
      };
    }, function(a, o, n) {
      var l = n(30), f = n(35), d = n(79), c = function(m) {
        return function(g, w, R) {
          var A = l(g), E = f(A.length), b = d(R, E), v;
          if (m && w != w) {
            for (; E > b; )
              if (v = A[b++], v != v)
                return true;
          } else
            for (; E > b; b++)
              if ((m || b in A) && A[b] === w)
                return m || b || 0;
          return !m && -1;
        };
      };
      a.exports = {
        includes: c(true),
        indexOf: c(false)
      };
    }, function(a, o, n) {
      var l = n(62), f = Math.max, d = Math.min;
      a.exports = function(c, h2) {
        var m = l(c);
        return m < 0 ? f(m + h2, 0) : d(m, h2);
      };
    }, function(a, o) {
      a.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"];
    }, function(a, o, n) {
      var l = n(10), f = l("toStringTag"), d = {};
      d[f] = "z", a.exports = String(d) === "[object z]";
    }, function(a, o) {
      a.exports = function() {
      };
    }, function(a, o) {
      a.exports = function(n, l, f) {
        if (!(n instanceof l))
          throw TypeError("Incorrect " + (f ? f + " " : "") + "invocation");
        return n;
      };
    }, function(a, o, n) {
      var l = n(36);
      a.exports = l("navigator", "userAgent") || "";
    }, function(a, o, n) {
      var l = n(41), f = function(c) {
        var h2, m;
        this.promise = new c(function(g, w) {
          if (h2 !== void 0 || m !== void 0)
            throw TypeError("Bad Promise constructor");
          h2 = g, m = w;
        }), this.resolve = l(h2), this.reject = l(m);
      };
      a.exports.f = function(d) {
        return new f(d);
      };
    }, function(a, o, n) {
      var l = n(8), f = n(84), d = l.process, c = d && d.versions, h2 = c && c.v8, m, g;
      h2 ? (m = h2.split("."), g = m[0] + m[1]) : f && (m = f.match(/Edge\/(\d+)/), (!m || m[1] >= 74) && (m = f.match(/Chrome\/(\d+)/), m && (g = m[1]))), a.exports = g && +g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = n(6), g = c.__importDefault(n(267)), w = c.__importDefault(n(280)), R = c.__importDefault(n(281)), A = c.__importDefault(n(282)), E = c.__importDefault(n(301)), b = c.__importStar(n(416)), v = c.__importDefault(n(417)), y = c.__importDefault(n(418)), T = c.__importDefault(n(419)), x = c.__importStar(n(420)), D = c.__importDefault(n(423)), I = c.__importDefault(n(424)), N = c.__importDefault(n(425)), C = c.__importDefault(n(427)), B = c.__importDefault(n(437)), O = c.__importDefault(n(440)), S = c.__importStar(n(441)), F = c.__importDefault(n(23)), $ = c.__importDefault(n(134)), U = c.__importDefault(n(24)), L = c.__importDefault(n(33)), z = c.__importDefault(n(38)), Q = c.__importDefault(n(39)), J = 1, ae = function() {
        function M(V, K) {
          this.pluginsFunctionList = {}, this.beforeDestroyHooks = [], this.id = "wangEditor-" + J++, this.toolbarSelector = V, this.textSelector = K, b.selectorValidator(this), this.config = m.deepClone(g.default), this.$toolbarElem = h2.default("<div></div>"), this.$textContainerElem = h2.default("<div></div>"), this.$textElem = h2.default("<div></div>"), this.toolbarElemId = "", this.textElemId = "", this.isFocus = false, this.isComposing = false, this.isCompatibleMode = false, this.selection = new w.default(this), this.cmd = new R.default(this), this.txt = new A.default(this), this.menus = new E.default(this), this.zIndex = new I.default(), this.change = new N.default(this), this.history = new C.default(this), this.onSelectionChange = new O.default(this);
          var G = B.default(this), Z = G.disable, ue = G.enable;
          this.disable = Z, this.enable = ue, this.isEnable = true;
        }
        return M.prototype.initSelection = function(V) {
          v.default(this, V);
        }, M.prototype.create = function() {
          this.zIndex.init(this), this.isCompatibleMode = this.config.compatibleMode(), this.isCompatibleMode || (this.config.onchangeTimeout = 30), T.default(this), b.default(this), this.txt.init(), this.menus.init(), x.default(this), this.initSelection(true), y.default(this), this.change.observe(), this.history.observe(), S.default(this);
        }, M.prototype.beforeDestroy = function(V) {
          return this.beforeDestroyHooks.push(V), this;
        }, M.prototype.destroy = function() {
          var V, K = this;
          (0, d.default)(V = this.beforeDestroyHooks).call(V, function(G) {
            return G.call(K);
          }), this.$toolbarElem.remove(), this.$textContainerElem.remove();
        }, M.prototype.fullScreen = function() {
          x.setFullScreen(this);
        }, M.prototype.unFullScreen = function() {
          x.setUnFullScreen(this);
        }, M.prototype.scrollToHead = function(V) {
          D.default(this, V);
        }, M.registerMenu = function(V, K) {
          !K || typeof K != "function" || (M.globalCustomMenuConstructorList[V] = K);
        }, M.prototype.registerPlugin = function(V, K) {
          S.registerPlugin(V, K, this.pluginsFunctionList);
        }, M.registerPlugin = function(V, K) {
          S.registerPlugin(V, K, M.globalPluginsFunctionList);
        }, M.$ = h2.default, M.BtnMenu = F.default, M.DropList = $.default, M.DropListMenu = U.default, M.Panel = L.default, M.PanelMenu = z.default, M.Tooltip = Q.default, M.globalCustomMenuConstructorList = {}, M.globalPluginsFunctionList = {}, M;
      }();
      o.default = ae;
    }, function(a, o, n) {
      var l = n(13), f = n(55), d = n(10), c = d("species");
      a.exports = function(h2, m) {
        var g;
        return f(h2) && (g = h2.constructor, typeof g == "function" && (g === Array || f(g.prototype)) ? g = void 0 : l(g) && (g = g[c], g === null && (g = void 0))), new (g === void 0 ? Array : g)(m === 0 ? 0 : m);
      };
    }, function(a, o, n) {
      a.exports = n(185);
    }, function(a, o, n) {
      var l = n(49), f = n(68), d = "[" + f + "]", c = RegExp("^" + d + d + "*"), h2 = RegExp(d + d + "*$"), m = function(w) {
        return function(R) {
          var A = String(l(R));
          return w & 1 && (A = A.replace(c, "")), w & 2 && (A = A.replace(h2, "")), A;
        };
      };
      a.exports = {
        start: m(1),
        end: m(2),
        trim: m(3)
      };
    }, function(a, o, n) {
      a.exports = n(205);
    }, function(a, o, n) {
      var l = n(227), f = n(230);
      function d(c) {
        return typeof f == "function" && typeof l == "symbol" ? a.exports = d = function(m) {
          return typeof m;
        } : a.exports = d = function(m) {
          return m && typeof f == "function" && m.constructor === f && m !== f.prototype ? "symbol" : typeof m;
        }, d(c);
      }
      a.exports = d;
    }, function(a, o, n) {
      var l = n(10);
      o.f = l;
    }, function(a, o, n) {
      a.exports = n(306);
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(33)), m = function() {
        function g(w, R) {
          var A = this;
          this.$elem = w, this.editor = R, this._active = false, w.on("click", function(E) {
            var b;
            h2.default.hideCurAllPanels(), (0, d.default)(b = R.txt.eventHooks.menuClickEvents).call(b, function(v) {
              return v();
            }), E.stopPropagation(), R.selection.getRange() != null && A.clickHandler(E);
          });
        }
        return g.prototype.clickHandler = function(w) {
        }, g.prototype.active = function() {
          this._active = true, this.$elem.addClass("w-e-active");
        }, g.prototype.unActive = function() {
          this._active = false, this.$elem.removeClass("w-e-active");
        }, (0, f.default)(g.prototype, "isActive", {
          get: function() {
            return this._active;
          },
          enumerable: false,
          configurable: true
        }), g;
      }();
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(28));
      (0, f.default)(o, "__esModule", { value: true }), o.getParentNodeA = o.EXTRA_TAG = void 0, o.EXTRA_TAG = ["B", "FONT", "I", "STRIKE"];
      function c(m) {
        for (var g = m.elems[0]; g && (0, d.default)(w = o.EXTRA_TAG).call(w, g.nodeName); ) {
          var w;
          if (g = g.parentElement, g.nodeName === "A")
            return g;
        }
      }
      o.getParentNodeA = c;
      function h2(m) {
        var g, w = m.selection.getSelectionContainerElem();
        if (!(!((g = w == null ? void 0 : w.elems) === null || g === void 0) && g.length))
          return false;
        if (w.getNodeName() === "A")
          return true;
        var R = c(w);
        return !!(R && R.nodeName === "A");
      }
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(57)), c = l(n(4)), h2 = l(n(27));
      (0, f.default)(o, "__esModule", { value: true });
      var m = n(2), g = n(6), w = m.__importDefault(n(135)), R = m.__importDefault(n(136)), A = function() {
        function E(b) {
          this.editor = b;
        }
        return E.prototype.insertImg = function(b, v, y) {
          var T = this.editor, x = T.config, D = "validate.", I = function(F, $) {
            return $ === void 0 && ($ = D), T.i18next.t($ + F);
          }, N = b.replace(/</g, "&lt;").replace(/>/g, "&gt;");
          N = N.replace("'", '"');
          var C = "";
          y && (C = y.replace("'", '"'), C = "data-href='" + encodeURIComponent(C) + "' ");
          var B = "";
          v && (B = v.replace(/</g, "&lt;").replace(/>/g, "&gt;"), B = B.replace("'", '"'), B = "alt='" + B + "' "), T.cmd.do("insertHTML", "<img src='" + N + "' " + B + C + 'style="max-width:100%;" contenteditable="false"/>'), x.linkImgCallback(b, v, y);
          var O = document.createElement("img");
          O.onload = function() {
            O = null;
          }, O.onerror = function() {
            x.customAlert(I("插入图片错误"), "error", "wangEditor: " + I("插入图片错误") + "，" + I("图片链接") + ' "' + b + '"，' + I("下载链接失败")), O = null;
          }, O.onabort = function() {
            return O = null;
          }, O.src = b;
        }, E.prototype.uploadImg = function(b) {
          var v = this;
          if (!!b.length) {
            var y = this.editor, T = y.config, x = "validate.", D = function(ce) {
              return y.i18next.t(x + ce);
            }, I = T.uploadImgServer, N = T.uploadImgShowBase64, C = T.uploadImgMaxSize, B = C / 1024 / 1024, O = T.uploadImgMaxLength, S = T.uploadFileName, F = T.uploadImgParams, $ = T.uploadImgParamsWithUrl, U = T.uploadImgHeaders, L = T.uploadImgHooks, z = T.uploadImgTimeout, Q = T.withCredentials, J = T.customUploadImg;
            if (!(!J && !I && !N)) {
              var ae = [], M = [];
              if (g.arrForEach(b, function(pe) {
                if (!!pe) {
                  var ce = pe.name || pe.type.replace("/", "."), fe = pe.size;
                  if (!(!ce || !fe)) {
                    var ne = y.config.uploadImgAccept.join("|"), be = ".(" + ne + ")$", we = new RegExp(be, "i");
                    if (we.test(ce) === false) {
                      M.push("【" + ce + "】" + D("不是图片"));
                      return;
                    }
                    if (C < fe) {
                      M.push("【" + ce + "】" + D("大于") + " " + B + "M");
                      return;
                    }
                    ae.push(pe);
                  }
                }
              }), M.length) {
                T.customAlert(D("图片验证未通过") + `: 
` + M.join(`
`), "warning");
                return;
              }
              if (ae.length === 0) {
                T.customAlert(D("传入的文件不合法"), "warning");
                return;
              }
              if (ae.length > O) {
                T.customAlert(D("一次最多上传") + O + D("张图片"), "warning");
                return;
              }
              if (J && typeof J == "function") {
                var V;
                J(ae, (0, d.default)(V = this.insertImg).call(V, this));
                return;
              }
              var K = new FormData();
              if ((0, c.default)(ae).call(ae, function(pe, ce) {
                var fe = S || pe.name;
                ae.length > 1 && (fe = fe + (ce + 1)), K.append(fe, pe);
              }), I) {
                var G = I.split("#");
                I = G[0];
                var Z = G[1] || "";
                (0, c.default)(g).call(g, F, function(pe, ce) {
                  $ && ((0, h2.default)(I).call(I, "?") > 0 ? I += "&" : I += "?", I = I + pe + "=" + ce), K.append(pe, ce);
                }), Z && (I += "#" + Z);
                var ue = w.default(I, { timeout: z, formData: K, headers: U, withCredentials: !!Q, beforeSend: function(ce) {
                  if (L.before)
                    return L.before(ce, y, ae);
                }, onTimeout: function(ce) {
                  T.customAlert(D("上传图片超时"), "error"), L.timeout && L.timeout(ce, y);
                }, onProgress: function(ce, fe) {
                  var ne = new R.default(y);
                  fe.lengthComputable && (ce = fe.loaded / fe.total, ne.show(ce));
                }, onError: function(ce) {
                  T.customAlert(D("上传图片错误"), "error", D("上传图片错误") + "，" + D("服务器返回状态") + ": " + ce.status), L.error && L.error(ce, y);
                }, onFail: function(ce, fe) {
                  T.customAlert(D("上传图片失败"), "error", D("上传图片返回结果错误") + ("，" + D("返回结果") + ": ") + fe), L.fail && L.fail(ce, y, fe);
                }, onSuccess: function(ce, fe) {
                  if (L.customInsert) {
                    var ne;
                    L.customInsert((0, d.default)(ne = v.insertImg).call(ne, v), fe, y);
                    return;
                  }
                  if (fe.errno != "0") {
                    T.customAlert(D("上传图片失败"), "error", D("上传图片返回结果错误") + "，" + D("返回结果") + " errno=" + fe.errno), L.fail && L.fail(ce, y, fe);
                    return;
                  }
                  var be = fe.data;
                  (0, c.default)(be).call(be, function(we) {
                    typeof we == "string" ? v.insertImg(we) : v.insertImg(we.url, we.alt, we.href);
                  }), L.success && L.success(ce, y, fe);
                } });
                typeof ue == "string" && T.customAlert(ue, "error");
                return;
              }
              N && g.arrForEach(b, function(pe) {
                var ce = v, fe = new FileReader();
                fe.readAsDataURL(pe), fe.onload = function() {
                  if (!!this.result) {
                    var ne = this.result.toString();
                    ce.insertImg(ne, ne);
                  }
                };
              });
            }
          }
        }, E;
      }();
      o.default = A;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(410)), c = l(n(4)), h2 = l(n(45));
      (0, f.default)(o, "__esModule", { value: true }), o.dealTextNode = o.isAllTodo = o.isTodo = o.getCursorNextNode = void 0;
      function m(E) {
        return E.length ? E.attr("class") === "w-e-todo" : false;
      }
      o.isTodo = m;
      function g(E) {
        var b = E.selection.getSelectionRangeTopNodes();
        if (b.length !== 0)
          return (0, d.default)(b).call(b, function(v) {
            return m(v);
          });
      }
      o.isAllTodo = g;
      function w(E, b, v) {
        var y;
        if (!!E.hasChildNodes()) {
          var T = E.cloneNode(), x = false;
          b.nodeValue === "" && (x = true);
          var D = [];
          return (0, c.default)(y = E.childNodes).call(y, function(I) {
            if (!R(I, b) && x && (T.appendChild(I.cloneNode(true)), I.nodeName !== "BR" && D.push(I)), R(I, b)) {
              if (I.nodeType === 1) {
                var N = w(I, b, v);
                N && N.textContent !== "" && (T == null || T.appendChild(N));
              }
              if (I.nodeType === 3 && b.isEqualNode(I)) {
                var C = A(I, v);
                T.textContent = C;
              }
              x = true;
            }
          }), (0, c.default)(D).call(D, function(I) {
            var N = I;
            N.remove();
          }), T;
        }
      }
      o.getCursorNextNode = w;
      function R(E, b) {
        return E.nodeType === 3 ? E.nodeValue === b.nodeValue : E.contains(b);
      }
      function A(E, b, v) {
        v === void 0 && (v = true);
        var y = E.nodeValue, T = y == null ? void 0 : (0, h2.default)(y).call(y, 0, b);
        if (y = y == null ? void 0 : (0, h2.default)(y).call(y, b), !v) {
          var x = y;
          y = T, T = x;
        }
        return E.nodeValue = T, y;
      }
      o.dealTextNode = A;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(430), c = function() {
        function h2(m) {
          this.maxSize = m, this.isRe = false, this.data = new d.CeilStack(m), this.revokeData = new d.CeilStack(m);
        }
        return (0, f.default)(h2.prototype, "size", {
          get: function() {
            return [this.data.size, this.revokeData.size];
          },
          enumerable: false,
          configurable: true
        }), h2.prototype.resetMaxSize = function(m) {
          this.data.resetMax(m), this.revokeData.resetMax(m);
        }, h2.prototype.save = function(m) {
          return this.isRe && (this.revokeData.clear(), this.isRe = false), this.data.instack(m), this;
        }, h2.prototype.revoke = function(m) {
          !this.isRe && (this.isRe = true);
          var g = this.data.outstack();
          return g ? (this.revokeData.instack(g), m(g), true) : false;
        }, h2.prototype.restore = function(m) {
          !this.isRe && (this.isRe = true);
          var g = this.revokeData.outstack();
          return g ? (this.data.instack(g), m(g), true) : false;
        }, h2;
      }();
      o.default = c;
    }, function(a, o, n) {
      var l = n(14), f = n(11), d = n(73);
      a.exports = !l && !f(function() {
        return Object.defineProperty(d("div"), "a", { get: function() {
          return 7;
        } }).a != 7;
      });
    }, function(a, o, n) {
      var l = n(11), f = /#|\.prototype\./, d = function(R, A) {
        var E = h2[c(R)];
        return E == g ? true : E == m ? false : typeof A == "function" ? l(A) : !!A;
      }, c = d.normalize = function(w) {
        return String(w).replace(f, ".").toLowerCase();
      }, h2 = d.data = {}, m = d.NATIVE = "N", g = d.POLYFILL = "P";
      a.exports = d;
    }, function(a, o, n) {
      var l = n(103), f = Function.toString;
      typeof l.inspectSource != "function" && (l.inspectSource = function(d) {
        return f.call(d);
      }), a.exports = l.inspectSource;
    }, function(a, o, n) {
      var l = n(8), f = n(166), d = "__core-js_shared__", c = l[d] || f(d, {});
      a.exports = c;
    }, function(a, o, n) {
      var l = n(105), f = n(19), d = n(16), c = n(10), h2 = n(43), m = c("iterator"), g = false, w = function() {
        return this;
      }, R, A, E;
      [].keys && (E = [].keys(), "next" in E ? (A = l(l(E)), A !== Object.prototype && (R = A)) : g = true), R == null && (R = {}), !h2 && !d(R, m) && f(R, m, w), a.exports = { IteratorPrototype: R, BUGGY_SAFARI_ITERATORS: g };
    }, function(a, o, n) {
      var l = n(16), f = n(31), d = n(63), c = n(168), h2 = d("IE_PROTO"), m = Object.prototype;
      a.exports = c ? Object.getPrototypeOf : function(g) {
        return g = f(g), l(g, h2) ? g[h2] : typeof g.constructor == "function" && g instanceof g.constructor ? g.constructor.prototype : g instanceof Object ? m : null;
      };
    }, function(a, o, n) {
      var l = n(76);
      a.exports = l && !Symbol.sham && Gt(Symbol.iterator) == "symbol";
    }, function(a, o, n) {
      var l = n(16), f = n(30), d = n(78).indexOf, c = n(51);
      a.exports = function(h2, m) {
        var g = f(h2), w = 0, R = [], A;
        for (A in g)
          !l(c, A) && l(g, A) && R.push(A);
        for (; m.length > w; )
          l(g, A = m[w++]) && (~d(R, A) || R.push(A));
        return R;
      };
    }, function(a, o, n) {
      var l = n(36);
      a.exports = l("document", "documentElement");
    }, function(a, o, n) {
      var l = n(8);
      a.exports = l.Promise;
    }, function(a, o, n) {
      var l = n(53);
      a.exports = function(f, d, c) {
        for (var h2 in d)
          c && c.unsafe && f[h2] ? f[h2] = d[h2] : l(f, h2, d[h2], c);
        return f;
      };
    }, function(a, o, n) {
      var l = n(36), f = n(18), d = n(10), c = n(14), h2 = d("species");
      a.exports = function(m) {
        var g = l(m), w = f.f;
        c && g && !g[h2] && w(g, h2, { configurable: true, get: function() {
          return this;
        } });
      };
    }, function(a, o, n) {
      var l = n(10), f = n(44), d = l("iterator"), c = Array.prototype;
      a.exports = function(h2) {
        return h2 !== void 0 && (f.Array === h2 || c[d] === h2);
      };
    }, function(a, o, n) {
      var l = n(65), f = n(44), d = n(10), c = d("iterator");
      a.exports = function(h2) {
        if (h2 != null)
          return h2[c] || h2["@@iterator"] || f[l(h2)];
      };
    }, function(a, o, n) {
      var l = n(25);
      a.exports = function(f, d, c, h2) {
        try {
          return h2 ? d(l(c)[0], c[1]) : d(c);
        } catch (g) {
          var m = f.return;
          throw m !== void 0 && l(m.call(f)), g;
        }
      };
    }, function(a, o, n) {
      var l = n(10), f = l("iterator"), d = false;
      try {
        var c = 0, h2 = { next: function() {
          return { done: !!c++ };
        }, return: function() {
          d = true;
        } };
        h2[f] = function() {
          return this;
        }, Array.from(h2, function() {
          throw 2;
        });
      } catch {
      }
      a.exports = function(m, g) {
        if (!g && !d)
          return false;
        var w = false;
        try {
          var R = {};
          R[f] = function() {
            return { next: function() {
              return { done: w = true };
            } };
          }, m(R);
        } catch {
        }
        return w;
      };
    }, function(a, o, n) {
      var l = n(25), f = n(41), d = n(10), c = d("species");
      a.exports = function(h2, m) {
        var g = l(h2).constructor, w;
        return g === void 0 || (w = l(g)[c]) == null ? m : f(w);
      };
    }, function(a, o, n) {
      var l = n(8), f = n(11), d = n(34), c = n(40), h2 = n(108), m = n(73), g = n(118), w = l.location, R = l.setImmediate, A = l.clearImmediate, E = l.process, b = l.MessageChannel, v = l.Dispatch, y = 0, T = {}, x = "onreadystatechange", D, I, N, C = function($) {
        if (T.hasOwnProperty($)) {
          var U = T[$];
          delete T[$], U();
        }
      }, B = function($) {
        return function() {
          C($);
        };
      }, O = function($) {
        C($.data);
      }, S = function($) {
        l.postMessage($ + "", w.protocol + "//" + w.host);
      };
      (!R || !A) && (R = function($) {
        for (var U = [], L = 1; arguments.length > L; )
          U.push(arguments[L++]);
        return T[++y] = function() {
          (typeof $ == "function" ? $ : Function($)).apply(void 0, U);
        }, D(y), y;
      }, A = function($) {
        delete T[$];
      }, d(E) == "process" ? D = function($) {
        E.nextTick(B($));
      } : v && v.now ? D = function($) {
        v.now(B($));
      } : b && !g ? (I = new b(), N = I.port2, I.port1.onmessage = O, D = c(N.postMessage, N, 1)) : l.addEventListener && typeof postMessage == "function" && !l.importScripts && !f(S) && w.protocol !== "file:" ? (D = S, l.addEventListener("message", O, false)) : x in m("script") ? D = function($) {
        h2.appendChild(m("script"))[x] = function() {
          h2.removeChild(this), C($);
        };
      } : D = function($) {
        setTimeout(B($), 0);
      }), a.exports = { set: R, clear: A };
    }, function(a, o, n) {
      var l = n(84);
      a.exports = /(iphone|ipod|ipad).*applewebkit/i.test(l);
    }, function(a, o, n) {
      var l = n(25), f = n(13), d = n(85);
      a.exports = function(c, h2) {
        if (l(c), f(h2) && h2.constructor === c)
          return h2;
        var m = d.f(c), g = m.resolve;
        return g(h2), m.promise;
      };
    }, function(a, o) {
      a.exports = function(n) {
        try {
          return { error: false, value: n() };
        } catch (l) {
          return { error: true, value: l };
        }
      };
    }, function(a, o, n) {
      a.exports = n(197);
    }, function(a, o, n) {
      var l = n(5), f = n(8), d = n(123), c = n(11), h2 = n(19), m = n(66), g = n(83), w = n(13), R = n(37), A = n(18).f, E = n(32).forEach, b = n(14), v = n(42), y = v.set, T = v.getterFor;
      a.exports = function(x, D, I) {
        var N = x.indexOf("Map") !== -1, C = x.indexOf("Weak") !== -1, B = N ? "set" : "add", O = f[x], S = O && O.prototype, F = {}, $;
        if (!b || typeof O != "function" || !(C || S.forEach && !c(function() {
          new O().entries().next();
        })))
          $ = I.getConstructor(D, x, N, B), d.REQUIRED = true;
        else {
          $ = D(function(L, z) {
            y(g(L, $, x), { type: x, collection: new O() }), z != null && m(z, L[B], L, N);
          });
          var U = T(x);
          E(["add", "clear", "delete", "forEach", "get", "has", "set", "keys", "values", "entries"], function(L) {
            var z = L == "add" || L == "set";
            L in S && !(C && L == "clear") && h2($.prototype, L, function(Q, J) {
              var ae = U(this).collection;
              if (!z && C && !w(Q))
                return L == "get" ? void 0 : false;
              var M = ae[L](Q === 0 ? 0 : Q, J);
              return z ? this : M;
            });
          }), C || A($.prototype, "size", { configurable: true, get: function() {
            return U(this).collection.size;
          } });
        }
        return R($, x, false, true), F[x] = $, l({ global: true, forced: true }, F), C || I.setStrong($, x, N), $;
      };
    }, function(a, o, n) {
      var l = n(51), f = n(13), d = n(16), c = n(18).f, h2 = n(64), m = n(200), g = h2("meta"), w = 0, R = Object.isExtensible || function() {
        return true;
      }, A = function(x) {
        c(x, g, { value: {
          objectID: "O" + ++w,
          weakData: {}
        } });
      }, E = function(x, D) {
        if (!f(x))
          return Gt(x) == "symbol" ? x : (typeof x == "string" ? "S" : "P") + x;
        if (!d(x, g)) {
          if (!R(x))
            return "F";
          if (!D)
            return "E";
          A(x);
        }
        return x[g].objectID;
      }, b = function(x, D) {
        if (!d(x, g)) {
          if (!R(x))
            return true;
          if (!D)
            return false;
          A(x);
        }
        return x[g].weakData;
      }, v = function(x) {
        return m && y.REQUIRED && R(x) && !d(x, g) && A(x), x;
      }, y = a.exports = { REQUIRED: false, fastKey: E, getWeakData: b, onFreeze: v };
      l[g] = true;
    }, function(a, o, n) {
      var l = n(18).f, f = n(77), d = n(110), c = n(40), h2 = n(83), m = n(66), g = n(75), w = n(111), R = n(14), A = n(123).fastKey, E = n(42), b = E.set, v = E.getterFor;
      a.exports = { getConstructor: function(T, x, D, I) {
        var N = T(function(S, F) {
          h2(S, N, x), b(S, { type: x, index: f(null), first: void 0, last: void 0, size: 0 }), R || (S.size = 0), F != null && m(F, S[I], S, D);
        }), C = v(x), B = function(F, $, U) {
          var L = C(F), z = O(F, $), Q, J;
          return z ? z.value = U : (L.last = z = { index: J = A($, true), key: $, value: U, previous: Q = L.last, next: void 0, removed: false }, L.first || (L.first = z), Q && (Q.next = z), R ? L.size++ : F.size++, J !== "F" && (L.index[J] = z)), F;
        }, O = function(F, $) {
          var U = C(F), L = A($), z;
          if (L !== "F")
            return U.index[L];
          for (z = U.first; z; z = z.next)
            if (z.key == $)
              return z;
        };
        return d(N.prototype, {
          clear: function() {
            for (var F = this, $ = C(F), U = $.index, L = $.first; L; )
              L.removed = true, L.previous && (L.previous = L.previous.next = void 0), delete U[L.index], L = L.next;
            $.first = $.last = void 0, R ? $.size = 0 : F.size = 0;
          },
          delete: function(F) {
            var $ = this, U = C($), L = O($, F);
            if (L) {
              var z = L.next, Q = L.previous;
              delete U.index[L.index], L.removed = true, Q && (Q.next = z), z && (z.previous = Q), U.first == L && (U.first = z), U.last == L && (U.last = Q), R ? U.size-- : $.size--;
            }
            return !!L;
          },
          forEach: function(F) {
            for (var $ = C(this), U = c(F, arguments.length > 1 ? arguments[1] : void 0, 3), L; L = L ? L.next : $.first; )
              for (U(L.value, L.key, this); L && L.removed; )
                L = L.previous;
          },
          has: function(F) {
            return !!O(this, F);
          }
        }), d(N.prototype, D ? {
          get: function(F) {
            var $ = O(this, F);
            return $ && $.value;
          },
          set: function(F, $) {
            return B(this, F === 0 ? 0 : F, $);
          }
        } : {
          add: function(F) {
            return B(this, F = F === 0 ? 0 : F, F);
          }
        }), R && l(N.prototype, "size", { get: function() {
          return C(this).size;
        } }), N;
      }, setStrong: function(T, x, D) {
        var I = x + " Iterator", N = v(x), C = v(I);
        g(T, x, function(B, O) {
          b(this, { type: I, target: B, state: N(B), kind: O, last: void 0 });
        }, function() {
          for (var B = C(this), O = B.kind, S = B.last; S && S.removed; )
            S = S.previous;
          return !B.target || !(B.last = S = S ? S.next : B.state.first) ? (B.target = void 0, { value: void 0, done: true }) : O == "keys" ? { value: S.key, done: false } : O == "values" ? { value: S.value, done: false } : { value: [S.key, S.value], done: false };
        }, D ? "entries" : "values", !D, true), w(x);
      } };
    }, function(a, o, n) {
      var l = n(12);
      l("iterator");
    }, function(a, o, n) {
      var l = n(107), f = n(80), d = f.concat("length", "prototype");
      o.f = Object.getOwnPropertyNames || function(h2) {
        return l(h2, d);
      };
    }, function(a, o) {
      o.f = Object.getOwnPropertySymbols;
    }, function(a, o, n) {
      a.exports = n(268);
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.default = { zIndex: 1e4 };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.default = { focus: true, height: 300, placeholder: "请输入正文", zIndexFullScreen: 10002, showFullScreen: true };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true }), o.getPasteImgs = o.getPasteHtml = o.getPasteText = void 0;
      var c = n(2), h2 = n(6), m = c.__importDefault(n(292));
      function g(A) {
        var E = A.clipboardData, b = "";
        return E == null ? b = window.clipboardData && window.clipboardData.getData("text") : b = E.getData("text/plain"), h2.replaceHtmlSymbol(b);
      }
      o.getPasteText = g;
      function w(A, E, b) {
        E === void 0 && (E = true), b === void 0 && (b = false);
        var v = A.clipboardData, y = "";
        if (v && (y = v.getData("text/html")), !y) {
          var T = g(A);
          if (!T)
            return "";
          y = "<p>" + T + "</p>";
        }
        return y = y.replace(/<(\d)/gm, function(x, D) {
          return "&lt;" + D;
        }), y = y.replace(/<(\/?meta.*?)>/gim, ""), y = m.default(y, E, b), y;
      }
      o.getPasteHtml = w;
      function R(A) {
        var E, b = [], v = g(A);
        if (v)
          return b;
        var y = (E = A.clipboardData) === null || E === void 0 ? void 0 : E.items;
        return y && (0, d.default)(h2).call(h2, y, function(T, x) {
          var D = x.type;
          /image/i.test(D) && b.push(x.getAsFile());
        }), b;
      }
      o.getPasteImgs = R;
    }, function(a, o, n) {
      a.exports = n(294);
    }, function(a, o, n) {
      a.exports = n(310);
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(46));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(3)), g = n(7), w = function() {
        function R(A, E) {
          var b = this;
          this.hideTimeoutId = 0, this.menu = A, this.conf = E;
          var v = m.default('<div class="w-e-droplist"></div>'), y = m.default("<p>" + E.title + "</p>");
          y.addClass("w-e-dp-title"), v.append(y);
          var T = E.list || [], x = E.type || "list", D = E.clickHandler || g.EMPTY_FN, I = m.default('<ul class="' + (x === "list" ? "w-e-list" : "w-e-block") + '"></ul>');
          (0, d.default)(T).call(T, function(N) {
            var C = N.$elem, B = N.value, O = m.default('<li class="w-e-item"></li>');
            C && (O.append(C), I.append(O), O.on("click", function(S) {
              D(B), S.stopPropagation(), b.hideTimeoutId = (0, c.default)(function() {
                b.hide();
              });
            }));
          }), v.append(I), v.on("mouseleave", function() {
            b.hideTimeoutId = (0, c.default)(function() {
              b.hide();
            });
          }), this.$container = v, this.rendered = false, this._show = false;
        }
        return R.prototype.show = function() {
          this.hideTimeoutId && clearTimeout(this.hideTimeoutId);
          var A = this.menu, E = A.$elem, b = this.$container;
          if (!this._show) {
            if (this.rendered)
              b.show();
            else {
              var v = E.getBoundingClientRect().height || 0, y = this.conf.width || 100;
              b.css("margin-top", v + "px").css("width", y + "px"), E.append(b), this.rendered = true;
            }
            this._show = true;
          }
        }, R.prototype.hide = function() {
          var A = this.$container;
          !this._show || (A.hide(), this._show = false);
        }, (0, f.default)(R.prototype, "isShow", { get: function() {
          return this._show;
        }, enumerable: false, configurable: true }), R;
      }();
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(92)), d = l(n(1)), c = l(n(4));
      (0, d.default)(o, "__esModule", { value: true });
      var h2 = n(6);
      function m(g, w) {
        var R = new XMLHttpRequest();
        if (R.open("POST", g), R.timeout = w.timeout || 10 * 1e3, R.ontimeout = function() {
          console.error("wangEditor - 请求超时"), w.onTimeout && w.onTimeout(R);
        }, R.upload && (R.upload.onprogress = function(E) {
          var b = E.loaded / E.total;
          w.onProgress && w.onProgress(b, E);
        }), w.headers && (0, c.default)(h2).call(h2, w.headers, function(E, b) {
          R.setRequestHeader(E, b);
        }), R.withCredentials = !!w.withCredentials, w.beforeSend) {
          var A = w.beforeSend(R);
          if (A && (0, f.default)(A) === "object" && A.prevent)
            return A.msg;
        }
        return R.onreadystatechange = function() {
          if (R.readyState === 4) {
            var E = R.status;
            if (!(E < 200) && !(E >= 300 && E < 400)) {
              if (E >= 400) {
                console.error("wangEditor - XHR 报错，状态码 " + E), w.onError && w.onError(R);
                return;
              }
              var b = R.responseText, v;
              if ((0, f.default)(b) !== "object")
                try {
                  v = JSON.parse(b);
                } catch {
                  console.error("wangEditor - 返回结果不是 JSON 格式", b), w.onFail && w.onFail(R, b);
                  return;
                }
              else
                v = b;
              w.onSuccess(R, v);
            }
          }
        }, R.send(w.formData || null), R;
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(342)), c = l(n(46));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(3)), g = function() {
        function w(R) {
          this.editor = R, this.$textContainer = R.$textContainerElem, this.$bar = m.default('<div class="w-e-progress"></div>'), this.isShow = false, this.time = 0, this.timeoutId = 0;
        }
        return w.prototype.show = function(R) {
          var A = this;
          if (!this.isShow) {
            this.isShow = true;
            var E = this.$bar, b = this.$textContainer;
            b.append(E), (0, d.default)() - this.time > 100 && R <= 1 && (E.css("width", R * 100 + "%"), this.time = (0, d.default)());
            var v = this.timeoutId;
            v && clearTimeout(v), this.timeoutId = (0, c.default)(function() {
              A.hide();
            }, 500);
          }
        }, w.prototype.hide = function() {
          var R = this.$bar;
          R.remove(), this.isShow = false, this.time = 0, this.timeoutId = 0;
        }, w;
      }();
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.ListType = void 0;
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(24)), m = n(47), g = d.__importStar(n(371)), w;
      (function(A) {
        A.OrderedList = "OL", A.UnorderedList = "UL";
      })(w = o.ListType || (o.ListType = {}));
      var R = function(A) {
        d.__extends(E, A);
        function E(b) {
          var v = this, y = c.default(`<div class="w-e-menu" data-title="序列">
                <i class="w-e-icon-list2"></i>
            </div>`), T = { width: 130, title: "序列", type: "list", list: [{ $elem: c.default(`
                        <p>
                            <i class="w-e-icon-list2 w-e-drop-list-item"></i>
                            ` + b.i18next.t("menus.dropListMenu.list.无序列表") + `
                        <p>`), value: w.UnorderedList }, { $elem: c.default(`<p>
                            <i class="w-e-icon-list-numbered w-e-drop-list-item"></i>
                            ` + b.i18next.t("menus.dropListMenu.list.有序列表") + `
                        <p>`), value: w.OrderedList }], clickHandler: function(D) {
            v.command(D);
          } };
          return v = A.call(this, y, b, T) || this, v;
        }
        return E.prototype.command = function(b) {
          var v = this.editor, y = v.selection.getSelectionContainerElem();
          y !== void 0 && (this.handleSelectionRangeNodes(b), this.tryChangeActive());
        }, E.prototype.validator = function(b, v, y) {
          return !(!b.length || !v.length || y.equal(b) || y.equal(v));
        }, E.prototype.handleSelectionRangeNodes = function(b) {
          var v = this.editor, y = v.selection, T = b.toLowerCase(), x = y.getSelectionContainerElem(), D = y.getSelectionStartElem().getNodeTop(v), I = y.getSelectionEndElem().getNodeTop(v);
          if (!!this.validator(D, I, v.$textElem)) {
            var N = y.getRange(), C = N == null ? void 0 : N.collapsed;
            v.$textElem.equal(x) || (x = x.getNodeTop(v));
            var B = { editor: v, listType: b, listTarget: T, $selectionElem: x, $startElem: D, $endElem: I }, O;
            this.isOrderElem(x) ? O = g.ClassType.Wrap : this.isOrderElem(D) && this.isOrderElem(I) ? O = g.ClassType.Join : this.isOrderElem(D) ? O = g.ClassType.StartJoin : this.isOrderElem(I) ? O = g.ClassType.EndJoin : O = g.ClassType.Other;
            var S = new g.default(g.createListHandle(O, B, N));
            m.updateRange(v, S.getSelectionRangeElem(), !!C);
          }
        }, E.prototype.isOrderElem = function(b) {
          var v = b.getNodeName();
          return v === w.OrderedList || v === w.UnorderedList;
        }, E.prototype.tryChangeActive = function() {
        }, E;
      }(h2.default);
      o.default = R;
    }, function(a, o, n) {
      a.exports = n(395);
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      function d(c) {
        var h2 = c.selection.getSelectionContainerElem();
        return h2 != null && h2.length ? !!(h2.getNodeName() == "CODE" || h2.getNodeName() == "PRE" || h2.parent().getNodeName() == "CODE" || h2.parent().getNodeName() == "PRE" || /hljs/.test(h2.parent().attr("class"))) : false;
      }
      o.default = d;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(29));
      (0, f.default)(o, "__esModule", { value: true }), o.todo = void 0;
      var c = n(2), h2 = c.__importDefault(n(3)), m = function() {
        function w(R) {
          var A;
          this.template = '<ul class="w-e-todo"><li><span contenteditable="false"><input type="checkbox"></span></li></ul>', this.checked = false, this.$todo = h2.default(this.template), this.$child = (A = R == null ? void 0 : R.childNodes()) === null || A === void 0 ? void 0 : A.clone(true);
        }
        return w.prototype.init = function() {
          var R = this.$child, A = this.getInputContainer();
          R && R.insertAfter(A);
        }, w.prototype.getInput = function() {
          var R = this.$todo, A = (0, d.default)(R).call(R, "input");
          return A;
        }, w.prototype.getInputContainer = function() {
          var R = this.getInput().parent();
          return R;
        }, w.prototype.getTodo = function() {
          return this.$todo;
        }, w;
      }();
      o.todo = m;
      function g(w) {
        var R = new m(w);
        return R.init(), R;
      }
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2);
      n(146), n(148), n(152), n(154), n(156), n(158), n(160);
      var c = d.__importDefault(n(87));
      d.__exportStar(n(442), o);
      try {
      } catch {
        throw new Error("请在浏览器环境下运行");
      }
      o.default = c.default;
    }, function(a, o, n) {
      var l = n(143);
      a.exports = l;
    }, function(a, o, n) {
      n(144);
      var l = n(9), f = l.Object, d = a.exports = function(h2, m, g) {
        return f.defineProperty(h2, m, g);
      };
      f.defineProperty.sham && (d.sham = true);
    }, function(a, o, n) {
      var l = n(5), f = n(14), d = n(18);
      l({ target: "Object", stat: true, forced: !f, sham: !f }, { defineProperty: d.f });
    }, function(a, o) {
      var n;
      n = /* @__PURE__ */ function() {
        return this;
      }();
      try {
        n = n || new Function("return this")();
      } catch {
        (typeof window > "u" ? "undefined" : Gt(window)) === "object" && (n = window);
      }
      a.exports = n;
    }, function(a, o, n) {
      var l = n(20), f = n(147);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-toolbar,
.w-e-text-container,
.w-e-menu-panel {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  background-color: #fff;
  /*表情菜单样式*/
  /*分割线样式*/
}
.w-e-toolbar h1,
.w-e-text-container h1,
.w-e-menu-panel h1 {
  font-size: 32px !important;
}
.w-e-toolbar h2,
.w-e-text-container h2,
.w-e-menu-panel h2 {
  font-size: 24px !important;
}
.w-e-toolbar h3,
.w-e-text-container h3,
.w-e-menu-panel h3 {
  font-size: 18.72px !important;
}
.w-e-toolbar h4,
.w-e-text-container h4,
.w-e-menu-panel h4 {
  font-size: 16px !important;
}
.w-e-toolbar h5,
.w-e-text-container h5,
.w-e-menu-panel h5 {
  font-size: 13.28px !important;
}
.w-e-toolbar p,
.w-e-text-container p,
.w-e-menu-panel p {
  font-size: 16px !important;
}
.w-e-toolbar .eleImg,
.w-e-text-container .eleImg,
.w-e-menu-panel .eleImg {
  cursor: pointer;
  display: inline-block;
  font-size: 18px;
  padding: 0 3px;
}
.w-e-toolbar *,
.w-e-text-container *,
.w-e-menu-panel * {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}
.w-e-toolbar hr,
.w-e-text-container hr,
.w-e-menu-panel hr {
  cursor: pointer;
  display: block;
  height: 0px;
  border: 0;
  border-top: 3px solid #ccc;
  margin: 20px 0;
}
.w-e-clear-fix:after {
  content: "";
  display: table;
  clear: both;
}
.w-e-drop-list-item {
  position: relative;
  top: 1px;
  padding-right: 7px;
  color: #333 !important;
}
.w-e-drop-list-tl {
  padding-left: 10px;
  text-align: left;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(20), f = n(149);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21), f = n(150), d = n(151);
      o = l(false);
      var c = f(d);
      o.push([a.i, `@font-face {
  font-family: 'w-e-icon';
  src: url(` + c + `) format('truetype');
  font-weight: normal;
  font-style: normal;
}
[class^="w-e-icon-"],
[class*=" w-e-icon-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: 'w-e-icon' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.w-e-icon-close:before {
  content: "\\f00d";
}
.w-e-icon-upload2:before {
  content: "\\e9c6";
}
.w-e-icon-trash-o:before {
  content: "\\f014";
}
.w-e-icon-header:before {
  content: "\\f1dc";
}
.w-e-icon-pencil2:before {
  content: "\\e906";
}
.w-e-icon-paint-brush:before {
  content: "\\f1fc";
}
.w-e-icon-image:before {
  content: "\\e90d";
}
.w-e-icon-play:before {
  content: "\\e912";
}
.w-e-icon-location:before {
  content: "\\e947";
}
.w-e-icon-undo:before {
  content: "\\e965";
}
.w-e-icon-redo:before {
  content: "\\e966";
}
.w-e-icon-quotes-left:before {
  content: "\\e977";
}
.w-e-icon-list-numbered:before {
  content: "\\e9b9";
}
.w-e-icon-list2:before {
  content: "\\e9bb";
}
.w-e-icon-link:before {
  content: "\\e9cb";
}
.w-e-icon-happy:before {
  content: "\\e9df";
}
.w-e-icon-bold:before {
  content: "\\ea62";
}
.w-e-icon-underline:before {
  content: "\\ea63";
}
.w-e-icon-italic:before {
  content: "\\ea64";
}
.w-e-icon-strikethrough:before {
  content: "\\ea65";
}
.w-e-icon-table2:before {
  content: "\\ea71";
}
.w-e-icon-paragraph-left:before {
  content: "\\ea77";
}
.w-e-icon-paragraph-center:before {
  content: "\\ea78";
}
.w-e-icon-paragraph-right:before {
  content: "\\ea79";
}
.w-e-icon-paragraph-justify:before {
  content: "\\ea7a";
}
.w-e-icon-terminal:before {
  content: "\\f120";
}
.w-e-icon-page-break:before {
  content: "\\ea68";
}
.w-e-icon-cancel-circle:before {
  content: "\\ea0d";
}
.w-e-icon-font:before {
  content: "\\ea5c";
}
.w-e-icon-text-heigh:before {
  content: "\\ea5f";
}
.w-e-icon-paint-format:before {
  content: "\\e90c";
}
.w-e-icon-indent-increase:before {
  content: "\\ea7b";
}
.w-e-icon-indent-decrease:before {
  content: "\\ea7c";
}
.w-e-icon-row-height:before {
  content: "\\e9be";
}
.w-e-icon-fullscreen_exit:before {
  content: "\\e900";
}
.w-e-icon-fullscreen:before {
  content: "\\e901";
}
.w-e-icon-split-line:before {
  content: "\\ea0b";
}
.w-e-icon-checkbox-checked:before {
  content: "\\ea52";
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      a.exports = function(l, f) {
        return f || (f = {}), l = l && l.__esModule ? l.default : l, typeof l != "string" ? l : (/^['"].*['"]$/.test(l) && (l = l.slice(1, -1)), f.hash && (l += f.hash), /["'() \t\n]/.test(l) || f.needQuotes ? '"'.concat(l.replace(/"/g, '\\"').replace(/\n/g, "\\n"), '"') : l);
      };
    }, function(a, o, n) {
      n.r(o), o.default = "data:font/woff;base64,d09GRgABAAAAABskAAsAAAAAGtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPFWNtYXAAAAFoAAABHAAAARz2mfAgZ2FzcAAAAoQAAAAIAAAACAAAABBnbHlmAAACjAAAFXwAABV8IH7+mGhlYWQAABgIAAAANgAAADYb6gumaGhlYQAAGEAAAAAkAAAAJAkjBWlobXR4AAAYZAAAAKQAAACkmYcEbmxvY2EAABkIAAAAVAAAAFReAmKYbWF4cAAAGVwAAAAgAAAAIAA0ALZuYW1lAAAZfAAAAYYAAAGGmUoJ+3Bvc3QAABsEAAAAIAAAACAAAwAAAAMD7wGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAQAAAAA8ACAABAAcAAEAIOkB6QbpDekS6UfpZul36bnpu+m+6cbpy+nf6gvqDepS6lzqX+pl6nHqfPAN8BTxIPHc8fz//f//AAAAAAAg6QDpBukM6RLpR+ll6Xfpuem76b7pxunL6d/qC+oN6lLqXOpf6mLqcep38A3wFPEg8dzx/P/9//8AAf/jFwQXABb7FvcWwxamFpYWVRZUFlIWSxZHFjQWCRYIFcQVuxW5FbcVrBWnEBcQEQ8GDksOLAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAEEAAQO/A38ABQALABEAFwAAATMVIREzAxEhFSMVATUzESE1ETUhESM1Av/A/sJ+fgE+wP4Cfv7CAT5+Ar9+AT78ggE+fsACvsD+wn7+An7+wsAAAAAABABBAAEDvwN/AAUACwARABcAAAEhESM1IxM1MxEhNQERIRUjFREVMxUhEQKBAT5+wMB+/sL9wAE+wMD+wgN//sLA/X7A/sJ+AcIBPn7A/v7AfgE+AAAAAAIAAP/ABAADwAAEABMAAAE3AScBAy4BJxM3ASMBAyUBNQEHAYCAAcBA/kCfFzsyY4ABgMD+gMACgAGA/oBOAUBAAcBA/kD+nTI7FwERTgGA/oD9gMABgMD+gIAAAgAA/8AEAAOAACkALQAAAREjNTQmIyEiBh0BFBYzITI2PQEzESEVIyIGFREUFjsBMjY1ETQmKwE1ASE1IQQAwCYa/UAaJiYaAsAaJoD9wCANExMNgA0TEw0gAUD9QALAAYABgEAaJiYawBomJhpA/wCAEw3+wA0TEw0BQA0TQAGAQAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAAAgAAAEAEAANAADgAPAAAASYnLgEnJiMiBw4BBwYHBgcOAQcGFRQXHgEXFhcWFx4BFxYzMjc+ATc2NzY3PgE3NjU0Jy4BJyYnARENAQPVNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBws2ODl2PD0/Pz08djk4NgsHCAsDAwMDCwgHC/2rAUD+wAMgCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKikIBgYIAgICAggGBggpKipZLS4vLy4tWSoqKf3gAYDAwAAAAAACAMD/wANAA8AAGwAnAAABIgcOAQcGFRQXHgEXFjEwNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGAgBCOzpXGRkyMngyMjIyeDIyGRlXOjtCUHBwUFBwcAPAGRlXOjtCeH19zEFBQUHMfX14Qjs6VxkZ/gBwUFBwcFBQcAAAAQAAAAAEAAOAACsAAAEiBw4BBwYHJxEhJz4BMzIXHgEXFhUUBw4BBwYHFzY3PgE3NjU0Jy4BJyYjAgA1MjJcKSkjlgGAkDWLUFBFRmkeHgkJIhgYHlUoICAtDAwoKIteXWoDgAoLJxscI5b+gJA0PB4eaUZFUCsoKUkgIRpgIysrYjY2OWpdXosoKAABAAAAAAQAA4AAKgAAExQXHgEXFhc3JicuAScmNTQ3PgE3NjMyFhcHIREHJicuAScmIyIHDgEHBgAMDC0gIChVHhgYIgkJHh5pRkVQUIs1kAGAliMpKVwyMjVqXV6LKCgBgDk2NmIrKyNgGiEgSSkoK1BFRmkeHjw0kAGAliMcGycLCigoi15dAAAAAAIAAABABAEDAAAmAE0AABMyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+ASEyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+AeEuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICSS4pKT0REhIRPSkpLi4pKT0REgEjI3pSUV1AdS0JEAcIEgIAEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBAAAGAED/wAQAA8AAAwAHAAsAEQAdACkAACUhFSERIRUhESEVIScRIzUjNRMVMxUjNTc1IzUzFRURIzUzNSM1MzUjNQGAAoD9gAKA/YACgP2AwEBAQIDAgIDAwICAgICAgAIAgAIAgMD/AMBA/fIyQJI8MkCS7v7AQEBAQEAABgAA/8AEAAPAAAMABwALABcAIwAvAAABIRUhESEVIREhFSEBNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYBgAKA/YACgP2AAoD9gP6ASzU1S0s1NUtLNTVLSzU1S0s1NUtLNTVLA4CA/wCA/wCAA0A1S0s1NUtL/rU1S0s1NUtL/rU1S0s1NUtLAAUAAABABWADAAADAAcACwAOABEAABMhFSEVIRUhFSEVIQEXNzUnBwADgPyAA4D8gAOA/IAD4MDAwMADAMBAwEDAAUDAwEDAwAAAAAADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAEAAAFABAACQAAPAAATFRQWMyEyNj0BNCYjISIGABMNA8ANExMN/EANEwIgwA0TEw3ADRMTAAAAAwAA/8AEAAPAABsANwBDAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBhMHJwcXBxc3FzcnNwIAal1eiygoKCiLXl1qal1eiygoKCiLXl1qVkxMcSAhISBxTExWVkxMcSAhISBxTExKoKBgoKBgoKBgoKADwCgoi15dampdXosoKCgoi15dampdXosoKPxgISBxTExWVkxMcSAhISBxTExWVkxMcSAhAqCgoGCgoGCgoGCgoAACAAD/wAQAA8AADwAVAAABISIGFREUFjMhMjY1ETQmASc3FwEXA4D9ADVLSzUDADVLS/4L7VqTATNaA8BLNf0ANUtLNQMANUv85e5akgEyWgAAAAABAGX/wAObA8AAKQAAASImIyIHDgEHBhUUFjMuATU0NjcwBwYCBwYHFSETMzcjNx4BMzI2Nw4BAyBEaEZxU1RtGhtJSAYNZUoQEEs8PFkBPWzGLNc0LVUmLlAYHT0DsBAeHWE+P0FNOwsmN5lvA31+/sWPkCMZAgCA9gkPN2sJBwAAAAACAAAAAAQAA4AACQAXAAAlMwcnMxEjNxcjJREnIxEzFSE1MxEjBxEDgICgoICAoKCA/wBAwID+gIDAQMDAwAIAwMDA/wCA/UBAQALAgAEAAAMAwAAAA0ADgAAWAB8AKAAAAT4BNTQnLgEnJiMhESEyNz4BNzY1NCYBMzIWFRQGKwETIxEzMhYVFAYCxBwgFBRGLi81/sABgDUvLkYUFET+hGUqPDwpZp+fnyw+PgHbIlQvNS8uRhQU/IAUFEYuLzVGdAFGSzU1S/6AAQBLNTVLAAAAAAIAwAAAA0ADgAAfACMAAAEzERQHDgEHBiMiJy4BJyY1ETMRFBYXHgEzMjY3PgE1ASEVIQLAgBkZVzo7QkI7OlcZGYAbGBxJKChJHBgb/gACgP2AA4D+YDw0NU4WFxcWTjU0PAGg/mAeOBcYGxsYFzge/qCAAAAAAAEAgAAAA4ADgAALAAABFSMBMxUhNTMBIzUDgID+wID+QIABQIADgED9AEBAAwBAAAEAAAAABAADgAA9AAABFSMeARUUBgcOASMiJicuATUzFBYzMjY1NCYjITUhLgEnLgE1NDY3PgEzMhYXHgEVIzQmIyIGFRQWMzIWFwQA6xUWNTAscT4+cSwwNYByTk5yck7+AAEsAgQBMDU1MCxxPj5xLDA1gHJOTnJyTjtuKwHAQB1BIjViJCEkJCEkYjU0TEw0NExAAQMBJGI1NWIkISQkISRiNTRMTDQ0TCEfAAAACgAAAAAEAAOAAAMABwALAA8AEwAXABsAHwAjACcAABMRIREBNSEVHQEhNQEVITUjFSE1ESEVISUhFSERNSEVASEVISE1IRUABAD9gAEA/wABAP8AQP8AAQD/AAKAAQD/AAEA/IABAP8AAoABAAOA/IADgP3AwMBAwMACAMDAwMD/AMDAwAEAwMD+wMDAwAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRUhFSERIRUhESEVIREhFSEABAD8AAKA/YACgP2ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhFyEVIREhFSEDIRUhESEVIQAEAPwAwAKA/YACgP2AwAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEFIRUhESEVIQEhFSERIRUhAAQA/AABgAKA/YACgP2A/oAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhFSEVIRUhFSEVIRUhAAQA/AAEAPwABAD8AAQA/AAEAPwAA4CAQIBAgECAQIAAAAAGAAAAAAQAA4AAAwAHAAsADwATABYAABMhFSEFIRUhFSEVIRUhFSEFIRUhGQEFAAQA/AABgAKA/YACgP2AAoD9gP6ABAD8AAEAA4CAQIBAgECAQIABAAGAwAAAAAYAAAAABAADgAADAAcACwAPABMAFgAAEyEVIQUhFSEVIRUhFSEVIQUhFSEBESUABAD8AAGAAoD9gAKA/YACgP2A/oAEAPwAAQD/AAOAgECAQIBAgECAAoD+gMAAAQA/AD8C5gLmACwAACUUDwEGIyIvAQcGIyIvASY1ND8BJyY1ND8BNjMyHwE3NjMyHwEWFRQPARcWFQLmEE4QFxcQqKgQFxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQwxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQEE4QFxcQqKgQFwAAAAYAAAAAAyUDbgAUACgAPABNAFUAggAAAREUBwYrASInJjURNDc2OwEyFxYVMxEUBwYrASInJjURNDc2OwEyFxYXERQHBisBIicmNRE0NzY7ATIXFhMRIREUFxYXFjMhMjc2NzY1ASEnJicjBgcFFRQHBisBERQHBiMhIicmNREjIicmPQE0NzY7ATc2NzY7ATIXFh8BMzIXFhUBJQYFCCQIBQYGBQgkCAUGkgUFCCUIBQUFBQglCAUFkgUFCCUIBQUFBQglCAUFSf4ABAQFBAIB2wIEBAQE/oABABsEBrUGBAH3BgUINxobJv4lJhsbNwgFBQUFCLEoCBcWF7cXFhYJKLAIBQYCEv63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgUI/rcIBQUFBQgBSQgFBgYF/lsCHf3jDQsKBQUFBQoLDQJmQwUCAgVVJAgGBf3jMCIjISIvAiAFBggkCAUFYBUPDw8PFWAFBQgAAgAHAEkDtwKvABoALgAACQEGIyIvASY1ND8BJyY1ND8BNjMyFwEWFRQHARUUBwYjISInJj0BNDc2MyEyFxYBTv72BgcIBR0GBuHhBgYdBQgHBgEKBgYCaQUFCP3bCAUFBQUIAiUIBQUBhf72BgYcBggHBuDhBgcHBh0FBf71BQgHBv77JQgFBQUFCCUIBQUFBQAAAAEAIwAAA90DbgCzAAAlIicmIyIHBiMiJyY1NDc2NzY3Njc2PQE0JyYjISIHBh0BFBcWFxYzFhcWFRQHBiMiJyYjIgcGIyInJjU0NzY3Njc2NzY9ARE0NTQ1NCc0JyYnJicmJyYnJiMiJyY1NDc2MzIXFjMyNzYzMhcWFRQHBiMGBwYHBh0BFBcWMyEyNzY9ATQnJicmJyY1NDc2MzIXFjMyNzYzMhcWFRQHBgciBwYHBhURFBcWFxYXMhcWFRQHBiMDwRkzMhoZMjMZDQgHCQoNDBEQChIBBxX+fhYHARUJEhMODgwLBwcOGzU1GhgxMRgNBwcJCQsMEA8JEgECAQIDBAQFCBIRDQ0KCwcHDho1NRoYMDEYDgcHCQoMDRAQCBQBBw8BkA4HARQKFxcPDgcHDhkzMhkZMTEZDgcHCgoNDRARCBQUCRERDg0KCwcHDgACAgICDAsPEQkJAQEDAwUMROAMBQMDBQzUUQ0GAQIBCAgSDwwNAgICAgwMDhEICQECAwMFDUUhAdACDQ0ICA4OCgoLCwcHAwYBAQgIEg8MDQICAgINDA8RCAgBAgEGDFC2DAcBAQcMtlAMBgEBBgcWDwwNAgICAg0MDxEICAEBAgYNT/3mRAwGAgIBCQgRDwwNAAACAAD/twP/A7cAEwA5AAABMhcWFRQHAgcGIyInJjU0NwE2MwEWFxYfARYHBiMiJyYnJicmNRYXFhcWFxYzMjc2NzY3Njc2NzY3A5soHh4avkw3RUg0NDUBbSEp/fgXJicvAQJMTHtHNjYhIRARBBMUEBASEQkXCA8SExUVHR0eHikDtxsaKCQz/plGNDU0SUkwAUsf/bErHx8NKHpNTBobLi86OkQDDw4LCwoKFiUbGhERCgsEBAIAAQAAAAAAAIWwaoFfDzz1AAsEAAAAAADbteOZAAAAANu145kAAP+3BWADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAFgAAA//8FYAABAAAAAAAAAAAAAAAAAAAAKQQAAAAAAAAAAAAAAAIAAAAEAABBBAAAQQQAAAAEAAAABAAAAAQAAAAEAADABAAAAAQAAAAEAAAABAAAQAQAAAAFgAAABAAAAAQAAB4EAAAABAAAAAQAAAAEAAAABAAAZQQAAAAEAADABAAAwAQAAIAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBKAHYApADmAS4BkgHQAhYCXALQAw4DWAN+A6gEPgTeBPoFZAWOBdAF+AY6BnYGjgbmBy4HVgd+B6gHzgf8CCoIbgkmCXAKYgq+AAEAAAApALQACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";
    }, function(a, o, n) {
      var l = n(20), f = n(153);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-toolbar {
  display: flex;
  padding: 0 6px;
  flex-wrap: wrap;
  position: relative;
  /* 单个菜单 */
}
.w-e-toolbar .w-e-menu {
  position: relative;
  display: flex;
  width: 40px;
  height: 40px;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
}
.w-e-toolbar .w-e-menu i {
  color: #999;
}
.w-e-toolbar .w-e-menu:hover {
  background-color: #F6F6F6;
}
.w-e-toolbar .w-e-menu:hover i {
  color: #333;
}
.w-e-toolbar .w-e-active i {
  color: #1e88e5;
}
.w-e-toolbar .w-e-active:hover i {
  color: #1e88e5;
}
.w-e-menu-tooltip {
  position: absolute;
  display: flex;
  color: #f1f1f1;
  background-color: rgba(0, 0, 0, 0.75);
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  padding: 4px 5px 6px;
  justify-content: center;
  align-items: center;
}
.w-e-menu-tooltip-up::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-top-color: rgba(0, 0, 0, 0.73);
}
.w-e-menu-tooltip-down::after {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-bottom-color: rgba(0, 0, 0, 0.73);
}
.w-e-menu-tooltip-item-wrapper {
  font-size: 14px;
  margin: 0 5px;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(20), f = n(155);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-text-container {
  position: relative;
  height: 100%;
}
.w-e-text-container .w-e-progress {
  position: absolute;
  background-color: #1e88e5;
  top: 0;
  left: 0;
  height: 1px;
}
.w-e-text-container .placeholder {
  color: #D4D4D4;
  position: absolute;
  font-size: 11pt;
  line-height: 22px;
  left: 10px;
  top: 10px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  z-index: -1;
}
.w-e-text {
  padding: 0 10px;
  overflow-y: auto;
}
.w-e-text p,
.w-e-text h1,
.w-e-text h2,
.w-e-text h3,
.w-e-text h4,
.w-e-text h5,
.w-e-text table,
.w-e-text pre {
  margin: 10px 0;
  line-height: 1.5;
}
.w-e-text ul,
.w-e-text ol {
  margin: 10px 0 10px 20px;
}
.w-e-text blockquote {
  display: block;
  border-left: 8px solid #d0e5f2;
  padding: 5px 10px;
  margin: 10px 0;
  line-height: 1.4;
  font-size: 100%;
  background-color: #f1f1f1;
}
.w-e-text code {
  display: inline-block;
  background-color: #f1f1f1;
  border-radius: 3px;
  padding: 3px 5px;
  margin: 0 3px;
}
.w-e-text pre code {
  display: block;
}
.w-e-text table {
  border-top: 1px solid #ccc;
  border-left: 1px solid #ccc;
}
.w-e-text table td,
.w-e-text table th {
  border-bottom: 1px solid #ccc;
  border-right: 1px solid #ccc;
  padding: 3px 5px;
  min-height: 30px;
  height: 30px;
}
.w-e-text table th {
  border-bottom: 2px solid #ccc;
  text-align: center;
  background-color: #f1f1f1;
}
.w-e-text:focus {
  outline: none;
}
.w-e-text img {
  cursor: pointer;
}
.w-e-text img:hover {
  box-shadow: 0 0 5px #333;
}
.w-e-text .w-e-todo {
  margin: 0 0 0 20px;
}
.w-e-text .w-e-todo li {
  list-style: none;
  font-size: 1em;
}
.w-e-text .w-e-todo li span:nth-child(1) {
  position: relative;
  left: -18px;
}
.w-e-text .w-e-todo li span:nth-child(1) input {
  position: absolute;
  margin-right: 3px;
}
.w-e-text .w-e-todo li span:nth-child(1) input[type=checkbox] {
  top: 50%;
  margin-top: -6px;
}
.w-e-tooltip {
  position: absolute;
  display: flex;
  color: #f1f1f1;
  background-color: rgba(0, 0, 0, 0.75);
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  padding: 4px 5px 6px;
  justify-content: center;
  align-items: center;
}
.w-e-tooltip-up::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-top-color: rgba(0, 0, 0, 0.73);
}
.w-e-tooltip-down::after {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-bottom-color: rgba(0, 0, 0, 0.73);
}
.w-e-tooltip-item-wrapper {
  cursor: pointer;
  font-size: 14px;
  margin: 0 5px;
}
.w-e-tooltip-item-wrapper:hover {
  color: #ccc;
  text-decoration: underline;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(20), f = n(157);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-menu .w-e-panel-container {
  position: absolute;
  top: 0;
  left: 50%;
  border: 1px solid #ccc;
  border-top: 0;
  box-shadow: 1px 1px 2px #ccc;
  color: #333;
  background-color: #fff;
  text-align: left;
  /* 为 emotion panel 定制的样式 */
  /* 上传图片、上传视频的 panel 定制样式 */
}
.w-e-menu .w-e-panel-container .w-e-panel-close {
  position: absolute;
  right: 0;
  top: 0;
  padding: 5px;
  margin: 2px 5px 0 0;
  cursor: pointer;
  color: #999;
}
.w-e-menu .w-e-panel-container .w-e-panel-close:hover {
  color: #333;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title {
  list-style: none;
  display: flex;
  font-size: 14px;
  margin: 2px 10px 0 10px;
  border-bottom: 1px solid #f1f1f1;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {
  padding: 3px 5px;
  color: #999;
  cursor: pointer;
  margin: 0 3px;
  position: relative;
  top: 1px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {
  color: #333;
  border-bottom: 1px solid #333;
  cursor: default;
  font-weight: 700;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content {
  padding: 10px 15px 10px 15px;
  font-size: 16px;
  /* 输入框的样式 */
  /* 按钮的样式 */
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,
.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {
  outline: none;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {
  width: 100%;
  border: 1px solid #ccc;
  padding: 5px;
  margin-top: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {
  border-color: #1e88e5;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {
  border: none;
  border-bottom: 1px solid #ccc;
  font-size: 14px;
  height: 20px;
  color: #333;
  text-align: left;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {
  width: 30px;
  text-align: center;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {
  display: block;
  width: 100%;
  margin: 10px 0;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {
  border-bottom: 2px solid #1e88e5;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {
  font-size: 14px;
  color: #1e88e5;
  border: none;
  padding: 5px 10px;
  background-color: #fff;
  cursor: pointer;
  border-radius: 3px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {
  float: left;
  margin-right: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {
  float: right;
  margin-left: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {
  color: #999;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {
  color: #c24f4a;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {
  background-color: #f1f1f1;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {
  content: "";
  display: table;
  clear: both;
}
.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {
  cursor: pointer;
  font-size: 18px;
  padding: 0 3px;
  display: inline-block;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container,
.w-e-menu .w-e-panel-container .w-e-up-video-container {
  text-align: center;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn,
.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn {
  display: inline-block;
  color: #999;
  cursor: pointer;
  font-size: 60px;
  line-height: 1;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover,
.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn:hover {
  color: #333;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(20), f = n(159);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-toolbar .w-e-droplist {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #fff;
  border: 1px solid #f1f1f1;
  border-right-color: #ccc;
  border-bottom-color: #ccc;
}
.w-e-toolbar .w-e-droplist .w-e-dp-title {
  text-align: center;
  color: #999;
  line-height: 2;
  border-bottom: 1px solid #f1f1f1;
  font-size: 13px;
}
.w-e-toolbar .w-e-droplist ul.w-e-list {
  list-style: none;
  line-height: 1;
}
.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {
  color: #333;
  padding: 5px 0;
}
.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {
  background-color: #f1f1f1;
}
.w-e-toolbar .w-e-droplist ul.w-e-block {
  list-style: none;
  text-align: left;
  padding: 5px;
}
.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {
  display: inline-block;
  padding: 3px 5px;
}
.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {
  background-color: #f1f1f1;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(0), f = l(n(161));
      Element.prototype.matches || (Element.prototype.matches = function(d) {
        var c = this.ownerDocument.querySelectorAll(d), h2 = c.length;
        for (h2; h2 >= 0 && c.item(h2) !== this; h2--)
          ;
        return h2 > -1;
      }), f.default || (window.Promise = f.default);
    }, function(a, o, n) {
      a.exports = n(162);
    }, function(a, o, n) {
      var l = n(163);
      a.exports = l;
    }, function(a, o, n) {
      n(61), n(50), n(54), n(175), n(178), n(179);
      var l = n(9);
      a.exports = l.Promise;
    }, function(a, o, n) {
      var l = n(62), f = n(49), d = function(h2) {
        return function(m, g) {
          var w = String(f(m)), R = l(g), A = w.length, E, b;
          return R < 0 || R >= A ? h2 ? "" : void 0 : (E = w.charCodeAt(R), E < 55296 || E > 56319 || R + 1 === A || (b = w.charCodeAt(R + 1)) < 56320 || b > 57343 ? h2 ? w.charAt(R) : E : h2 ? w.slice(R, R + 2) : (E - 55296 << 10) + (b - 56320) + 65536);
        };
      };
      a.exports = {
        codeAt: d(false),
        charAt: d(true)
      };
    }, function(a, o, n) {
      var l = n(8), f = n(102), d = l.WeakMap;
      a.exports = typeof d == "function" && /native code/.test(f(d));
    }, function(a, o, n) {
      var l = n(8), f = n(19);
      a.exports = function(d, c) {
        try {
          f(l, d, c);
        } catch {
          l[d] = c;
        }
        return c;
      };
    }, function(a, o, n) {
      var l = n(104).IteratorPrototype, f = n(77), d = n(48), c = n(37), h2 = n(44), m = function() {
        return this;
      };
      a.exports = function(g, w, R) {
        var A = w + " Iterator";
        return g.prototype = f(l, { next: d(1, R) }), c(g, A, false, true), h2[A] = m, g;
      };
    }, function(a, o, n) {
      var l = n(11);
      a.exports = !l(function() {
        function f() {
        }
        return f.prototype.constructor = null, Object.getPrototypeOf(new f()) !== f.prototype;
      });
    }, function(a, o, n) {
      var l = n(14), f = n(18), d = n(25), c = n(52);
      a.exports = l ? Object.defineProperties : function(m, g) {
        d(m);
        for (var w = c(g), R = w.length, A = 0, E; R > A; )
          f.f(m, E = w[A++], g[E]);
        return m;
      };
    }, function(a, o, n) {
      var l = n(81), f = n(65);
      a.exports = l ? {}.toString : function() {
        return "[object " + f(this) + "]";
      };
    }, function(a, o, n) {
      var l = n(25), f = n(172);
      a.exports = Object.setPrototypeOf || ("__proto__" in {} ? function() {
        var d = false, c = {}, h2;
        try {
          h2 = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set, h2.call(c, []), d = c instanceof Array;
        } catch {
        }
        return function(g, w) {
          return l(g), f(w), d ? h2.call(g, w) : g.__proto__ = w, g;
        };
      }() : void 0);
    }, function(a, o, n) {
      var l = n(13);
      a.exports = function(f) {
        if (!l(f) && f !== null)
          throw TypeError("Can't set " + String(f) + " as a prototype");
        return f;
      };
    }, function(a, o, n) {
      var l = n(30), f = n(82), d = n(44), c = n(42), h2 = n(75), m = "Array Iterator", g = c.set, w = c.getterFor(m);
      a.exports = h2(Array, "Array", function(R, A) {
        g(this, {
          type: m,
          target: l(R),
          index: 0,
          kind: A
        });
      }, function() {
        var R = w(this), A = R.target, E = R.kind, b = R.index++;
        return !A || b >= A.length ? (R.target = void 0, { value: void 0, done: true }) : E == "keys" ? { value: b, done: false } : E == "values" ? { value: A[b], done: false } : { value: [b, A[b]], done: false };
      }, "values"), d.Arguments = d.Array, f("keys"), f("values"), f("entries");
    }, function(a, o) {
      a.exports = { CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0 };
    }, function(a, o, n) {
      var l = n(5), f = n(43), d = n(8), c = n(36), h2 = n(109), m = n(53), g = n(110), w = n(37), R = n(111), A = n(13), E = n(41), b = n(83), v = n(34), y = n(102), T = n(66), x = n(115), D = n(116), I = n(117).set, N = n(176), C = n(119), B = n(177), O = n(85), S = n(120), F = n(42), $ = n(101), U = n(10), L = n(86), z = U("species"), Q = "Promise", J = F.get, ae = F.set, M = F.getterFor(Q), V = h2, K = d.TypeError, G = d.document, Z = d.process, ue = c("fetch"), pe = O.f, ce = pe, fe = v(Z) == "process", ne = !!(G && G.createEvent && d.dispatchEvent), be = "unhandledrejection", we = "rejectionhandled", Re = 0, Ke = 1, lt = 2, ot = 1, Ct = 2, St, $e, bt, hn, Vt = $(Q, function() {
        var rt = y(V) !== String(V);
        if (!rt && (L === 66 || !fe && typeof PromiseRejectionEvent != "function") || f && !V.prototype.finally)
          return true;
        if (L >= 51 && /native code/.test(V))
          return false;
        var Ie = V.resolve(1), Oe = function(he) {
          he(function() {
          }, function() {
          });
        }, ze = Ie.constructor = {};
        return ze[z] = Oe, !(Ie.then(function() {
        }) instanceof Oe);
      }), yi = Vt || !x(function(rt) {
        V.all(rt).catch(function() {
        });
      }), zn = function(Ie) {
        var Oe;
        return A(Ie) && typeof (Oe = Ie.then) == "function" ? Oe : false;
      }, An = function(Ie, Oe, ze) {
        if (!Oe.notified) {
          Oe.notified = true;
          var Pe = Oe.reactions;
          N(function() {
            for (var he = Oe.value, Be = Oe.state == Ke, Le = 0; Pe.length > Le; ) {
              var Fe = Pe[Le++], Ye = Be ? Fe.ok : Fe.fail, on2 = Fe.resolve, xt = Fe.reject, wt = Fe.domain, pt, On, bi;
              try {
                Ye ? (Be || (Oe.rejection === Ct && Rn(Ie, Oe), Oe.rejection = ot), Ye === true ? pt = he : (wt && wt.enter(), pt = Ye(he), wt && (wt.exit(), bi = true)), pt === Fe.promise ? xt(K("Promise-chain cycle")) : (On = zn(pt)) ? On.call(pt, on2, xt) : on2(pt)) : xt(he);
              } catch (Nn) {
                wt && !bi && wt.exit(), xt(Nn);
              }
            }
            Oe.reactions = [], Oe.notified = false, ze && !Oe.rejection && Un(Ie, Oe);
          });
        }
      }, wn = function(Ie, Oe, ze) {
        var Pe, he;
        ne ? (Pe = G.createEvent("Event"), Pe.promise = Oe, Pe.reason = ze, Pe.initEvent(Ie, false, true), d.dispatchEvent(Pe)) : Pe = { promise: Oe, reason: ze }, (he = d["on" + Ie]) ? he(Pe) : Ie === be && B("Unhandled promise rejection", ze);
      }, Un = function(Ie, Oe) {
        I.call(d, function() {
          var ze = Oe.value, Pe = Cn(Oe), he;
          if (Pe && (he = S(function() {
            fe ? Z.emit("unhandledRejection", ze, Ie) : wn(be, Ie, ze);
          }), Oe.rejection = fe || Cn(Oe) ? Ct : ot, he.error))
            throw he.value;
        });
      }, Cn = function(Ie) {
        return Ie.rejection !== ot && !Ie.parent;
      }, Rn = function(Ie, Oe) {
        I.call(d, function() {
          fe ? Z.emit("rejectionHandled", Ie) : wn(we, Ie, Oe.value);
        });
      }, kt = function(Ie, Oe, ze, Pe) {
        return function(he) {
          Ie(Oe, ze, he, Pe);
        };
      }, ct = function(Ie, Oe, ze, Pe) {
        Oe.done || (Oe.done = true, Pe && (Oe = Pe), Oe.value = ze, Oe.state = lt, An(Ie, Oe, true));
      }, vn = function rt(Ie, Oe, ze, Pe) {
        if (!Oe.done) {
          Oe.done = true, Pe && (Oe = Pe);
          try {
            if (Ie === ze)
              throw K("Promise can't be resolved itself");
            var he = zn(ze);
            he ? N(function() {
              var Be = { done: false };
              try {
                he.call(ze, kt(rt, Ie, Be, Oe), kt(ct, Ie, Be, Oe));
              } catch (Le) {
                ct(Ie, Be, Le, Oe);
              }
            }) : (Oe.value = ze, Oe.state = Ke, An(Ie, Oe, false));
          } catch (Be) {
            ct(Ie, { done: false }, Be, Oe);
          }
        }
      };
      Vt && (V = function(Ie) {
        b(this, V, Q), E(Ie), St.call(this);
        var Oe = J(this);
        try {
          Ie(kt(vn, this, Oe), kt(ct, this, Oe));
        } catch (ze) {
          ct(this, Oe, ze);
        }
      }, St = function(Ie) {
        ae(this, { type: Q, done: false, notified: false, parent: false, reactions: [], rejection: false, state: Re, value: void 0 });
      }, St.prototype = g(V.prototype, {
        then: function(Ie, Oe) {
          var ze = M(this), Pe = pe(D(this, V));
          return Pe.ok = typeof Ie == "function" ? Ie : true, Pe.fail = typeof Oe == "function" && Oe, Pe.domain = fe ? Z.domain : void 0, ze.parent = true, ze.reactions.push(Pe), ze.state != Re && An(this, ze, false), Pe.promise;
        },
        catch: function(Ie) {
          return this.then(void 0, Ie);
        }
      }), $e = function() {
        var Ie = new St(), Oe = J(Ie);
        this.promise = Ie, this.resolve = kt(vn, Ie, Oe), this.reject = kt(ct, Ie, Oe);
      }, O.f = pe = function(Ie) {
        return Ie === V || Ie === bt ? new $e(Ie) : ce(Ie);
      }, !f && typeof h2 == "function" && (hn = h2.prototype.then, m(h2.prototype, "then", function(Ie, Oe) {
        var ze = this;
        return new V(function(Pe, he) {
          hn.call(ze, Pe, he);
        }).then(Ie, Oe);
      }, { unsafe: true }), typeof ue == "function" && l({ global: true, enumerable: true, forced: true }, {
        fetch: function(Ie) {
          return C(V, ue.apply(d, arguments));
        }
      }))), l({ global: true, wrap: true, forced: Vt }, { Promise: V }), w(V, Q, false, true), R(Q), bt = c(Q), l({ target: Q, stat: true, forced: Vt }, {
        reject: function(Ie) {
          var Oe = pe(this);
          return Oe.reject.call(void 0, Ie), Oe.promise;
        }
      }), l({ target: Q, stat: true, forced: f || Vt }, {
        resolve: function(Ie) {
          return C(f && this === bt ? V : this, Ie);
        }
      }), l({ target: Q, stat: true, forced: yi }, {
        all: function(Ie) {
          var Oe = this, ze = pe(Oe), Pe = ze.resolve, he = ze.reject, Be = S(function() {
            var Le = E(Oe.resolve), Fe = [], Ye = 0, on2 = 1;
            T(Ie, function(xt) {
              var wt = Ye++, pt = false;
              Fe.push(void 0), on2++, Le.call(Oe, xt).then(function(On) {
                pt || (pt = true, Fe[wt] = On, --on2 || Pe(Fe));
              }, he);
            }), --on2 || Pe(Fe);
          });
          return Be.error && he(Be.value), ze.promise;
        },
        race: function(Ie) {
          var Oe = this, ze = pe(Oe), Pe = ze.reject, he = S(function() {
            var Be = E(Oe.resolve);
            T(Ie, function(Le) {
              Be.call(Oe, Le).then(ze.resolve, Pe);
            });
          });
          return he.error && Pe(he.value), ze.promise;
        }
      });
    }, function(a, o, n) {
      var l = n(8), f = n(71).f, d = n(34), c = n(117).set, h2 = n(118), m = l.MutationObserver || l.WebKitMutationObserver, g = l.process, w = l.Promise, R = d(g) == "process", A = f(l, "queueMicrotask"), E = A && A.value, b, v, y, T, x, D, I, N;
      E || (b = function() {
        var B, O;
        for (R && (B = g.domain) && B.exit(); v; ) {
          O = v.fn, v = v.next;
          try {
            O();
          } catch (S) {
            throw v ? T() : y = void 0, S;
          }
        }
        y = void 0, B && B.enter();
      }, R ? T = function() {
        g.nextTick(b);
      } : m && !h2 ? (x = true, D = document.createTextNode(""), new m(b).observe(D, { characterData: true }), T = function() {
        D.data = x = !x;
      }) : w && w.resolve ? (I = w.resolve(void 0), N = I.then, T = function() {
        N.call(I, b);
      }) : T = function() {
        c.call(l, b);
      }), a.exports = E || function(C) {
        var B = { fn: C, next: void 0 };
        y && (y.next = B), v || (v = B, T()), y = B;
      };
    }, function(a, o, n) {
      var l = n(8);
      a.exports = function(f, d) {
        var c = l.console;
        c && c.error && (arguments.length === 1 ? c.error(f) : c.error(f, d));
      };
    }, function(a, o, n) {
      var l = n(5), f = n(41), d = n(85), c = n(120), h2 = n(66);
      l({ target: "Promise", stat: true }, { allSettled: function(g) {
        var w = this, R = d.f(w), A = R.resolve, E = R.reject, b = c(function() {
          var v = f(w.resolve), y = [], T = 0, x = 1;
          h2(g, function(D) {
            var I = T++, N = false;
            y.push(void 0), x++, v.call(w, D).then(function(C) {
              N || (N = true, y[I] = { status: "fulfilled", value: C }, --x || A(y));
            }, function(C) {
              N || (N = true, y[I] = { status: "rejected", reason: C }, --x || A(y));
            });
          }), --x || A(y);
        });
        return b.error && E(b.value), R.promise;
      } });
    }, function(a, o, n) {
      var l = n(5), f = n(43), d = n(109), c = n(11), h2 = n(36), m = n(116), g = n(119), w = n(53), R = !!d && c(function() {
        d.prototype.finally.call({ then: function() {
        } }, function() {
        });
      });
      l({ target: "Promise", proto: true, real: true, forced: R }, { finally: function(E) {
        var b = m(this, h2("Promise")), v = typeof E == "function";
        return this.then(v ? function(y) {
          return g(b, E()).then(function() {
            return y;
          });
        } : E, v ? function(y) {
          return g(b, E()).then(function() {
            throw y;
          });
        } : E);
      } }), !f && typeof d == "function" && !d.prototype.finally && w(d.prototype, "finally", h2("Promise").prototype.finally);
    }, function(a, o, n) {
      n(54);
      var l = n(181), f = n(65), d = Array.prototype, c = { DOMTokenList: true, NodeList: true };
      a.exports = function(h2) {
        var m = h2.forEach;
        return h2 === d || h2 instanceof Array && m === d.forEach || c.hasOwnProperty(f(h2)) ? l : m;
      };
    }, function(a, o, n) {
      var l = n(182);
      a.exports = l;
    }, function(a, o, n) {
      n(183);
      var l = n(15);
      a.exports = l("Array").forEach;
    }, function(a, o, n) {
      var l = n(5), f = n(184);
      l({ target: "Array", proto: true, forced: [].forEach != f }, { forEach: f });
    }, function(a, o, n) {
      var l = n(32).forEach, f = n(67), d = n(22), c = f("forEach"), h2 = d("forEach");
      a.exports = !c || !h2 ? function(g) {
        return l(this, g, arguments.length > 1 ? arguments[1] : void 0);
      } : [].forEach;
    }, function(a, o, n) {
      var l = n(186);
      a.exports = l;
    }, function(a, o, n) {
      n(187);
      var l = n(9);
      a.exports = l.Array.isArray;
    }, function(a, o, n) {
      var l = n(5), f = n(55);
      l({ target: "Array", stat: true }, { isArray: f });
    }, function(a, o, n) {
      var l = n(189);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(190), f = Array.prototype;
      a.exports = function(d) {
        var c = d.map;
        return d === f || d instanceof Array && c === f.map ? l : c;
      };
    }, function(a, o, n) {
      n(191);
      var l = n(15);
      a.exports = l("Array").map;
    }, function(a, o, n) {
      var l = n(5), f = n(32).map, d = n(56), c = n(22), h2 = d("map"), m = c("map");
      l({ target: "Array", proto: true, forced: !h2 || !m }, { map: function(w) {
        return f(this, w, arguments.length > 1 ? arguments[1] : void 0);
      } });
    }, function(a, o, n) {
      var l = n(193);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(194), f = String.prototype;
      a.exports = function(d) {
        var c = d.trim;
        return typeof d == "string" || d === f || d instanceof String && c === f.trim ? l : c;
      };
    }, function(a, o, n) {
      n(195);
      var l = n(15);
      a.exports = l("String").trim;
    }, function(a, o, n) {
      var l = n(5), f = n(90).trim, d = n(196);
      l({ target: "String", proto: true, forced: d("trim") }, { trim: function() {
        return f(this);
      } });
    }, function(a, o, n) {
      var l = n(11), f = n(68), d = "​᠎";
      a.exports = function(c) {
        return l(function() {
          return !!f[c]() || d[c]() != d || f[c].name !== c;
        });
      };
    }, function(a, o, n) {
      var l = n(198);
      a.exports = l;
    }, function(a, o, n) {
      n(199), n(61), n(50), n(54);
      var l = n(9);
      a.exports = l.Map;
    }, function(a, o, n) {
      var l = n(122), f = n(124);
      a.exports = l("Map", function(d) {
        return function() {
          return d(this, arguments.length ? arguments[0] : void 0);
        };
      }, f);
    }, function(a, o, n) {
      var l = n(11);
      a.exports = !l(function() {
        return Object.isExtensible(Object.preventExtensions({}));
      });
    }, function(a, o, n) {
      var l = n(202);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(203), f = Array.prototype;
      a.exports = function(d) {
        var c = d.indexOf;
        return d === f || d instanceof Array && c === f.indexOf ? l : c;
      };
    }, function(a, o, n) {
      n(204);
      var l = n(15);
      a.exports = l("Array").indexOf;
    }, function(a, o, n) {
      var l = n(5), f = n(78).indexOf, d = n(67), c = n(22), h2 = [].indexOf, m = !!h2 && 1 / [1].indexOf(1, -0) < 0, g = d("indexOf"), w = c("indexOf", { ACCESSORS: true, 1: 0 });
      l({ target: "Array", proto: true, forced: m || !g || !w }, { indexOf: function(A) {
        return m ? h2.apply(this, arguments) || 0 : f(this, A, arguments.length > 1 ? arguments[1] : void 0);
      } });
    }, function(a, o, n) {
      var l = n(206);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(207), f = Array.prototype;
      a.exports = function(d) {
        var c = d.splice;
        return d === f || d instanceof Array && c === f.splice ? l : c;
      };
    }, function(a, o, n) {
      n(208);
      var l = n(15);
      a.exports = l("Array").splice;
    }, function(a, o, n) {
      var l = n(5), f = n(79), d = n(62), c = n(35), h2 = n(31), m = n(88), g = n(69), w = n(56), R = n(22), A = w("splice"), E = R("splice", { ACCESSORS: true, 0: 0, 1: 2 }), b = Math.max, v = Math.min, y = 9007199254740991, T = "Maximum allowed length exceeded";
      l({ target: "Array", proto: true, forced: !A || !E }, { splice: function(D, I) {
        var N = h2(this), C = c(N.length), B = f(D, C), O = arguments.length, S, F, $, U, L, z;
        if (O === 0 ? S = F = 0 : O === 1 ? (S = 0, F = C - B) : (S = O - 2, F = v(b(d(I), 0), C - B)), C + S - F > y)
          throw TypeError(T);
        for ($ = m(N, F), U = 0; U < F; U++)
          L = B + U, L in N && g($, U, N[L]);
        if ($.length = F, S < F) {
          for (U = B; U < C - F; U++)
            L = U + F, z = U + S, L in N ? N[z] = N[L] : delete N[z];
          for (U = C; U > C - F + S; U--)
            delete N[U - 1];
        } else if (S > F)
          for (U = C - F; U > B; U--)
            L = U + F - 1, z = U + S - 1, L in N ? N[z] = N[L] : delete N[z];
        for (U = 0; U < S; U++)
          N[U + B] = arguments[U + 2];
        return N.length = C - F + S, $;
      } });
    }, function(a, o, n) {
      var l = n(210);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(211), f = Array.prototype;
      a.exports = function(d) {
        var c = d.filter;
        return d === f || d instanceof Array && c === f.filter ? l : c;
      };
    }, function(a, o, n) {
      n(212);
      var l = n(15);
      a.exports = l("Array").filter;
    }, function(a, o, n) {
      var l = n(5), f = n(32).filter, d = n(56), c = n(22), h2 = d("filter"), m = c("filter");
      l({ target: "Array", proto: true, forced: !h2 || !m }, { filter: function(w) {
        return f(this, w, arguments.length > 1 ? arguments[1] : void 0);
      } });
    }, function(a, o, n) {
      var l = n(214);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(215), f = n(217), d = Array.prototype, c = String.prototype;
      a.exports = function(h2) {
        var m = h2.includes;
        return h2 === d || h2 instanceof Array && m === d.includes ? l : typeof h2 == "string" || h2 === c || h2 instanceof String && m === c.includes ? f : m;
      };
    }, function(a, o, n) {
      n(216);
      var l = n(15);
      a.exports = l("Array").includes;
    }, function(a, o, n) {
      var l = n(5), f = n(78).includes, d = n(82), c = n(22), h2 = c("indexOf", { ACCESSORS: true, 1: 0 });
      l({ target: "Array", proto: true, forced: !h2 }, { includes: function(g) {
        return f(this, g, arguments.length > 1 ? arguments[1] : void 0);
      } }), d("includes");
    }, function(a, o, n) {
      n(218);
      var l = n(15);
      a.exports = l("String").includes;
    }, function(a, o, n) {
      var l = n(5), f = n(219), d = n(49), c = n(221);
      l({ target: "String", proto: true, forced: !c("includes") }, { includes: function(m) {
        return !!~String(d(this)).indexOf(f(m), arguments.length > 1 ? arguments[1] : void 0);
      } });
    }, function(a, o, n) {
      var l = n(220);
      a.exports = function(f) {
        if (l(f))
          throw TypeError("The method doesn't accept regular expressions");
        return f;
      };
    }, function(a, o, n) {
      var l = n(13), f = n(34), d = n(10), c = d("match");
      a.exports = function(h2) {
        var m;
        return l(h2) && ((m = h2[c]) !== void 0 ? !!m : f(h2) == "RegExp");
      };
    }, function(a, o, n) {
      var l = n(10), f = l("match");
      a.exports = function(d) {
        var c = /./;
        try {
          "/./"[d](c);
        } catch {
          try {
            return c[f] = false, "/./"[d](c);
          } catch {
          }
        }
        return false;
      };
    }, function(a, o, n) {
      var l = n(223);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(224), f = Function.prototype;
      a.exports = function(d) {
        var c = d.bind;
        return d === f || d instanceof Function && c === f.bind ? l : c;
      };
    }, function(a, o, n) {
      n(225);
      var l = n(15);
      a.exports = l("Function").bind;
    }, function(a, o, n) {
      var l = n(5), f = n(226);
      l({ target: "Function", proto: true }, { bind: f });
    }, function(a, o, n) {
      var l = n(41), f = n(13), d = [].slice, c = {}, h2 = function(g, w, R) {
        if (!(w in c)) {
          for (var A = [], E = 0; E < w; E++)
            A[E] = "a[" + E + "]";
          c[w] = Function("C,a", "return new C(" + A.join(",") + ")");
        }
        return c[w](g, R);
      };
      a.exports = Function.bind || function(g) {
        var w = l(this), R = d.call(arguments, 1), A = function() {
          var b = R.concat(d.call(arguments));
          return this instanceof A ? h2(w, b.length, b) : w.apply(g, b);
        };
        return f(w.prototype) && (A.prototype = w.prototype), A;
      };
    }, function(a, o, n) {
      a.exports = n(228);
    }, function(a, o, n) {
      var l = n(229);
      a.exports = l;
    }, function(a, o, n) {
      n(125), n(50), n(54);
      var l = n(93);
      a.exports = l.f("iterator");
    }, function(a, o, n) {
      a.exports = n(231);
    }, function(a, o, n) {
      var l = n(232);
      n(251), n(252), n(253), n(254), n(255), a.exports = l;
    }, function(a, o, n) {
      n(233), n(61), n(234), n(236), n(237), n(238), n(239), n(125), n(240), n(241), n(242), n(243), n(244), n(245), n(246), n(247), n(248), n(249), n(250);
      var l = n(9);
      a.exports = l.Symbol;
    }, function(a, o, n) {
      var l = n(5), f = n(11), d = n(55), c = n(13), h2 = n(31), m = n(35), g = n(69), w = n(88), R = n(56), A = n(10), E = n(86), b = A("isConcatSpreadable"), v = 9007199254740991, y = "Maximum allowed index exceeded", T = E >= 51 || !f(function() {
        var N = [];
        return N[b] = false, N.concat()[0] !== N;
      }), x = R("concat"), D = function(C) {
        if (!c(C))
          return false;
        var B = C[b];
        return B !== void 0 ? !!B : d(C);
      }, I = !T || !x;
      l({ target: "Array", proto: true, forced: I }, { concat: function(C) {
        var B = h2(this), O = w(B, 0), S = 0, F, $, U, L, z;
        for (F = -1, U = arguments.length; F < U; F++)
          if (z = F === -1 ? B : arguments[F], D(z)) {
            if (L = m(z.length), S + L > v)
              throw TypeError(y);
            for ($ = 0; $ < L; $++, S++)
              $ in z && g(O, S, z[$]);
          } else {
            if (S >= v)
              throw TypeError(y);
            g(O, S++, z);
          }
        return O.length = S, O;
      } });
    }, function(a, o, n) {
      var l = n(5), f = n(8), d = n(36), c = n(43), h2 = n(14), m = n(76), g = n(106), w = n(11), R = n(16), A = n(55), E = n(13), b = n(25), v = n(31), y = n(30), T = n(60), x = n(48), D = n(77), I = n(52), N = n(126), C = n(235), B = n(127), O = n(71), S = n(18), F = n(59), $ = n(19), U = n(53), L = n(74), z = n(63), Q = n(51), J = n(64), ae = n(10), M = n(93), V = n(12), K = n(37), G = n(42), Z = n(32).forEach, ue = z("hidden"), pe = "Symbol", ce = "prototype", fe = ae("toPrimitive"), ne = G.set, be = G.getterFor(pe), we = Object[ce], Re = f.Symbol, Ke = d("JSON", "stringify"), lt = O.f, ot = S.f, Ct = C.f, St = F.f, $e = L("symbols"), bt = L("op-symbols"), hn = L("string-to-symbol-registry"), Vt = L("symbol-to-string-registry"), yi = L("wks"), zn = f.QObject, An = !zn || !zn[ce] || !zn[ce].findChild, wn = h2 && w(function() {
        return D(ot({}, "a", { get: function() {
          return ot(this, "a", { value: 7 }).a;
        } })).a != 7;
      }) ? function(Pe, he, Be) {
        var Le = lt(we, he);
        Le && delete we[he], ot(Pe, he, Be), Le && Pe !== we && ot(we, he, Le);
      } : ot, Un = function(he, Be) {
        var Le = $e[he] = D(Re[ce]);
        return ne(Le, { type: pe, tag: he, description: Be }), h2 || (Le.description = Be), Le;
      }, Cn = g ? function(Pe) {
        return Gt(Pe) == "symbol";
      } : function(Pe) {
        return Object(Pe) instanceof Re;
      }, Rn = function(he, Be, Le) {
        he === we && Rn(bt, Be, Le), b(he);
        var Fe = T(Be, true);
        return b(Le), R($e, Fe) ? (Le.enumerable ? (R(he, ue) && he[ue][Fe] && (he[ue][Fe] = false), Le = D(Le, { enumerable: x(0, false) })) : (R(he, ue) || ot(he, ue, x(1, {})), he[ue][Fe] = true), wn(he, Fe, Le)) : ot(he, Fe, Le);
      }, kt = function(he, Be) {
        b(he);
        var Le = y(Be), Fe = I(Le).concat(Oe(Le));
        return Z(Fe, function(Ye) {
          (!h2 || vn.call(Le, Ye)) && Rn(he, Ye, Le[Ye]);
        }), he;
      }, ct = function(he, Be) {
        return Be === void 0 ? D(he) : kt(D(he), Be);
      }, vn = function(he) {
        var Be = T(he, true), Le = St.call(this, Be);
        return this === we && R($e, Be) && !R(bt, Be) ? false : Le || !R(this, Be) || !R($e, Be) || R(this, ue) && this[ue][Be] ? Le : true;
      }, rt = function(he, Be) {
        var Le = y(he), Fe = T(Be, true);
        if (!(Le === we && R($e, Fe) && !R(bt, Fe))) {
          var Ye = lt(Le, Fe);
          return Ye && R($e, Fe) && !(R(Le, ue) && Le[ue][Fe]) && (Ye.enumerable = true), Ye;
        }
      }, Ie = function(he) {
        var Be = Ct(y(he)), Le = [];
        return Z(Be, function(Fe) {
          !R($e, Fe) && !R(Q, Fe) && Le.push(Fe);
        }), Le;
      }, Oe = function(he) {
        var Be = he === we, Le = Ct(Be ? bt : y(he)), Fe = [];
        return Z(Le, function(Ye) {
          R($e, Ye) && (!Be || R(we, Ye)) && Fe.push($e[Ye]);
        }), Fe;
      };
      if (m || (Re = function() {
        if (this instanceof Re)
          throw TypeError("Symbol is not a constructor");
        var he = !arguments.length || arguments[0] === void 0 ? void 0 : String(arguments[0]), Be = J(he), Le = function Fe(Ye) {
          this === we && Fe.call(bt, Ye), R(this, ue) && R(this[ue], Be) && (this[ue][Be] = false), wn(this, Be, x(1, Ye));
        };
        return h2 && An && wn(we, Be, { configurable: true, set: Le }), Un(Be, he);
      }, U(Re[ce], "toString", function() {
        return be(this).tag;
      }), U(Re, "withoutSetter", function(Pe) {
        return Un(J(Pe), Pe);
      }), F.f = vn, S.f = Rn, O.f = rt, N.f = C.f = Ie, B.f = Oe, M.f = function(Pe) {
        return Un(ae(Pe), Pe);
      }, h2 && (ot(Re[ce], "description", { configurable: true, get: function() {
        return be(this).description;
      } }), c || U(we, "propertyIsEnumerable", vn, { unsafe: true }))), l({ global: true, wrap: true, forced: !m, sham: !m }, { Symbol: Re }), Z(I(yi), function(Pe) {
        V(Pe);
      }), l({ target: pe, stat: true, forced: !m }, {
        for: function(he) {
          var Be = String(he);
          if (R(hn, Be))
            return hn[Be];
          var Le = Re(Be);
          return hn[Be] = Le, Vt[Le] = Be, Le;
        },
        keyFor: function(he) {
          if (!Cn(he))
            throw TypeError(he + " is not a symbol");
          if (R(Vt, he))
            return Vt[he];
        },
        useSetter: function() {
          An = true;
        },
        useSimple: function() {
          An = false;
        }
      }), l({ target: "Object", stat: true, forced: !m, sham: !h2 }, {
        create: ct,
        defineProperty: Rn,
        defineProperties: kt,
        getOwnPropertyDescriptor: rt
      }), l({ target: "Object", stat: true, forced: !m }, {
        getOwnPropertyNames: Ie,
        getOwnPropertySymbols: Oe
      }), l({ target: "Object", stat: true, forced: w(function() {
        B.f(1);
      }) }, { getOwnPropertySymbols: function(he) {
        return B.f(v(he));
      } }), Ke) {
        var ze = !m || w(function() {
          var Pe = Re();
          return Ke([Pe]) != "[null]" || Ke({ a: Pe }) != "{}" || Ke(Object(Pe)) != "{}";
        });
        l({ target: "JSON", stat: true, forced: ze }, {
          stringify: function(he, Be, Le) {
            for (var Fe = [he], Ye = 1, on2; arguments.length > Ye; )
              Fe.push(arguments[Ye++]);
            if (on2 = Be, !(!E(Be) && he === void 0 || Cn(he)))
              return A(Be) || (Be = function(wt, pt) {
                if (typeof on2 == "function" && (pt = on2.call(this, wt, pt)), !Cn(pt))
                  return pt;
              }), Fe[1] = Be, Ke.apply(null, Fe);
          }
        });
      }
      Re[ce][fe] || $(Re[ce], fe, Re[ce].valueOf), K(Re, pe), Q[ue] = true;
    }, function(a, o, n) {
      var l = n(30), f = n(126).f, d = {}.toString, c = (typeof window > "u" ? "undefined" : Gt(window)) == "object" && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [], h2 = function(g) {
        try {
          return f(g);
        } catch {
          return c.slice();
        }
      };
      a.exports.f = function(g) {
        return c && d.call(g) == "[object Window]" ? h2(g) : f(l(g));
      };
    }, function(a, o, n) {
      var l = n(12);
      l("asyncIterator");
    }, function(a, o) {
    }, function(a, o, n) {
      var l = n(12);
      l("hasInstance");
    }, function(a, o, n) {
      var l = n(12);
      l("isConcatSpreadable");
    }, function(a, o, n) {
      var l = n(12);
      l("match");
    }, function(a, o, n) {
      var l = n(12);
      l("matchAll");
    }, function(a, o, n) {
      var l = n(12);
      l("replace");
    }, function(a, o, n) {
      var l = n(12);
      l("search");
    }, function(a, o, n) {
      var l = n(12);
      l("species");
    }, function(a, o, n) {
      var l = n(12);
      l("split");
    }, function(a, o, n) {
      var l = n(12);
      l("toPrimitive");
    }, function(a, o, n) {
      var l = n(12);
      l("toStringTag");
    }, function(a, o, n) {
      var l = n(12);
      l("unscopables");
    }, function(a, o, n) {
      var l = n(37);
      l(Math, "Math", true);
    }, function(a, o, n) {
      var l = n(8), f = n(37);
      f(l.JSON, "JSON", true);
    }, function(a, o, n) {
      var l = n(12);
      l("asyncDispose");
    }, function(a, o, n) {
      var l = n(12);
      l("dispose");
    }, function(a, o, n) {
      var l = n(12);
      l("observable");
    }, function(a, o, n) {
      var l = n(12);
      l("patternMatch");
    }, function(a, o, n) {
      var l = n(12);
      l("replaceAll");
    }, function(a, o, n) {
      a.exports = n(257);
    }, function(a, o, n) {
      var l = n(258);
      a.exports = l;
    }, function(a, o, n) {
      n(259);
      var l = n(9);
      a.exports = l.parseInt;
    }, function(a, o, n) {
      var l = n(5), f = n(260);
      l({ global: true, forced: parseInt != f }, { parseInt: f });
    }, function(a, o, n) {
      var l = n(8), f = n(90).trim, d = n(68), c = l.parseInt, h2 = /^[+-]?0[Xx]/, m = c(d + "08") !== 8 || c(d + "0x16") !== 22;
      a.exports = m ? function(w, R) {
        var A = f(String(w));
        return c(A, R >>> 0 || (h2.test(A) ? 16 : 10));
      } : c;
    }, function(a, o, n) {
      var l = n(262);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(263), f = Array.prototype;
      a.exports = function(d) {
        var c = d.slice;
        return d === f || d instanceof Array && c === f.slice ? l : c;
      };
    }, function(a, o, n) {
      n(264);
      var l = n(15);
      a.exports = l("Array").slice;
    }, function(a, o, n) {
      var l = n(5), f = n(13), d = n(55), c = n(79), h2 = n(35), m = n(30), g = n(69), w = n(10), R = n(56), A = n(22), E = R("slice"), b = A("slice", { ACCESSORS: true, 0: 0, 1: 2 }), v = w("species"), y = [].slice, T = Math.max;
      l({ target: "Array", proto: true, forced: !E || !b }, { slice: function(D, I) {
        var N = m(this), C = h2(N.length), B = c(D, C), O = c(I === void 0 ? C : I, C), S, F, $;
        if (d(N) && (S = N.constructor, typeof S == "function" && (S === Array || d(S.prototype)) ? S = void 0 : f(S) && (S = S[v], S === null && (S = void 0)), S === Array || S === void 0))
          return y.call(N, B, O);
        for (F = new (S === void 0 ? Array : S)(T(O - B, 0)), $ = 0; B < O; B++, $++)
          B in N && g(F, $, N[B]);
        return F.length = $, F;
      } });
    }, function(a, o, n) {
      n(266);
      var l = n(9);
      a.exports = l.setTimeout;
    }, function(a, o, n) {
      var l = n(5), f = n(8), d = n(84), c = [].slice, h2 = /MSIE .\./.test(d), m = function(w) {
        return function(R, A) {
          var E = arguments.length > 2, b = E ? c.call(arguments, 2) : void 0;
          return w(E ? function() {
            (typeof R == "function" ? R : Function(R)).apply(this, b);
          } : R, A);
        };
      };
      l({ global: true, bind: true, forced: h2 }, {
        setTimeout: m(f.setTimeout),
        setInterval: m(f.setInterval)
      });
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(128));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(272)), m = c.__importDefault(n(273)), g = c.__importDefault(n(129)), w = c.__importDefault(n(274)), R = c.__importDefault(n(275)), A = c.__importDefault(n(276)), E = c.__importDefault(n(130)), b = c.__importDefault(n(277)), v = c.__importDefault(n(278)), y = c.__importDefault(n(279)), T = (0, d.default)(
        {},
        h2.default,
        m.default,
        g.default,
        R.default,
        w.default,
        A.default,
        E.default,
        b.default,
        v.default,
        y.default,
        { linkCheck: function(D, I) {
          return true;
        } }
      );
      o.default = T;
    }, function(a, o, n) {
      var l = n(269);
      a.exports = l;
    }, function(a, o, n) {
      n(270);
      var l = n(9);
      a.exports = l.Object.assign;
    }, function(a, o, n) {
      var l = n(5), f = n(271);
      l({ target: "Object", stat: true, forced: Object.assign !== f }, { assign: f });
    }, function(a, o, n) {
      var l = n(14), f = n(11), d = n(52), c = n(127), h2 = n(59), m = n(31), g = n(72), w = Object.assign, R = Object.defineProperty;
      a.exports = !w || f(function() {
        if (l && w({ b: 1 }, w(R({}, "a", { enumerable: true, get: function() {
          R(this, "b", { value: 3, enumerable: false });
        } }), { b: 2 })).b !== 1)
          return true;
        var A = {}, E = {}, b = Symbol(), v = "abcdefghijklmnopqrst";
        return A[b] = 7, v.split("").forEach(function(y) {
          E[y] = y;
        }), w({}, A)[b] != 7 || d(w({}, E)).join("") != v;
      }) ? function(E, b) {
        for (var v = m(E), y = arguments.length, T = 1, x = c.f, D = h2.f; y > T; )
          for (var I = g(arguments[T++]), N = x ? d(I).concat(x(I)) : d(I), C = N.length, B = 0, O; C > B; )
            O = N[B++], (!l || D.call(I, O)) && (v[O] = I[O]);
        return v;
      } : w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.default = {
        menus: [
          "head",
          "bold",
          "fontSize",
          "fontName",
          "italic",
          "underline",
          "strikeThrough",
          "indent",
          "lineHeight",
          "foreColor",
          "backColor",
          "link",
          "list",
          "todo",
          "justify",
          "quote",
          "emoticon",
          "image",
          "video",
          "table",
          "code",
          "splitLine",
          "undo",
          "redo"
        ],
        fontNames: ["黑体", "仿宋", "楷体", "标楷体", "华文仿宋", "华文楷体", "宋体", "微软雅黑", "Arial", "Tahoma", "Verdana", "Times New Roman", "Courier New"],
        fontSizes: { "x-small": { name: "10px", value: "1" }, small: { name: "13px", value: "2" }, normal: { name: "16px", value: "3" }, large: { name: "18px", value: "4" }, "x-large": { name: "24px", value: "5" }, "xx-large": { name: "32px", value: "6" }, "xxx-large": { name: "48px", value: "7" } },
        colors: ["#000000", "#ffffff", "#eeece0", "#1c487f", "#4d80bf", "#c24f4a", "#8baa4a", "#7b5ba1", "#46acc8", "#f9963b"],
        languageType: ["Bash", "C", "C#", "C++", "CSS", "Java", "JavaScript", "JSON", "TypeScript", "Plain text", "Html", "XML", "SQL", "Go", "Kotlin", "Lua", "Markdown", "PHP", "Python", "Shell Session", "Ruby"],
        languageTab: "　　　　",
        emotions: [{
          title: "表情",
          type: "emoji",
          content: "😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣".split(/\s/)
        }, {
          title: "手势",
          type: "emoji",
          content: "👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏".split(/\s/)
        }],
        lineHeights: ["1", "1.15", "1.6", "2", "2.5", "3"],
        undoLimit: 20,
        indentation: "2em",
        showMenuTooltips: true,
        menuTooltipPosition: "up"
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(7);
      function c(h2, m, g) {
        window.alert(h2), g && console.error("wangEditor: " + g);
      }
      o.default = { onchangeTimeout: 200, onchange: null, onfocus: d.EMPTY_FN, onblur: d.EMPTY_FN, onCatalogChange: null, customAlert: c };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.default = {
        pasteFilterStyle: true,
        pasteIgnoreImg: false,
        pasteTextHandle: function(c) {
          return c;
        }
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.default = { styleWithCSS: false };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(7);
      o.default = {
        linkImgCheck: function(h2, m, g) {
          return true;
        },
        showLinkImg: true,
        showLinkImgAlt: true,
        showLinkImgHref: true,
        linkImgCallback: d.EMPTY_FN,
        uploadImgAccept: ["jpg", "jpeg", "png", "gif", "bmp"],
        uploadImgServer: "",
        uploadImgShowBase64: false,
        uploadImgMaxSize: 5 * 1024 * 1024,
        uploadImgMaxLength: 100,
        uploadFileName: "",
        uploadImgParams: {},
        uploadImgParamsWithUrl: false,
        uploadImgHeaders: {},
        uploadImgHooks: {},
        uploadImgTimeout: 10 * 1e3,
        withCredentials: false,
        customUploadImg: null,
        uploadImgFromMedia: null
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.default = { lang: "zh-CN", languages: { "zh-CN": { wangEditor: { 重置: "重置", 插入: "插入", 默认: "默认", 创建: "创建", 修改: "修改", 如: "如", 请输入正文: "请输入正文", menus: { title: { 标题: "标题", 加粗: "加粗", 字号: "字号", 字体: "字体", 斜体: "斜体", 下划线: "下划线", 删除线: "删除线", 缩进: "缩进", 行高: "行高", 文字颜色: "文字颜色", 背景色: "背景色", 链接: "链接", 序列: "序列", 对齐: "对齐", 引用: "引用", 表情: "表情", 图片: "图片", 视频: "视频", 表格: "表格", 代码: "代码", 分割线: "分割线", 恢复: "恢复", 撤销: "撤销", 全屏: "全屏", 取消全屏: "取消全屏", 待办事项: "待办事项" }, dropListMenu: { 设置标题: "设置标题", 背景颜色: "背景颜色", 文字颜色: "文字颜色", 设置字号: "设置字号", 设置字体: "设置字体", 设置缩进: "设置缩进", 对齐方式: "对齐方式", 设置行高: "设置行高", 序列: "序列", head: { 正文: "正文" }, indent: { 增加缩进: "增加缩进", 减少缩进: "减少缩进" }, justify: { 靠左: "靠左", 居中: "居中", 靠右: "靠右", 两端: "两端" }, list: { 无序列表: "无序列表", 有序列表: "有序列表" } }, panelMenus: { emoticon: { 默认: "默认", 新浪: "新浪", emoji: "emoji", 手势: "手势" }, image: { 上传图片: "上传图片", 网络图片: "网络图片", 图片地址: "图片地址", 图片文字说明: "图片文字说明", 跳转链接: "跳转链接" }, link: { 链接: "链接", 链接文字: "链接文字", 取消链接: "取消链接", 查看链接: "查看链接" }, video: { 插入视频: "插入视频", 上传视频: "上传视频" }, table: { 行: "行", 列: "列", 的: "的", 表格: "表格", 添加行: "添加行", 删除行: "删除行", 添加列: "添加列", 删除列: "删除列", 设置表头: "设置表头", 取消表头: "取消表头", 插入表格: "插入表格", 删除表格: "删除表格" }, code: { 删除代码: "删除代码", 修改代码: "修改代码", 插入代码: "插入代码" } } }, validate: { 张图片: "张图片", 大于: "大于", 图片链接: "图片链接", 不是图片: "不是图片", 返回结果: "返回结果", 上传图片超时: "上传图片超时", 上传图片错误: "上传图片错误", 上传图片失败: "上传图片失败", 插入图片错误: "插入图片错误", 一次最多上传: "一次最多上传", 下载链接失败: "下载链接失败", 图片验证未通过: "图片验证未通过", 服务器返回状态: "服务器返回状态", 上传图片返回结果错误: "上传图片返回结果错误", 请替换为支持的图片类型: "请替换为支持的图片类型", 您插入的网络图片无法识别: "您插入的网络图片无法识别", 您刚才插入的图片链接未通过编辑器校验: "您刚才插入的图片链接未通过编辑器校验", 插入视频错误: "插入视频错误", 视频链接: "视频链接", 不是视频: "不是视频", 视频验证未通过: "视频验证未通过", 个视频: "个视频", 上传视频超时: "上传视频超时", 上传视频错误: "上传视频错误", 上传视频失败: "上传视频失败", 上传视频返回结果错误: "上传视频返回结果错误" } } }, en: { wangEditor: { 重置: "reset", 插入: "insert", 默认: "default", 创建: "create", 修改: "edit", 如: "like", 请输入正文: "please enter the text", menus: { title: { 标题: "head", 加粗: "bold", 字号: "font size", 字体: "font family", 斜体: "italic", 下划线: "underline", 删除线: "strikethrough", 缩进: "indent", 行高: "line heihgt", 文字颜色: "font color", 背景色: "background", 链接: "link", 序列: "numbered list", 对齐: "align", 引用: "quote", 表情: "emoticons", 图片: "image", 视频: "media", 表格: "table", 代码: "code", 分割线: "split line", 恢复: "redo", 撤销: "undo", 全屏: "fullscreen", 取消全屏: "cancel fullscreen", 待办事项: "todo" }, dropListMenu: { 设置标题: "title", 背景颜色: "background", 文字颜色: "font color", 设置字号: "font size", 设置字体: "font family", 设置缩进: "indent", 对齐方式: "align", 设置行高: "line heihgt", 序列: "list", head: { 正文: "text" }, indent: { 增加缩进: "indent", 减少缩进: "outdent" }, justify: { 靠左: "left", 居中: "center", 靠右: "right", 两端: "justify" }, list: { 无序列表: "unordered", 有序列表: "ordered" } }, panelMenus: { emoticon: { 表情: "emoji", 手势: "gesture" }, image: { 上传图片: "upload image", 网络图片: "network image", 图片地址: "image link", 图片文字说明: "image alt", 跳转链接: "hyperlink" }, link: { 链接: "link", 链接文字: "link text", 取消链接: "unlink", 查看链接: "view links" }, video: { 插入视频: "insert video", 上传视频: "upload local video" }, table: { 行: "rows", 列: "columns", 的: " ", 表格: "table", 添加行: "insert row", 删除行: "delete row", 添加列: "insert column", 删除列: "delete column", 设置表头: "set header", 取消表头: "cancel header", 插入表格: "insert table", 删除表格: "delete table" }, code: { 删除代码: "delete code", 修改代码: "edit code", 插入代码: "insert code" } } }, validate: { 张图片: "images", 大于: "greater than", 图片链接: "image link", 不是图片: "is not image", 返回结果: "return results", 上传图片超时: "upload image timeout", 上传图片错误: "upload image error", 上传图片失败: "upload image failed", 插入图片错误: "insert image error", 一次最多上传: "once most at upload", 下载链接失败: "download link failed", 图片验证未通过: "image validate failed", 服务器返回状态: "server return status", 上传图片返回结果错误: "upload image return results error", 请替换为支持的图片类型: "please replace with a supported image type", 您插入的网络图片无法识别: "the network picture you inserted is not recognized", 您刚才插入的图片链接未通过编辑器校验: "the image link you just inserted did not pass the editor verification", 插入视频错误: "insert video error", 视频链接: "video link", 不是视频: "is not video", 视频验证未通过: "video validate failed", 个视频: "videos", 上传视频超时: "upload video timeout", 上传视频错误: "upload video error", 上传视频失败: "upload video failed", 上传视频返回结果错误: "upload video return results error" } } } } };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(6);
      function c() {
        return !!(d.UA.isIE() || d.UA.isOldEdge);
      }
      o.default = { compatibleMode: c, historyMaxSize: 30 };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(7);
      o.default = {
        onlineVideoCheck: function(h2) {
          return true;
        },
        onlineVideoCallback: d.EMPTY_FN,
        showLinkVideo: true,
        uploadVideoAccept: ["mp4"],
        uploadVideoServer: "",
        uploadVideoMaxSize: 1 * 1024 * 1024 * 1024,
        uploadVideoName: "",
        uploadVideoParams: {},
        uploadVideoParamsWithUrl: false,
        uploadVideoHeaders: {},
        uploadVideoHooks: {},
        uploadVideoTimeout: 1e3 * 60 * 60 * 2,
        withVideoCredentials: false,
        customUploadVideo: null,
        customInsertVideo: null
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(17));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = n(6), g = n(7), w = function() {
        function R(A) {
          this._currentRange = null, this.editor = A;
        }
        return R.prototype.getRange = function() {
          return this._currentRange;
        }, R.prototype.saveRange = function(A) {
          if (A) {
            this._currentRange = A;
            return;
          }
          var E = window.getSelection();
          if (E.rangeCount !== 0) {
            var b = E.getRangeAt(0), v = this.getSelectionContainerElem(b);
            if (!!(v != null && v.length) && !(v.attr("contenteditable") === "false" || v.parentUntil("[contenteditable=false]"))) {
              var y = this.editor, T = y.$textElem;
              if (T.isContain(v)) {
                if (T.elems[0] === v.elems[0]) {
                  var x;
                  if ((0, d.default)(x = T.html()).call(x) === g.EMPTY_P) {
                    var D = T.children(), I = D == null ? void 0 : D.last();
                    y.selection.createRangeByElem(I, true, true), y.selection.restoreSelection();
                  }
                }
                this._currentRange = b;
              }
            }
          }
        }, R.prototype.collapseRange = function(A) {
          A === void 0 && (A = false);
          var E = this._currentRange;
          E && E.collapse(A);
        }, R.prototype.getSelectionText = function() {
          var A = this._currentRange;
          return A ? A.toString() : "";
        }, R.prototype.getSelectionContainerElem = function(A) {
          var E;
          E = A || this._currentRange;
          var b;
          if (E)
            return b = E.commonAncestorContainer, h2.default(b.nodeType === 1 ? b : b.parentNode);
        }, R.prototype.getSelectionStartElem = function(A) {
          var E;
          E = A || this._currentRange;
          var b;
          if (E)
            return b = E.startContainer, h2.default(b.nodeType === 1 ? b : b.parentNode);
        }, R.prototype.getSelectionEndElem = function(A) {
          var E;
          E = A || this._currentRange;
          var b;
          if (E)
            return b = E.endContainer, h2.default(b.nodeType === 1 ? b : b.parentNode);
        }, R.prototype.isSelectionEmpty = function() {
          var A = this._currentRange;
          return !!(A && A.startContainer && A.startContainer === A.endContainer && A.startOffset === A.endOffset);
        }, R.prototype.restoreSelection = function() {
          var A = window.getSelection(), E = this._currentRange;
          A && E && (A.removeAllRanges(), A.addRange(E));
        }, R.prototype.createEmptyRange = function() {
          var A = this.editor, E = this.getRange(), b;
          if (!!E && !!this.isSelectionEmpty())
            try {
              m.UA.isWebkit() ? (A.cmd.do("insertHTML", "&#8203;"), E.setEnd(E.endContainer, E.endOffset + 1), this.saveRange(E)) : (b = h2.default("<strong>&#8203;</strong>"), A.cmd.do("insertElem", b), this.createRangeByElem(b, true));
            } catch {
            }
        }, R.prototype.createRangeByElems = function(A, E) {
          var b = window.getSelection ? window.getSelection() : document.getSelection();
          b == null || b.removeAllRanges();
          var v = document.createRange();
          v.setStart(A, 0), v.setEnd(E, E.childNodes.length || 1), this.saveRange(v), this.restoreSelection();
        }, R.prototype.createRangeByElem = function(A, E, b) {
          if (!!A.length) {
            var v = A.elems[0], y = document.createRange();
            b ? y.selectNodeContents(v) : y.selectNode(v), E != null && (y.collapse(E), E || (this.saveRange(y), this.editor.selection.moveCursor(v))), this.saveRange(y);
          }
        }, R.prototype.getSelectionRangeTopNodes = function() {
          var A, E, b, v = (A = this.getSelectionStartElem()) === null || A === void 0 ? void 0 : A.getNodeTop(this.editor), y = (E = this.getSelectionEndElem()) === null || E === void 0 ? void 0 : E.getNodeTop(this.editor);
          return b = this.recordSelectionNodes(h2.default(v), h2.default(y)), b;
        }, R.prototype.moveCursor = function(A, E) {
          var b, v = this.getRange(), y = A.nodeType === 3 ? (b = A.nodeValue) === null || b === void 0 ? void 0 : b.length : A.childNodes.length;
          (m.UA.isFirefox || m.UA.isIE()) && y !== 0 && (A.nodeType === 3 || A.childNodes[y - 1].nodeName === "BR") && (y = y - 1);
          var T = E != null ? E : y;
          !v || A && (v.setStart(A, T), v.setEnd(A, T), this.restoreSelection());
        }, R.prototype.getCursorPos = function() {
          var A = window.getSelection();
          return A == null ? void 0 : A.anchorOffset;
        }, R.prototype.clearWindowSelectionRange = function() {
          var A = window.getSelection();
          A && A.removeAllRanges();
        }, R.prototype.recordSelectionNodes = function(A, E) {
          var b = [], v = true;
          try {
            for (var y = A, T = this.editor.$textElem; v; ) {
              var x = y == null ? void 0 : y.getNodeTop(this.editor);
              x.getNodeName() === "BODY" && (v = false), x.length > 0 && (b.push(h2.default(y)), (E == null ? void 0 : E.equal(x)) || T.equal(x) ? v = false : y = x.getNextSibling());
            }
          } catch {
            v = false;
          }
          return b;
        }, R.prototype.setRangeToElem = function(A) {
          var E = this.getRange();
          E == null || E.setStart(A, 0), E == null || E.setEnd(A, 0);
        }, R;
      }();
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = function() {
        function m(g) {
          this.editor = g;
        }
        return m.prototype.do = function(g, w) {
          var R = this.editor;
          R.config.styleWithCSS && document.execCommand("styleWithCSS", false, "true");
          var A = R.selection;
          if (!!A.getRange()) {
            switch (A.restoreSelection(), g) {
              case "insertHTML":
                this.insertHTML(w);
                break;
              case "insertElem":
                this.insertElem(w);
                break;
              default:
                this.execCommand(g, w);
                break;
            }
            R.menus.changeActive(), A.saveRange(), A.restoreSelection();
          }
        }, m.prototype.insertHTML = function(g) {
          var w = this.editor, R = w.selection.getRange();
          if (R != null) {
            if (this.queryCommandSupported("insertHTML"))
              this.execCommand("insertHTML", g);
            else if (R.insertNode) {
              if (R.deleteContents(), c.default(g).elems.length > 0)
                R.insertNode(c.default(g).elems[0]);
              else {
                var A = document.createElement("p");
                A.appendChild(document.createTextNode(g)), R.insertNode(A);
              }
              w.selection.collapseRange();
            }
          }
        }, m.prototype.insertElem = function(g) {
          var w = this.editor, R = w.selection.getRange();
          R != null && R.insertNode && (R.deleteContents(), R.insertNode(g.elems[0]));
        }, m.prototype.execCommand = function(g, w) {
          document.execCommand(g, false, w);
        }, m.prototype.queryCommandValue = function(g) {
          return document.queryCommandValue(g);
        }, m.prototype.queryCommandState = function(g) {
          return document.queryCommandState(g);
        }, m.prototype.queryCommandSupported = function(g) {
          return document.queryCommandSupported(g);
        }, m;
      }();
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(29)), c = l(n(4)), h2 = l(n(17)), m = l(n(27)), g = l(n(46));
      (0, f.default)(o, "__esModule", { value: true });
      var w = n(2), R = w.__importDefault(n(3)), A = w.__importDefault(n(287)), E = n(6), b = w.__importDefault(n(299)), v = w.__importDefault(n(300)), y = n(7), T = function() {
        function x(D) {
          this.editor = D, this.eventHooks = { onBlurEvents: [], changeEvents: [], dropEvents: [], clickEvents: [], keydownEvents: [], keyupEvents: [], tabUpEvents: [], tabDownEvents: [], enterUpEvents: [], enterDownEvents: [], deleteUpEvents: [], deleteDownEvents: [], pasteEvents: [], linkClickEvents: [], codeClickEvents: [], textScrollEvents: [], toolbarClickEvents: [], imgClickEvents: [], imgDragBarMouseDownEvents: [], tableClickEvents: [], menuClickEvents: [], dropListMenuHoverEvents: [], splitLineEvents: [], videoClickEvents: [] };
        }
        return x.prototype.init = function() {
          this._saveRange(), this._bindEventHooks(), A.default(this);
        }, x.prototype.togglePlaceholder = function() {
          var D, I = this.html(), N = (0, d.default)(D = this.editor.$textContainerElem).call(D, ".placeholder");
          N.hide(), !this.editor.isComposing && (!I || I === " ") && N.show();
        }, x.prototype.clear = function() {
          this.html(y.EMPTY_P);
        }, x.prototype.html = function(D) {
          var I = this.editor, N = I.$textElem;
          if (D == null) {
            var C = N.html();
            C = C.replace(/\u200b/gm, ""), C = C.replace(/<p><\/p>/gim, ""), C = C.replace(y.EMPTY_P_LAST_REGEX, ""), C = C.replace(y.EMPTY_P_REGEX, "<p>");
            var B = C.match(/<(img|br|hr|input)[^>]*>/gi);
            return B !== null && (0, c.default)(B).call(B, function(O) {
              O.match(/\/>/) || (C = C.replace(O, O.substring(0, O.length - 1) + "/>"));
            }), C;
          }
          D = (0, h2.default)(D).call(D), D === "" && (D = y.EMPTY_P), (0, m.default)(D).call(D, "<") !== 0 && (D = "<p>" + D + "</p>"), N.html(D), I.initSelection();
        }, x.prototype.setJSON = function(D) {
          var I = v.default(D).children(), N = this.editor, C = N.$textElem;
          !I || C.replaceChildAll(I);
        }, x.prototype.getJSON = function() {
          var D = this.editor, I = D.$textElem;
          return b.default(I);
        }, x.prototype.text = function(D) {
          var I = this.editor, N = I.$textElem;
          if (D == null) {
            var C = N.text();
            return C = C.replace(/\u200b/gm, ""), C;
          }
          N.text("<p>" + D + "</p>"), I.initSelection();
        }, x.prototype.append = function(D) {
          var I = this.editor;
          (0, m.default)(D).call(D, "<") !== 0 && (D = "<p>" + D + "</p>"), this.html(this.html() + D), I.initSelection();
        }, x.prototype._saveRange = function() {
          var D = this.editor, I = D.$textElem, N = R.default(document);
          function C() {
            D.selection.saveRange(), D.menus.changeActive();
          }
          I.on("keyup", C);
          function B() {
            C(), I.off("click", B);
          }
          I.on("click", B);
          function O() {
            C(), N.off("mouseup", O);
          }
          function S() {
            N.on("mouseup", O), I.off("mouseleave", S);
          }
          I.on("mousedown", function() {
            I.on("mouseleave", S);
          }), I.on("mouseup", function(F) {
            I.off("mouseleave", S), (0, g.default)(function() {
              var $ = D.selection, U = $.getRange();
              U !== null && C();
            }, 0);
          });
        }, x.prototype._bindEventHooks = function() {
          var D = this.editor, I = D.$textElem, N = this.eventHooks;
          I.on("click", function(B) {
            var O = N.clickEvents;
            (0, c.default)(O).call(O, function(S) {
              return S(B);
            });
          }), I.on("keyup", function(B) {
            if (B.keyCode === 13) {
              var O = N.enterUpEvents;
              (0, c.default)(O).call(O, function(S) {
                return S(B);
              });
            }
          }), I.on("keyup", function(B) {
            var O = N.keyupEvents;
            (0, c.default)(O).call(O, function(S) {
              return S(B);
            });
          }), I.on("keydown", function(B) {
            var O = N.keydownEvents;
            (0, c.default)(O).call(O, function(S) {
              return S(B);
            });
          }), I.on("keyup", function(B) {
            if (!(B.keyCode !== 8 && B.keyCode !== 46)) {
              var O = N.deleteUpEvents;
              (0, c.default)(O).call(O, function(S) {
                return S(B);
              });
            }
          }), I.on("keydown", function(B) {
            if (!(B.keyCode !== 8 && B.keyCode !== 46)) {
              var O = N.deleteDownEvents;
              (0, c.default)(O).call(O, function(S) {
                return S(B);
              });
            }
          }), I.on("paste", function(B) {
            if (!E.UA.isIE()) {
              B.preventDefault();
              var O = N.pasteEvents;
              (0, c.default)(O).call(O, function(S) {
                return S(B);
              });
            }
          }), I.on("keydown", function(B) {
            (D.isFocus || D.isCompatibleMode) && (B.ctrlKey || B.metaKey) && B.keyCode === 90 && (B.preventDefault(), B.shiftKey ? D.history.restore() : D.history.revoke());
          }), I.on("keyup", function(B) {
            if (B.keyCode === 9) {
              B.preventDefault();
              var O = N.tabUpEvents;
              (0, c.default)(O).call(O, function(S) {
                return S(B);
              });
            }
          }), I.on("keydown", function(B) {
            if (B.keyCode === 9) {
              B.preventDefault();
              var O = N.tabDownEvents;
              (0, c.default)(O).call(O, function(S) {
                return S(B);
              });
            }
          }), I.on(
            "scroll",
            E.throttle(function(B) {
              var O = N.textScrollEvents;
              (0, c.default)(O).call(O, function(S) {
                return S(B);
              });
            }, 100)
          );
          function C(B) {
            B.preventDefault();
          }
          R.default(document).on("dragleave", C).on("drop", C).on("dragenter", C).on("dragover", C), D.beforeDestroy(function() {
            R.default(document).off("dragleave", C).off("drop", C).off("dragenter", C).off("dragover", C);
          }), I.on("drop", function(B) {
            B.preventDefault();
            var O = N.dropEvents;
            (0, c.default)(O).call(O, function(S) {
              return S(B);
            });
          }), I.on("click", function(B) {
            var O = null, S = B.target, F = R.default(S);
            if (F.getNodeName() === "A")
              O = F;
            else {
              var $ = F.parentUntil("a");
              $ != null && (O = $);
            }
            if (!!O) {
              var U = N.linkClickEvents;
              (0, c.default)(U).call(U, function(L) {
                return L(O);
              });
            }
          }), I.on("click", function(B) {
            var O = null, S = B.target, F = R.default(S);
            if (F.getNodeName() === "IMG" && !F.elems[0].getAttribute("data-emoji") && (B.stopPropagation(), O = F), !!O) {
              var $ = N.imgClickEvents;
              (0, c.default)($).call($, function(U) {
                return U(O);
              });
            }
          }), I.on("click", function(B) {
            var O = null, S = B.target, F = R.default(S);
            if (F.getNodeName() === "PRE")
              O = F;
            else {
              var $ = F.parentUntil("pre");
              $ !== null && (O = $);
            }
            if (!!O) {
              var U = N.codeClickEvents;
              (0, c.default)(U).call(U, function(L) {
                return L(O);
              });
            }
          }), I.on("click", function(B) {
            var O = null, S = B.target, F = R.default(S);
            if (F.getNodeName() === "HR" && (O = F), !!O) {
              D.selection.createRangeByElem(O), D.selection.restoreSelection();
              var $ = N.splitLineEvents;
              (0, c.default)($).call($, function(U) {
                return U(O);
              });
            }
          }), D.$toolbarElem.on("click", function(B) {
            var O = N.toolbarClickEvents;
            (0, c.default)(O).call(O, function(S) {
              return S(B);
            });
          }), D.$textContainerElem.on("mousedown", function(B) {
            var O = B.target, S = R.default(O);
            if (S.hasClass("w-e-img-drag-rb")) {
              var F = N.imgDragBarMouseDownEvents;
              (0, c.default)(F).call(F, function($) {
                return $();
              });
            }
          }), I.on("click", function(B) {
            var O = null, S = B.target;
            if (O = R.default(S).parentUntilEditor("TABLE", D, S), !!O) {
              var F = N.tableClickEvents;
              (0, c.default)(F).call(F, function($) {
                return $(O, B);
              });
            }
          }), I.on("keydown", function(B) {
            if (B.keyCode === 13) {
              var O = N.enterDownEvents;
              (0, c.default)(O).call(O, function(S) {
                return S(B);
              });
            }
          }), I.on("click", function(B) {
            var O = null, S = B.target, F = R.default(S);
            if (F.getNodeName() === "VIDEO" && (B.stopPropagation(), O = F), !!O) {
              var $ = N.videoClickEvents;
              (0, c.default)($).call($, function(U) {
                return U(O);
              });
            }
          });
        }, x;
      }();
      o.default = T;
    }, function(a, o, n) {
      var l = n(284);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(285), f = Array.prototype;
      a.exports = function(d) {
        var c = d.find;
        return d === f || d instanceof Array && c === f.find ? l : c;
      };
    }, function(a, o, n) {
      n(286);
      var l = n(15);
      a.exports = l("Array").find;
    }, function(a, o, n) {
      var l = n(5), f = n(32).find, d = n(82), c = n(22), h2 = "find", m = true, g = c(h2);
      h2 in [] && Array(1)[h2](function() {
        m = false;
      }), l({ target: "Array", proto: true, forced: m || !g }, { find: function(R) {
        return f(this, R, arguments.length > 1 ? arguments[1] : void 0);
      } }), d(h2);
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(288)), h2 = d.__importStar(n(289)), m = d.__importDefault(n(290)), g = d.__importDefault(n(291)), w = d.__importDefault(n(298));
      function R(A) {
        var E = A.editor, b = A.eventHooks;
        c.default(E, b.enterUpEvents, b.enterDownEvents), h2.default(E, b.deleteUpEvents, b.deleteDownEvents), h2.cutToKeepP(E, b.keyupEvents), m.default(E, b.tabDownEvents), g.default(E, b.pasteEvents), w.default(E, b.imgClickEvents);
      }
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(27));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = n(7), m = c.__importDefault(n(3));
      function g(w, R, A) {
        function E(y) {
          var T, x = m.default(h2.EMPTY_P);
          if (x.insertBefore(y), (0, d.default)(T = y.html()).call(T, "<img") >= 0) {
            x.remove();
            return;
          }
          w.selection.createRangeByElem(x, true, true), w.selection.restoreSelection(), y.remove();
        }
        function b() {
          var y = w.$textElem, T = w.selection.getSelectionContainerElem(), x = T.parent();
          if (x.html() === "<code><br></code>") {
            E(x);
            return;
          }
          if (T.getNodeName() === "FONT" && T.text() === "" && T.attr("face") === "monospace") {
            E(x);
            return;
          }
          if (!!x.equal(y)) {
            var D = T.getNodeName();
            D === "P" && T.attr("data-we-empty-p") === null || T.text() || E(T);
          }
        }
        R.push(b);
        function v(y) {
          var T;
          w.selection.saveRange((T = getSelection()) === null || T === void 0 ? void 0 : T.getRangeAt(0));
          var x = w.selection.getSelectionContainerElem();
          x.id === w.textElemId && (y.preventDefault(), w.cmd.do("insertHTML", "<p><br></p>"));
        }
        A.push(v);
      }
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(17)), c = l(n(28));
      (0, f.default)(o, "__esModule", { value: true }), o.cutToKeepP = void 0;
      var h2 = n(2), m = n(7), g = h2.__importDefault(n(3));
      function w(A, E, b) {
        function v() {
          var T = A.$textElem, x = A.$textElem.html(), D = A.$textElem.text(), I = (0, d.default)(x).call(x), N = ["<p><br></p>", "<br>", '<p data-we-empty-p=""></p>', m.EMPTY_P];
          if (/^\s*$/.test(D) && (!I || (0, c.default)(N).call(N, I))) {
            T.html(m.EMPTY_P);
            var C = T.getNode();
            A.selection.createRangeByElems(C.childNodes[0], C.childNodes[0]);
            var B = A.selection.getSelectionContainerElem();
            A.selection.restoreSelection(), A.selection.moveCursor(B.getNode(), 0);
          }
        }
        E.push(v);
        function y(T) {
          var x, D = A.$textElem, I = (0, d.default)(x = D.html().toLowerCase()).call(x);
          if (I === m.EMPTY_P) {
            T.preventDefault();
            return;
          }
        }
        b.push(y);
      }
      function R(A, E) {
        function b(v) {
          var y;
          if (v.keyCode === 88) {
            var T = A.$textElem, x = (0, d.default)(y = T.html().toLowerCase()).call(y);
            if (!x || x === "<br>") {
              var D = g.default(m.EMPTY_P);
              T.html(" "), T.append(D), A.selection.createRangeByElem(D, false, true), A.selection.restoreSelection(), A.selection.moveCursor(D.getNode(), 0);
            }
          }
        }
        E.push(b);
      }
      o.cutToKeepP = R, o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      function d(c, h2) {
        function m() {
          if (!!c.cmd.queryCommandSupported("insertHTML")) {
            var g = c.selection.getSelectionContainerElem();
            if (!!g) {
              var w = g.parent(), R = g.getNodeName(), A = w.getNodeName();
              R == "CODE" || A === "CODE" || A === "PRE" || /hljs/.test(A) ? c.cmd.do("insertHTML", c.config.languageTab) : c.cmd.do("insertHTML", "&nbsp;&nbsp;&nbsp;&nbsp;");
            }
          }
        }
        h2.push(m);
      }
      o.default = d;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(17)), c = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(131), m = n(6), g = n(7);
      function w(v) {
        var y, T = (0, d.default)(y = v.replace(/<div>/gim, "<p>").replace(/<\/div>/gim, "</p>")).call(y), x = document.createElement("div");
        return x.innerHTML = T, x.innerHTML.replace(/<p><\/p>/gim, "");
      }
      function R(v) {
        var y = v.replace(/<br>|<br\/>/gm, `
`).replace(/<[^>]+>/gm, "");
        return y;
      }
      function A(v) {
        var y;
        if (v === "")
          return false;
        var T = document.createElement("div");
        return T.innerHTML = v, ((y = T.firstChild) === null || y === void 0 ? void 0 : y.nodeName) === "P";
      }
      function E(v) {
        if (!(v != null && v.length))
          return false;
        var y = v.elems[0];
        return y.nodeName === "P" && y.innerHTML === "<br>";
      }
      function b(v, y) {
        function T(x) {
          var D = v.config, I = D.pasteFilterStyle, N = D.pasteIgnoreImg, C = D.pasteTextHandle, B = h2.getPasteHtml(x, I, N), O = h2.getPasteText(x);
          O = O.replace(/\n/gm, "<br>");
          var S = v.selection.getSelectionContainerElem();
          if (!!S) {
            var F = S == null ? void 0 : S.getNodeName(), $ = S == null ? void 0 : S.getNodeTop(v), U = "";
            if ($.elems[0] && (U = $ == null ? void 0 : $.getNodeName()), F === "CODE" || U === "PRE") {
              C && m.isFunction(C) && (O = "" + (C(O) || "")), v.cmd.do("insertHTML", R(O));
              return;
            }
            if (g.urlRegex.test(O) && I) {
              C && m.isFunction(C) && (O = "" + (C(O) || ""));
              var L = O.replace(g.urlRegex, function(G) {
                return '<a href="' + G + '" target="_blank">' + G + "</a>";
              }), z = v.selection.getRange(), Q = document.createElement("div"), J = document.createDocumentFragment();
              if (Q.innerHTML = L, z == null)
                return;
              for (; Q.childNodes.length; )
                J.append(Q.childNodes[0]);
              var ae = J.querySelectorAll("a");
              (0, c.default)(ae).call(ae, function(G) {
                G.innerText = G.href;
              }), z.insertNode && (z.deleteContents(), z.insertNode(J)), v.selection.clearWindowSelectionRange();
              return;
            }
            if (!!B)
              try {
                C && m.isFunction(C) && (B = "" + (C(B) || ""));
                var M = /[\.\#\@]?\w+[ ]+\{[^}]*\}/.test(B);
                if (M && I)
                  v.cmd.do("insertHTML", "" + w(O));
                else {
                  var V = w(B);
                  if (A(V)) {
                    var K = v.$textElem;
                    if (v.cmd.do("insertHTML", V), K.equal(S)) {
                      v.selection.createEmptyRange();
                      return;
                    }
                    E($) && $.remove();
                  } else
                    v.cmd.do("insertHTML", V);
                }
              } catch {
                C && m.isFunction(C) && (O = "" + (C(O) || "")), v.cmd.do("insertHTML", "" + w(O));
              }
          }
        }
        y.push(T);
      }
      o.default = b;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(17)), c = l(n(4)), h2 = l(n(28));
      (0, f.default)(o, "__esModule", { value: true });
      var m = n(2), g = n(293), w = m.__importDefault(n(297));
      function R(y) {
        var T = /<span>.*?<\/span>/gi, x = /<span>(.*?)<\/span>/;
        return y.replace(T, function(D) {
          var I = D.match(x);
          return I == null ? "" : I[1];
        });
      }
      function A(y, T) {
        var x;
        return y = (0, d.default)(x = y.toLowerCase()).call(x), !!(g.IGNORE_TAGS.has(y) || T && y === "img");
      }
      function E(y, T) {
        var x = "";
        x = "<" + y;
        var D = [];
        (0, c.default)(T).call(T, function(N) {
          D.push(N.name + '="' + N.value + '"');
        }), D.length > 0 && (x = x + " " + D.join(" "));
        var I = g.EMPTY_TAGS.has(y);
        return x = x + (I ? "/" : "") + ">", x;
      }
      function b(y) {
        return "</" + y + ">";
      }
      function v(y, T, x) {
        T === void 0 && (T = true), x === void 0 && (x = false);
        var D = [], I = "";
        function N(S) {
          S = (0, d.default)(S).call(S), S && (g.EMPTY_TAGS.has(S) || (I = S));
        }
        function C() {
          I = "";
        }
        var B = new w.default();
        B.parse(y, { startElement: function(F, $) {
          if (N(F), !A(F, x)) {
            var U = g.NECESSARY_ATTRS.get(F) || [], L = [];
            (0, c.default)($).call($, function(Q) {
              var J = Q.name;
              if (J === "style") {
                T || L.push(Q);
                return;
              }
              (0, h2.default)(U).call(U, J) !== false && L.push(Q);
            });
            var z = E(F, L);
            D.push(z);
          }
        }, characters: function(F) {
          !F || A(I, x) || D.push(F);
        }, endElement: function(F) {
          if (!A(F, x)) {
            var $ = b(F);
            D.push($), C();
          }
        }, comment: function(F) {
          N(F);
        } });
        var O = D.join("");
        return O = R(O), O;
      }
      o.default = v;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(132)), c = l(n(121));
      (0, f.default)(o, "__esModule", { value: true }), o.TOP_LEVEL_TAGS = o.EMPTY_TAGS = o.NECESSARY_ATTRS = o.IGNORE_TAGS = void 0, o.IGNORE_TAGS = new d.default(["doctype", "!doctype", "html", "head", "meta", "body", "script", "style", "link", "frame", "iframe", "title", "svg", "center", "o:p"]), o.NECESSARY_ATTRS = new c.default([["img", ["src", "alt"]], ["a", ["href", "target"]], ["td", ["colspan", "rowspan"]], ["th", ["colspan", "rowspan"]]]), o.EMPTY_TAGS = new d.default(["area", "base", "basefont", "br", "col", "hr", "img", "input", "isindex", "embed"]), o.TOP_LEVEL_TAGS = new d.default(["h1", "h2", "h3", "h4", "h5", "p", "ul", "ol", "table", "blockquote", "pre", "hr", "form"]);
    }, function(a, o, n) {
      var l = n(295);
      a.exports = l;
    }, function(a, o, n) {
      n(296), n(61), n(50), n(54);
      var l = n(9);
      a.exports = l.Set;
    }, function(a, o, n) {
      var l = n(122), f = n(124);
      a.exports = l("Set", function(d) {
        return function() {
          return d(this, arguments.length ? arguments[0] : void 0);
        };
      }, f);
    }, function(a, o) {
      function n() {
      }
      n.prototype = {
        handler: null,
        startTagRe: /^<([^>\s\/]+)((\s+[^=>\s]+(\s*=\s*((\"[^"]*\")|(\'[^']*\')|[^>\s]+))?)*)\s*\/?\s*>/m,
        endTagRe: /^<\/([^>\s]+)[^>]*>/m,
        attrRe: /([^=\s]+)(\s*=\s*((\"([^"]*)\")|(\'([^']*)\')|[^>\s]+))?/gm,
        parse: function(f, d) {
          d && (this.contentHandler = d);
          for (var c, h2, m, g = false, w = this; f.length > 0; )
            f.substring(0, 4) == "<!--" ? (m = f.indexOf("-->"), m != -1 ? (this.contentHandler.comment(f.substring(4, m)), f = f.substring(m + 3), g = false) : g = true) : f.substring(0, 2) == "</" ? this.endTagRe.test(f) ? (c = RegExp.lastMatch, h2 = RegExp.rightContext, c.replace(this.endTagRe, function() {
              return w.parseEndTag.apply(w, arguments);
            }), f = h2, g = false) : g = true : f.charAt(0) == "<" && (this.startTagRe.test(f) ? (c = RegExp.lastMatch, h2 = RegExp.rightContext, c.replace(this.startTagRe, function() {
              return w.parseStartTag.apply(w, arguments);
            }), f = h2, g = false) : g = true), g && (m = f.indexOf("<"), m == -1 ? (this.contentHandler.characters(f), f = "") : (this.contentHandler.characters(f.substring(0, m)), f = f.substring(m))), g = true;
        },
        parseStartTag: function(f, d, c) {
          var h2 = this.parseAttributes(d, c);
          this.contentHandler.startElement(d, h2);
        },
        parseEndTag: function(f, d) {
          this.contentHandler.endElement(d);
        },
        parseAttributes: function(f, d) {
          var c = this, h2 = [];
          return d.replace(this.attrRe, function(m, g, w, R, A, E, b, v) {
            h2.push(c.parseAttribute(f, m, g, w, R, A, E, b, v));
          }), h2;
        },
        parseAttribute: function(f, d, c) {
          var h2 = "";
          arguments[7] ? h2 = arguments[8] : arguments[5] ? h2 = arguments[6] : arguments[3] && (h2 = arguments[4]);
          var m = !h2 && !arguments[3];
          return { name: c, value: m ? null : h2 };
        }
      }, a.exports = n;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      function d(c, h2) {
        function m(g) {
          c.selection.createRangeByElem(g), c.selection.restoreSelection();
        }
        h2.push(m);
      }
      o.default = d;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = n(6), m = c.__importDefault(n(3));
      function g(w) {
        var R = [], A = w.childNodes() || [];
        return (0, d.default)(A).call(A, function(E) {
          var b, v = E.nodeType;
          if (v === 3 && (b = E.textContent || "", b = h2.replaceHtmlSymbol(b)), v === 1) {
            b = {}, b = b, b.tag = E.nodeName.toLowerCase();
            for (var y = [], T = E.attributes, x = T.length || 0, D = 0; D < x; D++) {
              var I = T[D];
              y.push({ name: I.name, value: I.value });
            }
            b.attrs = y, b.children = g(m.default(E));
          }
          b && R.push(b);
        }), R;
      }
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(92)), d = l(n(1)), c = l(n(4));
      (0, d.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(3));
      function g(w, R) {
        R === void 0 && (R = document.createElement("div"));
        var A = R;
        return (0, c.default)(w).call(w, function(E) {
          var b;
          if (typeof E == "string" && (b = document.createTextNode(E)), (0, f.default)(E) === "object") {
            var v;
            b = document.createElement(E.tag), (0, c.default)(v = E.attrs).call(v, function(y) {
              m.default(b).attr(y.name, y.value);
            }), E.children && E.children.length > 0 && g(E.children, b.getRootNode());
          }
          b && A.appendChild(b);
        }), m.default(A);
      }
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(89)), c = l(n(70)), h2 = l(n(28)), m = l(n(302)), g = l(n(4)), w = l(n(94)), R = l(n(133)), A = l(n(46)), E = l(n(57));
      (0, f.default)(o, "__esModule", { value: true });
      var b = n(2), v = b.__importDefault(n(87)), y = b.__importDefault(n(314)), T = b.__importDefault(n(3)), x = function() {
        function D(I) {
          this.editor = I, this.menuList = [], this.constructorList = y.default;
        }
        return D.prototype.extend = function(I, N) {
          !N || typeof N != "function" || (this.constructorList[I] = N);
        }, D.prototype.init = function() {
          var I, N, C = this, B = this.editor.config, O = B.excludeMenus;
          (0, d.default)(O) === false && (O = []), B.menus = (0, c.default)(I = B.menus).call(I, function(J) {
            return (0, h2.default)(O).call(O, J) === false;
          });
          var S = (0, m.default)(v.default.globalCustomMenuConstructorList);
          S = (0, c.default)(S).call(S, function(J) {
            return (0, h2.default)(O).call(O, J);
          }), (0, g.default)(S).call(S, function(J) {
            delete v.default.globalCustomMenuConstructorList[J];
          }), (0, g.default)(N = B.menus).call(N, function(J) {
            var ae = C.constructorList[J];
            C._initMenuList(J, ae);
          });
          for (var F = 0, $ = (0, w.default)(v.default.globalCustomMenuConstructorList); F < $.length; F++) {
            var U = $[F], L = U[0], z = U[1], Q = z;
            this._initMenuList(L, Q);
          }
          this._addToToolbar(), B.showMenuTooltips && this._bindMenuTooltips();
        }, D.prototype._initMenuList = function(I, N) {
          var C;
          if (!(N == null || typeof N != "function"))
            if ((0, R.default)(C = this.menuList).call(C, function(O) {
              return O.key === I;
            }))
              console.warn("菜单名称重复:" + I);
            else {
              var B = new N(this.editor);
              B.key = I, this.menuList.push(B);
            }
        }, D.prototype._bindMenuTooltips = function() {
          var I = this.editor, N = I.$toolbarElem, C = I.config, B = C.menuTooltipPosition, O = T.default('<div class="w-e-menu-tooltip w-e-menu-tooltip-' + B + `">
            <div class="w-e-menu-tooltip-item-wrapper">
              <div></div>
            </div>
          </div>`);
          O.css("visibility", "hidden"), N.append(O), O.css("z-index", I.zIndex.get("tooltip"));
          var S = 0;
          function F() {
            S && clearTimeout(S);
          }
          function $() {
            F(), O.css("visibility", "hidden");
          }
          N.on("mouseover", function(U) {
            var L = U.target, z = T.default(L), Q, J;
            if (z.isContain(N)) {
              $();
              return;
            }
            if (z.parentUntil(".w-e-droplist") != null)
              $();
            else if (z.attr("data-title"))
              Q = z.attr("data-title"), J = z;
            else {
              var ae = z.parentUntil(".w-e-menu");
              ae != null && (Q = ae.attr("data-title"), J = ae);
            }
            if (Q && J) {
              F();
              var M = J.getOffsetData();
              O.text(I.i18next.t("menus.title." + Q));
              var V = O.getOffsetData(), K = M.left + M.width / 2 - V.width / 2;
              O.css("left", K + "px"), B === "up" ? O.css("top", M.top - V.height - 8 + "px") : B === "down" && O.css("top", M.top + M.height + 8 + "px"), S = (0, A.default)(function() {
                O.css("visibility", "visible");
              }, 200);
            } else
              $();
          }).on("mouseleave", function() {
            $();
          });
        }, D.prototype._addToToolbar = function() {
          var I, N = this.editor, C = N.$toolbarElem;
          (0, g.default)(I = this.menuList).call(I, function(B) {
            var O = B.$elem;
            O && C.append(O);
          });
        }, D.prototype.menuFind = function(I) {
          for (var N = this.menuList, C = 0, B = N.length; C < B; C++)
            if (N[C].key === I)
              return N[C];
          return N[0];
        }, D.prototype.changeActive = function() {
          var I;
          (0, g.default)(I = this.menuList).call(I, function(N) {
            var C;
            (0, A.default)((0, E.default)(C = N.tryChangeActive).call(C, N), 100);
          });
        }, D;
      }();
      o.default = x;
    }, function(a, o, n) {
      a.exports = n(303);
    }, function(a, o, n) {
      var l = n(304);
      a.exports = l;
    }, function(a, o, n) {
      n(305);
      var l = n(9);
      a.exports = l.Object.keys;
    }, function(a, o, n) {
      var l = n(5), f = n(31), d = n(52), c = n(11), h2 = c(function() {
        d(1);
      });
      l({ target: "Object", stat: true, forced: h2 }, { keys: function(g) {
        return d(f(g));
      } });
    }, function(a, o, n) {
      var l = n(307);
      a.exports = l;
    }, function(a, o, n) {
      n(308);
      var l = n(9);
      a.exports = l.Object.entries;
    }, function(a, o, n) {
      var l = n(5), f = n(309).entries;
      l({ target: "Object", stat: true }, { entries: function(c) {
        return f(c);
      } });
    }, function(a, o, n) {
      var l = n(14), f = n(52), d = n(30), c = n(59).f, h2 = function(g) {
        return function(w) {
          for (var R = d(w), A = f(R), E = A.length, b = 0, v = [], y; E > b; )
            y = A[b++], (!l || c.call(R, y)) && v.push(g ? [y, R[y]] : R[y]);
          return v;
        };
      };
      a.exports = {
        entries: h2(true),
        values: h2(false)
      };
    }, function(a, o, n) {
      var l = n(311);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(312), f = Array.prototype;
      a.exports = function(d) {
        var c = d.some;
        return d === f || d instanceof Array && c === f.some ? l : c;
      };
    }, function(a, o, n) {
      n(313);
      var l = n(15);
      a.exports = l("Array").some;
    }, function(a, o, n) {
      var l = n(5), f = n(32).some, d = n(67), c = n(22), h2 = d("some"), m = c("some");
      l({ target: "Array", proto: true, forced: !h2 || !m }, { some: function(w) {
        return f(this, w, arguments.length > 1 ? arguments[1] : void 0);
      } });
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(315)), h2 = d.__importDefault(n(316)), m = d.__importDefault(n(321)), g = d.__importDefault(n(326)), w = d.__importDefault(n(327)), R = d.__importDefault(n(328)), A = d.__importDefault(n(329)), E = d.__importDefault(n(331)), b = d.__importDefault(n(333)), v = d.__importDefault(n(334)), y = d.__importDefault(n(337)), T = d.__importDefault(n(338)), x = d.__importDefault(n(339)), D = d.__importDefault(n(350)), I = d.__importDefault(n(365)), N = d.__importDefault(n(369)), C = d.__importDefault(n(137)), B = d.__importDefault(n(378)), O = d.__importDefault(n(380)), S = d.__importDefault(n(381)), F = d.__importDefault(n(382)), $ = d.__importDefault(n(401)), U = d.__importDefault(n(406)), L = d.__importDefault(n(409));
      o.default = { bold: c.default, head: h2.default, italic: g.default, link: m.default, underline: w.default, strikeThrough: R.default, fontName: A.default, fontSize: E.default, justify: b.default, quote: v.default, backColor: y.default, foreColor: T.default, video: x.default, image: D.default, indent: I.default, emoticon: N.default, list: C.default, lineHeight: B.default, undo: O.default, redo: S.default, table: F.default, code: $.default, splitLine: U.default, todo: L.default };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(23)), h2 = d.__importDefault(n(3)), m = function(g) {
        d.__extends(w, g);
        function w(R) {
          var A = this, E = h2.default(`<div class="w-e-menu" data-title="加粗">
                <i class="w-e-icon-bold"></i>
            </div>`);
          return A = g.call(this, E, R) || this, A;
        }
        return w.prototype.clickHandler = function() {
          var R = this.editor, A = R.selection.isSelectionEmpty();
          A && R.selection.createEmptyRange(), R.cmd.do("bold"), A && (R.selection.collapseRange(), R.selection.restoreSelection());
        }, w.prototype.tryChangeActive = function() {
          var R = this.editor;
          R.cmd.queryCommandState("bold") ? this.active() : this.unActive();
        }, w;
      }(c.default);
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(27)), c = l(n(29)), h2 = l(n(4)), m = l(n(317)), g = l(n(28));
      (0, f.default)(o, "__esModule", { value: true });
      var w = n(2), R = w.__importDefault(n(24)), A = w.__importDefault(n(3)), E = n(6), b = n(7), v = function(y) {
        w.__extends(T, y);
        function T(x) {
          var D = this, I = A.default('<div class="w-e-menu" data-title="标题"><i class="w-e-icon-header"></i></div>'), N = { width: 100, title: "设置标题", type: "list", list: [{ $elem: A.default("<h1>H1</h1>"), value: "<h1>" }, { $elem: A.default("<h2>H2</h2>"), value: "<h2>" }, { $elem: A.default("<h3>H3</h3>"), value: "<h3>" }, { $elem: A.default("<h4>H4</h4>"), value: "<h4>" }, { $elem: A.default("<h5>H5</h5>"), value: "<h5>" }, { $elem: A.default("<p>" + x.i18next.t("menus.dropListMenu.head.正文") + "</p>"), value: "<p>" }], clickHandler: function(O) {
            D.command(O);
          } };
          D = y.call(this, I, x, N) || this;
          var C = x.config.onCatalogChange;
          return C && (D.oldCatalogs = [], D.addListenerCatalog(), D.getCatalogs()), D;
        }
        return T.prototype.command = function(x) {
          var D = this.editor, I = D.selection.getSelectionContainerElem();
          if (I && D.$textElem.equal(I))
            this.setMultilineHead(x);
          else {
            var N;
            if ((0, d.default)(N = ["OL", "UL", "LI", "TABLE", "TH", "TR", "CODE", "HR"]).call(N, A.default(I).getNodeName()) > -1)
              return;
            D.cmd.do("formatBlock", x);
          }
          x !== "<p>" && this.addUidForSelectionElem();
        }, T.prototype.addUidForSelectionElem = function() {
          var x = this.editor, D = x.selection.getSelectionContainerElem(), I = E.getRandomCode();
          A.default(D).attr("id", I);
        }, T.prototype.addListenerCatalog = function() {
          var x = this, D = this.editor;
          D.txt.eventHooks.changeEvents.push(function() {
            x.getCatalogs();
          });
        }, T.prototype.getCatalogs = function() {
          var x = this.editor, D = this.editor.$textElem, I = x.config.onCatalogChange, N = (0, c.default)(D).call(D, "h1,h2,h3,h4,h5"), C = [];
          (0, h2.default)(N).call(N, function(B, O) {
            var S = A.default(B), F = S.attr("id"), $ = S.getNodeName(), U = S.text();
            F || (F = E.getRandomCode(), S.attr("id", F)), U && C.push({ tag: $, id: F, text: U });
          }), (0, m.default)(this.oldCatalogs) !== (0, m.default)(C) && (this.oldCatalogs = C, I && I(C));
        }, T.prototype.setMultilineHead = function(x) {
          var D = this, I, N, C = this.editor, B = C.selection, O = (I = B.getSelectionContainerElem()) === null || I === void 0 ? void 0 : I.elems[0], S = ["IMG", "VIDEO", "TABLE", "TH", "TR", "UL", "OL", "PRE", "HR", "BLOCKQUOTE"], F = A.default(B.getSelectionStartElem()), $ = A.default(B.getSelectionEndElem());
          $.elems[0].outerHTML === A.default(b.EMPTY_P).elems[0].outerHTML && !$.elems[0].nextSibling && ($ = $.prev());
          var U = [];
          U.push(F.getNodeTop(C));
          var L = [], z = (N = B.getRange()) === null || N === void 0 ? void 0 : N.commonAncestorContainer.childNodes;
          z == null || (0, h2.default)(z).call(z, function(ae, M) {
            ae === U[0].getNode() && L.push(M), ae === $.getNodeTop(C).getNode() && L.push(M);
          });
          for (var Q = 0; U[Q].getNode() !== $.getNodeTop(C).getNode(); ) {
            if (!U[Q].elems[0])
              return;
            var J = A.default(U[Q].next().getNode());
            U.push(J), Q++;
          }
          U == null || (0, h2.default)(U).call(U, function(ae, M) {
            if (!D.hasTag(ae, S)) {
              var V = A.default(x), K = ae.parent().getNode();
              V.html("" + ae.html()), K.insertBefore(V.getNode(), ae.getNode()), ae.remove();
            }
          }), B.createRangeByElems(O.children[L[0]], O.children[L[1]]);
        }, T.prototype.hasTag = function(x, D) {
          var I = this, N;
          if (!x)
            return false;
          if ((0, g.default)(D).call(D, x == null ? void 0 : x.getNodeName()))
            return true;
          var C = false;
          return (N = x.children()) === null || N === void 0 || (0, h2.default)(N).call(N, function(B) {
            C = I.hasTag(A.default(B), D);
          }), C;
        }, T.prototype.tryChangeActive = function() {
          var x = this.editor, D = /^h/i, I = x.cmd.queryCommandValue("formatBlock");
          D.test(I) ? this.active() : this.unActive();
        }, T;
      }(R.default);
      o.default = v;
    }, function(a, o, n) {
      a.exports = n(318);
    }, function(a, o, n) {
      var l = n(319);
      a.exports = l;
    }, function(a, o, n) {
      n(320);
      var l = n(9);
      l.JSON || (l.JSON = { stringify: JSON.stringify }), a.exports = function(d, c, h2) {
        return l.JSON.stringify.apply(null, arguments);
      };
    }, function(a, o, n) {
      var l = n(5), f = n(36), d = n(11), c = f("JSON", "stringify"), h2 = /[\uD800-\uDFFF]/g, m = /^[\uD800-\uDBFF]$/, g = /^[\uDC00-\uDFFF]$/, w = function(E, b, v) {
        var y = v.charAt(b - 1), T = v.charAt(b + 1);
        return m.test(E) && !g.test(T) || g.test(E) && !m.test(y) ? "\\u" + E.charCodeAt(0).toString(16) : E;
      }, R = d(function() {
        return c("\uDF06\uD834") !== '"\\udf06\\ud834"' || c("\uDEAD") !== '"\\udead"';
      });
      c && l({ target: "JSON", stat: true, forced: R }, {
        stringify: function(E, b, v) {
          var y = c.apply(null, arguments);
          return typeof y == "string" ? y.replace(h2, w) : y;
        }
      });
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(17));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(38)), m = c.__importDefault(n(3)), g = c.__importDefault(n(322)), w = c.__importStar(n(96)), R = c.__importDefault(n(33)), A = c.__importDefault(n(324)), E = n(7), b = function(v) {
        c.__extends(y, v);
        function y(T) {
          var x = this, D = m.default('<div class="w-e-menu" data-title="链接"><i class="w-e-icon-link"></i></div>');
          return x = v.call(this, D, T) || this, A.default(T), x;
        }
        return y.prototype.clickHandler = function() {
          var T = this.editor, x, D = T.selection.getSelectionContainerElem(), I = T.$textElem, N = I.html(), C = (0, d.default)(N).call(N);
          if (C === E.EMPTY_P) {
            var B = I.children();
            T.selection.createRangeByElem(B, true, true), D = T.selection.getSelectionContainerElem();
          }
          if (!(D && T.$textElem.equal(D)))
            if (this.isActive) {
              var O = "", S = "";
              if (x = T.selection.getSelectionContainerElem(), !x)
                return;
              if (x.getNodeName() !== "A") {
                var F = w.getParentNodeA(x);
                x = m.default(F);
              }
              O = x.elems[0].innerText, S = x.attr("href"), this.createPanel(O, S);
            } else
              T.selection.isSelectionEmpty() ? this.createPanel("", "") : this.createPanel(T.selection.getSelectionText(), "");
        }, y.prototype.createPanel = function(T, x) {
          var D = g.default(this.editor, T, x), I = new R.default(this, D);
          I.create();
        }, y.prototype.tryChangeActive = function() {
          var T = this.editor;
          w.default(T) ? this.active() : this.unActive();
        }, y;
      }(h2.default);
      o.default = b;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(28)), c = l(n(17)), h2 = l(n(29));
      (0, f.default)(o, "__esModule", { value: true });
      var m = n(2), g = n(6), w = m.__importDefault(n(3)), R = m.__importStar(n(96)), A = n(323);
      function E(b, v, y) {
        var T = g.getRandom("input-link"), x = g.getRandom("input-text"), D = g.getRandom("btn-ok"), I = g.getRandom("btn-del"), N = R.default(b) ? "inline-block" : "none", C;
        function B() {
          if (!!R.default(b)) {
            var U = b.selection.getSelectionContainerElem();
            !U || (b.selection.createRangeByElem(U), b.selection.restoreSelection(), C = U);
          }
        }
        function O(U, L) {
          var z = U.replace(/</g, "&lt;").replace(/>/g, "&gt;"), Q = w.default('<a target="_blank">' + z + "</a>"), J = Q.elems[0];
          J.innerText = U, J.href = L, R.default(b) && B(), b.cmd.do("insertElem", Q);
        }
        function S() {
          if (!!R.default(b))
            if (B(), C.getNodeName() === "A") {
              var U, L = C.elems[0], z = L.parentElement;
              z && (0, d.default)(U = R.EXTRA_TAG).call(U, z.nodeName) ? z.innerHTML = L.innerHTML : b.cmd.do("insertHTML", "<span>" + L.innerHTML + "</span>");
            } else {
              var Q = R.getParentNodeA(C), J = Q.innerHTML;
              b.cmd.do("insertHTML", "<span>" + J + "</span>");
            }
        }
        function F(U, L) {
          var z = b.config.linkCheck(U, L);
          if (z !== void 0) {
            if (z === true)
              return true;
            b.config.customAlert(z, "warning");
          }
          return false;
        }
        var $ = {
          width: 300,
          height: 0,
          tabs: [{
            title: b.i18next.t("menus.panelMenus.link.链接"),
            tpl: `<div>
                        <input
                            id="` + x + `"
                            type="text"
                            class="block"
                            placeholder="` + b.i18next.t("menus.panelMenus.link.链接文字") + `"/>
                        </td>
                        <input
                            id="` + T + `"
                            type="text"
                            class="block"
                            placeholder="` + b.i18next.t("如") + ` https://..."/>
                        </td>
                        <div class="w-e-button-container">
                            <button type="button" id="` + D + `" class="right">
                                ` + b.i18next.t("插入") + `
                            </button>
                            <button type="button" id="` + I + '" class="gray right" style="display:' + N + `">
                                ` + b.i18next.t("menus.panelMenus.link.取消链接") + `
                            </button>
                        </div>
                    </div>`,
            events: [
              { selector: "#" + D, type: "click", fn: function() {
                var L, z, Q, J, ae, M = b.selection.getSelectionContainerElem(), V = M == null ? void 0 : M.elems[0];
                b.selection.restoreSelection();
                var K = b.selection.getSelectionRangeTopNodes()[0].getNode(), G = window.getSelection(), Z = w.default("#" + T), ue = w.default("#" + x), pe = (0, c.default)(L = Z.val()).call(L), ce = (0, c.default)(z = ue.val()).call(z), fe = "";
                G && !(G != null && G.isCollapsed) && (fe = (J = A.insertHtml(G, K)) === null || J === void 0 ? void 0 : (0, c.default)(J).call(J));
                var ne = fe == null ? void 0 : fe.replace(/<.*?>/g, ""), be = (ae = ne == null ? void 0 : ne.length) !== null && ae !== void 0 ? ae : 0;
                if (be <= ce.length) {
                  var we = ce.substring(0, be), Re = ce.substring(be);
                  ne === we && (ce = ne + Re);
                }
                if (!!pe && (ce || (ce = pe), !!F(ce, pe))) {
                  if ((V == null ? void 0 : V.nodeName) === "A")
                    return V.setAttribute("href", pe), V.innerText = ce, true;
                  if ((V == null ? void 0 : V.nodeName) !== "A" && (0, d.default)(Q = R.EXTRA_TAG).call(Q, V.nodeName)) {
                    var Ke = R.getParentNodeA(M);
                    if (Ke)
                      return Ke.setAttribute("href", pe), V.innerText = ce, true;
                  }
                  return O(ce, pe), true;
                }
              }, bindEnter: true },
              { selector: "#" + I, type: "click", fn: function() {
                return S(), true;
              } }
            ]
          }],
          setLinkValue: function(L, z) {
            var Q = "", J = "", ae;
            z === "text" && (Q = "#" + x, J = v), z === "link" && (Q = "#" + T, J = y), ae = (0, h2.default)(L).call(L, Q).elems[0], ae.value = J;
          }
        };
        return $;
      }
      o.default = E;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true }), o.insertHtml = o.createPartHtml = o.makeHtmlString = o.getTopNode = void 0;
      function c(A, E) {
        var b = A, v = A;
        do {
          if (b.textContent === E)
            break;
          v = b, b.parentNode && (b = b == null ? void 0 : b.parentNode);
        } while ((b == null ? void 0 : b.nodeName) !== "P");
        return v;
      }
      o.getTopNode = c;
      function h2(A, E) {
        var b = A.nodeName, v = "";
        if (A.nodeType === 3 || /^(h|H)[1-6]$/.test(b))
          return E;
        if (A.nodeType === 1) {
          var y = A.getAttribute("style"), T = A.getAttribute("face"), x = A.getAttribute("color");
          y && (v = v + (' style="' + y + '"')), T && (v = v + (' face="' + T + '"')), x && (v = v + (' color="' + x + '"'));
        }
        return b = b.toLowerCase(), "<" + b + v + ">" + E + "</" + b + ">";
      }
      o.makeHtmlString = h2;
      function m(A, E, b, v) {
        var y, T = (y = E.textContent) === null || y === void 0 ? void 0 : y.substring(b, v), x = E, D = "";
        do
          D = h2(x, T != null ? T : ""), T = D, x = x == null ? void 0 : x.parentElement;
        while (x && x.textContent !== A);
        return D;
      }
      o.createPartHtml = m;
      function g(A, E) {
        var b, v, y, T, x, D = A.anchorNode, I = A.focusNode, N = A.anchorOffset, C = A.focusOffset, B = (b = E.textContent) !== null && b !== void 0 ? b : "", O = w(E), S = "", F = "", $ = "", U = "", L = D, z = I, Q = D;
        if (D != null && D.isEqualNode(I != null ? I : null)) {
          var J = m(B, D, N, C);
          return J = R(O, J), J;
        }
        for (D && (F = m(B, D, N != null ? N : 0)), I && (U = m(B, I, 0, C)), D && (L = c(D, B)), I && (z = c(I, B)), Q = (v = L == null ? void 0 : L.nextSibling) !== null && v !== void 0 ? v : D; !(Q != null && Q.isEqualNode(z != null ? z : null)); ) {
          var ae = Q == null ? void 0 : Q.nodeName;
          if (ae === "#text")
            $ = $ + (Q == null ? void 0 : Q.textContent);
          else {
            var M = (T = (y = Q == null ? void 0 : Q.firstChild) === null || y === void 0 ? void 0 : y.parentElement) === null || T === void 0 ? void 0 : T.innerHTML;
            Q && ($ = $ + h2(Q, M != null ? M : ""));
          }
          var V = (x = Q == null ? void 0 : Q.nextSibling) !== null && x !== void 0 ? x : Q;
          if (V === Q)
            break;
          Q = V;
        }
        return S = "" + F + $ + U, S = R(O, S), S;
      }
      o.insertHtml = g;
      function w(A) {
        for (var E, b = (E = A.textContent) !== null && E !== void 0 ? E : "", v = []; (A == null ? void 0 : A.textContent) === b; )
          A.nodeName !== "P" && A.nodeName !== "TABLE" && v.push(A), A = A.childNodes[0];
        return v;
      }
      function R(A, E) {
        return (0, d.default)(A).call(A, function(b) {
          E = h2(b, E);
        }), E;
      }
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(325));
      function h2(m) {
        c.default(m);
      }
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(28));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = c.__importDefault(n(39)), g = n(96);
      function w(A) {
        var E;
        function b(y) {
          var T = [{ $elem: h2.default("<span>" + A.i18next.t("menus.panelMenus.link.查看链接") + "</span>"), onClick: function(D, I) {
            var N = I.attr("href");
            return window.open(N, "_target"), true;
          } }, { $elem: h2.default("<span>" + A.i18next.t("menus.panelMenus.link.取消链接") + "</span>"), onClick: function(D, I) {
            var N, C;
            D.selection.createRangeByElem(I), D.selection.restoreSelection();
            var B = I.childNodes();
            if ((B == null ? void 0 : B.getNodeName()) === "IMG") {
              var O = (C = (N = D.selection.getSelectionContainerElem()) === null || N === void 0 ? void 0 : N.children()) === null || C === void 0 ? void 0 : C.elems[0].children[0];
              D.cmd.do("insertHTML", `<img 
                                src=` + (O == null ? void 0 : O.getAttribute("src")) + ` 
                                style=` + (O == null ? void 0 : O.getAttribute("style")) + ">");
            } else {
              var S, F = I.elems[0], $ = F.innerHTML, U = F.parentElement;
              U && (0, d.default)(S = g.EXTRA_TAG).call(S, U.nodeName) ? U.innerHTML = $ : D.cmd.do("insertHTML", "<span>" + $ + "</span>");
            }
            return true;
          } }];
          E = new m.default(A, y, T), E.create();
        }
        function v() {
          E && (E.remove(), E = null);
        }
        return { showLinkTooltip: b, hideLinkTooltip: v };
      }
      function R(A) {
        var E = w(A), b = E.showLinkTooltip, v = E.hideLinkTooltip;
        A.txt.eventHooks.linkClickEvents.push(b), A.txt.eventHooks.clickEvents.push(v), A.txt.eventHooks.keyupEvents.push(v), A.txt.eventHooks.toolbarClickEvents.push(v), A.txt.eventHooks.menuClickEvents.push(v), A.txt.eventHooks.textScrollEvents.push(v);
      }
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(23)), h2 = d.__importDefault(n(3)), m = function(g) {
        d.__extends(w, g);
        function w(R) {
          var A = this, E = h2.default(`<div class="w-e-menu" data-title="斜体">
                <i class="w-e-icon-italic"></i>
            </div>`);
          return A = g.call(this, E, R) || this, A;
        }
        return w.prototype.clickHandler = function() {
          var R = this.editor, A = R.selection.isSelectionEmpty();
          A && R.selection.createEmptyRange(), R.cmd.do("italic"), A && (R.selection.collapseRange(), R.selection.restoreSelection());
        }, w.prototype.tryChangeActive = function() {
          var R = this.editor;
          R.cmd.queryCommandState("italic") ? this.active() : this.unActive();
        }, w;
      }(c.default);
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(23)), h2 = d.__importDefault(n(3)), m = function(g) {
        d.__extends(w, g);
        function w(R) {
          var A = this, E = h2.default(`<div class="w-e-menu" data-title="下划线">
                <i class="w-e-icon-underline"></i>
            </div>`);
          return A = g.call(this, E, R) || this, A;
        }
        return w.prototype.clickHandler = function() {
          var R = this.editor, A = R.selection.isSelectionEmpty();
          A && R.selection.createEmptyRange(), R.cmd.do("underline"), A && (R.selection.collapseRange(), R.selection.restoreSelection());
        }, w.prototype.tryChangeActive = function() {
          var R = this.editor;
          R.cmd.queryCommandState("underline") ? this.active() : this.unActive();
        }, w;
      }(c.default);
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(23)), h2 = d.__importDefault(n(3)), m = function(g) {
        d.__extends(w, g);
        function w(R) {
          var A = this, E = h2.default(`<div class="w-e-menu" data-title="删除线">
                <i class="w-e-icon-strikethrough"></i>
            </div>`);
          return A = g.call(this, E, R) || this, A;
        }
        return w.prototype.clickHandler = function() {
          var R = this.editor, A = R.selection.isSelectionEmpty();
          A && R.selection.createEmptyRange(), R.cmd.do("strikeThrough"), A && (R.selection.collapseRange(), R.selection.restoreSelection());
        }, w.prototype.tryChangeActive = function() {
          var R = this.editor;
          R.cmd.queryCommandState("strikeThrough") ? this.active() : this.unActive();
        }, w;
      }(c.default);
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(24)), h2 = d.__importDefault(n(3)), m = d.__importDefault(n(330)), g = function(w) {
        d.__extends(R, w);
        function R(A) {
          var E = this, b = h2.default(`<div class="w-e-menu" data-title="字体">
                <i class="w-e-icon-font"></i>
            </div>`), v = new m.default(A.config.fontNames), y = { width: 100, title: "设置字体", type: "list", list: v.getItemList(), clickHandler: function(x) {
            E.command(x);
          } };
          return E = w.call(this, b, A, y) || this, E;
        }
        return R.prototype.command = function(A) {
          var E, b = this.editor, v = b.selection.isSelectionEmpty(), y = (E = b.selection.getSelectionContainerElem()) === null || E === void 0 ? void 0 : E.elems[0];
          if (y != null) {
            var T = (y == null ? void 0 : y.nodeName.toLowerCase()) !== "p", x = (y == null ? void 0 : y.getAttribute("face")) === A;
            if (v) {
              if (T && !x) {
                var D = b.selection.getSelectionRangeTopNodes();
                b.selection.createRangeByElem(D[0]), b.selection.moveCursor(D[0].elems[0]);
              }
              b.selection.setRangeToElem(y), b.selection.createEmptyRange();
            }
            b.cmd.do("fontName", A), v && (b.selection.collapseRange(), b.selection.restoreSelection());
          }
        }, R.prototype.tryChangeActive = function() {
        }, R;
      }(c.default);
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = function() {
        function g(w) {
          var R = this;
          this.itemList = [], (0, d.default)(w).call(w, function(A) {
            var E = typeof A == "string" ? A : A.value, b = typeof A == "string" ? A : A.name;
            R.itemList.push({ $elem: h2.default(`<p style="font-family:'` + E + `'">` + b + "</p>"), value: b });
          });
        }
        return g.prototype.getItemList = function() {
          return this.itemList;
        }, g;
      }();
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(24)), h2 = d.__importDefault(n(3)), m = d.__importDefault(n(332)), g = function(w) {
        d.__extends(R, w);
        function R(A) {
          var E = this, b = h2.default(`<div class="w-e-menu" data-title="字号">
                <i class="w-e-icon-text-heigh"></i>
            </div>`), v = new m.default(A.config.fontSizes), y = { width: 160, title: "设置字号", type: "list", list: v.getItemList(), clickHandler: function(x) {
            E.command(x);
          } };
          return E = w.call(this, b, A, y) || this, E;
        }
        return R.prototype.command = function(A) {
          var E, b = this.editor, v = b.selection.isSelectionEmpty(), y = (E = b.selection.getSelectionContainerElem()) === null || E === void 0 ? void 0 : E.elems[0];
          y != null && (b.cmd.do("fontSize", A), v && (b.selection.collapseRange(), b.selection.restoreSelection()));
        }, R.prototype.tryChangeActive = function() {
        }, R;
      }(c.default);
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = function() {
        function m(g) {
          this.itemList = [];
          for (var w in g) {
            var R = g[w];
            this.itemList.push({ $elem: c.default('<p style="font-size:' + w + '">' + R.name + "</p>"), value: R.value });
          }
        }
        return m.prototype.getItemList = function() {
          return this.itemList;
        }, m;
      }();
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(27));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(24)), g = h2.__importDefault(n(3)), w = ["LI"], R = ["BLOCKQUOTE"], A = function(E) {
        h2.__extends(b, E);
        function b(v) {
          var y = this, T = g.default('<div class="w-e-menu" data-title="对齐"><i class="w-e-icon-paragraph-left"></i></div>'), x = { width: 100, title: "对齐方式", type: "list", list: [{ $elem: g.default(`<p>
                            <i class="w-e-icon-paragraph-left w-e-drop-list-item"></i>
                            ` + v.i18next.t("menus.dropListMenu.justify.靠左") + `
                        </p>`), value: "left" }, { $elem: g.default(`<p>
                            <i class="w-e-icon-paragraph-center w-e-drop-list-item"></i>
                            ` + v.i18next.t("menus.dropListMenu.justify.居中") + `
                        </p>`), value: "center" }, { $elem: g.default(`<p>
                            <i class="w-e-icon-paragraph-right w-e-drop-list-item"></i>
                            ` + v.i18next.t("menus.dropListMenu.justify.靠右") + `
                        </p>`), value: "right" }, { $elem: g.default(`<p>
                            <i class="w-e-icon-paragraph-justify w-e-drop-list-item"></i>
                            ` + v.i18next.t("menus.dropListMenu.justify.两端") + `
                        </p>`), value: "justify" }], clickHandler: function(I) {
            y.command(I);
          } };
          return y = E.call(this, T, v, x) || this, y;
        }
        return b.prototype.command = function(v) {
          var y = this.editor, T = y.selection, x = T.getSelectionContainerElem();
          T.saveRange();
          var D = y.selection.getSelectionRangeTopNodes();
          if (x != null && x.length)
            if (this.isSpecialNode(x, D[0]) || this.isSpecialTopNode(D[0])) {
              var I = this.getSpecialNodeUntilTop(x, D[0]);
              if (I == null)
                return;
              g.default(I).css("text-align", v);
            } else
              (0, d.default)(D).call(D, function(N) {
                N.css("text-align", v);
              });
          T.restoreSelection();
        }, b.prototype.getSpecialNodeUntilTop = function(v, y) {
          for (var T = v.elems[0], x = y.elems[0]; T != null; ) {
            if ((0, c.default)(w).call(w, T == null ? void 0 : T.nodeName) !== -1 || T.parentNode === x)
              return T;
            T = T.parentNode;
          }
          return T;
        }, b.prototype.isSpecialNode = function(v, y) {
          var T = this.getSpecialNodeUntilTop(v, y);
          return T == null ? false : (0, c.default)(w).call(w, T.nodeName) !== -1;
        }, b.prototype.isSpecialTopNode = function(v) {
          var y;
          return v == null ? false : (0, c.default)(R).call(R, (y = v.elems[0]) === null || y === void 0 ? void 0 : y.nodeName) !== -1;
        }, b.prototype.tryChangeActive = function() {
        }, b;
      }(m.default);
      o.default = A;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = c.__importDefault(n(23)), g = c.__importDefault(n(335)), w = c.__importDefault(n(336)), R = n(7), A = function(E) {
        c.__extends(b, E);
        function b(v) {
          var y = this, T = h2.default(`<div class="w-e-menu" data-title="引用">
                <i class="w-e-icon-quotes-left"></i>
            </div>`);
          return y = E.call(this, T, v) || this, g.default(v), y;
        }
        return b.prototype.clickHandler = function() {
          var v, y, T = this.editor, x = T.selection.isSelectionEmpty(), D = T.selection.getSelectionRangeTopNodes(), I = D[D.length - 1], N = this.getTopNodeName();
          if (N === "BLOCKQUOTE") {
            var C = h2.default(I.childNodes()), B = C.length, O = I;
            (0, d.default)(C).call(C, function(U) {
              var L = h2.default(U);
              L.insertAfter(O), O = L;
            }), I.remove(), T.selection.moveCursor(C.elems[B - 1]), this.tryChangeActive();
          } else {
            var S = w.default(D);
            if (T.$textElem.equal(I)) {
              var F = (v = T.selection.getSelectionContainerElem()) === null || v === void 0 ? void 0 : v.elems[0];
              T.selection.createRangeByElems(F.children[0], F.children[0]), D = T.selection.getSelectionRangeTopNodes(), S = w.default(D), I.append(S);
            } else
              S.insertAfter(I);
            this.delSelectNode(D);
            var $ = (y = S.childNodes()) === null || y === void 0 ? void 0 : y.last().getNode();
            if ($ == null)
              return;
            $.textContent ? T.selection.moveCursor($) : T.selection.moveCursor($, 0), this.tryChangeActive(), h2.default(R.EMPTY_P).insertAfter(S);
            return;
          }
          x && (T.selection.collapseRange(), T.selection.restoreSelection());
        }, b.prototype.tryChangeActive = function() {
          var v, y = this.editor, T = (v = y.selection.getSelectionRangeTopNodes()[0]) === null || v === void 0 ? void 0 : v.getNodeName();
          T === "BLOCKQUOTE" ? this.active() : this.unActive();
        }, b.prototype.getTopNodeName = function() {
          var v = this.editor, y = v.selection.getSelectionRangeTopNodes()[0], T = y == null ? void 0 : y.getNodeName();
          return T;
        }, b.prototype.delSelectNode = function(v) {
          (0, d.default)(v).call(v, function(y) {
            y.remove();
          });
        }, b;
      }(m.default);
      o.default = A;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = n(7), h2 = d.__importDefault(n(3));
      function m(g) {
        function w(R) {
          var A, E = g.selection.getSelectionContainerElem(), b = g.selection.getSelectionRangeTopNodes()[0];
          if ((b == null ? void 0 : b.getNodeName()) === "BLOCKQUOTE") {
            if (E.getNodeName() === "BLOCKQUOTE") {
              var v = (A = E.childNodes()) === null || A === void 0 ? void 0 : A.getNode();
              g.selection.moveCursor(v);
            }
            if (E.text() === "") {
              R.preventDefault(), E.remove();
              var y = h2.default(c.EMPTY_P);
              y.insertAfter(b), g.selection.moveCursor(y.getNode(), 0);
            }
            b.text() === "" && b.remove();
          }
        }
        g.txt.eventHooks.enterDownEvents.push(w);
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3));
      function m(g) {
        var w = h2.default("<blockquote></blockquote>");
        return (0, d.default)(g).call(g, function(R) {
          w.append(R.clone(true));
        }), w;
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(26));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(24)), m = c.__importDefault(n(3)), g = n(6), w = function(R) {
        c.__extends(A, R);
        function A(E) {
          var b, v = this, y = m.default(`<div class="w-e-menu" data-title="背景色">
                <i class="w-e-icon-paint-brush"></i>
            </div>`), T = {
            width: 120,
            title: "背景颜色",
            type: "inline-block",
            list: (0, d.default)(b = E.config.colors).call(b, function(x) {
              return { $elem: m.default('<i style="color:' + x + ';" class="w-e-icon-paint-brush"></i>'), value: x };
            }),
            clickHandler: function(D) {
              v.command(D);
            }
          };
          return v = R.call(this, y, E, T) || this, v;
        }
        return A.prototype.command = function(E) {
          var b, v = this.editor, y = v.selection.isSelectionEmpty(), T = (b = v.selection.getSelectionContainerElem()) === null || b === void 0 ? void 0 : b.elems[0];
          if (T != null) {
            var x = (T == null ? void 0 : T.nodeName.toLowerCase()) !== "p", D = T == null ? void 0 : T.style.backgroundColor, I = g.hexToRgb(E) === D;
            if (y) {
              if (x && !I) {
                var N = v.selection.getSelectionRangeTopNodes();
                v.selection.createRangeByElem(N[0]), v.selection.moveCursor(N[0].elems[0]);
              }
              v.selection.createEmptyRange();
            }
            v.cmd.do("backColor", E), y && (v.selection.collapseRange(), v.selection.restoreSelection());
          }
        }, A.prototype.tryChangeActive = function() {
        }, A;
      }(h2.default);
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(26));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(24)), m = c.__importDefault(n(3)), g = function(w) {
        c.__extends(R, w);
        function R(A) {
          var E, b = this, v = m.default(`<div class="w-e-menu" data-title="文字颜色">
                <i class="w-e-icon-pencil2"></i>
            </div>`), y = {
            width: 120,
            title: "文字颜色",
            type: "inline-block",
            list: (0, d.default)(E = A.config.colors).call(E, function(T) {
              return { $elem: m.default('<i style="color:' + T + ';" class="w-e-icon-pencil2"></i>'), value: T };
            }),
            clickHandler: function(x) {
              b.command(x);
            }
          };
          return b = w.call(this, v, A, y) || this, b;
        }
        return R.prototype.command = function(A) {
          var E, b = this.editor, v = b.selection.isSelectionEmpty(), y = (E = b.selection.getSelectionContainerElem()) === null || E === void 0 ? void 0 : E.elems[0];
          if (y != null) {
            var T = b.selection.getSelectionText();
            if (y.nodeName === "A" && y.textContent === T) {
              var x = m.default("<span>&#8203;</span>").getNode();
              y.appendChild(x);
            }
            b.cmd.do("foreColor", A), v && (b.selection.collapseRange(), b.selection.restoreSelection());
          }
        }, R.prototype.tryChangeActive = function() {
        }, R;
      }(h2.default);
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(33)), m = d.__importDefault(n(38)), g = d.__importDefault(n(340)), w = d.__importDefault(n(346)), R = function(A) {
        d.__extends(E, A);
        function E(b) {
          var v = this, y = c.default(`<div class="w-e-menu" data-title="视频">
                <i class="w-e-icon-play"></i>
            </div>`);
          return v = A.call(this, y, b) || this, w.default(b), v;
        }
        return E.prototype.clickHandler = function() {
          this.createPanel("");
        }, E.prototype.createPanel = function(b) {
          var v = g.default(this.editor, b), y = new h2.default(this, v);
          y.create();
        }, E.prototype.tryChangeActive = function() {
        }, E;
      }(m.default);
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(17));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = n(6), m = c.__importDefault(n(3)), g = c.__importDefault(n(341)), w = n(7);
      function R(A, E) {
        var b = A.config, v = new g.default(A), y = h2.getRandom("input-iframe"), T = h2.getRandom("btn-ok"), x = h2.getRandom("input-upload"), D = h2.getRandom("btn-local-ok");
        function I(O) {
          A.cmd.do("insertHTML", O + w.EMPTY_P), A.config.onlineVideoCallback(O);
        }
        function N(O) {
          var S = A.config.onlineVideoCheck(O);
          return S === true ? true : (typeof S == "string" && A.config.customAlert(S, "error"), false);
        }
        var C = [{
          title: A.i18next.t("menus.panelMenus.video.上传视频"),
          tpl: `<div class="w-e-up-video-container">
                    <div id="` + D + `" class="w-e-up-btn">
                        <i class="w-e-icon-upload2"></i>
                    </div>
                    <div style="display:none;">
                        <input id="` + x + `" type="file" accept="video/*"/>
                    </div>
                 </div>`,
          events: [
            { selector: "#" + D, type: "click", fn: function() {
              var S = m.default("#" + x), F = S.elems[0];
              if (F)
                F.click();
              else
                return true;
            } },
            { selector: "#" + x, type: "change", fn: function() {
              var S = m.default("#" + x), F = S.elems[0];
              if (!F)
                return true;
              var $ = F.files;
              return $.length && v.uploadVideo($), true;
            } }
          ]
        }, {
          title: A.i18next.t("menus.panelMenus.video.插入视频"),
          tpl: `<div>
                    <input 
                        id="` + y + `" 
                        type="text" 
                        class="block" 
                        placeholder="` + A.i18next.t("如") + `：<iframe src=... ></iframe>"/>
                    </td>
                    <div class="w-e-button-container">
                        <button type="button" id="` + T + `" class="right">
                            ` + A.i18next.t("插入") + `
                        </button>
                    </div>
                </div>`,
          events: [
            { selector: "#" + T, type: "click", fn: function() {
              var S, F = m.default("#" + y), $ = (0, d.default)(S = F.val()).call(S);
              if (!!$ && !!N($))
                return I($), true;
            }, bindEnter: true }
          ]
        }], B = {
          width: 300,
          height: 0,
          tabs: []
        };
        return window.FileReader && (b.uploadVideoServer || b.customUploadVideo) && B.tabs.push(C[0]), b.showLinkVideo && B.tabs.push(C[1]), B;
      }
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(133)), c = l(n(57)), h2 = l(n(4)), m = l(n(27));
      (0, f.default)(o, "__esModule", { value: true });
      var g = n(2), w = n(6), R = g.__importDefault(n(135)), A = g.__importDefault(n(136)), E = n(7), b = n(6), v = function() {
        function y(T) {
          this.editor = T;
        }
        return y.prototype.uploadVideo = function(T) {
          var x = this;
          if (!!T.length) {
            var D = this.editor, I = D.config, N = "validate.", C = function(ne) {
              return D.i18next.t(N + ne);
            }, B = I.uploadVideoServer, O = I.uploadVideoMaxSize, S = O / 1024, F = I.uploadVideoName, $ = I.uploadVideoParams, U = I.uploadVideoParamsWithUrl, L = I.uploadVideoHeaders, z = I.uploadVideoHooks, Q = I.uploadVideoTimeout, J = I.withVideoCredentials, ae = I.customUploadVideo, M = I.uploadVideoAccept, V = [], K = [];
            if (w.arrForEach(T, function(fe) {
              var ne = fe.name, be = fe.size / 1024 / 1024;
              if (!(!ne || !be)) {
                if (!(M instanceof Array)) {
                  K.push("【" + M + "】" + C("uploadVideoAccept 不是Array"));
                  return;
                }
                if (!(0, d.default)(M).call(M, function(we) {
                  return we === ne.split(".")[ne.split(".").length - 1];
                })) {
                  K.push("【" + ne + "】" + C("不是视频"));
                  return;
                }
                if (S < be) {
                  K.push("【" + ne + "】" + C("大于") + " " + S + "M");
                  return;
                }
                V.push(fe);
              }
            }), K.length) {
              I.customAlert(C("视频验证未通过") + `: 
` + K.join(`
`), "warning");
              return;
            }
            if (V.length === 0) {
              I.customAlert(C("传入的文件不合法"), "warning");
              return;
            }
            if (ae && typeof ae == "function") {
              var G;
              ae(V, (0, c.default)(G = this.insertVideo).call(G, this));
              return;
            }
            var Z = new FormData();
            if ((0, h2.default)(V).call(V, function(fe, ne) {
              var be = F || fe.name;
              V.length > 1 && (be = be + (ne + 1)), Z.append(be, fe);
            }), B) {
              var ue = B.split("#");
              B = ue[0];
              var pe = ue[1] || "";
              (0, h2.default)(w).call(w, $, function(fe, ne) {
                U && ((0, m.default)(B).call(B, "?") > 0 ? B += "&" : B += "?", B = B + fe + "=" + ne), Z.append(fe, ne);
              }), pe && (B += "#" + pe);
              var ce = R.default(B, { timeout: Q, formData: Z, headers: L, withCredentials: !!J, beforeSend: function(ne) {
                if (z.before)
                  return z.before(ne, D, V);
              }, onTimeout: function(ne) {
                I.customAlert(C("上传视频超时"), "error"), z.timeout && z.timeout(ne, D);
              }, onProgress: function(ne, be) {
                var we = new A.default(D);
                be.lengthComputable && (ne = be.loaded / be.total, we.show(ne));
              }, onError: function(ne) {
                I.customAlert(C("上传视频错误"), "error", C("上传视频错误") + "，" + C("服务器返回状态") + ": " + ne.status), z.error && z.error(ne, D);
              }, onFail: function(ne, be) {
                I.customAlert(C("上传视频失败"), "error", C("上传视频返回结果错误") + ("，" + C("返回结果") + ": ") + be), z.fail && z.fail(ne, D, be);
              }, onSuccess: function(ne, be) {
                if (z.customInsert) {
                  var we;
                  z.customInsert((0, c.default)(we = x.insertVideo).call(we, x), be, D);
                  return;
                }
                if (be.errno != "0") {
                  I.customAlert(C("上传视频失败"), "error", C("上传视频返回结果错误") + "，" + C("返回结果") + " errno=" + be.errno), z.fail && z.fail(ne, D, be);
                  return;
                }
                var Re = be.data;
                x.insertVideo(Re.url), z.success && z.success(ne, D, be);
              } });
              typeof ce == "string" && I.customAlert(ce, "error");
            }
          }
        }, y.prototype.insertVideo = function(T) {
          var x = this.editor, D = x.config, I = "validate.", N = function(O, S) {
            return S === void 0 && (S = I), x.i18next.t(S + O);
          };
          if (!D.customInsertVideo)
            b.UA.isFirefox ? x.cmd.do("insertHTML", '<p data-we-video-p="true"><video src="' + T + '" controls="controls" style="max-width:100%"></video></p><p>&#8203</p>') : x.cmd.do("insertHTML", '<video src="' + T + '" controls="controls" style="max-width:100%"></video>' + E.EMPTY_P);
          else {
            D.customInsertVideo(T);
            return;
          }
          var C = document.createElement("video");
          C.onload = function() {
            C = null;
          }, C.onerror = function() {
            D.customAlert(N("插入视频错误"), "error", "wangEditor: " + N("插入视频错误") + "，" + N("视频链接") + ' "' + T + '"，' + N("下载链接失败")), C = null;
          }, C.onabort = function() {
            return C = null;
          }, C.src = T;
        }, y;
      }();
      o.default = v;
    }, function(a, o, n) {
      a.exports = n(343);
    }, function(a, o, n) {
      var l = n(344);
      a.exports = l;
    }, function(a, o, n) {
      n(345);
      var l = n(9);
      a.exports = l.Date.now;
    }, function(a, o, n) {
      var l = n(5);
      l({ target: "Date", stat: true }, { now: function() {
        return (/* @__PURE__ */ new Date()).getTime();
      } });
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(347)), h2 = d.__importDefault(n(349));
      function m(g) {
        c.default(g), h2.default(g);
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.createShowHideFn = void 0;
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(39)), m = d.__importDefault(n(348));
      function g(R) {
        var A, E = function(T, x) {
          return x === void 0 && (x = ""), R.i18next.t(x + T);
        };
        function b(y) {
          var T = [{ $elem: c.default("<span class='w-e-icon-trash-o'></span>"), onClick: function(D, I) {
            return I.remove(), true;
          } }, { $elem: c.default("<span>100%</span>"), onClick: function(D, I) {
            return I.attr("width", "100%"), I.removeAttr("height"), true;
          } }, { $elem: c.default("<span>50%</span>"), onClick: function(D, I) {
            return I.attr("width", "50%"), I.removeAttr("height"), true;
          } }, { $elem: c.default("<span>30%</span>"), onClick: function(D, I) {
            return I.attr("width", "30%"), I.removeAttr("height"), true;
          } }, { $elem: c.default("<span>" + E("重置") + "</span>"), onClick: function(D, I) {
            return I.removeAttr("width"), I.removeAttr("height"), true;
          } }, { $elem: c.default("<span>" + E("menus.justify.靠左") + "</span>"), onClick: function(D, I) {
            return m.default(I, "left"), true;
          } }, { $elem: c.default("<span>" + E("menus.justify.居中") + "</span>"), onClick: function(D, I) {
            return m.default(I, "center"), true;
          } }, { $elem: c.default("<span>" + E("menus.justify.靠右") + "</span>"), onClick: function(D, I) {
            return m.default(I, "right"), true;
          } }];
          A = new h2.default(R, y, T), A.create();
        }
        function v() {
          A && (A.remove(), A = null);
        }
        return { showVideoTooltip: b, hideVideoTooltip: v };
      }
      o.createShowHideFn = g;
      function w(R) {
        var A = g(R), E = A.showVideoTooltip, b = A.hideVideoTooltip;
        R.txt.eventHooks.videoClickEvents.push(E), R.txt.eventHooks.clickEvents.push(b), R.txt.eventHooks.keyupEvents.push(b), R.txt.eventHooks.toolbarClickEvents.push(b), R.txt.eventHooks.menuClickEvents.push(b), R.txt.eventHooks.textScrollEvents.push(b), R.txt.eventHooks.changeEvents.push(b);
      }
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(28));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3));
      function m(w, R) {
        var A = ["P"], E = g(w, A);
        E && h2.default(E).css("text-align", R);
      }
      o.default = m;
      function g(w, R) {
        for (var A, E = w.elems[0]; E != null; ) {
          if ((0, d.default)(R).call(R, E == null ? void 0 : E.nodeName))
            return E;
          if (((A = E == null ? void 0 : E.parentNode) === null || A === void 0 ? void 0 : A.nodeName) === "BODY")
            return null;
          E = E.parentNode;
        }
        return E;
      }
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(6);
      function c(h2) {
        if (!!d.UA.isFirefox) {
          var m = h2.txt, g = h2.selection, w = m.eventHooks.keydownEvents;
          w.push(function(R) {
            var A = g.getSelectionContainerElem();
            if (A) {
              var E = A.getNodeTop(h2), b = E.length && E.prev().length ? E.prev() : null;
              b && b.attr("data-we-video-p") && g.getCursorPos() === 0 && R.keyCode === 8 && b.remove();
            }
          });
        }
      }
      o.default = c;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(26));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = n(7), m = c.__importDefault(n(3)), g = c.__importDefault(n(33)), w = c.__importDefault(n(38)), R = c.__importDefault(n(351)), A = c.__importDefault(n(364)), E = function(b) {
        c.__extends(v, b);
        function v(y) {
          var T = this, x = m.default('<div class="w-e-menu" data-title="图片"><i class="w-e-icon-image"></i></div>'), D = A.default(y);
          if (D.onlyUploadConf) {
            var I;
            x = D.onlyUploadConf.$elem, (0, d.default)(I = D.onlyUploadConf.events).call(I, function(N) {
              var C = N.type, B = N.fn || h2.EMPTY_FN;
              x.on(C, function(O) {
                O.stopPropagation(), B(O);
              });
            });
          }
          return T = b.call(this, x, y) || this, T.imgPanelConfig = D, R.default(y), T;
        }
        return v.prototype.clickHandler = function() {
          this.imgPanelConfig.onlyUploadConf || this.createPanel();
        }, v.prototype.createPanel = function() {
          var y = this.imgPanelConfig, T = new g.default(this, y);
          this.setPanel(T), T.create();
        }, v.prototype.tryChangeActive = function() {
        }, v;
      }(w.default);
      o.default = E;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(352)), h2 = d.__importDefault(n(353)), m = d.__importDefault(n(354)), g = d.__importDefault(n(362)), w = d.__importDefault(n(363));
      function R(A) {
        c.default(A), h2.default(A), m.default(A), g.default(A), w.default(A);
      }
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = n(131), h2 = d.__importDefault(n(97));
      function m(A, E) {
        var b = A.config, v = b.pasteFilterStyle, y = b.pasteIgnoreImg, T = c.getPasteHtml(E, v, y);
        if (T)
          return true;
        var x = c.getPasteText(E);
        return !!x;
      }
      function g(A, E) {
        for (var b, v = ((b = E.clipboardData) === null || b === void 0 ? void 0 : b.types) || [], y = 0; y < v.length; y++) {
          var T = v[y];
          if (T === "Files")
            return true;
        }
        return false;
      }
      function w(A, E) {
        if (!(!g(E, A) && m(E, A))) {
          var b = c.getPasteImgs(A);
          if (!!b.length) {
            var v = new h2.default(E);
            v.uploadImg(b);
          }
        }
      }
      function R(A) {
        A.txt.eventHooks.pasteEvents.unshift(function(E) {
          w(E, A);
        });
      }
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(97));
      function h2(m) {
        function g(w) {
          var R = w.dataTransfer && w.dataTransfer.files;
          if (!(!R || !R.length)) {
            var A = new c.default(m);
            A.uploadImg(R);
          }
        }
        m.txt.eventHooks.dropEvents.push(g);
      }
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(29)), c = l(n(355));
      (0, f.default)(o, "__esModule", { value: true }), o.createShowHideFn = void 0;
      var h2 = n(2), m = h2.__importDefault(n(3));
      n(360);
      var g = n(6);
      function w(v, y, T, x, D) {
        v.attr("style", "width:" + y + "px; height:" + T + "px; left:" + x + "px; top:" + D + "px;");
      }
      function R(v, y) {
        var T = m.default(`<div class="w-e-img-drag-mask">
            <div class="w-e-img-drag-show-size"></div>
            <div class="w-e-img-drag-rb"></div>
         </div>`);
        return T.hide(), y.append(T), T;
      }
      function A(v, y, T) {
        var x = v.getBoundingClientRect(), D = T.getBoundingClientRect(), I = D.width.toFixed(2), N = D.height.toFixed(2);
        (0, d.default)(y).call(y, ".w-e-img-drag-show-size").text(I + "px * " + N + "px"), w(y, (0, c.default)(I), (0, c.default)(N), D.left - x.left, D.top - x.top), y.show();
      }
      function E(v) {
        var y = v.$textContainerElem, T, x = R(v, y);
        function D(C, B) {
          C.on("click", function(O) {
            O.stopPropagation();
          }), C.on("mousedown", ".w-e-img-drag-rb", function(O) {
            if (O.preventDefault(), !T)
              return;
            var S = O.clientX, F = O.clientY, $ = B.getBoundingClientRect(), U = T.getBoundingClientRect(), L = U.width, z = U.height, Q = U.left - $.left, J = U.top - $.top, ae = L / z, M = L, V = z, K = m.default(document);
            function G() {
              K.off("mousemove", Z), K.off("mouseup", ue);
            }
            function Z(pe) {
              pe.stopPropagation(), pe.preventDefault(), M = L + (pe.clientX - S), V = z + (pe.clientY - F), M / V != ae && (V = M / ae), M = (0, c.default)(M.toFixed(2)), V = (0, c.default)(V.toFixed(2)), (0, d.default)(C).call(C, ".w-e-img-drag-show-size").text(M.toFixed(2).replace(".00", "") + "px * " + V.toFixed(2).replace(".00", "") + "px"), w(C, M, V, Q, J);
            }
            K.on("mousemove", Z);
            function ue() {
              T.attr("width", M + ""), T.attr("height", V + "");
              var pe = T.getBoundingClientRect();
              w(C, M, V, pe.left - $.left, pe.top - $.top), G();
            }
            K.on("mouseup", ue), K.on("mouseleave", G);
          });
        }
        function I(C) {
          if (g.UA.isIE())
            return false;
          C && (T = C, A(y, x, T));
        }
        function N() {
          (0, d.default)(y).call(y, ".w-e-img-drag-mask").hide();
        }
        return D(x, y), m.default(document).on("click", N), v.beforeDestroy(function() {
          m.default(document).off("click", N);
        }), { showDrag: I, hideDrag: N };
      }
      o.createShowHideFn = E;
      function b(v) {
        var y = E(v), T = y.showDrag, x = y.hideDrag;
        v.txt.eventHooks.imgClickEvents.push(T), v.txt.eventHooks.textScrollEvents.push(x), v.txt.eventHooks.keyupEvents.push(x), v.txt.eventHooks.toolbarClickEvents.push(x), v.txt.eventHooks.menuClickEvents.push(x), v.txt.eventHooks.changeEvents.push(x);
      }
      o.default = b;
    }, function(a, o, n) {
      a.exports = n(356);
    }, function(a, o, n) {
      var l = n(357);
      a.exports = l;
    }, function(a, o, n) {
      n(358);
      var l = n(9);
      a.exports = l.parseFloat;
    }, function(a, o, n) {
      var l = n(5), f = n(359);
      l({ global: true, forced: parseFloat != f }, { parseFloat: f });
    }, function(a, o, n) {
      var l = n(8), f = n(90).trim, d = n(68), c = l.parseFloat, h2 = 1 / c(d + "-0") !== -1 / 0;
      a.exports = h2 ? function(g) {
        var w = f(String(g)), R = c(w);
        return R === 0 && w.charAt(0) == "-" ? -0 : R;
      } : c;
    }, function(a, o, n) {
      var l = n(20), f = n(361);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-text-container {
  overflow: hidden;
}
.w-e-img-drag-mask {
  position: absolute;
  z-index: 1;
  border: 1px dashed #ccc;
  box-sizing: border-box;
}
.w-e-img-drag-mask .w-e-img-drag-rb {
  position: absolute;
  right: -5px;
  bottom: -5px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #ccc;
  cursor: se-resize;
}
.w-e-img-drag-mask .w-e-img-drag-show-size {
  min-width: 110px;
  height: 22px;
  line-height: 22px;
  font-size: 14px;
  color: #999;
  position: absolute;
  left: 0;
  top: 0;
  background-color: #999;
  color: #fff;
  border-radius: 2px;
  padding: 0 5px;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.createShowHideFn = void 0;
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(39));
      function m(w) {
        var R, A = function(y, T) {
          return T === void 0 && (T = ""), w.i18next.t(T + y);
        };
        function E(v) {
          var y = [{ $elem: c.default("<span class='w-e-icon-trash-o'></span>"), onClick: function(x, D) {
            return x.selection.createRangeByElem(D), x.selection.restoreSelection(), x.cmd.do("delete"), true;
          } }, { $elem: c.default("<span>30%</span>"), onClick: function(x, D) {
            return D.attr("width", "30%"), D.removeAttr("height"), true;
          } }, { $elem: c.default("<span>50%</span>"), onClick: function(x, D) {
            return D.attr("width", "50%"), D.removeAttr("height"), true;
          } }, { $elem: c.default("<span>100%</span>"), onClick: function(x, D) {
            return D.attr("width", "100%"), D.removeAttr("height"), true;
          } }];
          y.push({ $elem: c.default("<span>" + A("重置") + "</span>"), onClick: function(x, D) {
            return D.removeAttr("width"), D.removeAttr("height"), true;
          } }), v.attr("data-href") && y.push({ $elem: c.default("<span>" + A("查看链接") + "</span>"), onClick: function(x, D) {
            var I = D.attr("data-href");
            return I && (I = decodeURIComponent(I), window.open(I, "_target")), true;
          } }), R = new h2.default(w, v, y), R.create();
        }
        function b() {
          R && (R.remove(), R = null);
        }
        return { showImgTooltip: E, hideImgTooltip: b };
      }
      o.createShowHideFn = m;
      function g(w) {
        var R = m(w), A = R.showImgTooltip, E = R.hideImgTooltip;
        w.txt.eventHooks.imgClickEvents.push(A), w.txt.eventHooks.clickEvents.push(E), w.txt.eventHooks.keyupEvents.push(E), w.txt.eventHooks.toolbarClickEvents.push(E), w.txt.eventHooks.menuClickEvents.push(E), w.txt.eventHooks.textScrollEvents.push(E), w.txt.eventHooks.imgDragBarMouseDownEvents.push(E), w.txt.eventHooks.changeEvents.push(E);
      }
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      function d(c) {
        var h2 = c.txt, m = c.selection, g = h2.eventHooks.keydownEvents;
        g.push(function(w) {
          var R = m.getSelectionContainerElem(), A = m.getRange();
          if (!(!A || !R || w.keyCode !== 8 || !m.isSelectionEmpty())) {
            var E = A.startContainer, b = A.startOffset, v = null;
            if (b === 0)
              for (; E !== R.elems[0] && R.elems[0].contains(E) && E.parentNode && !v; ) {
                if (E.previousSibling) {
                  v = E.previousSibling;
                  break;
                }
                E = E.parentNode;
              }
            else
              E.nodeType !== 3 && (v = E.childNodes[b - 1]);
            if (!!v) {
              for (var y = v; y.childNodes.length; )
                y = y.childNodes[y.childNodes.length - 1];
              y instanceof HTMLElement && y.tagName === "IMG" && (y.remove(), w.preventDefault());
            }
          }
        });
      }
      o.default = d;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(26)), c = l(n(17));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(3)), g = n(6), w = h2.__importDefault(n(97));
      function R(A) {
        var E, b = A.config, v = new w.default(A), y = g.getRandom("up-trigger-id"), T = g.getRandom("up-file-id"), x = g.getRandom("input-link-url"), D = g.getRandom("input-link-url-alt"), I = g.getRandom("input-link-url-href"), N = g.getRandom("btn-link"), C = "menus.panelMenus.image.", B = function(ae, M) {
          return M === void 0 && (M = C), A.i18next.t(M + ae);
        };
        function O(J, ae, M) {
          var V = b.linkImgCheck(J);
          return V === true ? true : (typeof V == "string" && b.customAlert(V, "error"), false);
        }
        var S = b.uploadImgMaxLength === 1 ? "" : 'multiple="multiple"', F = (0, d.default)(E = b.uploadImgAccept).call(E, function(J) {
          return "image/" + J;
        }).join(","), $ = function(ae, M, V) {
          return '<div class="' + ae + '" data-title="' + V + `">
            <div id="` + y + `" class="w-e-up-btn">
                <i class="` + M + `"></i>
            </div>
            <div style="display:none;">
                <input id="` + T + '" type="file" ' + S + ' accept="' + F + `"/>
            </div>
        </div>`;
        }, U = [
          { selector: "#" + y, type: "click", fn: function() {
            var ae = b.uploadImgFromMedia;
            if (ae && typeof ae == "function")
              return ae(), true;
            var M = m.default("#" + T), V = M.elems[0];
            if (V)
              V.click();
            else
              return true;
          } },
          { selector: "#" + T, type: "change", fn: function() {
            var ae = m.default("#" + T), M = ae.elems[0];
            if (!M)
              return true;
            var V = M.files;
            return V != null && V.length && v.uploadImg(V), M && (M.value = ""), true;
          } }
        ], L = [`<input
            id="` + x + `"
            type="text"
            class="block"
            placeholder="` + B("图片地址") + '"/>'];
        b.showLinkImgAlt && L.push(`
        <input
            id="` + D + `"
            type="text"
            class="block"
            placeholder="` + B("图片文字说明") + '"/>'), b.showLinkImgHref && L.push(`
        <input
            id="` + I + `"
            type="text"
            class="block"
            placeholder="` + B("跳转链接") + '"/>');
        var z = [
          {
            title: B("上传图片"),
            tpl: $("w-e-up-img-container", "w-e-icon-upload2", ""),
            events: U
          },
          { title: B("网络图片"), tpl: `<div>
                    ` + L.join("") + `
                    <div class="w-e-button-container">
                        <button type="button" id="` + N + '" class="right">' + B("插入", "") + `</button>
                    </div>
                </div>`, events: [{ selector: "#" + N, type: "click", fn: function() {
            var ae, M = m.default("#" + x), V = (0, c.default)(ae = M.val()).call(ae);
            if (!!V) {
              var K;
              if (b.showLinkImgAlt) {
                var G;
                K = (0, c.default)(G = m.default("#" + D).val()).call(G);
              }
              var Z;
              if (b.showLinkImgHref) {
                var ue;
                Z = (0, c.default)(ue = m.default("#" + I).val()).call(ue);
              }
              if (!!O(V))
                return v.insertImg(V, K, Z), true;
            }
          }, bindEnter: true }] }
        ], Q = { width: 300, height: 0, tabs: [], onlyUploadConf: { $elem: m.default($("w-e-menu", "w-e-icon-image", "图片")), events: U } };
        return window.FileReader && (b.uploadImgShowBase64 || b.uploadImgServer || b.customUploadImg || b.uploadImgFromMedia) && Q.tabs.push(z[0]), b.showLinkImg && (Q.tabs.push(z[1]), Q.onlyUploadConf = void 0), Q;
      }
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = c.__importDefault(n(24)), g = c.__importDefault(n(366)), w = function(R) {
        c.__extends(A, R);
        function A(E) {
          var b = this, v = h2.default(`<div class="w-e-menu" data-title="缩进">
                <i class="w-e-icon-indent-increase"></i>
            </div>`), y = { width: 130, title: "设置缩进", type: "list", list: [{ $elem: h2.default(`<p>
                            <i class="w-e-icon-indent-increase w-e-drop-list-item"></i>
                            ` + E.i18next.t("menus.dropListMenu.indent.增加缩进") + `
                        <p>`), value: "increase" }, { $elem: h2.default(`<p>
                            <i class="w-e-icon-indent-decrease w-e-drop-list-item"></i>
                            ` + E.i18next.t("menus.dropListMenu.indent.减少缩进") + `
                        <p>`), value: "decrease" }], clickHandler: function(x) {
            b.command(x);
          } };
          return b = R.call(this, v, E, y) || this, b;
        }
        return A.prototype.command = function(E) {
          var b = this.editor, v = b.selection.getSelectionContainerElem();
          if (v && b.$textElem.equal(v)) {
            var y = b.selection.getSelectionRangeTopNodes();
            y.length > 0 && (0, d.default)(y).call(y, function(T) {
              g.default(h2.default(T), E, b);
            });
          } else
            v && v.length > 0 && (0, d.default)(v).call(v, function(T) {
              g.default(h2.default(T), E, b);
            });
          b.selection.restoreSelection(), this.tryChangeActive();
        }, A.prototype.tryChangeActive = function() {
          var E = this.editor, b = E.selection.getSelectionStartElem(), v = h2.default(b).getNodeTop(E);
          v.length <= 0 || (v.elems[0].style.paddingLeft != "" ? this.active() : this.unActive());
        }, A;
      }(m.default);
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(45)), c = l(n(17));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(367)), g = h2.__importDefault(n(368)), w = /^(\d+)(\w+)$/, R = /^(\d+)%$/;
      function A(b) {
        var v = b.config.indentation;
        if (typeof v == "string") {
          if (w.test(v)) {
            var y, T = (0, d.default)(y = (0, c.default)(v).call(v).match(w)).call(y, 1, 3), x = T[0], D = T[1];
            return { value: Number(x), unit: D };
          } else if (R.test(v))
            return { value: Number((0, c.default)(v).call(v).match(R)[1]), unit: "%" };
        } else if (v.value !== void 0 && v.unit)
          return v;
        return { value: 2, unit: "em" };
      }
      function E(b, v, y) {
        var T = b.getNodeTop(y), x = /^(P|H[0-9]*)$/;
        x.test(T.getNodeName()) && (v === "increase" ? m.default(T, A(y)) : v === "decrease" && g.default(T, A(y)));
      }
      o.default = E;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(45));
      (0, f.default)(o, "__esModule", { value: true });
      function c(h2, m) {
        var g = h2.elems[0];
        if (g.style.paddingLeft === "")
          h2.css("padding-left", m.value + m.unit);
        else {
          var w = g.style.paddingLeft, R = (0, d.default)(w).call(w, 0, w.length - m.unit.length), A = Number(R) + m.value;
          h2.css("padding-left", "" + A + m.unit);
        }
      }
      o.default = c;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(45));
      (0, f.default)(o, "__esModule", { value: true });
      function c(h2, m) {
        var g = h2.elems[0];
        if (g.style.paddingLeft !== "") {
          var w = g.style.paddingLeft, R = (0, d.default)(w).call(w, 0, w.length - m.unit.length), A = Number(R) - m.value;
          A > 0 ? h2.css("padding-left", "" + A + m.unit) : h2.css("padding-left", "");
        }
      }
      o.default = c;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(38)), m = d.__importDefault(n(33)), g = d.__importDefault(n(370)), w = function(R) {
        d.__extends(A, R);
        function A(E) {
          var b = this, v = c.default(`<div class="w-e-menu" data-title="表情">
                <i class="w-e-icon-happy"></i>
            </div>`);
          return b = R.call(this, v, E) || this, b;
        }
        return A.prototype.createPanel = function() {
          var E = g.default(this.editor), b = new m.default(this, E);
          b.create();
        }, A.prototype.clickHandler = function() {
          this.createPanel();
        }, A.prototype.tryChangeActive = function() {
        }, A;
      }(h2.default);
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(26)), c = l(n(70)), h2 = l(n(17));
      (0, f.default)(o, "__esModule", { value: true });
      var m = n(2), g = m.__importDefault(n(3));
      function w(R) {
        var A = R.config.emotions;
        function E(y) {
          var T = [];
          if (y.type == "image") {
            var x;
            T = (0, d.default)(x = y.content).call(x, function(I) {
              return typeof I == "string" ? "" : '<span  title="' + I.alt + `">
                    <img class="eleImg" data-emoji="` + I.alt + '" style src="' + I.src + '" alt="[' + I.alt + `]">
                </span>`;
            }), T = (0, c.default)(T).call(T, function(I) {
              return I !== "";
            });
          } else {
            var D;
            T = (0, d.default)(D = y.content).call(D, function(I) {
              return '<span class="eleImg" title="' + I + '">' + I + "</span>";
            });
          }
          return T.join("").replace(/&nbsp;/g, "");
        }
        var b = (0, d.default)(A).call(A, function(y) {
          return {
            title: R.i18next.t("menus.panelMenus.emoticon." + y.title),
            tpl: "<div>" + E(y) + "</div>",
            events: [{ selector: ".eleImg", type: "click", fn: function(x) {
              var D = g.default(x.target), I = D.getNodeName(), N;
              if (I === "IMG") {
                var C;
                N = (0, h2.default)(C = D.parent().html()).call(C);
              } else
                N = "<span>" + D.html() + "</span>";
              return R.cmd.do("insertHTML", N), true;
            } }]
          };
        }), v = { width: 300, height: 230, tabs: b };
        return v;
      }
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.createListHandle = o.ClassType = void 0;
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(372)), m = d.__importDefault(n(374)), g = d.__importDefault(n(375)), w = d.__importDefault(n(376)), R = d.__importDefault(n(377)), A;
      (function(y) {
        y.Wrap = "WrapListHandle", y.Join = "JoinListHandle", y.StartJoin = "StartJoinListHandle", y.EndJoin = "EndJoinListHandle", y.Other = "OtherListHandle";
      })(A = o.ClassType || (o.ClassType = {}));
      var E = { WrapListHandle: h2.default, JoinListHandle: m.default, StartJoinListHandle: g.default, EndJoinListHandle: w.default, OtherListHandle: R.default };
      function b(y, T, x) {
        if (y === A.Other && x === void 0)
          throw new Error("other 类需要传入 range");
        return y !== A.Other ? new E[y](T) : new E[y](T, x);
      }
      o.createListHandle = b;
      var v = function() {
        function y(T) {
          this.handle = T, this.handle.exec();
        }
        return y.prototype.getSelectionRangeElem = function() {
          return c.default(this.handle.selectionRangeElem.get());
        }, y;
      }();
      o.default = v;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = n(58), g = n(47), w = function(R) {
        c.__extends(A, R);
        function A(E) {
          return R.call(this, E) || this;
        }
        return A.prototype.exec = function() {
          var E = this.options, b = E.listType, v = E.listTarget, y = E.$selectionElem, T = E.$startElem, x = E.$endElem, D, I = [], N = y == null ? void 0 : y.getNodeName(), C = T.prior, B = x.prior;
          if (!T.prior && !x.prior || !(C != null && C.prev().length) && !(B != null && B.next().length)) {
            var O;
            (0, d.default)(O = y == null ? void 0 : y.children()).call(O, function(Q) {
              I.push(h2.default(Q));
            }), N === b ? D = g.createElementFragment(
              I,
              g.createDocumentFragment(),
              "p"
            ) : (D = g.createElement(v), (0, d.default)(I).call(I, function(Q) {
              D.appendChild(Q.elems[0]);
            })), this.selectionRangeElem.set(D), g.insertBefore(y, D, y.elems[0]), y.remove();
          } else {
            for (var S = C; S.length; )
              I.push(S), B != null && B.equal(S) ? S = h2.default(void 0) : S = S.next();
            var F = C.prev(), $ = B.next();
            if (N === b ? D = g.createElementFragment(
              I,
              g.createDocumentFragment(),
              "p"
            ) : (D = g.createElement(v), (0, d.default)(I).call(I, function(Q) {
              D.append(Q.elems[0]);
            })), F.length && $.length) {
              for (var U = []; $.length; )
                U.push($), $ = $.next();
              var L = g.createElement(N);
              (0, d.default)(U).call(U, function(Q) {
                L.append(Q.elems[0]);
              }), h2.default(L).insertAfter(y), this.selectionRangeElem.set(D);
              var z = y.next();
              z.length ? g.insertBefore(y, D, z.elems[0]) : y.parent().elems[0].append(D);
            } else if (!F.length)
              this.selectionRangeElem.set(D), g.insertBefore(y, D, y.elems[0]);
            else {
              this.selectionRangeElem.set(D);
              var z = y.next();
              z.length ? g.insertBefore(y, D, z.elems[0]) : y.parent().elems[0].append(D);
            }
          }
        }, A;
      }(m.ListHandle);
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = function() {
        function h2() {
          this._element = null;
        }
        return h2.prototype.set = function(m) {
          if (m instanceof DocumentFragment) {
            var g, w = [];
            (0, d.default)(g = m.childNodes).call(g, function(R) {
              w.push(R);
            }), m = w;
          }
          this._element = m;
        }, h2.prototype.get = function() {
          return this._element;
        }, h2.prototype.clear = function() {
          this._element = null;
        }, h2;
      }();
      o.default = c;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = n(58), g = n(47), w = function(R) {
        c.__extends(A, R);
        function A(E) {
          return R.call(this, E) || this;
        }
        return A.prototype.exec = function() {
          var E, b, v, y, T, x, D, I = this.options, N = I.editor, C = I.listType, B = I.listTarget, O = I.$startElem, S = I.$endElem, F, $ = N.selection.getSelectionRangeTopNodes(), U = O == null ? void 0 : O.getNodeName(), L = S == null ? void 0 : S.getNodeName();
          if (U === L)
            if ($.length > 2)
              if ($.shift(), $.pop(), F = g.createElementFragment(
                g.filterSelectionNodes($),
                g.createDocumentFragment()
              ), U === C)
                (E = S.children()) === null || E === void 0 || (0, d.default)(E).call(E, function(pe) {
                  F.append(pe);
                }), S.remove(), this.selectionRangeElem.set(F), O.elems[0].append(F);
              else {
                for (var z = document.createDocumentFragment(), Q = document.createDocumentFragment(), J = g.getStartPoint(O); J.length; ) {
                  var ae = J.elems[0];
                  J = J.next(), z.append(ae);
                }
                for (var M = g.getEndPoint(S), V = []; M.length; )
                  V.unshift(M.elems[0]), M = M.prev();
                (0, d.default)(V).call(V, function(pe) {
                  Q.append(pe);
                });
                var K = g.createElement(B);
                K.append(z), K.append(F), K.append(Q), F = K, this.selectionRangeElem.set(F), h2.default(K).insertAfter(O), !(!((b = O.children()) === null || b === void 0) && b.length) && O.remove(), !(!((v = S.children()) === null || v === void 0) && v.length) && S.remove();
              }
            else {
              $.length = 0;
              for (var J = g.getStartPoint(O); J.length; )
                $.push(J), J = J.next();
              for (var M = g.getEndPoint(S), V = []; M.length; )
                V.unshift(M), M = M.prev();
              $.push.apply($, V), U === C ? (F = g.createElementFragment($, g.createDocumentFragment(), "p"), this.selectionRangeElem.set(F), g.insertBefore(O, F, S.elems[0])) : (F = g.createElement(B), (0, d.default)($).call($, function(ne) {
                F.append(ne.elems[0]);
              }), this.selectionRangeElem.set(F), h2.default(F).insertAfter(O)), !(!((y = O.children()) === null || y === void 0) && y.length) && S.remove(), !(!((T = S.children()) === null || T === void 0) && T.length) && S.remove();
            }
          else {
            for (var G = [], M = g.getEndPoint(S); M.length; )
              G.unshift(M), M = M.prev();
            for (var Z = [], J = g.getStartPoint(O); J.length; )
              Z.push(J), J = J.next();
            if (F = g.createDocumentFragment(), $.shift(), $.pop(), (0, d.default)(Z).call(Z, function(fe) {
              return F.append(fe.elems[0]);
            }), F = g.createElementFragment(
              g.filterSelectionNodes($),
              F
            ), (0, d.default)(G).call(G, function(fe) {
              return F.append(fe.elems[0]);
            }), this.selectionRangeElem.set(F), U === C)
              O.elems[0].append(F), !(!((x = S.children()) === null || x === void 0) && x.length) && S.remove();
            else if (!((D = S.children()) === null || D === void 0) && D.length) {
              var ue = S.children();
              g.insertBefore(ue, F, ue.elems[0]);
            } else
              S.elems[0].append(F);
          }
        }, A;
      }(m.ListHandle);
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = n(58), g = n(47), w = function(R) {
        c.__extends(A, R);
        function A(E) {
          return R.call(this, E) || this;
        }
        return A.prototype.exec = function() {
          var E, b = this.options, v = b.editor, y = b.listType, T = b.listTarget, x = b.$startElem, D, I = v.selection.getSelectionRangeTopNodes(), N = x == null ? void 0 : x.getNodeName();
          I.shift();
          for (var C = [], B = g.getStartPoint(x); B.length; )
            C.push(B), B = B.next();
          N === y ? (D = g.createDocumentFragment(), (0, d.default)(C).call(C, function(O) {
            return D.append(O.elems[0]);
          }), D = g.createElementFragment(
            g.filterSelectionNodes(I),
            D
          ), this.selectionRangeElem.set(D), x.elems[0].append(D)) : (D = g.createElement(T), (0, d.default)(C).call(C, function(O) {
            return D.append(O.elems[0]);
          }), D = g.createElementFragment(
            g.filterSelectionNodes(I),
            D
          ), this.selectionRangeElem.set(D), h2.default(D).insertAfter(x), !(!((E = x.children()) === null || E === void 0) && E.length) && x.remove());
        }, A;
      }(m.ListHandle);
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = n(58), g = n(47), w = function(R) {
        c.__extends(A, R);
        function A(E) {
          return R.call(this, E) || this;
        }
        return A.prototype.exec = function() {
          var E, b, v = this.options, y = v.editor, T = v.listType, x = v.listTarget, D = v.$endElem, I, N = y.selection.getSelectionRangeTopNodes(), C = D == null ? void 0 : D.getNodeName();
          N.pop();
          for (var B = [], O = g.getEndPoint(D); O.length; )
            B.unshift(O), O = O.prev();
          if (C === T)
            if (I = g.createElementFragment(
              g.filterSelectionNodes(N),
              g.createDocumentFragment()
            ), (0, d.default)(B).call(B, function($) {
              return I.append($.elems[0]);
            }), this.selectionRangeElem.set(I), !((E = D.children()) === null || E === void 0) && E.length) {
              var S = D.children();
              g.insertBefore(S, I, S.elems[0]);
            } else
              D.elems[0].append(I);
          else {
            var F = g.filterSelectionNodes(N);
            F.push.apply(F, B), I = g.createElementFragment(
              F,
              g.createElement(x)
            ), this.selectionRangeElem.set(I), h2.default(I).insertBefore(D), !(!((b = D.children()) === null || b === void 0) && b.length) && D.remove();
          }
        }, A;
      }(m.ListHandle);
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = n(58), h2 = n(47), m = function(g) {
        d.__extends(w, g);
        function w(R, A) {
          var E = g.call(this, R) || this;
          return E.range = A, E;
        }
        return w.prototype.exec = function() {
          var R = this.options, A = R.editor, E = R.listTarget, b = A.selection.getSelectionRangeTopNodes(), v = h2.createElementFragment(
            h2.filterSelectionNodes(b),
            h2.createElement(E)
          );
          this.selectionRangeElem.set(v), this.range.insertNode(v);
        }, w;
      }(c.ListHandle);
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(27));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(24)), g = h2.__importDefault(n(3)), w = h2.__importDefault(n(379)), R = function(A) {
        h2.__extends(E, A);
        function E(b) {
          var v = this, y = g.default(`<div class="w-e-menu" data-title="行高">
                    <i class="w-e-icon-row-height"></i>
                </div>`), T = new w.default(b, b.config.lineHeights), x = { width: 100, title: "设置行高", type: "list", list: T.getItemList(), clickHandler: function(I) {
            b.selection.saveRange(), v.command(I);
          } };
          return v = A.call(this, y, b, x) || this, v;
        }
        return E.prototype.command = function(b) {
          var v = this.editor;
          v.selection.restoreSelection();
          var y = g.default(v.selection.getSelectionContainerElem());
          if (!!y.elems.length) {
            if (y && v.$textElem.equal(y)) {
              for (var T = false, x = g.default(v.selection.getSelectionStartElem()).elems[0], D = g.default(v.selection.getSelectionEndElem()).elems[0], I = this.getDom(x), N = this.getDom(D), C = y.elems[0].children, B = 0; B < C.length; B++) {
                var O = C[B];
                if (g.default(O).getNodeName() === "P" && (O === I && (T = true), T && (g.default(O).css("line-height", b), O === N))) {
                  T = false;
                  return;
                }
              }
              v.selection.createRangeByElems(x, D);
              return;
            }
            var S = y.elems[0], F = this.getDom(S);
            g.default(F).getNodeName() === "P" && (g.default(F).css("line-height", b), v.selection.createRangeByElems(F, F));
          }
        }, E.prototype.getDom = function(b) {
          var v = g.default(b).elems[0];
          if (!v.parentNode)
            return v;
          function y(T, x) {
            var D = g.default(T.parentNode);
            return x.$textElem.equal(D) ? T : y(D.elems[0], x);
          }
          return v = y(v, this.editor), v;
        }, E.prototype.styleProcessing = function(b) {
          var v = "";
          return (0, d.default)(b).call(b, function(y) {
            y !== "" && (0, c.default)(y).call(y, "line-height") === -1 && (v = v + y + ";");
          }), v;
        }, E.prototype.setRange = function(b, v) {
          var y = this.editor, T = window.getSelection ? window.getSelection() : document.getSelection();
          T == null || T.removeAllRanges();
          var x = document.createRange(), D = b, I = v;
          x.setStart(D, 0), x.setEnd(I, 1), T == null || T.addRange(x), y.selection.saveRange(), T == null || T.removeAllRanges(), y.selection.restoreSelection();
        }, E.prototype.tryChangeActive = function() {
          var b = this.editor, v = b.selection.getSelectionContainerElem();
          if (!(v && b.$textElem.equal(v))) {
            var y = g.default(b.selection.getSelectionStartElem());
            if (y.length !== 0) {
              y = this.getDom(y.elems[0]);
              var T = y.getAttribute("style") ? y.getAttribute("style") : "";
              T && (0, c.default)(T).call(T, "line-height") !== -1 ? this.active() : this.unActive();
            }
          }
        }, E;
      }(m.default);
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = function() {
        function g(w, R) {
          var A = this;
          this.itemList = [{ $elem: h2.default("<span>" + w.i18next.t("默认") + "</span>"), value: "" }], (0, d.default)(R).call(R, function(E) {
            A.itemList.push({ $elem: h2.default("<span>" + E + "</span>"), value: E });
          });
        }
        return g.prototype.getItemList = function() {
          return this.itemList;
        }, g;
      }();
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(23)), m = function(g) {
        d.__extends(w, g);
        function w(R) {
          var A = this, E = c.default(`<div class="w-e-menu" data-title="撤销">
                <i class="w-e-icon-undo"></i>
            </div>`);
          return A = g.call(this, E, R) || this, A;
        }
        return w.prototype.clickHandler = function() {
          var R = this.editor;
          R.history.revoke();
          var A = R.$textElem.children();
          if (!!(A != null && A.length)) {
            var E = A.last();
            R.selection.createRangeByElem(E, false, true), R.selection.restoreSelection();
          }
        }, w.prototype.tryChangeActive = function() {
          this.editor.isCompatibleMode || (this.editor.history.size[0] ? this.active() : this.unActive());
        }, w;
      }(h2.default);
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(23)), m = function(g) {
        d.__extends(w, g);
        function w(R) {
          var A = this, E = c.default(`<div class="w-e-menu" data-title="恢复">
                <i class="w-e-icon-redo"></i>
            </div>`);
          return A = g.call(this, E, R) || this, A;
        }
        return w.prototype.clickHandler = function() {
          var R = this.editor;
          R.history.restore();
          var A = R.$textElem.children();
          if (!!(A != null && A.length)) {
            var E = A.last();
            R.selection.createRangeByElem(E, false, true), R.selection.restoreSelection();
          }
        }, w.prototype.tryChangeActive = function() {
          this.editor.isCompatibleMode || (this.editor.history.size[1] ? this.active() : this.unActive());
        }, w;
      }(h2.default);
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(38)), h2 = d.__importDefault(n(3)), m = d.__importDefault(n(383)), g = d.__importDefault(n(33)), w = d.__importDefault(n(392)), R = function(A) {
        d.__extends(E, A);
        function E(b) {
          var v = this, y = h2.default('<div class="w-e-menu" data-title="表格"><i class="w-e-icon-table2"></i></div>');
          return v = A.call(this, y, b) || this, w.default(b), v;
        }
        return E.prototype.clickHandler = function() {
          this.createPanel();
        }, E.prototype.createPanel = function() {
          var b = m.default(this.editor), v = new g.default(this, b);
          v.create();
        }, E.prototype.tryChangeActive = function() {
        }, E;
      }(c.default);
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(384));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = n(6), m = c.__importDefault(n(3));
      n(389);
      var g = c.__importDefault(n(391));
      function w(A) {
        return A > 0 && (0, d.default)(A);
      }
      function R(A) {
        var E = new g.default(A), b = h2.getRandom("w-col-id"), v = h2.getRandom("w-row-id"), y = h2.getRandom("btn-link"), T = "menus.panelMenus.table.", x = function(C) {
          return A.i18next.t(C);
        }, D = [{ title: x(T + "插入表格"), tpl: `<div>
                    <div class="w-e-table">
                        <span>` + x("创建") + `</span>
                        <input id="` + v + `"  type="text" class="w-e-table-input" value="5"/></td>
                        <span>` + x(T + "行") + `</span>
                        <input id="` + b + `" type="text" class="w-e-table-input" value="5"/></td>
                        <span>` + (x(T + "列") + x(T + "的") + x(T + "表格")) + `</span>
                    </div>
                    <div class="w-e-button-container">
                        <button type="button" id="` + y + '" class="right">' + x("插入") + `</button>
                    </div>
                </div>`, events: [{ selector: "#" + y, type: "click", fn: function() {
          var C = Number(m.default("#" + b).val()), B = Number(m.default("#" + v).val());
          return w(B) && w(C) ? (E.createAction(B, C), true) : (A.config.customAlert("表格行列请输入正整数", "warning"), false);
        }, bindEnter: true }] }], I = { width: 330, height: 0, tabs: [] };
        return I.tabs.push(D[0]), I;
      }
      o.default = R;
    }, function(a, o, n) {
      a.exports = n(385);
    }, function(a, o, n) {
      var l = n(386);
      a.exports = l;
    }, function(a, o, n) {
      n(387);
      var l = n(9);
      a.exports = l.Number.isInteger;
    }, function(a, o, n) {
      var l = n(5), f = n(388);
      l({ target: "Number", stat: true }, { isInteger: f });
    }, function(a, o, n) {
      var l = n(13), f = Math.floor;
      a.exports = function(c) {
        return !l(c) && isFinite(c) && f(c) === c;
      };
    }, function(a, o, n) {
      var l = n(20), f = n(390);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-table {
  display: flex;
}
.w-e-table .w-e-table-input {
  width: 40px;
  text-align: center!important;
  margin: 0 5px;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = n(7), h2 = d.__importDefault(n(3)), m = function() {
        function g(w) {
          this.editor = w;
        }
        return g.prototype.createAction = function(w, R) {
          var A = this.editor, E = h2.default(A.selection.getSelectionContainerElem()), b = h2.default(E.elems[0]).parentUntilEditor("UL", A), v = h2.default(E.elems[0]).parentUntilEditor("OL", A);
          if (!(b || v)) {
            var y = this.createTableHtml(w, R);
            A.cmd.do("insertHTML", y);
          }
        }, g.prototype.createTableHtml = function(w, R) {
          for (var A = "", E = "", b = 0; b < w; b++) {
            E = "";
            for (var v = 0; v < R; v++)
              b === 0 ? E = E + "<th></th>" : E = E + "<td></td>";
            A = A + "<tr>" + E + "</tr>";
          }
          var y = '<table border="0" width="100%" cellpadding="0" cellspacing="0"><tbody>' + A + ("</tbody></table>" + c.EMPTY_P);
          return y;
        }, g;
      }();
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(393)), h2 = n(400);
      function m(g) {
        c.default(g), h2.bindEventKeyboardEvent(g), h2.bindClickEvent(g);
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(39)), m = d.__importDefault(n(394)), g = d.__importDefault(n(399)), w = n(7);
      function R(v) {
        var y;
        function T(D) {
          var I = new g.default(v), N = "menus.panelMenus.table.", C = function(S, F) {
            return F === void 0 && (F = N), v.i18next.t(F + S);
          }, B = [{
            $elem: c.default("<span>" + C("删除表格") + "</span>"),
            onClick: function(S, F) {
              return S.selection.createRangeByElem(F), S.selection.restoreSelection(), S.cmd.do("insertHTML", w.EMPTY_P), true;
            }
          }, { $elem: c.default("<span>" + C("添加行") + "</span>"), onClick: function(S, F) {
            var $ = A(S);
            if ($)
              return true;
            var U = c.default(S.selection.getSelectionStartElem()), L = I.getRowNode(U.elems[0]);
            if (!L)
              return true;
            var z = Number(I.getCurrentRowIndex(F.elems[0], L)), Q = I.getTableHtml(F.elems[0]), J = I.getTableHtml(m.default.ProcessingRow(c.default(Q), z).elems[0]);
            return J = b(F, J), S.selection.createRangeByElem(F), S.selection.restoreSelection(), S.cmd.do("insertHTML", J), true;
          } }, { $elem: c.default("<span>" + C("删除行") + "</span>"), onClick: function(S, F) {
            var $ = A(S);
            if ($)
              return true;
            var U = c.default(S.selection.getSelectionStartElem()), L = I.getRowNode(U.elems[0]);
            if (!L)
              return true;
            var z = Number(I.getCurrentRowIndex(F.elems[0], L)), Q = I.getTableHtml(F.elems[0]), J = m.default.DeleteRow(c.default(Q), z).elems[0].children[0].children.length, ae = "";
            return S.selection.createRangeByElem(F), S.selection.restoreSelection(), J === 0 ? ae = w.EMPTY_P : ae = I.getTableHtml(m.default.DeleteRow(c.default(Q), z).elems[0]), ae = b(F, ae), S.cmd.do("insertHTML", ae), true;
          } }, { $elem: c.default("<span>" + C("添加列") + "</span>"), onClick: function(S, F) {
            var $ = A(S);
            if ($)
              return true;
            var U = c.default(S.selection.getSelectionStartElem()), L = I.getCurrentColIndex(U.elems[0]), z = I.getTableHtml(F.elems[0]), Q = I.getTableHtml(m.default.ProcessingCol(c.default(z), L).elems[0]);
            return Q = b(F, Q), S.selection.createRangeByElem(F), S.selection.restoreSelection(), S.cmd.do("insertHTML", Q), true;
          } }, { $elem: c.default("<span>" + C("删除列") + "</span>"), onClick: function(S, F) {
            var $ = A(S);
            if ($)
              return true;
            var U = c.default(S.selection.getSelectionStartElem()), L = I.getCurrentColIndex(U.elems[0]), z = I.getTableHtml(F.elems[0]), Q = m.default.DeleteCol(c.default(z), L), J = Q.elems[0].children[0].children[0].children.length, ae = "";
            return S.selection.createRangeByElem(F), S.selection.restoreSelection(), J === 0 ? ae = w.EMPTY_P : ae = I.getTableHtml(Q.elems[0]), ae = b(F, ae), S.cmd.do("insertHTML", ae), true;
          } }, { $elem: c.default("<span>" + C("设置表头") + "</span>"), onClick: function(S, F) {
            var $ = A(S);
            if ($)
              return true;
            var U = c.default(S.selection.getSelectionStartElem()), L = I.getRowNode(U.elems[0]);
            if (!L)
              return true;
            var z = Number(I.getCurrentRowIndex(F.elems[0], L));
            z !== 0 && (z = 0);
            var Q = I.getTableHtml(F.elems[0]), J = I.getTableHtml(m.default.setTheHeader(c.default(Q), z, "th").elems[0]);
            return J = b(F, J), S.selection.createRangeByElem(F), S.selection.restoreSelection(), S.cmd.do("insertHTML", J), true;
          } }, { $elem: c.default("<span>" + C("取消表头") + "</span>"), onClick: function(S, F) {
            var $ = c.default(S.selection.getSelectionStartElem()), U = I.getRowNode($.elems[0]);
            if (!U)
              return true;
            var L = Number(I.getCurrentRowIndex(F.elems[0], U));
            L !== 0 && (L = 0);
            var z = I.getTableHtml(F.elems[0]), Q = I.getTableHtml(m.default.setTheHeader(c.default(z), L, "td").elems[0]);
            return Q = b(F, Q), S.selection.createRangeByElem(F), S.selection.restoreSelection(), S.cmd.do("insertHTML", Q), true;
          } }];
          y = new h2.default(v, D, B), y.create();
        }
        function x() {
          y && (y.remove(), y = null);
        }
        return { showTableTooltip: T, hideTableTooltip: x };
      }
      function A(v) {
        var y = v.selection.getSelectionStartElem(), T = v.selection.getSelectionEndElem();
        return (y == null ? void 0 : y.elems[0]) !== (T == null ? void 0 : T.elems[0]);
      }
      function E(v) {
        var y = R(v), T = y.showTableTooltip, x = y.hideTableTooltip;
        v.txt.eventHooks.tableClickEvents.push(T), v.txt.eventHooks.clickEvents.push(x), v.txt.eventHooks.keyupEvents.push(x), v.txt.eventHooks.toolbarClickEvents.push(x), v.txt.eventHooks.menuClickEvents.push(x), v.txt.eventHooks.textScrollEvents.push(x);
      }
      o.default = E;
      function b(v, y) {
        var T = v.elems[0].nextSibling;
        return (!T || T.innerHTML === "<br>") && (y += "" + w.EMPTY_P), y;
      }
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(45)), c = l(n(91)), h2 = l(n(4)), m = l(n(138));
      (0, f.default)(o, "__esModule", { value: true });
      var g = n(2), w = g.__importDefault(n(3));
      function R(x, D) {
        for (var I = T(x), N = (0, d.default)(Array.prototype).apply(I.children), C = N[0].children.length, B = document.createElement("tr"), O = 0; O < C; O++) {
          var S = document.createElement("td");
          B.appendChild(S);
        }
        return (0, c.default)(N).call(N, D + 1, 0, B), y(I, N), w.default(I.parentNode);
      }
      function A(x, D) {
        for (var I = T(x), N = (0, d.default)(Array.prototype).apply(I.children), C = function(S) {
          var F, $ = [];
          for ((0, h2.default)(F = (0, m.default)(N[S].children)).call(F, function(z) {
            $.push(z);
          }); N[S].children.length !== 0; )
            N[S].removeChild(N[S].children[0]);
          var U = w.default($[0]).getNodeName() !== "TH" ? document.createElement("td") : document.createElement("th");
          (0, c.default)($).call($, D + 1, 0, U);
          for (var L = 0; L < $.length; L++)
            N[S].appendChild($[L]);
        }, B = 0; B < N.length; B++)
          C(B);
        return y(I, N), w.default(I.parentNode);
      }
      function E(x, D) {
        var I = T(x), N = (0, d.default)(Array.prototype).apply(I.children);
        return (0, c.default)(N).call(N, D, 1), y(I, N), w.default(I.parentNode);
      }
      function b(x, D) {
        for (var I = T(x), N = (0, d.default)(Array.prototype).apply(I.children), C = function(S) {
          var F, $ = [];
          for ((0, h2.default)(F = (0, m.default)(N[S].children)).call(F, function(L) {
            $.push(L);
          }); N[S].children.length !== 0; )
            N[S].removeChild(N[S].children[0]);
          (0, c.default)($).call($, D, 1);
          for (var U = 0; U < $.length; U++)
            N[S].appendChild($[U]);
        }, B = 0; B < N.length; B++)
          C(B);
        return y(I, N), w.default(I.parentNode);
      }
      function v(x, D, I) {
        for (var N = T(x), C = (0, d.default)(Array.prototype).apply(N.children), B = C[D].children, O = document.createElement("tr"), S = function(U) {
          var L, z = document.createElement(I), Q = B[U];
          (0, h2.default)(L = (0, m.default)(Q.childNodes)).call(L, function(J) {
            z.appendChild(J);
          }), O.appendChild(z);
        }, F = 0; F < B.length; F++)
          S(F);
        return (0, c.default)(C).call(C, D, 1, O), y(N, C), w.default(N.parentNode);
      }
      function y(x, D) {
        for (; x.children.length !== 0; )
          x.removeChild(x.children[0]);
        for (var I = 0; I < D.length; I++)
          x.appendChild(D[I]);
      }
      function T(x) {
        var D = x.elems[0].children[0];
        return D.nodeName === "COLGROUP" && (D = x.elems[0].children[x.elems[0].children.length - 1]), D;
      }
      o.default = { ProcessingRow: R, ProcessingCol: A, DeleteRow: E, DeleteCol: b, setTheHeader: v };
    }, function(a, o, n) {
      var l = n(396);
      a.exports = l;
    }, function(a, o, n) {
      n(50), n(397);
      var l = n(9);
      a.exports = l.Array.from;
    }, function(a, o, n) {
      var l = n(5), f = n(398), d = n(115), c = !d(function(h2) {
        Array.from(h2);
      });
      l({ target: "Array", stat: true, forced: c }, { from: f });
    }, function(a, o, n) {
      var l = n(40), f = n(31), d = n(114), c = n(112), h2 = n(35), m = n(69), g = n(113);
      a.exports = function(R) {
        var A = f(R), E = typeof this == "function" ? this : Array, b = arguments.length, v = b > 1 ? arguments[1] : void 0, y = v !== void 0, T = g(A), x = 0, D, I, N, C, B, O;
        if (y && (v = l(v, b > 2 ? arguments[2] : void 0, 2)), T != null && !(E == Array && c(T)))
          for (C = T.call(A), B = C.next, I = new E(); !(N = B.call(C)).done; x++)
            O = y ? d(C, v, [N.value, x], true) : N.value, m(I, x, O);
        else
          for (D = h2(A.length), I = new E(D); D > x; x++)
            O = y ? v(A[x], x) : A[x], m(I, x, O);
        return I.length = x, I;
      };
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(138));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(3)), g = function() {
        function w(R) {
          this.editor = R;
        }
        return w.prototype.getRowNode = function(R) {
          var A, E = m.default(R).elems[0];
          return E.parentNode && (E = (A = m.default(E).parentUntil("TR", E)) === null || A === void 0 ? void 0 : A.elems[0]), E;
        }, w.prototype.getCurrentRowIndex = function(R, A) {
          var E, b = 0, v = R.children[0];
          return v.nodeName === "COLGROUP" && (v = R.children[R.children.length - 1]), (0, d.default)(E = (0, c.default)(v.children)).call(E, function(y, T) {
            y === A && (b = T);
          }), b;
        }, w.prototype.getCurrentColIndex = function(R) {
          var A, E, b = 0, v = m.default(R).getNodeName() === "TD" || m.default(R).getNodeName() === "TH" ? R : (E = m.default(R).parentUntil("TD", R)) === null || E === void 0 ? void 0 : E.elems[0], y = m.default(v).parent();
          return (0, d.default)(A = (0, c.default)(y.elems[0].children)).call(A, function(T, x) {
            T === v && (b = x);
          }), b;
        }, w.prototype.getTableHtml = function(R) {
          var A = '<table border="0" width="100%" cellpadding="0" cellspacing="0">' + m.default(R).html() + "</table>";
          return A;
        }, w;
      }();
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.bindEventKeyboardEvent = o.bindClickEvent = void 0;
      var d = n(2), c = d.__importDefault(n(3));
      function h2(w) {
        if (!w.length)
          return false;
        var R = w.elems[0];
        return R.nodeName === "P" && R.innerHTML === "<br>";
      }
      function m(w) {
        function R(A, E) {
          if (E.detail >= 3) {
            var b = window.getSelection();
            if (b) {
              var v = b.focusNode, y = b.anchorNode, T = c.default(y == null ? void 0 : y.parentElement);
              if (!A.isContain(c.default(v))) {
                var x = T.elems[0].tagName === "TD" ? T : T.parentUntilEditor("td", w);
                if (x) {
                  var D = w.selection.getRange();
                  D == null || D.setEnd(x.elems[0], x.elems[0].childNodes.length), w.selection.restoreSelection();
                }
              }
            }
          }
        }
        w.txt.eventHooks.tableClickEvents.push(R);
      }
      o.bindClickEvent = m;
      function g(w) {
        var R = w.txt, A = w.selection, E = R.eventHooks.keydownEvents;
        E.push(function(b) {
          w.selection.saveRange();
          var v = A.getSelectionContainerElem();
          if (v) {
            var y = v.getNodeTop(w), T = y.length && y.prev().length ? y.prev() : null;
            if (T && T.getNodeName() === "TABLE" && A.isSelectionEmpty() && A.getCursorPos() === 0 && b.keyCode === 8) {
              var x = y.next(), D = !!x.length;
              D && h2(y) && (y.remove(), w.selection.setRangeToElem(x.elems[0])), b.preventDefault();
            }
          }
        });
      }
      o.bindEventKeyboardEvent = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(26));
      (0, f.default)(o, "__esModule", { value: true }), o.formatCodeHtml = void 0;
      var c = n(2), h2 = c.__importDefault(n(38)), m = c.__importDefault(n(3)), g = n(6), w = c.__importDefault(n(402)), R = c.__importDefault(n(139)), A = c.__importDefault(n(33)), E = c.__importDefault(n(403));
      function b(y, T) {
        if (!T)
          return T;
        return T = D(T), T = x(T), T = g.replaceSpecialSymbol(T), T;
        function x(I) {
          var N = I.match(/<pre[\s|\S]+?\/pre>/g);
          return N === null || (0, d.default)(N).call(N, function(C) {
            I = I.replace(C, C.replace(/<\/code><code>/g, `
`).replace(/<br>/g, ""));
          }), I;
        }
        function D(I) {
          var N, C = I.match(/<span\sclass="hljs[\s|\S]+?\/span>/gm);
          if (!C || !C.length)
            return I;
          for (var B = (0, d.default)(N = g.deepClone(C)).call(N, function(S) {
            return S = S.replace(/<span\sclass="hljs[^>]+>/, ""), S.replace(/<\/span>/, "");
          }), O = 0; O < C.length; O++)
            I = I.replace(C[O], B[O]);
          return D(I);
        }
      }
      o.formatCodeHtml = b;
      var v = function(y) {
        c.__extends(T, y);
        function T(x) {
          var D = this, I = m.default('<div class="w-e-menu" data-title="代码"><i class="w-e-icon-terminal"></i></div>');
          return D = y.call(this, I, x) || this, E.default(x), D;
        }
        return T.prototype.insertLineCode = function(x) {
          var D = this.editor, I = m.default("<code>" + x + "</code>");
          D.cmd.do("insertElem", I), D.selection.createRangeByElem(I, false), D.selection.restoreSelection();
        }, T.prototype.clickHandler = function() {
          var x = this.editor, D = x.selection.getSelectionText();
          this.isActive || (x.selection.isSelectionEmpty() ? this.createPanel("", "") : this.insertLineCode(D));
        }, T.prototype.createPanel = function(x, D) {
          var I = w.default(this.editor, x, D), N = new A.default(this, I);
          N.create();
        }, T.prototype.tryChangeActive = function() {
          var x = this.editor;
          R.default(x) ? this.active() : this.unActive();
        }, T;
      }(h2.default);
      o.default = v;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(26));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = n(6), m = c.__importDefault(n(3)), g = c.__importDefault(n(139)), w = n(7);
      function R(A, E, b) {
        var v, y = h2.getRandom("input-iframe"), T = h2.getRandom("select"), x = h2.getRandom("btn-ok");
        function D(B, O) {
          var S, F = g.default(A);
          F && I();
          var $ = (S = A.selection.getSelectionStartElem()) === null || S === void 0 ? void 0 : S.elems[0].innerHTML;
          $ && A.cmd.do("insertHTML", w.EMPTY_P);
          var U = O.replace(/</g, "&lt;").replace(/>/g, "&gt;");
          A.highlight && (U = A.highlight.highlightAuto(U).value), A.cmd.do("insertHTML", '<pre><code class="' + B + '">' + U + "</code></pre>");
          var L = A.selection.getSelectionStartElem(), z = L == null ? void 0 : L.getNodeTop(A);
          (z == null ? void 0 : z.getNextSibling().elems.length) === 0 && m.default(w.EMPTY_P).insertAfter(z);
        }
        function I() {
          if (!!g.default(A)) {
            var B = A.selection.getSelectionStartElem(), O = B == null ? void 0 : B.getNodeTop(A);
            !O || (A.selection.createRangeByElem(O), A.selection.restoreSelection());
          }
        }
        var N = function(O) {
          return A.i18next.t(O);
        }, C = {
          width: 500,
          height: 0,
          tabs: [{
            title: N("menus.panelMenus.code.插入代码"),
            tpl: `<div>
                        <select name="" id="` + T + `">
                            ` + (0, d.default)(v = A.config.languageType).call(v, function(B) {
              return "<option " + (b == B ? "selected" : "") + ' value ="' + B + '">' + B + "</option>";
            }) + `
                        </select>
                        <textarea id="` + y + '" type="text" class="wang-code-textarea" placeholder="" style="height: 160px">' + E.replace(/&quot;/g, '"') + `</textarea>
                        <div class="w-e-button-container">
                            <button type="button" id="` + x + '" class="right">' + (g.default(A) ? N("修改") : N("插入")) + `</button>
                        </div>
                    </div>`,
            events: [
              { selector: "#" + x, type: "click", fn: function() {
                var O = document.getElementById(y), S = m.default("#" + T), F = S.val(), $ = O.value;
                if (!!$)
                  return g.default(A) ? false : (D(F, $), true);
              } }
            ]
          }]
        };
        return C;
      }
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(404)), h2 = d.__importDefault(n(405));
      function m(g) {
        c.default(g), h2.default(g);
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.createShowHideFn = void 0;
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(39));
      function m(w) {
        var R;
        function A(b) {
          var v = "menus.panelMenus.code.", y = function(D, I) {
            return I === void 0 && (I = v), w.i18next.t(I + D);
          }, T = [{ $elem: c.default("<span>" + y("删除代码") + "</span>"), onClick: function(D, I) {
            return I.remove(), true;
          } }];
          R = new h2.default(w, b, T), R.create();
        }
        function E() {
          R && (R.remove(), R = null);
        }
        return { showCodeTooltip: A, hideCodeTooltip: E };
      }
      o.createShowHideFn = m;
      function g(w) {
        var R = m(w), A = R.showCodeTooltip, E = R.hideCodeTooltip;
        w.txt.eventHooks.codeClickEvents.push(A), w.txt.eventHooks.clickEvents.push(E), w.txt.eventHooks.toolbarClickEvents.push(E), w.txt.eventHooks.menuClickEvents.push(E), w.txt.eventHooks.textScrollEvents.push(E);
      }
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = n(7), h2 = d.__importDefault(n(3));
      function m(g) {
        var w = g.$textElem, R = g.selection, A = g.txt, E = A.eventHooks.keydownEvents;
        E.push(function(b) {
          var v;
          if (b.keyCode === 40) {
            var y = R.getSelectionContainerElem(), T = (v = w.children()) === null || v === void 0 ? void 0 : v.last();
            if ((y == null ? void 0 : y.elems[0].tagName) === "XMP" && (T == null ? void 0 : T.elems[0].tagName) === "PRE") {
              var x = h2.default(c.EMPTY_P);
              w.append(x);
            }
          }
        }), E.push(function(b) {
          g.selection.saveRange();
          var v = R.getSelectionContainerElem();
          if (v) {
            var y = v.getNodeTop(g), T = y == null ? void 0 : y.prev(), x = y == null ? void 0 : y.getNextSibling();
            if (T.length && (T == null ? void 0 : T.getNodeName()) === "PRE" && x.length === 0 && R.getCursorPos() === 0 && b.keyCode === 8) {
              var D = h2.default(c.EMPTY_P);
              w.append(D);
            }
          }
        });
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(23)), h2 = d.__importDefault(n(3)), m = d.__importDefault(n(407)), g = n(6), w = n(7), R = function(A) {
        d.__extends(E, A);
        function E(b) {
          var v = this, y = h2.default('<div class="w-e-menu" data-title="分割线"><i class="w-e-icon-split-line"></i></div>');
          return v = A.call(this, y, b) || this, m.default(b), v;
        }
        return E.prototype.clickHandler = function() {
          var b = this.editor, v = b.selection.getRange(), y = b.selection.getSelectionContainerElem();
          if (!!(y != null && y.length)) {
            var T = h2.default(y.elems[0]), x = T.parentUntil("TABLE", y.elems[0]), D = T.children();
            T.getNodeName() !== "CODE" && (x && h2.default(x.elems[0]).getNodeName() === "TABLE" || D && D.length !== 0 && h2.default(D.elems[0]).getNodeName() === "IMG" && !(v != null && v.collapsed) || this.createSplitLine());
          }
        }, E.prototype.createSplitLine = function() {
          var b = "<hr/>" + w.EMPTY_P;
          g.UA.isFirefox && (b = "<hr/><p></p>"), this.editor.cmd.do("insertHTML", b);
        }, E.prototype.tryChangeActive = function() {
        }, E;
      }(c.default);
      o.default = R;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(408));
      function h2(m) {
        c.default(m);
      }
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = d.__importDefault(n(39));
      function m(w) {
        var R;
        function A(b) {
          var v = [{ $elem: c.default("<span>" + w.i18next.t("menus.panelMenus.删除") + "</span>"), onClick: function(T, x) {
            return T.selection.createRangeByElem(x), T.selection.restoreSelection(), T.cmd.do("delete"), true;
          } }];
          R = new h2.default(w, b, v), R.create();
        }
        function E() {
          R && (R.remove(), R = null);
        }
        return { showSplitLineTooltip: A, hideSplitLineTooltip: E };
      }
      function g(w) {
        var R = m(w), A = R.showSplitLineTooltip, E = R.hideSplitLineTooltip;
        w.txt.eventHooks.splitLineEvents.push(A), w.txt.eventHooks.clickEvents.push(E), w.txt.eventHooks.keyupEvents.push(E), w.txt.eventHooks.toolbarClickEvents.push(E), w.txt.eventHooks.menuClickEvents.push(E), w.txt.eventHooks.textScrollEvents.push(E);
      }
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = c.__importDefault(n(23)), g = n(98), w = c.__importDefault(n(415)), R = c.__importDefault(n(140)), A = function(E) {
        c.__extends(b, E);
        function b(v) {
          var y = this, T = h2.default(`<div class="w-e-menu" data-title="待办事项">
                    <i class="w-e-icon-checkbox-checked"></i>
                </div>`);
          return y = E.call(this, T, v) || this, w.default(v), y;
        }
        return b.prototype.clickHandler = function() {
          var v = this.editor;
          g.isAllTodo(v) ? (this.cancelTodo(), this.tryChangeActive()) : this.setTodo();
        }, b.prototype.tryChangeActive = function() {
          g.isAllTodo(this.editor) ? this.active() : this.unActive();
        }, b.prototype.setTodo = function() {
          var v = this.editor, y = v.selection.getSelectionRangeTopNodes();
          (0, d.default)(y).call(y, function(T) {
            var x, D = T == null ? void 0 : T.getNodeName();
            if (D === "P") {
              var I = R.default(T), N = I.getTodo(), C = (x = N.children()) === null || x === void 0 ? void 0 : x.getNode();
              N.insertAfter(T), v.selection.moveCursor(C), T.remove();
            }
          }), this.tryChangeActive();
        }, b.prototype.cancelTodo = function() {
          var v = this.editor, y = v.selection.getSelectionRangeTopNodes();
          (0, d.default)(y).call(y, function(T) {
            var x, D, I, N = (D = (x = T.childNodes()) === null || x === void 0 ? void 0 : x.childNodes()) === null || D === void 0 ? void 0 : D.clone(true), C = h2.default("<p></p>");
            C.append(N), C.insertAfter(T), (I = C.childNodes()) === null || I === void 0 || I.get(0).remove(), v.selection.moveCursor(C.getNode()), T.remove();
          });
        }, b;
      }(m.default);
      o.default = A;
    }, function(a, o, n) {
      a.exports = n(411);
    }, function(a, o, n) {
      var l = n(412);
      a.exports = l;
    }, function(a, o, n) {
      var l = n(413), f = Array.prototype;
      a.exports = function(d) {
        var c = d.every;
        return d === f || d instanceof Array && c === f.every ? l : c;
      };
    }, function(a, o, n) {
      n(414);
      var l = n(15);
      a.exports = l("Array").every;
    }, function(a, o, n) {
      var l = n(5), f = n(32).every, d = n(67), c = n(22), h2 = d("every"), m = c("every");
      l({ target: "Array", proto: true, forced: !h2 || !m }, { every: function(w) {
        return f(this, w, arguments.length > 1 ? arguments[1] : void 0);
      } });
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3)), m = n(98), g = c.__importDefault(n(140)), w = n(98), R = n(7);
      function A(E) {
        function b(x) {
          var D, I;
          if (m.isAllTodo(E)) {
            x.preventDefault();
            var N = E.selection, C = N.getSelectionRangeTopNodes()[0], B = (D = C.childNodes()) === null || D === void 0 ? void 0 : D.get(0), O = (I = window.getSelection()) === null || I === void 0 ? void 0 : I.anchorNode, S = N.getRange();
            if (!(S != null && S.collapsed)) {
              var F = S == null ? void 0 : S.commonAncestorContainer.childNodes, $ = S == null ? void 0 : S.startContainer, U = S == null ? void 0 : S.endContainer, L = S == null ? void 0 : S.startOffset, z = S == null ? void 0 : S.endOffset, Q = 0, J = 0, ae = [];
              F == null || (0, d.default)(F).call(F, function(ne, be) {
                ne.contains($) && (Q = be), ne.contains(U) && (J = be);
              }), J - Q > 1 && (F == null || (0, d.default)(F).call(F, function(ne, be) {
                be <= Q || be >= J || ae.push(ne);
              }), (0, d.default)(ae).call(ae, function(ne) {
                ne.remove();
              })), w.dealTextNode($, L), w.dealTextNode(U, z, false), E.selection.moveCursor(U, 0);
            }
            if (C.text() === "") {
              var M = h2.default(R.EMPTY_P);
              M.insertAfter(C), N.moveCursor(M.getNode()), C.remove();
              return;
            }
            var V = N.getCursorPos(), K = m.getCursorNextNode(B == null ? void 0 : B.getNode(), O, V), G = g.default(h2.default(K)), Z = G.getInputContainer(), ue = Z.parent().getNode(), pe = G.getTodo(), ce = Z.getNode().nextSibling;
            if ((B == null ? void 0 : B.text()) === "" && (B == null || B.append(h2.default("<br>"))), pe.insertAfter(C), !ce || (ce == null ? void 0 : ce.textContent) === "") {
              if ((ce == null ? void 0 : ce.nodeName) !== "BR") {
                var fe = h2.default("<br>");
                fe.insertAfter(Z);
              }
              N.moveCursor(ue, 1);
            } else
              N.moveCursor(ue);
          }
        }
        function v(x) {
          var D, I;
          if (m.isAllTodo(E)) {
            var N = E.selection, C = N.getSelectionRangeTopNodes()[0], B = (D = C.childNodes()) === null || D === void 0 ? void 0 : D.getNode(), O = h2.default("<p></p>"), S = O.getNode(), F = (I = window.getSelection()) === null || I === void 0 ? void 0 : I.anchorNode, $ = N.getCursorPos(), U = F.previousSibling;
            if (C.text() === "") {
              x.preventDefault();
              var L = h2.default(R.EMPTY_P);
              L.insertAfter(C), C.remove(), N.moveCursor(L.getNode(), 0);
              return;
            }
            if ((U == null ? void 0 : U.nodeName) === "SPAN" && U.childNodes[0].nodeName === "INPUT" && $ === 0) {
              var z;
              x.preventDefault(), B == null || (0, d.default)(z = B.childNodes).call(z, function(Q, J) {
                J !== 0 && S.appendChild(Q.cloneNode(true));
              }), O.insertAfter(C), C.remove();
            }
          }
        }
        function y() {
          var x = E.selection, D = x.getSelectionRangeTopNodes()[0];
          D && w.isTodo(D) && D.text() === "" && (h2.default(R.EMPTY_P).insertAfter(D), D.remove());
        }
        function T(x) {
          x && x.target instanceof HTMLInputElement && x.target.type === "checkbox" && (x.target.checked ? x.target.setAttribute("checked", "true") : x.target.removeAttribute("checked"));
        }
        E.txt.eventHooks.enterDownEvents.push(b), E.txt.eventHooks.deleteUpEvents.push(y), E.txt.eventHooks.deleteDownEvents.push(v), E.txt.eventHooks.clickEvents.push(T);
      }
      o.default = A;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.selectorValidator = void 0;
      var d = n(2), c = d.__importDefault(n(3)), h2 = n(6), m = n(7), g = d.__importDefault(n(130)), w = { border: "1px solid #c9d8db", toolbarBgColor: "#FFF", toolbarBottomBorder: "1px solid #EEE" };
      function R(E) {
        var b = E.toolbarSelector, v = c.default(b), y = E.textSelector, T = E.config, x = T.height, D = E.i18next, I = c.default("<div></div>"), N = c.default("<div></div>"), C, B, O = null;
        y == null ? (B = v.children(), v.append(I).append(N), I.css("background-color", w.toolbarBgColor).css("border", w.border).css("border-bottom", w.toolbarBottomBorder), N.css("border", w.border).css("border-top", "none").css("height", x + "px")) : (v.append(I), O = c.default(y).children(), c.default(y).append(N), B = N.children()), C = c.default("<div></div>"), C.attr("contenteditable", "true").css("width", "100%").css("height", "100%");
        var S, F = E.config.placeholder;
        F !== g.default.placeholder ? S = c.default("<div>" + F + "</div>") : S = c.default("<div>" + D.t(F) + "</div>"), S.addClass("placeholder"), B && B.length ? (C.append(B), S.hide()) : C.append(c.default(m.EMPTY_P)), O && O.length && (C.append(O), S.hide()), N.append(C), N.append(S), I.addClass("w-e-toolbar").css("z-index", E.zIndex.get("toolbar")), N.addClass("w-e-text-container"), N.css("z-index", E.zIndex.get()), C.addClass("w-e-text");
        var $ = h2.getRandom("toolbar-elem");
        I.attr("id", $);
        var U = h2.getRandom("text-elem");
        C.attr("id", U);
        var L = N.getBoundingClientRect().height, z = C.getBoundingClientRect().height;
        L !== z && C.css("min-height", L + "px"), E.$toolbarElem = I, E.$textContainerElem = N, E.$textElem = C, E.toolbarElemId = $, E.textElemId = U;
      }
      o.default = R;
      function A(E) {
        var b = "data-we-id", v = /^wangEditor-\d+$/, y = E.textSelector, T = E.toolbarSelector, x = { bar: c.default("<div></div>"), text: c.default("<div></div>") };
        if (T == null)
          throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");
        if (x.bar = c.default(T), !x.bar.elems.length)
          throw new Error("无效的节点选择器：" + T);
        if (v.test(x.bar.attr(b)))
          throw new Error("初始化节点已存在编辑器实例，无法重复创建编辑器");
        if (y) {
          if (x.text = c.default(y), !x.text.elems.length)
            throw new Error("无效的节点选择器：" + y);
          if (v.test(x.text.attr(b)))
            throw new Error("初始化节点已存在编辑器实例，无法重复创建编辑器");
        }
        x.bar.attr(b, E.id), x.text.attr(b, E.id), E.beforeDestroy(function() {
          x.bar.removeAttr(b), x.text.removeAttr(b);
        });
      }
      o.selectorValidator = A;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(3)), h2 = n(7);
      function m(g, w) {
        var R = g.$textElem, A = R.children();
        if (!A || !A.length) {
          R.append(c.default(h2.EMPTY_P)), m(g);
          return;
        }
        var E = A.last();
        if (w) {
          var b = E.html().toLowerCase(), v = E.getNodeName();
          if (b !== "<br>" && b !== "<br/>" || v !== "P") {
            R.append(c.default(h2.EMPTY_P)), m(g);
            return;
          }
        }
        g.selection.createRangeByElem(E, false, true), g.config.focus ? g.selection.restoreSelection() : g.selection.clearWindowSelectionRange();
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3));
      function m(b) {
        g(b), w(b), R(b);
      }
      function g(b) {
        b.txt.eventHooks.changeEvents.push(function() {
          var v = b.config.onchange;
          if (v) {
            var y = b.txt.html() || "";
            b.isFocus = true, v(y);
          }
          b.txt.togglePlaceholder();
        });
      }
      function w(b) {
        b.isFocus = false;
        function v(y) {
          var T = y.target, x = h2.default(T), D = b.$textElem, I = b.$toolbarElem, N = D.isContain(x), C = I.isContain(x), B = I.elems[0] == y.target;
          if (N)
            b.isFocus || E(b), b.isFocus = true;
          else {
            if (C && !B || !b.isFocus)
              return;
            A(b), b.isFocus = false;
          }
        }
        document.activeElement === b.$textElem.elems[0] && b.config.focus && (E(b), b.isFocus = true), h2.default(document).on("click", v), b.beforeDestroy(function() {
          h2.default(document).off("click", v);
        });
      }
      function R(b) {
        b.$textElem.on("compositionstart", function() {
          b.isComposing = true, b.txt.togglePlaceholder();
        }).on("compositionend", function() {
          b.isComposing = false, b.txt.togglePlaceholder();
        });
      }
      function A(b) {
        var v, y = b.config, T = y.onblur, x = b.txt.html() || "";
        (0, d.default)(v = b.txt.eventHooks.onBlurEvents).call(v, function(D) {
          return D();
        }), T(x);
      }
      function E(b) {
        var v = b.config, y = v.onfocus, T = b.txt.html() || "";
        y(T);
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      function d(c) {
        var h2 = c.config, m = h2.lang, g = h2.languages;
        if (c.i18next != null) {
          try {
            c.i18next.init({ ns: "wangEditor", lng: m, defaultNS: "wangEditor", resources: g });
          } catch (w) {
            throw new Error("i18next:" + w);
          }
          return;
        }
        c.i18next = { t: function(R) {
          var A = R.split(".");
          return A[A.length - 1];
        } };
      }
      o.default = d;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(29));
      (0, f.default)(o, "__esModule", { value: true }), o.setUnFullScreen = o.setFullScreen = void 0;
      var c = n(2), h2 = c.__importDefault(n(3));
      n(421);
      var m = "w-e-icon-fullscreen", g = "w-e-icon-fullscreen_exit", w = "w-e-full-screen-editor";
      o.setFullScreen = function(A) {
        var E = h2.default(A.toolbarSelector), b = A.$textContainerElem, v = A.$toolbarElem, y = (0, d.default)(v).call(v, "i." + m), T = A.config;
        y.removeClass(m), y.addClass(g), E.addClass(w), E.css("z-index", T.zIndexFullScreen);
        var x = v.getBoundingClientRect();
        b.css("height", "calc(100% - " + x.height + "px)");
      }, o.setUnFullScreen = function(A) {
        var E = h2.default(A.toolbarSelector), b = A.$textContainerElem, v = A.$toolbarElem, y = (0, d.default)(v).call(v, "i." + g), T = A.config;
        y.removeClass(g), y.addClass(m), E.removeClass(w), E.css("z-index", "auto"), b.css("height", T.height + "px");
      };
      var R = function(E) {
        if (!E.textSelector && !!E.config.showFullScreen) {
          var b = E.$toolbarElem, v = h2.default(`<div class="w-e-menu" data-title="全屏">
            <i class="` + m + `"></i>
        </div>`);
          v.on("click", function(y) {
            var T, x = (0, d.default)(T = h2.default(y.currentTarget)).call(T, "i");
            x.hasClass(m) ? (v.attr("data-title", "取消全屏"), o.setFullScreen(E)) : (v.attr("data-title", "全屏"), o.setUnFullScreen(E));
          }), b.append(v);
        }
      };
      o.default = R;
    }, function(a, o, n) {
      var l = n(20), f = n(422);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-full-screen-editor {
  position: fixed;
  width: 100%!important;
  height: 100%!important;
  left: 0;
  top: 0;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(29));
      (0, f.default)(o, "__esModule", { value: true });
      var c = function(m, g) {
        var w, R = m.isEnable ? m.$textElem : (0, d.default)(w = m.$textContainerElem).call(w, ".w-e-content-mantle"), A = (0, d.default)(R).call(R, "[id='" + g + "']"), E = A.getOffsetData().top;
        R.scrollTop(E);
      };
      o.default = c;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(129)), h2 = { menu: 2, panel: 2, toolbar: 1, tooltip: 1, textContainer: 1 }, m = function() {
        function g() {
          this.tier = h2, this.baseZIndex = c.default.zIndex;
        }
        return g.prototype.get = function(w) {
          return w && this.tier[w] ? this.baseZIndex + this.tier[w] : this.baseZIndex;
        }, g.prototype.init = function(w) {
          this.baseZIndex == c.default.zIndex && (this.baseZIndex = w.config.zIndex);
        }, g;
      }();
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(70)), c = l(n(4));
      (0, f.default)(o, "__esModule", { value: true });
      var h2 = n(2), m = h2.__importDefault(n(426)), g = n(6), w = n(7);
      function R(E, b) {
        return (0, d.default)(E).call(E, function(v) {
          var y = v.type, T = v.target, x = v.attributeName;
          return y != "attributes" || y == "attributes" && (x == "contenteditable" || T != b);
        });
      }
      var A = function(E) {
        h2.__extends(b, E);
        function b(v) {
          var y = E.call(this, function(T, x) {
            var D;
            if (T = R(T, x.target), (D = y.data).push.apply(D, T), v.isCompatibleMode)
              y.asyncSave();
            else if (!v.isComposing)
              return y.asyncSave();
          }) || this;
          return y.editor = v, y.data = [], y.asyncSave = w.EMPTY_FN, y;
        }
        return b.prototype.save = function() {
          this.data.length && (this.editor.history.save(this.data), this.data.length = 0, this.emit());
        }, b.prototype.emit = function() {
          var v;
          (0, c.default)(v = this.editor.txt.eventHooks.changeEvents).call(v, function(y) {
            return y();
          });
        }, b.prototype.observe = function() {
          var v = this;
          E.prototype.observe.call(this, this.editor.$textElem.elems[0]);
          var y = this.editor.config.onchangeTimeout;
          this.asyncSave = g.debounce(function() {
            v.save();
          }, y), this.editor.isCompatibleMode || this.editor.$textElem.on("compositionend", function() {
            v.asyncSave();
          });
        }, b;
      }(m.default);
      o.default = A;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = function() {
        function c(h2, m) {
          var g = this;
          this.options = { subtree: true, childList: true, attributes: true, attributeOldValue: true, characterData: true, characterDataOldValue: true }, this.callback = function(w) {
            h2(w, g);
          }, this.observer = new MutationObserver(this.callback), m && (this.options = m);
        }
        return (0, f.default)(c.prototype, "target", { get: function() {
          return this.node;
        }, enumerable: false, configurable: true }), c.prototype.observe = function(h2) {
          this.node instanceof Node || (this.node = h2, this.connect());
        }, c.prototype.connect = function() {
          if (this.node)
            return this.observer.observe(this.node, this.options), this;
          throw new Error("还未初始化绑定，请您先绑定有效的 Node 节点");
        }, c.prototype.disconnect = function() {
          var h2 = this.observer.takeRecords();
          h2.length && this.callback(h2), this.observer.disconnect();
        }, c;
      }();
      o.default = d;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(428)), h2 = d.__importDefault(n(435)), m = d.__importDefault(n(436)), g = function() {
        function w(R) {
          this.editor = R, this.content = new c.default(R), this.scroll = new h2.default(R), this.range = new m.default(R);
        }
        return (0, f.default)(w.prototype, "size", {
          get: function() {
            return this.scroll.size;
          },
          enumerable: false,
          configurable: true
        }), w.prototype.observe = function() {
          this.content.observe(), this.scroll.observe(), !this.editor.isCompatibleMode && this.range.observe();
        }, w.prototype.save = function(R) {
          R.length && (this.content.save(R), this.scroll.save(), !this.editor.isCompatibleMode && this.range.save());
        }, w.prototype.revoke = function() {
          this.editor.change.disconnect();
          var R = this.content.revoke();
          R && (this.scroll.revoke(), this.editor.isCompatibleMode || (this.range.revoke(), this.editor.$textElem.focus())), this.editor.change.connect(), R && this.editor.change.emit();
        }, w.prototype.restore = function() {
          this.editor.change.disconnect();
          var R = this.content.restore();
          R && (this.scroll.restore(), this.editor.isCompatibleMode || (this.range.restore(), this.editor.$textElem.focus())), this.editor.change.connect(), R && this.editor.change.emit();
        }, w;
      }();
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(429)), h2 = d.__importDefault(n(433)), m = function() {
        function g(w) {
          this.editor = w;
        }
        return g.prototype.observe = function() {
          this.editor.isCompatibleMode ? this.cache = new h2.default(this.editor) : this.cache = new c.default(this.editor), this.cache.observe();
        }, g.prototype.save = function(w) {
          this.editor.isCompatibleMode ? this.cache.save() : this.cache.compile(w);
        }, g.prototype.revoke = function() {
          var w;
          return (w = this.cache) === null || w === void 0 ? void 0 : w.revoke();
        }, g.prototype.restore = function() {
          var w;
          return (w = this.cache) === null || w === void 0 ? void 0 : w.restore();
        }, g;
      }();
      o.default = m;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(99)), h2 = d.__importDefault(n(431)), m = n(432), g = function(w) {
        d.__extends(R, w);
        function R(A) {
          var E = w.call(this, A.config.historyMaxSize) || this;
          return E.editor = A, E;
        }
        return R.prototype.observe = function() {
          this.resetMaxSize(this.editor.config.historyMaxSize);
        }, R.prototype.compile = function(A) {
          return this.save(h2.default(A)), this;
        }, R.prototype.revoke = function() {
          return w.prototype.revoke.call(this, function(A) {
            m.revoke(A);
          });
        }, R.prototype.restore = function() {
          return w.prototype.restore.call(this, function(A) {
            m.restore(A);
          });
        }, R;
      }(c.default);
      o.default = g;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true }), o.CeilStack = void 0;
      var d = function() {
        function c(h2) {
          h2 === void 0 && (h2 = 0), this.data = [], this.max = 0, this.reset = false, h2 = Math.abs(h2), h2 && (this.max = h2);
        }
        return c.prototype.resetMax = function(h2) {
          h2 = Math.abs(h2), !this.reset && !isNaN(h2) && (this.max = h2, this.reset = true);
        }, (0, f.default)(c.prototype, "size", {
          get: function() {
            return this.data.length;
          },
          enumerable: false,
          configurable: true
        }), c.prototype.instack = function(h2) {
          return this.data.unshift(h2), this.max && this.size > this.max && (this.data.length = this.max), this;
        }, c.prototype.outstack = function() {
          return this.data.shift();
        }, c.prototype.clear = function() {
          return this.data.length = 0, this;
        }, c;
      }();
      o.CeilStack = d;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(27));
      (0, f.default)(o, "__esModule", { value: true }), o.compliePosition = o.complieNodes = o.compileValue = o.compileType = void 0;
      var h2 = n(6);
      function m(v) {
        switch (v) {
          case "childList":
            return "node";
          case "attributes":
            return "attr";
          default:
            return "text";
        }
      }
      o.compileType = m;
      function g(v) {
        switch (v.type) {
          case "attributes":
            return v.target.getAttribute(v.attributeName) || "";
          case "characterData":
            return v.target.textContent;
          default:
            return "";
        }
      }
      o.compileValue = g;
      function w(v) {
        var y = {};
        return v.addedNodes.length && (y.add = h2.toArray(v.addedNodes)), v.removedNodes.length && (y.remove = h2.toArray(v.removedNodes)), y;
      }
      o.complieNodes = w;
      function R(v) {
        var y;
        return v.previousSibling ? y = { type: "before", target: v.previousSibling } : v.nextSibling ? y = { type: "after", target: v.nextSibling } : y = { type: "parent", target: v.target }, y;
      }
      o.compliePosition = R;
      var A = ["UL", "OL", "H1", "H2", "H3", "H4", "H5", "H6"];
      function E(v) {
        var y = [], T = false, x = [];
        return (0, d.default)(v).call(v, function(D, I) {
          var N = { type: m(D.type), target: D.target, attr: D.attributeName || "", value: g(D) || "", oldValue: D.oldValue || "", nodes: w(D), position: R(D) };
          if (y.push(N), !!h2.UA.isFirefox) {
            if (T && D.addedNodes.length && D.addedNodes[0].nodeType == 1) {
              var C = D.addedNodes[0], B = { type: "node", target: C, attr: "", value: "", oldValue: "", nodes: { add: [T] }, position: { type: "parent", target: C } };
              (0, c.default)(A).call(A, C.nodeName) != -1 ? (B.nodes.add = h2.toArray(C.childNodes), y.push(B)) : T.nodeType == 3 ? (b(C, x) && (B.nodes.add = h2.toArray(C.childNodes)), y.push(B)) : (0, c.default)(A).call(A, D.target.nodeName) == -1 && b(C, x) && (B.nodes.add = h2.toArray(C.childNodes), y.push(B));
            }
            N.type == "node" && D.removedNodes.length == 1 ? (T = D.removedNodes[0], x.push(T)) : (T = false, x.length = 0);
          }
        }), y;
      }
      o.default = E;
      function b(v, y) {
        for (var T = 0, x = y.length - 1; x > 0 && v.contains(y[x]); x--)
          T++;
        return T;
      }
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(4)), c = l(n(94));
      (0, f.default)(o, "__esModule", { value: true }), o.restore = o.revoke = void 0;
      function h2(x, D) {
        var I = x.position.target;
        switch (x.position.type) {
          case "before":
            I.nextSibling ? (I = I.nextSibling, (0, d.default)(D).call(D, function(N) {
              x.target.insertBefore(N, I);
            })) : (0, d.default)(D).call(D, function(N) {
              x.target.appendChild(N);
            });
            break;
          case "after":
            (0, d.default)(D).call(D, function(N) {
              x.target.insertBefore(N, I);
            });
            break;
          default:
            (0, d.default)(D).call(D, function(N) {
              I.appendChild(N);
            });
            break;
        }
      }
      function m(x) {
        for (var D = 0, I = (0, c.default)(x.nodes); D < I.length; D++) {
          var N = I[D], C = N[0], B = N[1];
          switch (C) {
            case "add":
              (0, d.default)(B).call(B, function(O) {
                x.target.removeChild(O);
              });
              break;
            default: {
              h2(x, B);
              break;
            }
          }
        }
      }
      function g(x) {
        var D = x.target;
        x.oldValue == null ? D.removeAttribute(x.attr) : D.setAttribute(x.attr, x.oldValue);
      }
      function w(x) {
        x.target.textContent = x.oldValue;
      }
      var R = { node: m, text: w, attr: g };
      function A(x) {
        for (var D = x.length - 1; D > -1; D--) {
          var I = x[D];
          R[I.type](I);
        }
      }
      o.revoke = A;
      function E(x) {
        for (var D = 0, I = (0, c.default)(x.nodes); D < I.length; D++) {
          var N = I[D], C = N[0], B = N[1];
          switch (C) {
            case "add": {
              h2(x, B);
              break;
            }
            default: {
              (0, d.default)(B).call(B, function(O) {
                O.parentNode.removeChild(O);
              });
              break;
            }
          }
        }
      }
      function b(x) {
        x.target.textContent = x.value;
      }
      function v(x) {
        x.target.setAttribute(x.attr, x.value);
      }
      var y = { node: E, text: b, attr: v };
      function T(x) {
        for (var D = 0, I = x; D < I.length; D++) {
          var N = I[D];
          y[N.type](N);
        }
      }
      o.restore = T;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(434), c = function() {
        function h2(m) {
          this.editor = m, this.data = new d.TailChain();
        }
        return h2.prototype.observe = function() {
          this.data.resetMax(this.editor.config.historyMaxSize), this.data.insertLast(this.editor.$textElem.html());
        }, h2.prototype.save = function() {
          return this.data.insertLast(this.editor.$textElem.html()), this;
        }, h2.prototype.revoke = function() {
          var m = this.data.prev();
          return m ? (this.editor.$textElem.html(m), true) : false;
        }, h2.prototype.restore = function() {
          var m = this.data.next();
          return m ? (this.editor.$textElem.html(m), true) : false;
        }, h2;
      }();
      o.default = c;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(91));
      (0, f.default)(o, "__esModule", { value: true }), o.TailChain = void 0;
      var c = function() {
        function h2() {
          this.data = [], this.max = 0, this.point = 0, this.isRe = false;
        }
        return h2.prototype.resetMax = function(m) {
          m = Math.abs(m), m && (this.max = m);
        }, (0, f.default)(h2.prototype, "size", {
          get: function() {
            return this.data.length;
          },
          enumerable: false,
          configurable: true
        }), h2.prototype.insertLast = function(m) {
          if (this.isRe) {
            var g;
            (0, d.default)(g = this.data).call(g, this.point + 1), this.isRe = false;
          }
          for (this.data.push(m); this.max && this.size > this.max; )
            this.data.shift();
          return this.point = this.size - 1, this;
        }, h2.prototype.current = function() {
          return this.data[this.point];
        }, h2.prototype.prev = function() {
          if (!this.isRe && (this.isRe = true), this.point--, this.point < 0) {
            this.point = 0;
            return;
          }
          return this.current();
        }, h2.prototype.next = function() {
          if (!this.isRe && (this.isRe = true), this.point++, this.point >= this.size) {
            this.point = this.size - 1;
            return;
          }
          return this.current();
        }, h2;
      }();
      o.TailChain = c;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(99)), h2 = function(m) {
        d.__extends(g, m);
        function g(w) {
          var R = m.call(this, w.config.historyMaxSize) || this;
          return R.editor = w, R.last = 0, R.target = w.$textElem.elems[0], R;
        }
        return g.prototype.observe = function() {
          var w = this;
          this.target = this.editor.$textElem.elems[0], this.editor.$textElem.on("scroll", function() {
            w.last = w.target.scrollTop;
          }), this.resetMaxSize(this.editor.config.historyMaxSize);
        }, g.prototype.save = function() {
          return m.prototype.save.call(this, [this.last, this.target.scrollTop]), this;
        }, g.prototype.revoke = function() {
          var w = this;
          return m.prototype.revoke.call(this, function(R) {
            w.target.scrollTop = R[0];
          });
        }, g.prototype.restore = function() {
          var w = this;
          return m.prototype.restore.call(this, function(R) {
            w.target.scrollTop = R[1];
          });
        }, g;
      }(c.default);
      o.default = h2;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = n(2), c = d.__importDefault(n(99)), h2 = d.__importDefault(n(3)), m = n(6);
      function g(R) {
        return { start: [R.startContainer, R.startOffset], end: [R.endContainer, R.endOffset], root: R.commonAncestorContainer, collapsed: R.collapsed };
      }
      var w = function(R) {
        d.__extends(A, R);
        function A(E) {
          var b = R.call(this, E.config.historyMaxSize) || this;
          return b.editor = E, b.lastRange = g(document.createRange()), b.root = E.$textElem.elems[0], b.updateLastRange = m.debounce(function() {
            b.lastRange = g(b.rangeHandle);
          }, E.config.onchangeTimeout), b;
        }
        return (0, f.default)(A.prototype, "rangeHandle", {
          get: function() {
            var b = document.getSelection();
            return b && b.rangeCount ? b.getRangeAt(0) : document.createRange();
          },
          enumerable: false,
          configurable: true
        }), A.prototype.observe = function() {
          var E = this;
          this.root = this.editor.$textElem.elems[0], this.resetMaxSize(this.editor.config.historyMaxSize);
          function b() {
            var y = E.rangeHandle;
            (E.root === y.commonAncestorContainer || E.root.contains(y.commonAncestorContainer)) && (E.editor.isComposing || E.updateLastRange());
          }
          function v(y) {
            (y.key == "Backspace" || y.key == "Delete") && E.updateLastRange();
          }
          h2.default(document).on("selectionchange", b), this.editor.beforeDestroy(function() {
            h2.default(document).off("selectionchange", b);
          }), E.editor.$textElem.on("keydown", v);
        }, A.prototype.save = function() {
          var E = g(this.rangeHandle);
          return R.prototype.save.call(this, [this.lastRange, E]), this.lastRange = E, this;
        }, A.prototype.set = function(E) {
          try {
            if (E) {
              var b = this.rangeHandle;
              return b.setStart.apply(b, E.start), b.setEnd.apply(b, E.end), this.editor.menus.changeActive(), true;
            }
          } catch {
            return false;
          }
          return false;
        }, A.prototype.revoke = function() {
          var E = this;
          return R.prototype.revoke.call(this, function(b) {
            E.set(b[0]);
          });
        }, A.prototype.restore = function() {
          var E = this;
          return R.prototype.restore.call(this, function(b) {
            E.set(b[1]);
          });
        }, A;
      }(c.default);
      o.default = w;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(29));
      (0, f.default)(o, "__esModule", { value: true });
      var c = n(2), h2 = c.__importDefault(n(3));
      n(438);
      function m(g) {
        var w = false, R, A;
        g.txt.eventHooks.changeEvents.push(function() {
          w && (0, d.default)(R).call(R, ".w-e-content-preview").html(g.$textElem.html());
        });
        function E() {
          if (!w) {
            g.$textElem.hide();
            var v = g.zIndex.get("textContainer"), y = g.txt.html();
            R = h2.default('<div class="w-e-content-mantle" style="z-index:' + v + `">
                <div class="w-e-content-preview w-e-text">` + y + `</div>
            </div>`), g.$textContainerElem.append(R);
            var T = g.zIndex.get("menu");
            A = h2.default('<div class="w-e-menue-mantle" style="z-index:' + T + '"></div>'), g.$toolbarElem.append(A), w = true, g.isEnable = false;
          }
        }
        function b() {
          !w || (R.remove(), A.remove(), g.$textElem.show(), w = false, g.isEnable = true);
        }
        return { disable: E, enable: b };
      }
      o.default = m;
    }, function(a, o, n) {
      var l = n(20), f = n(439);
      f = f.__esModule ? f.default : f, typeof f == "string" && (f = [[a.i, f, ""]]);
      var d = {};
      d.insert = "head", d.singleton = false, l(f, d), a.exports = f.locals || {};
    }, function(a, o, n) {
      var l = n(21);
      o = l(false), o.push([a.i, `.w-e-content-mantle {
  width: 100%;
  height: 100%;
  overflow-y: auto;
}
.w-e-content-mantle .w-e-content-preview {
  width: 100%;
  min-height: 100%;
  padding: 0 10px;
  line-height: 1.5;
}
.w-e-content-mantle .w-e-content-preview img {
  cursor: default;
}
.w-e-content-mantle .w-e-content-preview img:hover {
  box-shadow: none;
}
.w-e-menue-mantle {
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
`, ""]), a.exports = o;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
      var d = function() {
        function c(h2) {
          var m = this;
          this.editor = h2;
          var g = function() {
            var R = document.activeElement;
            R === h2.$textElem.elems[0] && m.emit();
          };
          window.document.addEventListener("selectionchange", g), this.editor.beforeDestroy(function() {
            window.document.removeEventListener("selectionchange", g);
          });
        }
        return c.prototype.emit = function() {
          var h2, m = this.editor.config.onSelectionChange;
          if (m) {
            var g = this.editor.selection;
            g.saveRange(), g.isSelectionEmpty() || m({
              text: g.getSelectionText(),
              html: (h2 = g.getSelectionContainerElem()) === null || h2 === void 0 ? void 0 : h2.elems[0].innerHTML,
              selection: g
            });
          }
        }, c;
      }();
      o.default = d;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1)), d = l(n(128)), c = l(n(94)), h2 = l(n(4));
      (0, f.default)(o, "__esModule", { value: true }), o.registerPlugin = void 0;
      var m = n(2), g = m.__importDefault(n(87)), w = n(6);
      function R(E, b, v) {
        if (!E)
          throw new TypeError("name is not define");
        if (!b)
          throw new TypeError("options is not define");
        if (!b.intention)
          throw new TypeError("options.intention is not define");
        if (b.intention && typeof b.intention != "function")
          throw new TypeError("options.intention is not function");
        v[E] && console.warn("plugin " + E + " 已存在，已覆盖。"), v[E] = b;
      }
      o.registerPlugin = R;
      function A(E) {
        var b = (0, d.default)({}, w.deepClone(g.default.globalPluginsFunctionList), w.deepClone(E.pluginsFunctionList)), v = (0, c.default)(b);
        (0, h2.default)(v).call(v, function(y) {
          var T = y[0], x = y[1];
          console.info("plugin " + T + " initializing");
          var D = x.intention, I = x.config;
          D(E, I), console.info("plugin " + T + " initialization complete");
        });
      }
      o.default = A;
    }, function(a, o, n) {
      var l = n(0), f = l(n(1));
      (0, f.default)(o, "__esModule", { value: true });
    }]).default;
  });
})(Xp);
var RC = _C(Xp.exports);
var OC = "fcEditor";
var DC = 1;
var IC = Object.assign || function(t3) {
  for (var r, a = 1; a < arguments.length; a++)
    for (var o in r = arguments[a], r)
      Object.prototype.hasOwnProperty.call(r, o) && (t3[o] = r[o]);
  return t3;
};
var MC = defineComponent({
  name: OC,
  props: {
    modelValue: String,
    init: Function,
    disabled: Boolean,
    config: Object
  },
  inheritAttrs: false,
  emits: ["update:modelValue"],
  data: function() {
    return {
      editor: {},
      uni: DC++
    };
  },
  watch: {
    disabled: function() {
      this.enable();
    },
    modelValue: function(r) {
      r !== this.editor.txt.html() && this.editor.txt.html(r || "");
    }
  },
  methods: {
    enable: function() {
      this.disabled ? this.editor.disable() : this.editor.enable();
    },
    result: function() {
      this.$emit("update:modelValue", this.editor.txt.html());
    }
  },
  mounted: function() {
    var r = this;
    this.$nextTick(function() {
      r.editor = new RC("#editor".concat(r.uni)), r.editor.config.zIndex = 2, r.editor.config.focus = false, r.editor.config.autoFocus = false, r.config && IC(r.editor.config, r.config), r.init && r.init(r.editor), r.editor.create(), r.enable(), r.editor.txt.html(r.modelValue);
    });
  },
  render: function() {
    var r = xC({}, this.$attrs);
    return delete r.id, createVNode("div", mergeProps(r, {
      onInput: this.result,
      id: "editor".concat(this.uni),
      style: "line-height: normal;"
    }), null);
  },
  beforeDestroy: function() {
    this.editor && this.editor.destroy(), this.editor = null;
  }
});
var Hr = (t3, r, a) => {
  Je.component(t3, a || r), Ja.component(t3, r);
};
Je.component("draggable", yu);
Je.component("DragTool", zp);
Je.component("DragBox", Wp);
Je.component("Validate", SA);
Je.component("Struct", Hp);
Je.component("HtmlEditor", x1);
Je.component("FetchConfig", P1);
Je.component("FnEditor", Bo);
Je.component("FnInput", Up);
Je.component("Required", _A);
Je.component("TableOptions", Kp);
Je.component("TreeOptions", jA);
Je.component("TableFormColumn", pw);
Je.component("EventConfig", Ep);
Je.component("ColorInput", $r);
Je.component("SizeInput", $o);
Je.component("StyleConfig", EC);
Je.component("LanguageInput", Tu);
Je.component("ConfigItem", Bi);
Je.component("FieldInput", z1);
Je.component("FnConfig", Z1);
Je.component("FcRow", A1);
Je.component("ValueInput", _u);
Hr("FcEditor", MC);
Hr("FcTitle", sw);
Hr("SignaturePad", ow);
Hr("TableForm", JA, QA);
Hr("FcTable", uA, aA);
var PC = function(t3) {
  t3.component("FcDesigner", Yt);
};
Yt.install = PC;
Yt.makeOptionsRule = Lo;
Yt.copyTextToClipboard = er;
Yt.getInjectArg = qi;
Yt.localeOptions = Pt;
Yt.localeProps = Xe;
Yt.makeRequiredRule = ep;
Yt.makeTreeOptions = ii;
Yt.makeTreeOptionsRule = Br;
Yt.toJSON = hi;
Yt.formCreate = Ja;
Yt.designerForm = Je;
Yt.component = Hr;
Yt.useLocale = Sp;
Yt.t = pu;
Yt.utils = {
  copyTextToClipboard: er,
  getInjectArg: qi,
  localeOptions: Pt,
  localeProps: Xe,
  makeOptionsRule: Lo,
  makeRequiredRule: ep,
  makeTreeOptions: ii,
  makeTreeOptionsRule: Br,
  toJSON: hi
};
var Qc = "3.2.24";
mm(Qc, Ja.version) === 1 && console.warn("Please use FormCreate version " + Qc + " or greater, see https://github.com/xaboy/form-create.");
Yt.version = "3.1.11";
typeof window < "u" && (window.FcDesigner = Yt);
export {
  er as copyTextToClipboard,
  Yt as default,
  Je as designerForm,
  Ja as formCreate,
  qi as getInjectArg,
  PC as install,
  Pt as localeOptions,
  Xe as localeProps,
  Lo as makeOptionsRule,
  ep as makeRequiredRule,
  ii as makeTreeOptions,
  Br as makeTreeOptionsRule,
  hi as toJSON
};
/*! Bundled license information:

@form-create/element-ui/dist/form-create.esm.js:
  (*!
   * @form-create/element-ui v3.2.27
   * (c) 2018-2025 xaboy
   * Github https://github.com/xaboy/form-create
   * Released under the MIT License.
   *)

@form-create/designer/dist/index.es.js:
  (*!
   * FormCreate 可视化表单设计器
   * @form-create/designer v3.3.0
   * (c) 2021-2025 xaboy
   * Github https://github.com/xaboy/form-create-designer
   * Site https://form-create.com/
   * Released under the MIT License.
   *)
  (**!
   * Sortable 1.14.0
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
  (*!
    Highlight.js v11.9.0 (git: b7ec4bfafc)
    (c) 2006-2024 undefined and other contributors
    License: BSD-3-Clause
   *)
  (*! `xml` grammar compiled for Highlight.js 11.9.0 *)
  (*! `javascript` grammar compiled for Highlight.js 11.9.0 *)
  (*!
   * Signature Pad v5.0.10 | https://github.com/szimek/signature_pad
   * (c) 2025 Szymon Nowak | Released under the MIT license
   *)
  (*!
   * @form-create/component-wangeditor v3.2.14
   * (c) 2018-2024 xaboy
   * Github https://github.com/xaboy/form-create with wangeditor
   * Released under the MIT License.
   *)
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
//# sourceMappingURL=@form-create_designer.js.map
