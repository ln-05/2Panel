# Ollama模型管理系统需求文档

## 介绍

本文档定义了Ollama模型管理系统的功能需求，该系统旨在为Gin-Vue-Admin框架提供完整的本地AI模型管理和部署能力。系统基于OllamaModelInfo和OllamaBindDomain数据传输对象，提供模型的搜索、创建、启动、停止、删除、同步等核心功能，以及域名绑定、容器管理、日志监控等高级功能。

## 当前问题分析

### 紧急问题 (P0 - 核心功能失效)

1. **WebSocket连接问题**：实时状态更新完全失效，导致用户无法看到模型状态变化
2. **模型操作按钮失效**：启动、停止、删除等核心操作按钮点击无响应
3. **服务状态检测异常**：Ollama服务状态显示不正确，无法准确反映服务运行状态
4. **批量操作功能失效**：批量启动、停止、删除等操作无法执行
5. **前端组件交互问题**：组件间数据传递和事件处理存在问题

### 高优先级问题 (P1 - 影响用户体验)

1. **搜索功能不完整**：只支持基础搜索，缺少多条件筛选
2. **进度显示缺失**：模型下载和操作进度无法显示
3. **错误处理不完善**：错误信息不明确，用户无法了解失败原因
4. **界面响应性问题**：操作后界面不能及时更新状态

### 中等优先级问题 (P2 - 功能完整性)

1. **域名绑定功能缺失**：无法为模型服务绑定自定义域名
2. **日志查看功能不完整**：无法查看详细的操作和错误日志
3. **资源监控缺失**：无法监控系统资源使用情况

## 核心数据结构

### OllamaModelInfo
```go
type OllamaModelInfo struct {
    ID           uint      `json:"id"`
    Name         string    `json:"name"`
    Size         string    `json:"size"`
    From         string    `json:"from"`
    LogFileExist bool      `json:"logFileExist"`
    Status       string    `json:"status"`
    Message      string    `json:"message"`
    CreatedAt    time.Time `json:"createdAt"`
}
```

### OllamaBindDomain
```go
type OllamaBindDomain struct {
    Domain       string `json:"domain" validate:"required"`
    AppInstallID uint   `json:"appInstallID" validate:"required"`
    SSLID        uint   `json:"sslID"`
    WebsiteID    uint   `json:"websiteID"`
    IPList       string `json:"ipList"`
}
```

## 核心API方法

- **Search()** - 搜索和分页查询模型
- **Create()** - 创建/下载新模型
- **Start()** - 启动模型服务
- **Close()** - 停止模型
- **Recreate()** - 重新创建模型
- **Delete()** - 删除模型
- **Sync()** - 同步本地和远程模型
- **LoadDetail()** - 加载模型详情
- **BindDomain()** - 绑定域名到AI服务
- **GetBindDomain()** - 获取绑定的域名信息
- **UpdateBindDomain()** - 更新域名绑定

## 紧急修复需求

### 需求 0 - 核心功能紧急修复

**用户故事:** 作为系统管理员，我希望Ollama模型管理界面的核心功能能够正常工作，以便我能够管理AI模型。

#### 验收标准

1. WHEN 用户点击模型操作按钮 THEN 系统 SHALL 正确响应用户操作，包括启动、停止、删除等核心功能
2. WHEN 用户访问模型管理页面 THEN 系统 SHALL 正确显示Ollama服务状态，包括运行状态、连接状态等信息
3. WHEN 模型状态发生变化 THEN 系统 SHALL 通过WebSocket实时更新前端界面，确保状态同步
4. WHEN 用户执行批量操作 THEN 系统 SHALL 正确处理批量启动、停止、删除等操作
5. WHEN 用户进行模型操作 THEN 系统 SHALL 提供清晰的操作反馈，包括成功提示、错误信息、进度显示
6. WHEN 系统发生错误 THEN 系统 SHALL 提供详细的错误信息和恢复建议
7. WHEN 用户刷新页面 THEN 系统 SHALL 保持数据一致性，正确显示当前状态
8. WHEN 前端组件交互 THEN 系统 SHALL 确保组件间数据传递和事件处理正常工作
9. WHEN 用户使用搜索功能 THEN 系统 SHALL 支持基本的模型名称搜索和状态筛选
10. WHEN 用户查看模型列表 THEN 系统 SHALL 正确显示模型信息，包括名称、状态、大小、创建时间等

## 需求

### 需求 1 - 模型基础管理

**用户故事:** 作为系统管理员，我希望能够管理Ollama模型的基本信息，以便有效组织和维护AI模型资源。

#### 验收标准

1. WHEN 用户访问模型管理页面 THEN 系统 SHALL 显示所有已安装模型的列表，包含ID、名称、大小、来源、状态、消息、创建时间和日志文件存在状态
2. WHEN 用户调用Search()方法 THEN 系统 SHALL 支持ModelSearchRequest结构体的多条件搜索功能：
   - 按名称搜索：通过Name字段支持模糊匹配（WithByLikeName）
   - 按状态筛选：通过Status[]字段支持多状态筛选（WithByStatus），包括running、stopped、failed、downloading、paused、crashed、unavailable等
   - 按来源筛选：通过From[]字段支持多来源筛选（WithByFrom），包括local、remote、official、custom等
   - 按大小范围筛选：通过MinSize和MaxSize字段支持文件大小区间筛选（WithBySizeRange）
   - 排序功能：通过SortBy和SortDesc字段支持按name、size、createdAt、status等字段排序
   - 分页功能：继承dto.SearchWithPage支持分页查询
   - 组合条件搜索：支持多个条件的AND逻辑组合
   - 大小解析：支持解析GB、MB、KB等单位的大小比较
3. WHEN 用户排序模型列表 THEN 系统 SHALL 通过sortModels()方法支持多字段排序：
   - 按名称排序：支持字符串字典序排序
   - 按大小排序：通过parseSize()方法解析大小单位后进行数值排序
   - 按创建时间排序：支持时间戳排序
   - 按状态排序：支持状态字符串排序
   - 排序方向：通过SortDesc字段控制升序或降序
   - 默认排序：未指定排序字段时保持原有顺序
4. WHEN 用户批量选择模型 THEN 系统 SHALL 提供完整的批量操作功能：
   - 批量选择界面：支持全选、反选、按条件选择等多种选择方式
   - 批量启动功能：支持同时启动多个模型，显示启动进度和结果
   - 批量停止功能：支持同时停止多个模型，确保资源正确释放
   - 批量删除功能：支持同时删除多个模型，显示删除确认对话框
   - 批量导出功能：支持导出模型配置和元数据
   - 批量操作进度：显示批量操作的整体进度和每个模型的状态
   - 批量操作结果：显示操作成功和失败的详细信息
5. WHEN 用户调用LoadDetail()方法 THEN 系统 SHALL 返回dto.OllamaModelInfo结构体，包括：
   - 基本信息：ID、Name、Size、From、Status、Message、CreatedAt字段
   - 日志状态：通过taskRepo查询LogFileExist字段，检查是否存在任务日志
   - 数据转换：使用copier.Copy进行model到dto的结构体转换
   - 任务关联：通过taskRepo.GetFirst查询关联的AI任务信息
   - 错误处理：转换失败时返回ErrStructTransform错误
6. WHEN 用户调用Delete()方法 THEN 系统 SHALL 显示确认对话框，确认后从本地存储中移除模型文件并更新数据库记录
7. WHEN 用户操作模型 THEN 系统 SHALL 使用框架的Casbin权限系统验证操作权限，并记录详细的审计日志
9. WHEN 用户查看操作历史 THEN 系统 SHALL 显示详细的操作审计日志，包括用户操作追踪、安全事件记录，支持审计日志查询和导出功能

### 需求 2 - 模型下载和创建

**用户故事:** 作为系统管理员，我希望能够从Ollama官方仓库下载和创建新模型，以便扩展系统的AI能力。

#### 验收标准

1. WHEN 用户调用Create()方法 THEN 系统 SHALL 严格验证模型名称格式并支持从Ollama官方仓库下载指定模型
2. WHEN 模型下载开始前 THEN 系统 SHALL 检查磁盘空间、内存使用量、网络连接状态、网络带宽，预估所需资源，并在资源不足时提供清理建议
3. WHEN 模型下载过程中 THEN 系统 SHALL 提供完整的进度显示功能：
   - 实时进度条：显示下载百分比进度
   - 下载速度显示：显示当前下载速度（KB/s、MB/s）
   - 已下载大小显示：显示已下载的文件大小
   - 剩余时间显示：基于当前速度计算预计剩余时间
   - 进度回调机制：提供进度更新的回调接口
   - 状态更新：实时更新OllamaModelInfo的状态和消息字段
4. WHEN 并发下载超过限制 THEN 系统 SHALL 实施完整的下载队列管理和并发控制功能：
   - 下载队列管理：维护FIFO下载任务队列，支持队列持久化
   - 并发数量限制：限制同时下载的模型数量（默认最大3个并发下载）
   - 优先级设置：支持高、中、低三级下载任务优先级管理
   - 队列状态显示：实时显示队列中任务的状态、位置和预计等待时间
   - 队列管理界面：提供队列管理的用户界面，支持任务重排序、暂停、取消
   - 队列监控：监控队列长度、平均等待时间、吞吐量等指标
   - 智能调度：根据系统资源使用情况动态调整并发数量
5. WHEN 模型下载完成 THEN 系统 SHALL 进行完整性验证功能：
   - 文件校验和检查：验证下载文件的MD5/SHA256校验和
   - 模型完整性验证：验证模型文件结构和格式正确性
   - 可用性测试：测试模型是否可以正常加载和运行
   - 验证失败处理：处理各种验证失败的情况，提供详细错误信息
   - 状态更新：验证通过后更新模型状态为可用
6. WHEN 模型下载失败 THEN 系统 SHALL 提供完整的错误处理功能：
   - 断点续传功能：支持下载中断后从断点继续下载
   - 自动重试机制：支持可配置的重试策略和重试次数
   - 临时文件清理：自动清理下载失败时产生的临时文件
   - 详细错误信息记录：记录详细的错误信息到Message字段和日志文件
7. WHEN 系统资源不足 THEN 系统 SHALL 拒绝新下载任务并提供资源清理建议
8. WHEN 下载任务中断 THEN 系统 SHALL 保存下载进度到OllamaModelInfo，支持断点续传功能和下载任务恢复

### 需求 3 - 模型状态管理

**用户故事:** 作为系统管理员，我希望能够控制模型的运行状态，以便根据需要启动或停止模型服务。

#### 验收标准

1. WHEN 用户启动模型 THEN 系统 SHALL 提供完整的启动功能：
   - 明确的启动接口：提供Start()方法用于启动模型
   - 启动参数配置：支持配置启动参数（内存限制、GPU使用等）
   - 启动日志记录：记录启动过程的详细日志
   - 启动失败处理：处理启动失败的各种情况，提供错误信息
   - 状态更新：启动成功后更新OllamaModelInfo的状态字段为"running"
2. WHEN 用户调用Close()方法 THEN 系统 SHALL 优雅关闭模型服务并更新状态字段为"stopped"，释放相关资源
3. WHEN 用户调用Recreate()方法 THEN 系统 SHALL 先停止现有服务，然后重新初始化模型服务，重置状态和消息字段
4. WHEN 模型状态发生变化 THEN 系统 SHALL 提供完整的实时状态更新功能：
   - WebSocket推送：通过WebSocket实时推送状态变化
   - 状态轮询：定期轮询模型状态以确保数据同步
   - 状态缓存：缓存状态信息以提高响应速度
   - 状态变化通知：向用户发送状态变化通知
   - 状态历史记录：记录模型状态变化的历史
5. WHEN 系统启动时 THEN 系统 SHALL 调用Sync()方法自动同步本地和远程模型状态，支持状态持久化、状态恢复、状态备份和多实例状态同步
6. WHEN 用户执行危险操作 THEN 系统 SHALL 显示确认对话框，支持操作确认机制、操作撤销功能、操作预览和操作权限验证
7. WHEN 模型启动失败 THEN 系统 SHALL 更新状态为"failed"，记录详细错误信息到Message字段，处理启动失败情况
8. WHEN 模型服务意外停止 THEN 系统 SHALL 检测状态变化并更新为"crashed"，记录异常信息

### 需求 4 - 模型同步功能

**用户故事:** 作为系统管理员，我希望能够同步本地和远程模型信息，以便保持数据一致性。

#### 验收标准

1. WHEN 用户调用Sync()方法 THEN 系统 SHALL 比较本地数据库和Ollama服务器的模型列表，支持增量同步和变更检测
2. WHEN 发现差异时 THEN 系统 SHALL 更新本地数据库的OllamaModelInfo记录，包括状态、大小、消息等字段
3. WHEN 同步完成 THEN 系统 SHALL 返回详细的同步结果统计信息，包括新增模型统计、更新模型统计、删除模型统计，显示同步进度
4. WHEN 同步过程中出现错误 THEN 系统 SHALL 进行错误分类，生成详细错误报告，记录同步错误日志，提供错误通知机制，支持错误恢复
5. WHEN 发现本地不存在的远程模型 THEN 系统 SHALL 创建新的OllamaModelInfo记录
6. WHEN 发现远程不存在的本地模型 THEN 系统 SHALL 更新本地模型状态为"unavailable"
7. WHEN 系统支持定时同步 THEN 系统 SHALL 提供可配置的同步策略和同步调度功能
8. WHEN 用户查看同步历史 THEN 系统 SHALL 记录和显示同步操作历史

### 需求 5 - 域名绑定管理

**用户故事:** 作为系统管理员，我希望能够为AI服务绑定域名，以便通过自定义域名访问模型服务。

#### 验收标准

1. WHEN 用户调用BindDomain()方法 THEN 系统 SHALL 验证域名有效性、域名解析检查、域名格式验证、域名冲突检查和域名状态监控，并关联到指定的AppInstallID
2. WHEN 用户配置SSL证书 THEN 系统 SHALL 支持自动SSL申请、SSL证书生命周期管理、SSL配置验证、SSL状态监控和SSL证书自动更新
3. WHEN 用户设置IP白名单 THEN 系统 SHALL 通过IPList字段限制只有指定IP可以访问服务
4. WHEN 用户调用GetBindDomain()方法 THEN 系统 SHALL 返回完整的OllamaBindDomain配置信息，包括域名、应用安装ID、SSL ID、网站ID和IP列表
5. WHEN 用户调用UpdateBindDomain()方法 THEN 系统 SHALL 验证新的OllamaBindDomain配置并应用更改
6. WHEN 域名绑定配置无效 THEN 系统 SHALL 返回具体的验证错误信息
7. WHEN 用户绑定域名到WebsiteID THEN 系统 SHALL 建立域名与网站的关联关系
8. WHEN 用户管理配置 THEN 系统 SHALL 支持配置版本管理、配置回滚、配置验证、配置备份和配置同步机制

### 需求 6 - 容器管理集成

**用户故事:** 作为系统管理员，我希望系统能够通过Docker管理Ollama服务，以便实现标准化的部署和运维。

#### 验收标准

1. WHEN 系统启动Ollama服务 THEN 系统 SHALL 通过Docker容器运行Ollama，并更新OllamaModelInfo的状态字段
2. WHEN 容器状态异常 THEN 系统 SHALL 定期进行健康检查，支持自动重启、可配置的重启策略、重启操作日志和重启通知机制
3. WHEN 用户查看服务状态 THEN 系统 SHALL 显示容器运行状态和资源监控，包括CPU使用监控、内存使用监控、网络使用监控和资源使用告警
4. WHEN 系统更新配置 THEN 系统 SHALL 重新部署容器以应用新配置，并验证服务可用性
5. WHEN 容器启动失败 THEN 系统 SHALL 记录详细的错误信息到日志文件，并更新LogFileExist字段为true
6. WHEN 容器资源使用超限 THEN 系统 SHALL 触发告警并考虑自动扩容或限流
7. WHEN 用户管理容器配置 THEN 系统 SHALL 支持容器参数配置、容器镜像版本管理、容器日志管理、容器网络配置管理和容器安全配置

### 需求 7 - 日志和监控

**用户故事:** 作为系统管理员，我希望能够查看详细的操作日志和监控信息，以便排查问题和优化性能。

#### 验收标准

1. WHEN 执行模型操作 THEN 系统 SHALL 记录详细的操作日志，支持日志级别管理、日志轮转、日志搜索、日志过滤和日志文件压缩
2. WHEN 用户查看日志 THEN 系统 SHALL 根据LogFileExist字段提供日志文件下载和在线查看功能
3. WHEN 模型运行异常 THEN 系统 SHALL 提供完整的告警功能：
   - 告警规则配置：支持配置各种告警规则（CPU使用率、内存使用率、响应时间等）
   - 告警通知：支持邮件、短信、WebHook等多种通知方式
   - 告警级别分类：支持INFO、WARN、ERROR、CRITICAL等告警级别
   - 告警历史记录：记录所有告警的历史信息
   - 告警确认机制：支持告警确认和处理状态跟踪
   - 记录错误日志：将异常信息记录到日志文件，设置LogFileExist为true
4. WHEN 用户监控系统状态 THEN 系统 SHALL 提供模型性能指标监控、响应时间监控、吞吐量监控、错误率监控和资源使用监控
5. WHEN 日志文件过大 THEN 系统 SHALL 自动轮转日志文件并更新LogFileExist状态
6. WHEN 用户查询日志状态 THEN 系统 SHALL 通过LogFileExist字段快速判断是否存在日志文件
7. WHEN 用户查看监控面板 THEN 系统 SHALL 提供统一的监控面板、性能指标图表展示、实时监控数据、历史监控数据和监控配置界面
### 需求 8 - 系统资源管理

**用户故事:** 作为系统管理员，我希望系统能够智能管理资源使用，以便确保系统稳定运行。

#### 验收标准

1. WHEN 系统启动时 THEN 系统 SHALL 提供完整的资源检查功能：
   - 磁盘空间检查：检查可用磁盘空间，设置最小空间要求
   - 内存使用检查：监控系统内存使用情况，设置内存使用阈值
   - CPU使用检查：监控CPU使用率，设置CPU使用限制
   - 网络带宽检查：检查网络连接状态和可用带宽
   - 资源阈值设置：支持配置各种资源的使用阈值和告警级别
2. WHEN 资源使用超过阈值 THEN 系统 SHALL 限制新的模型下载和启动操作，触发资源告警
3. WHEN 并发操作超过限制 THEN 系统 SHALL 提供完整的并发控制功能：
   - 并发限制：限制同时运行的模型数量和下载任务数量
   - 队列管理：维护操作队列，按优先级处理任务
   - 操作优先级管理：支持设置不同操作的优先级
   - 智能资源分配：根据资源使用情况智能分配任务
   - 负载均衡：在多个实例间分配负载
4. WHEN 系统资源不足 THEN 系统 SHALL 自动清理临时文件、缓存、过期日志，清理长时间未使用的模型，支持清理策略配置
5. WHEN 需要资源限制 THEN 系统 SHALL 设置磁盘空间限制、内存使用限制、CPU使用限制、网络带宽限制，提供资源配额管理

### 需求 9 - 健康检查和监控

**用户故事:** 作为系统管理员，我希望系统能够主动监控服务健康状态，以便及时发现和处理问题。

#### 验收标准

1. WHEN 系统运行时 THEN 系统 SHALL 提供完整的健康检查功能：
   - 定期健康检查：每30秒检查一次模型服务的健康状态
   - 健康检查配置：支持配置检查间隔、超时时间、重试次数等参数
   - 健康状态报告：生成详细的健康状态报告，包括响应时间、可用性等指标
   - 健康检查日志：记录所有健康检查的结果和异常情况
   - 健康检查通知：当检测到异常时发送通知给管理员
   - 健康检查接口：提供HTTP健康检查端点供外部监控系统调用
2. WHEN 模型服务异常 THEN 系统 SHALL 提供完整的自动恢复功能：
   - 自动重启：检测到服务异常时自动重启模型服务
   - 故障转移：支持将请求转移到其他可用的模型实例
   - 服务恢复策略：提供多种恢复策略（立即重启、延迟重启、手动恢复）
   - 恢复操作日志：详细记录所有恢复操作的过程和结果
   - 恢复通知：向管理员发送恢复操作的通知
3. WHEN 服务重启失败 THEN 系统 SHALL 发送告警通知给管理员
4. WHEN 用户查看监控面板 THEN 系统 SHALL 提供统一的监控面板，显示模型响应时间、吞吐量、错误率等性能指标，支持实时数据、历史数据、告警面板和监控配置界面
5. WHEN 性能指标异常 THEN 系统 SHALL 触发告警机制，生成性能报告，记录详细日志

### 需求 10 - 安全和权限控制

**用户故事:** 作为系统管理员，我希望系统具备完善的安全机制，以便保护系统和数据安全。

#### 验收标准

1. WHEN 用户输入模型名称 THEN 系统 SHALL 严格验证输入格式，防止注入攻击、XSS攻击、CSRF攻击，提供输入内容过滤
2. WHEN 用户执行操作 THEN 系统 SHALL 使用框架的Casbin权限系统验证操作权限，支持权限验证和权限审计
3. WHEN 用户访问敏感功能 THEN 系统 SHALL 要求二次身份验证，支持会话管理、登录日志记录、账户锁定机制和密码策略配置
4. WHEN 发生安全事件 THEN 系统 SHALL 记录详细的安全审计日志，支持异常行为检测、安全事件记录、安全报告生成和安全事件告警
5. WHEN 检测到异常访问 THEN 系统 SHALL 自动锁定账户并通知管理员

### 需求 11 - 错误恢复和容错

**用户故事:** 作为系统管理员，我希望系统具备良好的容错能力，以便在异常情况下自动恢复。

#### 验收标准

1. WHEN 模型下载中断 THEN 系统 SHALL 提供完整的断点续传功能：
   - 断点续传：下载中断时保存断点信息，支持从断点继续下载
   - 下载任务恢复机制：系统重启后自动恢复未完成的下载任务
   - 进度保存：将下载进度持久化到数据库和本地文件
   - 恢复验证：恢复下载前验证已下载部分的完整性
   - 恢复操作日志：记录所有恢复操作的详细日志
2. WHEN 系统异常重启 THEN 系统 SHALL 提供完整的状态恢复功能：
   - 状态持久化：将系统状态、模型状态、任务状态持久化到数据库
   - 自动恢复：系统启动时自动恢复之前的下载任务和模型运行状态
   - 配置备份：定期备份系统配置和模型配置
   - 数据恢复功能：提供数据恢复工具和恢复策略
   - 恢复结果验证：验证恢复后的状态和数据完整性
3. WHEN 网络连接异常 THEN 系统 SHALL 支持自动重试机制，提供可配置的重试策略、重试次数限制、重试操作日志和重试操作通知
4. WHEN 磁盘空间不足 THEN 系统 SHALL 暂停下载任务并提示用户清理空间，更新状态为"paused"
5. WHEN 数据库连接失败 THEN 系统 SHALL 使用本地缓存维持基本功能，确保OllamaModelInfo数据不丢失
6. WHEN 系统需要容错处理 THEN 系统 SHALL 提供容错处理机制、服务降级策略、故障隔离机制、容错状态监控和容错情况报告

### 需求 12 - 前端界面管理

**用户故事:** 作为系统管理员，我希望有一个直观的Web界面来管理Ollama模型，以便高效地执行各种操作。

#### 验收标准

1. WHEN 用户访问模型管理页面 THEN 系统 SHALL 显示Ollama模型列表，以表格形式展示OllamaModelInfo的所有字段
2. WHEN 用户点击创建按钮 THEN 系统 SHALL 显示模型创建对话框，支持输入模型名称并调用Create()方法
3. WHEN 用户点击删除按钮 THEN 系统 SHALL 显示删除确认对话框，支持危险操作确认机制，确认后调用Delete()方法删除模型
4. WHEN 用户进行批量操作 THEN 系统 SHALL 提供完整的批量操作功能：
   - 多选界面：前端表格支持多选功能，显示选中数量
   - 批量操作按钮：提供批量启动、批量停止、批量删除等操作按钮
   - BatchOperate接口：后端提供统一的批量操作接口
   - 批量操作确认对话框：操作前弹出确认对话框，显示将要操作的模型列表
   - 批量操作进度显示：显示批量操作的进度和状态
   - 批量操作结果展示：显示操作结果，包括成功和失败的详情
5. WHEN 用户点击同步按钮 THEN 系统 SHALL 调用Sync()方法同步本地和远程模型，显示同步进度
6. WHEN 用户点击启动/停止按钮 THEN 系统 SHALL 调用相应方法控制模型状态，实时更新按钮状态
7. WHEN 用户查看模型详情 THEN 系统 SHALL 调用LoadDetail()方法显示完整的模型信息
8. WHEN 模型状态发生变化 THEN 系统 SHALL 提供完整的实时更新功能：
   - WebSocket连接：前端通过WebSocket订阅模型状态变化
   - 实时状态更新：收到推送后自动刷新表格和详情页面
   - 实时进度显示：实时更新下载进度、操作进度等
   - 实时通知：显示操作成功、失败等通知消息
   - 实时错误提示：实时显示错误信息和警告
   - 无需刷新页面：所有更新都通过WebSocket推送，无需手动刷新
9. WHEN 用户配置域名绑定 THEN 系统 SHALL 提供域名绑定表单，支持OllamaBindDomain结构体的所有字段配置
10. WHEN 用户使用界面 THEN 系统 SHALL 提供加载状态显示、友好的错误处理界面、操作帮助文档、快捷键支持和响应式界面设计，支持操作撤销功能和操作预览